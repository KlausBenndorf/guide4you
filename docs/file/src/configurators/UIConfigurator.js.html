<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">src/configurators/UIConfigurator.js | guide4you</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="A configurable web client for geo-applications. Uses OpenLayers. Suitable for mobile devices."><meta property="twitter:card" content="summary"><meta property="twitter:title" content="guide4you"><meta property="twitter:description" content="A configurable web client for geo-applications. Uses OpenLayers. Suitable for mobile devices."></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/KlausBenndorf/guide4you"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Debug.js~Debug.html">Debug</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/FeaturePopup.js~FeaturePopup.html">FeaturePopup</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/FeatureTooltip.js~FeatureTooltip.html">FeatureTooltip</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/G4UMap.js~G4UMap.html">G4UMap</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/L10N.js~L10N.html">L10N</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/ListenerOrganizerMixin.js~ListenerOrganizerMixin.html">ListenerOrganizerMixin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/MessageDisplay.js~MessageDisplay.html">MessageDisplay</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Module.js~Module.html">Module</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Move.js~Move.html">Move</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/PopupModifierManager.js~PopupModifierManager.html">PopupModifierManager</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Styling.js~Styling.html">Styling</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-multiplyExtent">multiplyExtent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createMapInternal">createMapInternal</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getRegisteredModules">getRegisteredModules</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-registerModule">registerModule</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-asObject">asObject</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-asyncImageLoad">asyncImageLoad</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-checkFor">checkFor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-even">even</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-finishAllImages">finishAllImages</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getConfig">getConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-html2Text">html2Text</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-mixin">mixin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-mixinAsClass">mixinAsClass</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-odd">odd</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-offset">offset</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-recursiveSelect">recursiveSelect</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-showInteractionActivity">showInteractionActivity</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-urlDirname">urlDirname</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-urlIsAbsolute">urlIsAbsolute</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-urlJoin">urlJoin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-urlNormalize">urlNormalize</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-urlRelative">urlRelative</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-copy">copy</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-copyDeep">copyDeep</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-merge">merge</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-mergeDeep">mergeDeep</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-mergeWithDefaults">mergeWithDefaults</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-take">take</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-filterText">filterText</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-restoreText">restoreText</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-defaults">defaults</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-olEventTypes">olEventTypes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-cssClasses">cssClasses</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-keyCodes">keyCodes</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-APIMapInteraction">APIMapInteraction</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-APIOptions">APIOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-FeaturePopupOptions">FeaturePopupOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-FeatureTooltipOptions">FeatureTooltipOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-G4UMapOptions">G4UMapOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-L10NOptions">L10NOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Localizable">Localizable</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MessageConstructorOptions">MessageConstructorOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MessageDisplayOptions">MessageDisplayOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MessageReducedDisplayOptions">MessageReducedDisplayOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MoveOptions">MoveOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-SingleMoveOptions">SingleMoveOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-PopupContent">PopupContent</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ShowWMSFeatureInfoOptions">ShowWMSFeatureInfoOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-StyleLike">StyleLike</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-StyleObject">StyleObject</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-URLConfig">URLConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-URLLike">URLLike</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#configurators">configurators</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/configurators/ControlFactory.js~ControlFactory.html">ControlFactory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/configurators/LayerConfigurator.js~LayerConfigurator.html">LayerConfigurator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/configurators/LayerFactory.js~LayerFactory.html">LayerFactory</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/configurators/MapConfigurator.js~MapConfigurator.html">MapConfigurator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/configurators/UIConfigurator.js~UIConfigurator.html">UIConfigurator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-LayerType">LayerType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-SuperType">SuperType</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ControlFactoryOptions">ControlFactoryOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ControlsConfig">ControlsConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-LayerConfig">LayerConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-AnyLayerConfig">AnyLayerConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-BingLayerConfig">BingLayerConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-CategoryLayerConfig">CategoryLayerConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-EmptyLayerConfig">EmptyLayerConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-FeatureConfig">FeatureConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-GeoJSONLayerConfig">GeoJSONLayerConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-InternalLayerConfig">InternalLayerConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-InternalSourceConfig">InternalSourceConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-KMLLayerConfig">KMLLayerConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-OSMLayerConfig">OSMLayerConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-SilentGroupLayerConfig">SilentGroupLayerConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-SourceConfig">SourceConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-StamenLayerConfig">StamenLayerConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-TileWMSLayerConfig">TileWMSLayerConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-VectorSourceConfig">VectorSourceConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-WMSLayerConfig">WMSLayerConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-WMSSSourceConfig">WMSSSourceConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-WMTSLayerConfig">WMTSLayerConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-WMTSSSourceConfig">WMTSSSourceConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-XYZLayerConfig">XYZLayerConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-g4uLayerOptions">g4uLayerOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-KineticOptions">KineticOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MapConfig">MapConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MobileLayoutOptions">MobileLayoutOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ProjectionConfig">ProjectionConfig</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-g4uViewOptions">g4uViewOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Float">Float</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-HideableElement">HideableElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-PositionedElement">PositionedElement</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-PositioningOptions">PositioningOptions</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#controls">controls</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/ActivatableMixin.js~ActivatableMixin.html">ActivatableMixin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/ActiveGroup.js~ActiveGroup.html">ActiveGroup</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/ArrowButtons.js~ArrowButtons.html">ArrowButtons</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/Attribution.js~Attribution.html">Attribution</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/CombinedZoom.js~CombinedZoom.html">CombinedZoom</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/CombinedZoom.js~Zoom.html">Zoom</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/CombinedZoom.js~ZoomSlider.html">ZoomSlider</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/ComposedControl.js~ComposedControl.html">ComposedControl</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/ControlLogicMixin.js~ControlLogicMixin.html">ControlLogicMixin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/DrawButtons.js~MeasurementButton.html">MeasurementButton</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/GeoLocationButton.js~GeolocationButton.html">GeolocationButton</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/HelpButton.js~HelpButton.html">HelpButton</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/InfoButton.js~InfoButton.html">InfoButton</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/LanguageSwitcherButton.js~LanguageSwitcherButton.html">LanguageSwitcherButton</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/LanguageSwitcherMenu.js~LanguageSwitcherMenu.html">LanguageSwitcherMenu</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/LayerSelector.js~LayerSelector.html">LayerSelector</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/LinkButton.js~LinkButton.html">LinkButton</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/Logo.js~Logo.html">Logo</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/MeasurementButton.js~MeasurementButton.html">MeasurementButton</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/MobileControls.js~MobileControls.html">MobileControls</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/MousePosition.js~MousePosition.html">MousePosition</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/OverviewMap.js~OverviewMap.html">OverviewMap</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/PrintButton.js~PrintButton.html">PrintButton</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/RewireMixin.js~RewireMixin.html">RewireMixin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/ScaleLine.js~ScaleLine.html">ScaleLine</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/ShiftableComposedControl.js~ShiftableComposedControl.html">ShiftableComposedControl</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/SingleDrawButton.js~SingleDrawButton.html">SingleDrawButton</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/controls/WindowDecorator.js~WindowDecorator.html">WindowDecorator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-Control">Control</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ArrowButtonOptions">ArrowButtonOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-CombinedZoomOptions">CombinedZoomOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ZoomOptions">ZoomOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ComposedControlOptions">ComposedControlOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-g4uControlOptions">g4uControlOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-DrawButtonsOptions">DrawButtonsOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-GeoLocationButtonOptions">GeoLocationButtonOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-HelpButtonOptions">HelpButtonOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-InfoButtonOptions">InfoButtonOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-LanguageSwitcherButtonOptions">LanguageSwitcherButtonOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-LanguageSwitcherMenuOptions">LanguageSwitcherMenuOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-LayerSelectorOptions">LayerSelectorOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-LinkButtonOptions">LinkButtonOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-LogoOptions">LogoOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MeasurementButtonOptions">MeasurementButtonOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-MousePositionOptions">MousePositionOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-OverviewMapOptions">OverviewMapOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ShiftableComposedControlOptions">ShiftableComposedControlOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-DrawButtonsOptions">DrawButtonsOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-WindowDecoratorOptions">WindowDecoratorOptions</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#html">html</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/html/ButtonBox.js~ButtonBox.html">ButtonBox</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/html/Dropdown.js~Dropdown.html">Dropdown</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/html/History.js~History.html">History</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/html/Shield.js~Shield.html">Shield</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/html/Window.js~Window.html">Window</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-addTooltip">addTooltip</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-changeTooltip">changeTooltip</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getInFront">getInFront</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ButtonBoxOptions">ButtonBoxOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-DropdownOptions">DropdownOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-Entry">Entry</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ElementPosition">ElementPosition</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-OnTopOptions">OnTopOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-ShieldOptions">ShieldOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-WindowOptions">WindowOptions</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#interactions">interactions</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/interactions/FeatureSelect.js~FeatureSelect.html">FeatureSelect</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/interactions/MapEventInteraction.js~MapEventInteraction.html">MapEventInteraction</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#layers">layers</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/layers/BaseLayerMixin.js~BaseLayerMixin.html">BaseLayerMixin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/layers/EmptyBaseLayer.js~EmptyBaseLayer.html">EmptyBaseLayer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/layers/GroupLayer.js~GroupLayer.html">GroupLayer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/layers/LayerLoadProcessCountMixin.js~LayerLoadProcessCountMixin.html">LayerLoadProcessCountMixin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/layers/ProvideMapMixin.js~ProvideMapMixin.html">ProvideMapMixin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/layers/SilentGroupLayer.js~BaseSilentGroupLayer.html">BaseSilentGroupLayer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/layers/SilentGroupLayer.js~SilentGroupLayer.html">SilentGroupLayer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-BaseTileLayer">BaseTileLayer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-BaseLayerImage">BaseLayerImage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-ImageLayer">ImageLayer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-TileLayer">TileLayer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-BaseLayerMixinOptions">BaseLayerMixinOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-VectorLayerOptions">VectorLayerOptions</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#sources">sources</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/sources/ClusterSource.js~ClusterSource.html">ClusterSource</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/sources/ImageWMSSource.js~ImageWMSSource.html">ImageWMSSource</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/sources/ImageWMSSource.js~TileWMSSource.html">TileWMSSource</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/sources/ImageWMSSource.js~WMSFeatureInfoMixin.html">WMSFeatureInfoMixin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/sources/QueryVectorSource.js~QueryVectorSource.html">QueryVectorSource</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/sources/QueryWMSSource.js~QueryWMSMixin.html">QueryWMSMixin</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/sources/SourceServerVector.js~SourceServerVector.html">SourceServerVector</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-QueryImageWMSSource">QueryImageWMSSource</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-QueryTileWMSSource">QueryTileWMSSource</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-QuerySourceOptions">QuerySourceOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-SourceServerVectorOptions">SourceServerVectorOptions</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/configurators/UIConfigurator.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import ol from &apos;openlayers&apos;
import $ from &apos;jquery&apos;

import {Positioning} from &apos;./Positioning&apos;

import {Move} from &apos;../Move&apos;
import {FeaturePopup} from &apos;../FeaturePopup&apos;
import {FeatureTooltip} from &apos;../FeatureTooltip&apos;

import {Shield} from &apos;../html/Shield&apos;

import {ControlFactory} from &apos;./ControlFactory&apos;

import {Debug} from &apos;../Debug&apos;

import {copyDeep} from &apos;../utilitiesObject&apos;
import { checkFor, getConfig, urlDirname, urlJoin } from &apos;../utilities&apos;

import {MeasurementButton} from &apos;../controls/MeasurementButton&apos;
import {PrintButton} from &apos;../controls/PrintButton&apos;

import {cssClasses} from &apos;../globals&apos;

import {FeatureSelect} from &apos;../interactions/FeatureSelect&apos;

import {parseCSSColor} from &apos;csscolorparser&apos;
import {ShowWMSFeatureInfo} from &apos;../ShowWMSFeatureInfo&apos;

import {History} from &apos;../html/History&apos;
import { debounce } from &apos;lodash/function&apos;

/**
 * This class configures the UI of a map according to its mapconfig
 */
export class UIConfigurator {
  /**
   * @param {G4UMap} map
   */
  constructor (map) {
    /**
     * @type {G4UMap}
     * @private
     */
    this.map_ = map
    this.map_.on(&apos;change:mapConfig&apos;, this.configureUI.bind(this))

    /**
     * @type {boolean}
     * @private
     */
    this.initialized_ = false

    /**
     * Counts how many cssFiles are getting loaded
     * @type {number}
     * @private
     */
    this.pending_ = 0
  }

  /**
   * Fill the given css String with the rigth colors
   * @param {string} css
   * @param {Color[]} colors
   * @returns {string}
   */
  static templateCSS (css, colors) {
    // find the used index of the color template
    let colorTemplateIndex = (c) =&gt; {
      let channels = 0
      let index = -1
      for (let i = 0; i &lt; 3; i++) {
        if (c[i] !== 0) {
          channels++
          index = i
        }
      }
      if (channels &gt; 1) {
        return -1
      } else {
        return index
      }
    }

    let regExp = /(rgba?\([^)]*\))|(#[0-9a-f]{6})/g

    colors = colors.map(parseCSSColor)

    return css.replace(regExp, match =&gt; {
      let templateColor = parseCSSColor(match)
      let index = colorTemplateIndex(templateColor)
      if (index &gt; -1) {
        let aFac = templateColor[3]
        let cFac = templateColor[index] / 120
        let newColor = [
          colors[index][0] * cFac,
          colors[index][1] * cFac,
          colors[index][2] * cFac,
          colors[index][3] * aFac
        ]
        return `rgba(${newColor[0]}, ${newColor[1]}, ${newColor[2]}, ${newColor[3]})`
      }
      return match
    })
  }

  /**
   * Fixes all urls in the css string to the right path
   * @param css
   * @param cssPath
   * @returns {string}
   */
  static fixUrls (css, cssPath) {
    let dirname = urlDirname(cssPath)
    return css.replace(/url\(&quot;([^&quot;]*)&quot;\)/g, (match, url) =&gt; {
      return `url(&quot;${urlJoin(dirname, url)}&quot;)`
    })
  }

  /**
   * Loads the from cssFile the given conf (if any is given) and inserts into a style tag in the head of the document
   * @param {MapConfig} conf
   * @returns {Promise}
   */
  loadCSS (conf) {
    return new Promise(resolve =&gt; {
      if (conf.hasOwnProperty(&apos;cssFile&apos;)) {
        const id = &apos;g4u-css&apos;
        let $style = $(&apos;#&apos; + id)

        if ($style.length === 0) {
          $style = $(&apos;&lt;style&gt;&apos;, {
            &apos;id&apos;: id
          })
          $(&apos;head&apos;).append($style)
        }

        const same = this.cssFile_ === conf.cssFile
        if (!same) {
          $.ajax(conf.cssFile).done(data =&gt; {
            $style.empty()
            data = UIConfigurator.fixUrls(data, conf.cssFile)
            if (conf.hasOwnProperty(&apos;cssTemplate&apos;)) {
              this.map_.set(&apos;cssTemplateFile&apos;, data)
              $style.html(UIConfigurator.templateCSS(data, conf.cssTemplate))
            } else {
              $style.html(data)
            }
            resolve()
          }).fail(() =&gt; {
            Debug.error(&apos;Failed to load css file.&apos;)
            resolve()
          })
          this.cssFile_ = conf.cssFile
        } else {
          if (conf.hasOwnProperty(&apos;cssTemplate&apos;)) {
            $style.html(UIConfigurator.templateCSS(this.map_.get(&apos;cssTemplateFile&apos;), conf.cssTemplate))
          }
          resolve()
        }
      } else {
        resolve()
      }
    })
  }

  /**
   * This functions is called the first time the configureUI function is called
   * @param {MapConfig} mapConfigCopy
   * @private
   */
  initialize_ (mapConfigCopy) {
    //
    // Control positioning
    //

    /**
     * @type {PositioningOptions}
     */
    let positioningOptions = mapConfigCopy.positioning || {}
    positioningOptions.viewport = this.map_.getViewport()

    this.map_.set(&apos;controlPositioning&apos;, new Positioning(positioningOptions))

    let debouncedPosition = debounce(() =&gt; this.map_.get(&apos;controlPositioning&apos;).positionElements())

    this.map_.on(&apos;ready&apos;, debouncedPosition)

    this.map_.asSoonAs(&apos;ready&apos;, true, () =&gt; {
      this.map_.on(&apos;resize&apos;, debouncedPosition)
      this.map_.on(&apos;ready:ui&apos;, () =&gt; {
        if (this.map_.get(&apos;ready:ui&apos;)) {
          debouncedPosition()
        }
      })
      this.map_.on(&apos;change:mobile&apos;, debouncedPosition)

      this.map_.on(&apos;ready:layers&apos;, () =&gt; {
        debouncedPosition()
        this.map_.getLayerGroup().forEachOn(&apos;change:visible&apos;, () =&gt; setTimeout(debouncedPosition, 200))
      })

      this.map_.getLayerGroup().forEachOn(&apos;change:visible&apos;, () =&gt; setTimeout(debouncedPosition, 200))
    })

    //
    //  Responsiveness / Mobile Layout
    //

    this.map_.set(&apos;mobile&apos;, false)
    $(this.map_.getTarget()).children().addClass(cssClasses.desktop)

    this.map_.set(&apos;scaleIcons&apos;, mapConfigCopy.scaleIcons)

    this.map_.once(&apos;ready&apos;, () =&gt; {
      this.map_.set(&apos;desktopLayout&apos;, {
        animations: this.map_.get(&apos;move&apos;).getAnimations(),
        scaleIcons: this.map_.get(&apos;scaleIcons&apos;),
        hitTolerance: this.map_.get(&apos;hitTolerance&apos;)
      })
    })

    let checkMobileLayoutQuery = () =&gt; {
      /**
       * @type {MobileLayoutOptions}
       */
      let mobileLayout = this.map_.get(&apos;mobileLayout&apos;)

      if (mobileLayout &amp;&amp; mobileLayout.mediaQueries &amp;&amp; window.matchMedia) {
        this.map_.set(&apos;mobile&apos;, mobileLayout.mediaQueries.some(query =&gt; {
          return window.matchMedia(query).matches
        }))
      }
    }

    let mobileChangeHandler = this.getHandleMobileChange_()
    this.map_.on(&apos;change:mobile&apos;, mobileChangeHandler)

    debounce(mobileChangeHandler)()

    //
    // Enabling/Disabling responsiveness
    //

    let oldResponsive

    let onChangeResponsive = () =&gt; {
      if (this.map_.get(&apos;responsive&apos;) !== oldResponsive) {
        if (this.map_.get(&apos;responsive&apos;)) {
          checkMobileLayoutQuery()
          this.map_.on(&apos;resize&apos;, checkMobileLayoutQuery)
        } else {
          this.map_.un(&apos;resize&apos;, checkMobileLayoutQuery)
        }
        oldResponsive = this.map_.get(&apos;responsive&apos;)
      }
    }

    this.map_.once(&apos;ready&apos;, onChangeResponsive)

    this.map_.on(&apos;change:responsive&apos;, onChangeResponsive)

    this.map_.on(&apos;ready:ui&apos;, onChangeResponsive)

    this.initialized_ = true
  }

  applyLayout (layout) {
    if (layout.hasOwnProperty(&apos;animations&apos;)) {
      this.map_.get(&apos;move&apos;).setAnimations(layout.animations)
    }

    if (layout.hasOwnProperty(&apos;scaleIcons&apos;)) {
      this.map_.set(&apos;scaleIcons&apos;, layout.scaleIcons)
      this.map_.get(&apos;styling&apos;).setGlobalIconScale(layout.scaleIcons)
      this.map_.getLayerGroup().recursiveForEach(l =&gt; {
        if (l.getVisible()) {
          l.changed()
        }
      })
    }

    if (layout.hasOwnProperty(&apos;hitTolerance&apos;)) {
      this.map_.set(&apos;hitTolerance&apos;, layout.hitTolerance)
    }

    let featurePopup = this.map_.get(&apos;featurePopup&apos;)
    let wmsFeatureInfo = this.map_.get(&apos;showWMSFeatureInfo&apos;)

    let restoreWmsFeatureInfoPoint = wmsFeatureInfo &amp;&amp; wmsFeatureInfo.getPointVisible()

    if (featurePopup &amp;&amp; featurePopup.getVisible()) {
      featurePopup.setVisible(false)
      setTimeout(() =&gt; {
        featurePopup.setVisible(true)
        if (restoreWmsFeatureInfoPoint) {
          wmsFeatureInfo.setPointVisible(true)
        }
      }, 0)
    }
  }

  getHandleMobileChange_ () {
    if (!this.handleMobileChange__) {
      this.handleMobileChange__ = () =&gt; {
        if (this.map_.get(&apos;mobile&apos;)) {
          $(this.map_.getTarget()).children().addClass(cssClasses.mobile)
          $(this.map_.getTarget()).children().removeClass(cssClasses.desktop)

          this.applyLayout(this.map_.get(&apos;mobileLayout&apos;))
        } else {
          $(this.map_.getTarget()).children().addClass(cssClasses.desktop)
          $(this.map_.getTarget()).children().removeClass(cssClasses.mobile)

          this.applyLayout(this.map_.get(&apos;desktopLayout&apos;))
        }
      }
    }
    return this.handleMobileChange__
  }

  /**
   * @public
   */
  configureUI () {
    this.map_.set(&apos;ready:ui&apos;, false)
    this.pending_++

    let mapConfigCopy = copyDeep(this.map_.get(&apos;mapConfig&apos;))

    if (!this.initialized_) {
      this.initialize_(mapConfigCopy)
    }

    if (this.map_.get(&apos;history&apos;)) {
      this.map_.get(&apos;history&apos;).flush()
    }

    let curConfig

    // //////////////////////////////////////////////////////////////////////////////////////// //
    //                              Load CSS if neccessary                                      //
    // //////////////////////////////////////////////////////////////////////////////////////// //

    this.loadCSS(mapConfigCopy).then(() =&gt; {
      this.pending_--
      if (this.pending_ === 0) {
        // clear
        this.map_.removeControls()
        this.map_.controlsByName = {}
        this.map_.removeInteractions()

        this.map_.get(&apos;controlPositioning&apos;).init()

        // //////////////////////////////////////////////////////////////////////////////////////// //
        //                           Move Class (before mobileLayout)                               //
        // //////////////////////////////////////////////////////////////////////////////////////// //

        let moveOptions = copyDeep(getConfig(mapConfigCopy, &apos;move&apos;)) || {}
        moveOptions.map = this.map_

        this.map_.set(&apos;move&apos;, new Move(moveOptions))

        // //////////////////////////////////////////////////////////////////////////////////////// //
        //                                     HTML-Shield                                          //
        // //////////////////////////////////////////////////////////////////////////////////////// //

        if (!this.map_.get(&apos;shield&apos;)) {
          this.map_.set(&apos;shield&apos;, new Shield({ map: this.map_ }))
        }

        // //////////////////////////////////////////////////////////////////////////////////////// //
        //                                MobileLayoutMediaQuery                                    //
        // //////////////////////////////////////////////////////////////////////////////////////// //

        this.map_.set(&apos;mobileLayout&apos;, mapConfigCopy.mobileLayout)

        this.map_.set(&apos;responsive&apos;, this.map_.get(&apos;responsive&apos;) || !!this.map_.get(&apos;mobileLayout&apos;))

        // //////////////////////////////////////////////////////////////////////////////////////// //
        //                                       MODULES                                            //
        // //////////////////////////////////////////////////////////////////////////////////////// //

        // should be before adding controls so the controls don&apos;t have to wait for any other ui elements

        for (let module of this.map_.getModules()) {
          module.configureUI(mapConfigCopy)
        }

        // //////////////////////////////////////////////////////////////////////////////////////// //
        //                                       Controls                                           //
        // //////////////////////////////////////////////////////////////////////////////////////// //

        if (!this.controlFactory) {
          this.controlFactory = new ControlFactory({
            map: this.map_,
            localiser: this.map_.get(&apos;localiser&apos;)
          })
        } else {
          this.controlFactory.setLocaliser(this.map_.get(&apos;localiser&apos;))
        }

        this.controlFactory.addControls()

        let deactivate = control =&gt; {
          if (control.setActive) {
            control.setActive(false)
          }
          if (control.getControls) {
            control.getControls().forEach(deactivate)
          }
        }

        this.map_.on(&apos;change:mobile&apos;, () =&gt; this.map_.getControls().forEach(deactivate))

        // //////////////////////////////////////////////////////////////////////////////////////// //
        //                                     Interactions                                         //
        // //////////////////////////////////////////////////////////////////////////////////////// //

        if (checkFor(mapConfigCopy, &apos;interactions&apos;)) {
          if (checkFor(mapConfigCopy.interactions, &apos;doubleClickZoom&apos;)) {
            this.map_.addDefaultInteraction(&apos;dblclick&apos;, new ol.interaction.DoubleClickZoom())
          }

          if (checkFor(mapConfigCopy.interactions, &apos;dragPan&apos;)) {
            if (mapConfigCopy.kinetic !== false) {
              let decay = -0.002
              let minVelocity = 0.02
              let delay = 100
              if (typeof mapConfigCopy.kinetic === &apos;object&apos;) {
                decay = mapConfigCopy.kinetic.decay || decay
                minVelocity = mapConfigCopy.kinetic.minVelocity || minVelocity
                delay = mapConfigCopy.kinetic.delay || delay
              }
              this.map_.addDefaultInteraction(&apos;drag&apos;, new ol.interaction.DragPan({
                kinetic: new ol.Kinetic(decay, minVelocity, delay)
              }))
            } else {
              this.map_.addDefaultInteraction(&apos;drag&apos;, new ol.interaction.DragPan())
            }
          }

          if (checkFor(mapConfigCopy.interactions, &apos;dragRotate&apos;)) {
            // using default condition: ol.events.condition.altShiftKeysOnly
            this.map_.addDefaultInteraction(&apos;altShiftDrag&apos;, new ol.interaction.DragRotate())
          }

          if (checkFor(mapConfigCopy.interactions, &apos;dragZoom&apos;)) {
            // using default condition: ol.events.condition.shiftKeyOnly
            this.map_.addDefaultInteraction(&apos;shiftDrag&apos;, new ol.interaction.DragZoom())
          }

          if (checkFor(mapConfigCopy.interactions, &apos;keyboardPan&apos;)) {
            this.map_.addDefaultInteraction(&apos;keyboard&apos;, new ol.interaction.KeyboardPan())
          }

          if (checkFor(mapConfigCopy.interactions, &apos;keyboardZoom&apos;)) {
            this.map_.addDefaultInteraction(&apos;keyboard&apos;, new ol.interaction.KeyboardZoom())
          }

          if (checkFor(mapConfigCopy.interactions, &apos;mouseWheelZoom&apos;)) {
            this.map_.addDefaultInteraction(&apos;mouseWheel&apos;, new ol.interaction.MouseWheelZoom())
          }

          if (checkFor(mapConfigCopy.interactions, &apos;pinchRotate&apos;)) {
            this.map_.addDefaultInteraction(&apos;pinchRotate&apos;, new ol.interaction.PinchRotate())
          }

          if (checkFor(mapConfigCopy.interactions, &apos;pinchZoom&apos;)) {
            this.map_.addDefaultInteraction(&apos;pinchZoom&apos;, new ol.interaction.PinchZoom())
          }
        }

        this.map_.addDefaultInteraction(&apos;singleclick&apos;, new FeatureSelect({
          condition: e =&gt; ol.events.condition.singleClick(e) &amp;&amp; $(e.originalEvent.target).is(&apos;canvas&apos;),
          style: null,
          multi: true
        }))

        let moveInteraction = new FeatureSelect({
          condition: e =&gt; ol.events.condition.pointerMove(e) &amp;&amp; $(e.originalEvent.target).is(&apos;canvas&apos;),
          style: null,
          multi: true
        })
        this.map_.addDefaultInteraction(&apos;pointermove&apos;, moveInteraction)

        let $viewport = $(this.map_.getViewport())

        // if the map is left the features should get deselected
        $viewport.find(&apos;canvas&apos;).on(&apos;mouseleave&apos;, e =&gt; {
          if (!$(e.relatedTarget).is(&apos;canvas&apos;)) {
            if (moveInteraction.getFeatures().getLength() &gt; 0) {
              moveInteraction.deselect(moveInteraction.getFeatures().getArray())
            }
          }
        })

        // hitTolerance
        let updateHitTolerance = () =&gt; {
          let hitTolerance = this.map_.get(&apos;hitTolerance&apos;)
          for (let interaction of this.map_.getInteractions().getArray()) {
            if (interaction.setHitTolerance) {
              interaction.setHitTolerance(hitTolerance)
            }
          }
        }

        this.map_.set(&apos;hitTolerance&apos;, mapConfigCopy.hitTolerance || 0)

        updateHitTolerance()
        this.map_.on(&apos;change:hitTolerance&apos;, updateHitTolerance)

        // //////////////////////////////////////////////////////////////////////////////////////// //
        //                                     Feature Popups                                       //
        // //////////////////////////////////////////////////////////////////////////////////////// //

        let featurePopup = this.map_.get(&apos;featurePopup&apos;)
        if (featurePopup) {
          featurePopup.setMap(null)
        }
        curConfig = getConfig(mapConfigCopy, &apos;featurePopup&apos;)
        if (curConfig) {
          featurePopup = new FeaturePopup(curConfig)
          featurePopup.setMap(this.map_)
          this.map_.set(&apos;featurePopup&apos;, featurePopup)
        } else {
          this.map_.set(&apos;featurePopup&apos;, undefined)
        }

        let featureTooltip = this.map_.get(&apos;featureTooltip&apos;)
        if (featureTooltip) {
          featureTooltip.setMap(null)
        }
        curConfig = getConfig(mapConfigCopy, &apos;featureTooltip&apos;)
        if (curConfig) {
          featureTooltip = new FeatureTooltip(curConfig)
          featureTooltip.setMap(this.map_)
          this.map_.set(&apos;featureTooltip&apos;, featureTooltip)
        } else {
          this.map_.set(&apos;featureTooltip&apos;, undefined)
        }

        let showWMSFeatureInfo = this.map_.get(&apos;showWMSFeatureInfo&apos;)
        if (showWMSFeatureInfo) {
          showWMSFeatureInfo.setMap(null)
        }
        curConfig = getConfig(mapConfigCopy, &apos;showWMSFeatureInfo&apos;)
        if (curConfig) {
          showWMSFeatureInfo = new ShowWMSFeatureInfo(curConfig)
          showWMSFeatureInfo.setMap(this.map_)
          this.map_.set(&apos;showWMSFeatureInfo&apos;, showWMSFeatureInfo)
        } else {
          this.map_.set(&apos;showWMSFeatureInfo&apos;, undefined)
        }

        // //////////////////////////////////////////////////////////////////////////////////////// //
        //                                    Custom History                                        //
        // //////////////////////////////////////////////////////////////////////////////////////// //

        this.map_.set(&apos;history&apos;, new History())

        // //////////////////////////////////////////////////////////////////////////////////////// //
        //                                     UserExit (2/2)                                       //
        // //////////////////////////////////////////////////////////////////////////////////////// //
        if (this.map_.get(&apos;userActionTracking&apos;)) {
          let map = this.map_

          this.map_.on(&apos;moveend&apos;, function () {
            map.dispatchEvent({
              type: &apos;userActionTracking&apos;,
              action: &apos;move&apos;
            })
          })

          this.map_.get(&apos;baseLayers&apos;).getLayers().forEach(function (layer) {
            layer.on(&apos;change:visible&apos;, function () {
              if (layer.getVisible()) { // only if changed to visible
                map.dispatchEvent({
                  type: &apos;userActionTracking&apos;,
                  action: &apos;baseLayerChange&apos;,
                  value: layer.get(&apos;title&apos;)
                })
              }
            })
          })

          this.map_.get(&apos;featureLayers&apos;).recursiveForEach(function (layer) {
            layer.on(&apos;change:visible&apos;, function () {
              if (layer.getVisible()) { // only if changed to visible
                map.dispatchEvent({
                  type: &apos;userActionTracking&apos;,
                  action: &apos;featureLayerChange&apos;,
                  value: layer.get(&apos;title&apos;)
                })
              }
            })
          })

          if (this.map_.get(&apos;featurePopup&apos;)) {
            this.map_.get(&apos;featurePopup&apos;).on(&apos;change:visible&apos;, function () {
              if (this.getVisible()) { // only if changed to visible
                map.dispatchEvent({
                  type: &apos;userActionTracking&apos;,
                  action: &apos;popupOpen&apos;,
                  value: this.getFeature().get(&apos;name&apos;)
                })
              }
            })
          }

          for (let module of this.map_.getModules()) {
            module.enableUserActionTracking()
          }

          this.map_.getControls().forEach(function (control) {
            if (control instanceof PrintButton) {
              control.on(&apos;click&apos;, function () {
                map.dispatchEvent({
                  type: &apos;userActionTracking&apos;,
                  action: &apos;print&apos;
                })
              })
            }

            if (control instanceof MeasurementButton) {
              if (control.getType() === &apos;LineString&apos;) {
                control.on(&apos;measurement&apos;, function () {
                  map.dispatchEvent({
                    type: &apos;userActionTracking&apos;,
                    action: &apos;measureLine&apos;
                  })
                })
              } else if (control.getType() === &apos;Polygon&apos;) {
                control.on(&apos;measurement&apos;, function () {
                  map.dispatchEvent({
                    type: &apos;userActionTracking&apos;,
                    action: &apos;measureArea&apos;
                  })
                })
              }
            }
          })
        }
        this.map_.set(&apos;ready:ui&apos;, true)
      }
    }).catch(function (reason) {
      Debug.error(reason)
    })
  }
}
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.0.3)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
