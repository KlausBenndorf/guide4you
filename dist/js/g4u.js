/*!
 * guide4you-module-urlapi
 * Version: 3.2.0 (built Mon Dec 17 2018)
 * Klaus Benndorf, License: MIT (https://spdx.org/licenses/MIT.html)
 * Homepage: https://github.com/KlausBenndorf/guide4you-module-urlapi
 *
 * This software contains (parts of) the following software packages:
 * better-scroll v1.13.2, https://github.com/ustbhuangyi/better-scroll, (c) huangyi &lt;ustbhuangyi@gmail.com&gt;
 * csscolorparser v1.0.3, https://github.com/deanm/css-color-parser-js#readme, Dean McNamee <dean@gmail.com>, License: MIT (https://spdx.org/licenses/MIT.html)
 * guide4you v3.3.1, https://github.com/KlausBenndorf/guide4you, Klaus Benndorf, License: MIT (https://spdx.org/licenses/MIT.html)
 * lodash v4.17.11, https://lodash.com/, John-David Dalton <john.david.dalton@gmail.com> (http://allyoucanleet.com/), License: MIT (https://spdx.org/licenses/MIT.html)
 * notifyjs-browser v0.4.2, http://notifyjs.com/, Jaime Pillora, License: MIT (https://spdx.org/licenses/MIT.html)
 * ol v5.2.0, https://openlayers.org/, License: BSD-2-Clause (https://spdx.org/licenses/BSD-2-Clause.html)
 * proj4 v2.5.0, https://github.com/proj4js/proj4js#readme, License: MIT (https://spdx.org/licenses/MIT.html)
 * strip-json-comments v2.0.1, https://github.com/sindresorhus/strip-json-comments#readme, Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com), License: MIT (https://spdx.org/licenses/MIT.html)
 * webpack v4.12.0, https://github.com/webpack/webpack, Tobias Koppers @sokra, License: MIT (https://spdx.org/licenses/MIT.html)
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jQuery")):"function"==typeof define&&define.amd?define("g4u",["jQuery"],e):"object"==typeof exports?exports.g4u=e(require("jQuery")):t.g4u=e(t.jQuery)}(window,function(t){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1136)}([function(t,e,i){var n=i(8),r=i(80),o=i(50),a=i(49),s=i(71),u=function(t,e,i){var l,c,h,f,p=t&u.F,d=t&u.G,g=t&u.S,v=t&u.P,y=t&u.B,_=d?n:g?n[e]||(n[e]={}):(n[e]||{}).prototype,m=d?r:r[e]||(r[e]={}),b=m.prototype||(m.prototype={});for(l in d&&(i=e),i)h=((c=!p&&_&&void 0!==_[l])?_:i)[l],f=y&&c?s(h,n):v&&"function"==typeof h?s(Function.call,h):h,_&&a(_,l,h,t&u.U),m[l]!=h&&o(m,l,f),v&&b[l]!=h&&(b[l]=h)};n.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.boundingExtent=function(t){for(var e=l(),i=0,n=t.length;i<n;++i)f(e,t[i]);return e},e.buffer=function(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]},e.clone=function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()},e.closestSquaredDistanceXY=function(t,e,i){var n,r;n=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0;r=i<t[1]?t[1]-i:t[3]<i?i-t[3]:0;return n*n+r*r},e.containsCoordinate=function(t,e){return s(t,e[0],e[1])},e.containsExtent=function(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]},e.containsXY=s,e.coordinateRelationship=u,e.createEmpty=l,e.createOrUpdate=c,e.createOrUpdateEmpty=h,e.createOrUpdateFromCoordinate=function(t,e){var i=t[0],n=t[1];return c(i,n,i,n,e)},e.createOrUpdateFromCoordinates=function(t,e){return p(h(e),t)},e.createOrUpdateFromFlatCoordinates=function(t,e,i,n,r){return d(h(r),t,e,i,n)},e.createOrUpdateFromRings=function(t,e){return g(h(e),t)},e.equals=function(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]},e.extend=function(t,e){e[0]<t[0]&&(t[0]=e[0]);e[2]>t[2]&&(t[2]=e[2]);e[1]<t[1]&&(t[1]=e[1]);e[3]>t[3]&&(t[3]=e[3]);return t},e.extendCoordinate=f,e.extendCoordinates=p,e.extendFlatCoordinates=d,e.extendRings=g,e.extendXY=v,e.forEachCorner=function(t,e,i){var n;if(n=e.call(i,_(t)))return n;if(n=e.call(i,m(t)))return n;if(n=e.call(i,w(t)))return n;if(n=e.call(i,S(t)))return n;return!1},e.getArea=y,e.getBottomLeft=_,e.getBottomRight=m,e.getCenter=function(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]},e.getCorner=function(t,e){var i;e===r.default.BOTTOM_LEFT?i=_(t):e===r.default.BOTTOM_RIGHT?i=m(t):e===r.default.TOP_LEFT?i=S(t):e===r.default.TOP_RIGHT?i=w(t):(0,n.assert)(!1,13);return i},e.getEnlargedArea=function(t,e){var i=Math.min(t[0],e[0]),n=Math.min(t[1],e[1]),r=Math.max(t[2],e[2]),o=Math.max(t[3],e[3]);return(r-i)*(o-n)},e.getForViewAndSize=function(t,e,i,n,r){var o=e*n[0]/2,a=e*n[1]/2,s=Math.cos(i),u=Math.sin(i),l=o*s,h=o*u,f=a*s,p=a*u,d=t[0],g=t[1],v=d-l+p,y=d-l-p,_=d+l-p,m=d+l+p,b=g-h-f,x=g-h+f,S=g+h+f,w=g+h-f;return c(Math.min(v,y,_,m),Math.min(b,x,S,w),Math.max(v,y,_,m),Math.max(b,x,S,w),r)},e.getHeight=b,e.getIntersectionArea=function(t,e){return y(x(t,e))},e.getIntersection=x,e.getMargin=function(t){return E(t)+b(t)},e.getSize=function(t){return[t[2]-t[0],t[3]-t[1]]},e.getTopLeft=S,e.getTopRight=w,e.getWidth=E,e.intersects=M,e.isEmpty=O,e.returnOrUpdate=function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t},e.scaleFromCenter=function(t,e){var i=(t[2]-t[0])/2*(e-1),n=(t[3]-t[1])/2*(e-1);t[0]-=i,t[2]+=i,t[1]-=n,t[3]+=n},e.intersectsSegment=function(t,e,i){var n=!1,r=u(t,e),a=u(t,i);if(r===o.default.INTERSECTING||a===o.default.INTERSECTING)n=!0;else{var s,l,c=t[0],h=t[1],f=t[2],p=t[3],d=e[0],g=e[1],v=i[0],y=i[1],_=(y-g)/(v-d);a&o.default.ABOVE&&!(r&o.default.ABOVE)&&(n=(s=v-(y-p)/_)>=c&&s<=f),n||!(a&o.default.RIGHT)||r&o.default.RIGHT||(n=(l=y-(v-f)*_)>=h&&l<=p),n||!(a&o.default.BELOW)||r&o.default.BELOW||(n=(s=v-(y-h)/_)>=c&&s<=f),n||!(a&o.default.LEFT)||r&o.default.LEFT||(n=(l=y-(v-c)*_)>=h&&l<=p)}return n},e.applyTransform=function(t,e,i){var n=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(n,n,2),function(t,e,i){var n=Math.min.apply(null,t),r=Math.min.apply(null,e),o=Math.max.apply(null,t),a=Math.max.apply(null,e);return c(n,r,o,a,i)}([n[0],n[2],n[4],n[6]],[n[1],n[3],n[5],n[7]],i)};var n=i(20),r=a(i(480)),o=a(i(479));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i){return t[0]<=e&&e<=t[2]&&t[1]<=i&&i<=t[3]}function u(t,e){var i=t[0],n=t[1],r=t[2],a=t[3],s=e[0],u=e[1],l=o.default.UNKNOWN;return s<i?l|=o.default.LEFT:s>r&&(l|=o.default.RIGHT),u<n?l|=o.default.BELOW:u>a&&(l|=o.default.ABOVE),l===o.default.UNKNOWN&&(l=o.default.INTERSECTING),l}function l(){return[1/0,1/0,-1/0,-1/0]}function c(t,e,i,n,r){return r?(r[0]=t,r[1]=e,r[2]=i,r[3]=n,r):[t,e,i,n]}function h(t){return c(1/0,1/0,-1/0,-1/0,t)}function f(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function p(t,e){for(var i=0,n=e.length;i<n;++i)f(t,e[i]);return t}function d(t,e,i,n,r){for(;i<n;i+=r)v(t,e[i],e[i+1]);return t}function g(t,e){for(var i=0,n=e.length;i<n;++i)p(t,e[i]);return t}function v(t,e,i){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],i),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],i)}function y(t){var e=0;return O(t)||(e=E(t)*b(t)),e}function _(t){return[t[0],t[1]]}function m(t){return[t[2],t[1]]}function b(t){return t[3]-t[1]}function x(t,e,i){var n=i||[1/0,1/0,-1/0,-1/0];return M(t,e)?(t[0]>e[0]?n[0]=t[0]:n[0]=e[0],t[1]>e[1]?n[1]=t[1]:n[1]=e[1],t[2]<e[2]?n[2]=t[2]:n[2]=e[2],t[3]<e[3]?n[3]=t[3]:n[3]=e[3]):h(n),n}function S(t){return[t[0],t[3]]}function w(t){return[t[2],t[3]]}function E(t){return t[2]-t[0]}function M(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function O(t){return t[2]<t[0]||t[3]<t[1]}},function(e,i){e.exports=t},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bindListener=r,e.findListener=o,e.getListeners=a,e.listen=l,e.listenOnce=function(t,e,i,n){return l(t,e,i,n,!0)},e.unlisten=function(t,e,i,n){var r=a(t,e);if(r){var s=o(r,i,n,!0);s&&c(s)}},e.unlistenByKey=c,e.unlistenAll=function(t){var e=s(t);for(var i in e)u(t,i)};var n=i(9);function r(t){var e=function(e){var i=t.listener,n=t.bindTo||t.target;return t.callOnce&&c(t),i.call(n,e)};return t.boundListener=e,e}function o(t,e,i,n){for(var r,o=0,a=t.length;o<a;++o)if((r=t[o]).listener===e&&r.bindTo===i)return n&&(r.deleteIndex=o),r}function a(t,e){var i=t.ol_lm;return i?i[e]:void 0}function s(t){var e=t.ol_lm;return e||(e=t.ol_lm={}),e}function u(t,e){var i=a(t,e);if(i){for(var r=0,o=i.length;r<o;++r)t.removeEventListener(e,i[r].boundListener),(0,n.clear)(i[r]);i.length=0;var s=t.ol_lm;s&&(delete s[e],0===Object.keys(s).length&&delete t.ol_lm)}}function l(t,e,i,n,a){var u=s(t),l=u[e];l||(l=u[e]=[]);var c=o(l,i,n,!1);return c?a||(c.callOnce=!1):(c={bindTo:n,callOnce:!!a,listener:i,target:t,type:e},t.addEventListener(e,r(c)),l.push(c)),c}function c(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=a(t.target,t.type);if(e){var i="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==i&&e.splice(i,1),0===e.length&&u(t.target,t.type)}(0,n.clear)(t)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.even=function(t){if(r.default.isNumeric(t)){var e=parseInt(t);if(t===e&&e%2==0)return!0}return!1},e.odd=function(t){if(r.default.isNumeric(t)){var e=parseInt(t);if(t===e&&e%2==1)return!0}return!1},e.checkFor=function(t,e){return e in t&&t[e]},e.asObject=l,e.getConfig=function(t,e){if(t.hasOwnProperty(e)&&t[e])return l(t[e])},e.asyncImageLoad=function(t,e,i){i||(i=e.finalize());return new Promise(function(n,r){function o(){r(new Error("Error loading url "+i))}if(t.addEventListener("load",n),t.addEventListener("error",o),e.username&&e.password){var a=new XMLHttpRequest;a.open("GET",i,!0),a.responseType="blob",a.withCredentials=!0,a.setRequestHeader(e.useProxy?"X-Proxy-Forward-Authorization":"Authorization","Basic "+btoa(e.username+":"+e.password)),a.addEventListener("load",function(e){if(200===this.status){var i=window.URL||window.webkitURL;t.src=i.createObjectURL(this.response)}else o()}),a.send()}else t.src=i})},e.finishAllImages=function(t){var e=[];return c(t,"img").each(function(){var t=this;t.complete||e.push(new Promise(function(e){(0,r.default)(t).on("load",e),(0,r.default)(t).on("error",e)}))}),Promise.all(e)},e.offset=function(t,e){var i=t.offset(),n=e.offset();return{top:i.top-n.top,left:i.left-n.left}},e.recursiveSelect=c,e.showInteractionActivity=function(t){o.Debug.info("superseding interactions:");var e=void 0,i=void 0,n=void 0,r=void 0;for(e in t.supersedingInteractions_){for(n=t.supersedingInteractions_[e].length,r=0,i=0;i<n;i++)t.supersedingInteractions_[e][i].getActive()&&(r+=1);o.Debug.info("  "+e+": total: "+n+" active: "+r)}for(e in o.Debug.info("default interactions:"),t.defaultInteractions_){for(n=t.defaultInteractions_[e].length,r=0,i=0;i<n;i++)t.defaultInteractions_[e][i].getActive()&&(r+=1);o.Debug.info("  "+e+": total: "+n+" active: "+r)}},e.urlDirname=h,e.urlNormalize=f,e.urlJoin=function(t,e){var i=h(f(t)),n=f(e),r=/[^/]+\/$/,o=/^\.\.\//;for(;i.match(r)&&n.match(o);)i=i.replace(r,""),n=n.replace(o,"");return i+n},e.urlRelative=function(t,e){var i=h(f(t)),n=f(e),r="",o=/^\/?((\/\/)|[^/])+\//,a=void 0,s=void 0;for(;i.match(o)&&n.match(o)&&(a=i.match(o)[0],s=n.match(o)[0],a.toUpperCase()===s.toUpperCase());)i=i.replace(o,""),n=n.replace(o,"");for(;i.match(o);)a=i.match(o)[0],i=i.replace(o,""),r+="../";return r+n},e.urlIsAbsolute=function(t){return!!t.match(/^\/|.*:\/\//)},e.mixin=function(t,e){Array.isArray(e)||(e=[e]);var i=e.map(function(t){return t.prototype.initialize}),n=function(t){function e(t){a(this,e);var n=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=!0,o=!1,u=void 0;try{for(var l,c=i[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var h=l.value;h&&h.call(n,t)}}catch(t){o=!0,u=t}finally{try{!r&&c.return&&c.return()}finally{if(o)throw u}}return n}return u(e,t),e}(t),r=!0,o=!1,l=void 0;try{for(var c,h=e[Symbol.iterator]();!(r=(c=h.next()).done);r=!0){var f=c.value,d=p(f.prototype);for(var g in d)if("constructor"!==g&&"initialize"!==g){if(g in n.prototype)throw new Error("mixins should not overwrite methods");Object.defineProperty(n.prototype,g,d[g])}}}catch(t){o=!0,l=t}finally{try{!r&&h.return&&h.return()}finally{if(o)throw l}}return n},e.mixinAsClass=function(t){var e=t.prototype.initialize;return function(t){function i(t){a(this,i);var n=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t));return e&&e.call(n,t),n}return u(i,t),i}(t)},e.html2Text=function(t){return d.html(t).text()};var r=function(t){return t&&t.__esModule?t:{default:t}}(i(2));i(118),i(118),i(118),i(118);var o=i(24);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t){return"object"===(void 0===t?"undefined":n(t))?t:{}}function c(t,e){return t.filter(e).add(t.find(e))}function h(t){return t.replace(/\/([^/]*)(\?.*)?$/,"/")}function f(t){return t.match(/^\.\//)?f(t.replace(/^\.\//,"")):t}function p(t){var e={};do{Object.getOwnPropertyNames(t).forEach(function(i){e.hasOwnProperty(i)||(e[i]=Object.getOwnPropertyDescriptor(t,i))}),t=Object.getPrototypeOf(t)}while(t!==Object.prototype);return e}var d=(0,r.default)("<p>")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Projection=e.METERS_PER_UNIT=void 0,e.cloneTransform=d,e.identityTransform=g,e.addProjection=v,e.addProjections=y,e.get=_,e.getPointResolution=function(t,e,i,r){var o,a=(t=_(t)).getPointResolutionFunc();if(a)o=a(e,i);else{var s=t.getUnits();if(s==c.default.DEGREES&&!r||r==c.default.DEGREES)o=e;else{var u=S(t,_("EPSG:4326")),h=[i[0]-e/2,i[1],i[0]+e/2,i[1],i[0],i[1]-e/2,i[0],i[1]+e/2];h=u(h,h,2);var f=(0,n.getDistance)(h.slice(0,2),h.slice(2,4)),p=(0,n.getDistance)(h.slice(4,6),h.slice(6,8));o=(f+p)/2;var d=r?l.METERS_PER_UNIT[r]:t.getMetersPerUnit();void 0!==d&&(o/=d)}}return o},e.addEquivalentProjections=m,e.addEquivalentTransforms=b,e.clearAllProjections=function(){h.clear(),(0,f.clear)()},e.createProjection=function(t,e){return t?"string"==typeof t?_(t):t:_(e)},e.createTransformFromCoordinateTransform=x,e.addCoordinateTransforms=function(t,e,i,n){var r=_(t),o=_(e);(0,f.add)(r,o,x(i)),(0,f.add)(o,r,x(n))},e.fromLonLat=function(t,e){return E(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")},e.toLonLat=function(t,e){var i=E(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),n=i[0];(n<-180||n>180)&&(i[0]=(0,o.modulo)(n+180,360)-180);return i},e.equivalent=function(t,e){if(t===e)return!0;var i=t.getUnits()===e.getUnits();if(t.getCode()===e.getCode())return i;var n=S(t,e);return n===d&&i},e.getTransformFromProjections=S,e.getTransform=w,e.transform=E,e.transformExtent=function(t,e,i){var n=w(e,i);return(0,r.applyTransform)(t,n)},e.transformWithProjections=function(t,e,i){return S(e,i)(t)},e.addCommon=M;var n=i(478),r=i(1),o=i(14),a=i(921),s=i(920),u=p(i(219)),l=i(85),c=p(l),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(919)),f=i(477);function p(t){return t&&t.__esModule?t:{default:t}}function d(t,e,i){var n;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];n=e}else n=t.slice();return n}function g(t,e,i){if(void 0!==e&&t!==e){for(var n=0,r=t.length;n<r;++n)e[n]=t[n];t=e}return t}function v(t){h.add(t.getCode(),t),(0,f.add)(t,t,d)}function y(t){t.forEach(v)}function _(t){var e=null;if(t instanceof u.default)e=t;else if("string"==typeof t){var i=t;e=h.get(i)}return e}function m(t){y(t),t.forEach(function(e){t.forEach(function(t){e!==t&&(0,f.add)(e,t,d)})})}function b(t,e,i,n){t.forEach(function(t){e.forEach(function(e){(0,f.add)(t,e,i),(0,f.add)(e,t,n)})})}function x(t){return function(e,i,n){for(var r=e.length,o=void 0!==n?n:2,a=void 0!==i?i:new Array(r),s=0;s<r;s+=o){var u=t([e[s],e[s+1]]);a[s]=u[0],a[s+1]=u[1];for(var l=o-1;l>=2;--l)a[s+l]=e[s+l]}return a}}function S(t,e){var i=t.getCode(),n=e.getCode(),r=(0,f.get)(i,n);return r||(r=g),r}function w(t,e){return S(_(t),_(e))}function E(t,e,i){return w(e,i)(t,void 0,t.length)}function M(){m(a.PROJECTIONS),m(s.PROJECTIONS),b(s.PROJECTIONS,a.PROJECTIONS,a.fromEPSG4326,a.toEPSG4326)}e.METERS_PER_UNIT=l.METERS_PER_UNIT,e.Projection=u.default,M()},function(t,e,i){var n=i(12);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clear=function(t){for(var e in t)delete t[e]},e.getValues=function(t){var e=[];for(var i in t)e.push(t[i]);return e},e.isEmpty=function(t){var e;for(e in t)return!1;return!e};e.assign="function"==typeof Object.assign?Object.assign:function(t,e){var i=arguments;if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,o=arguments.length;r<o;++r){var a=i[r];if(void 0!==a&&null!==a)for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])}return n}},function(t,e){var i=Array.isArray;t.exports=i},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.keyCodes={ESCAPE:27,TAB:9,ARROW_DOWN:40,ARROW_UP:38,ENTER:13,SHIFT:16,CTRL:17},e.cssClasses={mousedown:"g4u-mouse-down",clickable:"g4u-clickable",crosshair:"g4u-crosshair",hidden:"g4u-hidden",arrow:"g4u-arrow",mobile:"g4u-mobile",desktop:"g4u-desktop",move:"g4u-move",active:"g4u-active",mainButton:"g4u-control-mainbutton",hasTooltip:"g4u-has-tooltip",upperCase:"g4u-uppercase",collapsed:"g4u-collapsed"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cosh=void 0,e.clamp=function(t,e,i){return Math.min(Math.max(t,e),i)},e.roundUpToPowerOfTwo=function(t){return(0,n.assert)(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},e.squaredSegmentDistance=function(t,e,i,n,o,a){var s=o-i,u=a-n;if(0!==s||0!==u){var l=((t-i)*s+(e-n)*u)/(s*s+u*u);l>1?(i=o,n=a):l>0&&(i+=s*l,n+=u*l)}return r(t,e,i,n)},e.squaredDistance=r,e.solveLinearSystem=function(t){for(var e=t.length,i=0;i<e;i++){for(var n=i,r=Math.abs(t[i][i]),o=i+1;o<e;o++){var a=Math.abs(t[o][i]);a>r&&(r=a,n=o)}if(0===r)return null;var s=t[n];t[n]=t[i],t[i]=s;for(var u=i+1;u<e;u++)for(var l=-t[u][i]/t[i][i],c=i;c<e+1;c++)i==c?t[u][c]=0:t[u][c]+=l*t[i][c]}for(var h=new Array(e),f=e-1;f>=0;f--){h[f]=t[f][e]/t[f][f];for(var p=f-1;p>=0;p--)t[p][e]-=t[p][f]*h[f]}return h},e.toDegrees=function(t){return 180*t/Math.PI},e.toRadians=function(t){return t*Math.PI/180},e.modulo=function(t,e){var i=t%e;return i*e<0?i+e:i},e.lerp=function(t,e,i){return t+i*(e-t)};var n=i(20);e.cosh="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function r(t,e,i,n){var r=i-t,o=n-e;return r*r+o*o}},function(t,e,i){var n=i(110),r=i(369),o=i(256);t.exports=function(t,e){return o(r(t,e,n),t+"")}},function(t,e,i){var n=i(758),r=i(757),o=i(110),a=i(10),s=i(751);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?r(t[0],t[1]):n(t):s(t)}},function(t,e,i){"use strict";function n(t,e){return t>e?1:t<e?-1:0}Object.defineProperty(e,"__esModule",{value:!0}),e.binarySearch=function(t,e,i){var r,o,a=i||n,s=0,u=t.length,l=!1;for(;s<u;)(o=+a(t[r=s+(u-s>>1)],e))<0?s=r+1:(u=r,l=!o);return l?s:~s},e.numberSafeCompareFunction=n,e.includes=function(t,e){return t.indexOf(e)>=0},e.linearFindNearest=function(t,e,i){var n=t.length;if(t[0]<=e)return 0;if(e<=t[n-1])return n-1;var r;if(i>0){for(r=1;r<n;++r)if(t[r]<e)return r-1}else if(i<0){for(r=1;r<n;++r)if(t[r]<=e)return r}else for(r=1;r<n;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return n-1},e.reverseSubArray=function(t,e,i){for(;e<i;){var n=t[e];t[e]=t[i],t[i]=n,++e,--i}},e.extend=function(t,e){for(var i=Array.isArray(e)?e:[e],n=i.length,r=0;r<n;r++)t[t.length]=i[r]},e.remove=function(t,e){var i=t.indexOf(e),n=i>-1;n&&t.splice(i,1);return n},e.find=function(t,e){for(var i,n=t.length>>>0,r=0;r<n;r++)if(i=t[r],e(i,r,t))return i;return null},e.equals=function(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0},e.stableSort=function(t,e){var i,n=t.length,r=Array(t.length);for(i=0;i<n;i++)r[i]={index:i,value:t[i]};for(r.sort(function(t,i){return e(t.value,i.value)||t.index-i.index}),i=0;i<t.length;i++)t[i]=r[i].value},e.findIndex=function(t,e){var i;return t.every(function(n,r){return i=r,!e(n,r,t)})?-1:i},e.isSorted=function(t,e,i){var r=e||n;return t.every(function(e,n){if(0===n)return!0;var o=r(t[n-1],e);return!(o>0||i&&0===o)})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TRUE=function(){return!0},e.FALSE=function(){return!1},e.VOID=function(){}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inherits=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},e.getUid=function(t){return t.ol_uid||(t.ol_uid=++n)};var n=0;e.VERSION="5.2.0"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assert=function(t,e){if(!t)throw new n.default(e)};var n=function(t){return t&&t.__esModule?t:{default:t}}(i(488))},function(t,e,i){var n=i(411);t.exports=function(t){var e=n(t),i=e%1;return e==e?i?e-i:e:0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getChangeEventType=f;var n=i(19),r=u(i(174)),o=u(i(104)),a=u(i(32)),s=i(9);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(e,i,n){t.call(this,e),this.key=i,this.oldValue=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.default),c=function(t){function e(e){t.call(this),(0,n.getUid)(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return(0,s.assign)({},this.values_)},e.prototype.notify=function(t,e){var i;i=f(t),this.dispatchEvent(new l(i,t,e)),i=r.default.PROPERTYCHANGE,this.dispatchEvent(new l(i,t,e))},e.prototype.set=function(t,e,i){if(i)this.values_[t]=e;else{var n=this.values_[t];this.values_[t]=e,n!==e&&this.notify(t,n)}},e.prototype.setProperties=function(t,e){for(var i in t)this.set(i,t[i],e)},e.prototype.unset=function(t,e){if(t in this.values_){var i=this.values_[t];delete this.values_[t],e||this.notify(t,i)}},e}(o.default),h={};function f(t){return h.hasOwnProperty(t)?h[t]:h[t]="change:"+t}e.default=c},function(t,e,i){var n=i(240)("wks"),r=i(133),o=i(8).Symbol,a="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.Debug=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,null,[{key:"tryOrThrow",value:function(t){try{t()}catch(t){this.error(t)}}},{key:"info",value:function(t){0}},{key:"warn",value:function(t){console.warn(t)}},{key:"error",value:function(t){console.error(t),console.trace()}},{key:"defaultErrorHandler",value:function(e){t.error(e),e.stack&&t.error(e.stack)}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCanvasContext2D=function(t,e){var i=document.createElement("canvas");t&&(i.width=t);e&&(i.height=e);return i.getContext("2d")},e.outerWidth=function(t){var e=t.offsetWidth,i=getComputedStyle(t);return e+=parseInt(i.marginLeft,10)+parseInt(i.marginRight,10)},e.outerHeight=function(t){var e=t.offsetHeight,i=getComputedStyle(t);return e+=parseInt(i.marginTop,10)+parseInt(i.marginBottom,10)},e.replaceNode=function(t,e){var i=e.parentNode;i&&i.replaceChild(t,e)},e.removeNode=function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},e.removeChildren=function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}},function(t,e,i){var n=i(77),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e,i){var n=i(7),r=i(523),o=i(79),a=Object.defineProperty;e.f=i(30)?Object.defineProperty:function(t,e,i){if(n(t),e=o(e,!0),n(i),r)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){t.exports=!i(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Control=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(i(99)),r=i(5),o=i(335);e.Control=(0,r.mixin)(n.default,o.ControlLogicMixin)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stopPropagation=function(t){t.stopPropagation()},e.preventDefault=function(t){t.preventDefault()};var n=function(t){this.propagationStopped,this.type=t,this.target=null};n.prototype.preventDefault=function(){this.propagationStopped=!0},n.prototype.stopPropagation=function(){this.propagationStopped=!0},e.default=n},function(t,e,i){var n=i(78);t.exports=function(t){return Object(n(t))}},function(t,e,i){var n=i(158),r=i(737);t.exports=function t(e,i,o,a,s){var u=-1,l=e.length;for(o||(o=r),s||(s=[]);++u<l;){var c=e[u];i>0&&o(c)?i>1?t(c,i-1,o,a,s):n(s,c):a||(s[s.length]=c)}return s}},function(t,e,i){var n=i(432),r="object"==typeof self&&self&&self.Object===Object&&self,o=n||r||Function("return this")();t.exports=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=u(i(25)),o=u(i(66)),a=i(101),s=i(14);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(e,i){t.call(this),this.setCoordinates(e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,i,n){var r=this.flatCoordinates,o=(0,s.squaredDistance)(t,e,r[0],r[1]);if(o<n){for(var a=this.stride,u=0;u<a;++u)i[u]=r[u];return i.length=a,o}return n},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return(0,n.createOrUpdateFromCoordinate)(this.flatCoordinates,t)},e.prototype.getType=function(){return r.default.POINT},e.prototype.intersectsExtent=function(t){return(0,n.containsXY)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,a.deflateCoordinate)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(o.default);e.default=l},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t,e){for(var i=-1,n=null==t?0:t.length,r=Array(n);++i<n;)r[i]=e(t[i],i,t);return r}},function(t,e,i){var n=i(116),r=i(872),o=i(871),a="[object Null]",s="[object Undefined]",u=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:u&&u in Object(t)?r(t):o(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){return[1,0,0,1,0,0]},e.reset=function(t){return a(t,1,0,0,1,0,0)},e.multiply=o,e.set=a,e.setFromArray=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},e.apply=function(t,e){var i=e[0],n=e[1];return e[0]=t[0]*i+t[2]*n+t[4],e[1]=t[1]*i+t[3]*n+t[5],e},e.rotate=function(t,e){var i=Math.cos(e),n=Math.sin(e);return o(t,a(r,i,n,-n,i,0,0))},e.scale=function(t,e,i){return o(t,a(r,e,0,0,i,0,0))},e.translate=function(t,e,i){return o(t,a(r,1,0,0,1,e,i))},e.compose=function(t,e,i,n,r,o,a,s){var u=Math.sin(o),l=Math.cos(o);return t[0]=n*l,t[1]=r*u,t[2]=-n*u,t[3]=r*l,t[4]=a*n*l-s*n*u+e,t[5]=a*r*u+s*r*l+i,t},e.invert=function(t){var e=s(t);(0,n.assert)(0!==e,32);var i=t[0],r=t[1],o=t[2],a=t[3],u=t[4],l=t[5];return t[0]=a/e,t[1]=-r/e,t[2]=-o/e,t[3]=i/e,t[4]=(o*l-a*u)/e,t[5]=-(i*l-r*u)/e,t},e.determinant=s;var n=i(20),r=new Array(6);function o(t,e){var i=t[0],n=t[1],r=t[2],o=t[3],a=t[4],s=t[5],u=e[0],l=e[1],c=e[2],h=e[3],f=e[4],p=e[5];return t[0]=i*u+r*l,t[1]=n*u+o*l,t[2]=i*c+r*h,t[3]=n*c+o*h,t[4]=i*f+r*p+a,t[5]=n*f+o*p+s,t}function a(t,e,i,n,r,o,a){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=o,t[5]=a,t}function s(t){return t[0]*t[3]-t[1]*t[2]}},function(t,e,i){var n=i(42),r=i(26);t.exports=function(t){return r(t)&&n(t)}},function(t,e,i){var n=i(163),r=i(202);t.exports=function(t){return null!=t&&r(t.length)&&!n(t)}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VectorSourceEvent=void 0;var n=i(19),r=x(i(54)),o=x(i(123)),a=x(i(174)),s=i(17),u=i(20),l=i(3),c=x(i(32)),h=x(i(4)),f=i(1),p=i(909),d=i(18),g=i(457),v=i(9),y=x(i(212)),_=x(i(65)),m=x(i(290)),b=x(i(289));function x(t){return t&&t.__esModule?t:{default:t}}var S=e.VectorSourceEvent=function(t){function e(e,i){t.call(this,e),this.feature=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(c.default),w=function(t){function e(e){var i=e||{};t.call(this,{attributions:i.attributions,projection:void 0,state:_.default.READY,wrapX:void 0===i.wrapX||i.wrapX}),this.loader_=d.VOID,this.format_=i.format,this.overlaps_=void 0==i.overlaps||i.overlaps,this.url_=i.url,void 0!==i.loader?this.loader_=i.loader:void 0!==this.url_&&((0,u.assert)(this.format_,7),this.loader_=(0,p.xhr)(this.url_,this.format_)),this.strategy_=void 0!==i.strategy?i.strategy:g.all;var n,o,a=void 0===i.useSpatialIndex||i.useSpatialIndex;this.featuresRtree_=a?new b.default:null,this.loadedExtentsRtree_=new b.default,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,i.features instanceof r.default?o=(n=i.features).getArray():Array.isArray(i.features)&&(o=i.features),a||void 0!==n||(n=new r.default(o)),void 0!==o&&this.addFeaturesInternal(o),void 0!==n&&this.bindFeaturesCollection_(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=(0,n.getUid)(t).toString();if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var i=t.getGeometry();if(i){var r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new S(m.default.ADDFEATURE,t))}},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[(0,l.listen)(e,h.default.CHANGE,this.handleFeatureChange_,this),(0,l.listen)(e,a.default.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var i=!0,n=e.getId();return void 0!==n?n.toString()in this.idIndex_?i=!1:this.idIndex_[n.toString()]=e:((0,u.assert)(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),i},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],i=[],r=[],o=0,a=t.length;o<a;o++){var s=t[o],u=(0,n.getUid)(s).toString();this.addToIndex_(u,s)&&i.push(s)}for(var l=0,c=i.length;l<c;l++){var h=i[l],f=(0,n.getUid)(h).toString();this.setupChangeEvents_(f,h);var p=h.getGeometry();if(p){var d=p.getExtent();e.push(d),r.push(h)}else this.nullGeometryFeatures_[f]=h}this.featuresRtree_&&this.featuresRtree_.load(e,r);for(var g=0,v=i.length;g<v;g++)this.dispatchEvent(new S(m.default.ADDFEATURE,i[g]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;(0,l.listen)(this,m.default.ADDFEATURE,function(i){e||(e=!0,t.push(i.feature),e=!1)}),(0,l.listen)(this,m.default.REMOVEFEATURE,function(i){e||(e=!0,t.remove(i.feature),e=!1)}),(0,l.listen)(t,o.default.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)},this),(0,l.listen)(t,o.default.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)},this),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(l.unlistenByKey)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var i in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var n=new S(m.default.CLEAR);this.dispatchEvent(n),this.changed()},e.prototype.forEachFeature=function(t){return this.featuresRtree_?this.featuresRtree_.forEach(t):this.featuresCollection_?this.featuresCollection_.forEach(t):void 0},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(i){return i.getGeometry().intersectsCoordinate(t)?e(i):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){return this.featuresRtree_?this.featuresRtree_.forEachInExtent(t,e):this.featuresCollection_?this.featuresCollection_.forEach(e):void 0},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(i){if(i.getGeometry().intersectsExtent(t)){var n=e(i);if(n)return n}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),(0,v.isEmpty)(this.nullGeometryFeatures_)||(0,s.extend)(t,(0,v.getValues)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},e.prototype.getClosestFeatureToCoordinate=function(t,e){var i=t[0],n=t[1],r=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],u=e||d.TRUE;return this.featuresRtree_.forEachInExtent(s,function(t){if(u(t)){var e=t.getGeometry(),l=a;if((a=e.closestPointXY(i,n,o,a))<l){r=t;var c=Math.sqrt(a);s[0]=i-c,s[1]=n-c,s[2]=i+c,s[3]=n+c}}}),r},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getResolutions=function(){},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,i=(0,n.getUid)(e).toString(),r=e.getGeometry();if(r){var o=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[i]=e);var a=e.getId();if(void 0!==a){var s=a.toString();i in this.undefIdIndex_?(delete this.undefIdIndex_[i],this.idIndex_[s]=e):this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else i in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[i]=e);this.changed(),this.dispatchEvent(new S(m.default.CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:(0,n.getUid)(t).toString()in this.undefIdIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&(0,v.isEmpty)(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,i){var n=this,r=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var a=function(t,a){var s=o[t];r.forEachInExtent(s,function(t){return(0,f.containsExtent)(t.extent,s)})||(n.loader_.call(n,s,e,i),r.insert(s,{extent:s.slice()}),n.loading=!0)},s=0,u=o.length;s<u;++s)a(s)},e.prototype.removeLoadedExtent=function(t){var e,i=this.loadedExtentsRtree_;i.forEachInExtent(t,function(i){if((0,f.equals)(i.extent,t))return e=i,!0}),e&&i.remove(e)},e.prototype.removeFeature=function(t){var e=(0,n.getUid)(t).toString();e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=(0,n.getUid)(t).toString();this.featureChangeKeys_[e].forEach(l.unlistenByKey),delete this.featureChangeKeys_[e];var i=t.getId();void 0!==i?delete this.idIndex_[i.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new S(m.default.REMOVEFEATURE,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===t){delete this.idIndex_[i],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e}(y.default);e.default=w},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pan=function(t,e,i){var n=t.getCenter();if(n){var o=t.constrainCenter([n[0]+e[0],n[1]+e[1]]);i?t.animate({duration:i,easing:r.linear,center:o}):t.setCenter(o)}},e.rotate=function(t,e,i,n){e=t.constrainRotation(e,0),l(t,e,i,n)},e.rotateWithoutConstraints=l,e.zoom=function(t,e,i,n,r){e=t.constrainResolution(e,0,r),c(t,e,i,n)},e.zoomByDelta=function(t,e,i,n){var r=t.getResolution(),o=t.constrainResolution(r,e,0);if(void 0!==o){var s=t.getResolutions();o=(0,a.clamp)(o,t.getMinResolution()||s[s.length-1],t.getMaxResolution()||s[0])}if(i&&void 0!==o&&o!==r){var u=t.getCenter(),l=t.calculateCenterZoom(o,i);l=t.constrainCenter(l),i=[(o*u[0]-r*l[0])/(o-r),(o*u[1]-r*l[1])/(o-r)]}c(t,o,i,n)},e.zoomWithoutConstraints=c;var n=s(i(22)),r=i(86),o=s(i(292)),a=i(14);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(e){t.call(this),this.map_=null,this.setActive(!0),this.handleEvent=e.handleEvent}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(o.default.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.setActive=function(t){this.set(o.default.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(n.default);function l(t,e,i,n){if(void 0!==e){var o=t.getRotation(),a=t.getCenter();void 0!==o&&a&&n>0?t.animate({rotation:e,anchor:i,duration:n,easing:r.easeOut}):t.rotate(e,i)}}function c(t,e,i,n){if(e){var o=t.getResolution(),a=t.getCenter();if(void 0!==o&&a&&e!==o&&n)t.animate({resolution:e,anchor:i,duration:n,easing:r.easeOut});else{if(i){var s=t.calculateCenterZoom(e,i);t.setCenter(s)}t.setResolution(e)}}}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ANIMATING:0,INTERACTING:1}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},function(t,e,i){var n=i(0),r=i(11),o=i(78),a=/"/g,s=function(t,e,i,n){var r=String(o(t)),s="<"+e;return""!==i&&(s+=" "+i+'="'+String(n).replace(a,"&quot;")+'"'),s+">"+r+"</"+e+">"};t.exports=function(t,e){var i={};i[t]=e(s),n(n.P+n.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",i)}},function(t,e,i){var n=i(8),r=i(50),o=i(58),a=i(133)("src"),s=Function.toString,u=(""+s).split("toString");i(80).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,i,s){var l="function"==typeof i;l&&(o(i,"name")||r(i,"name",e)),t[e]!==i&&(l&&(o(i,a)||r(i,a,t[e]?""+t[e]:u.join(String(e)))),t===n?t[e]=i:s?t[e]?t[e]=i:r(t,e,i):(delete t[e],r(t,e,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,i){var n=i(29),r=i(134);t.exports=i(30)?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.centroid=function(t){for(var e=t.length,i=0,n=0,r=0;r<e;r++)i+=t[r].clientX,n+=t[r].clientY;return[i/e,n/e]},e.handleEvent=d;var n=i(18),r=u(i(103)),o=u(i(173)),a=u(i(45)),s=i(9);function u(t){return t&&t.__esModule?t:{default:t}}var l=n.VOID,c=n.FALSE,h=n.FALSE,f=n.VOID,p=function(t){function e(e){var i=e||{};t.call(this,{handleEvent:i.handleEvent||d}),this.handleDownEvent_=i.handleDownEvent?i.handleDownEvent:h,this.handleDragEvent_=i.handleDragEvent?i.handleDragEvent:l,this.handleMoveEvent_=i.handleMoveEvent?i.handleMoveEvent:f,this.handleUpEvent_=i.handleUpEvent?i.handleUpEvent:c,this.handlingDownUpSequence=!1,this.stopDown=i.stopDown?i.stopDown:g,this.trackedPointers_={},this.targetPointers=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===r.default.POINTERDOWN||e===r.default.POINTERDRAG||e===r.default.POINTERUP}(t)){var e=t.pointerEvent,i=e.pointerId.toString();t.type==r.default.POINTERUP?delete this.trackedPointers_[i]:t.type==r.default.POINTERDOWN?this.trackedPointers_[i]=e:i in this.trackedPointers_&&(this.trackedPointers_[i]=e),this.targetPointers=(0,s.getValues)(this.trackedPointers_)}},e}(a.default);function d(t){if(!(t instanceof o.default))return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==r.default.POINTERDRAG)this.handleDragEvent_(t);else if(t.type==r.default.POINTERUP){var i=this.handleUpEvent_(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==r.default.POINTERDOWN){var n=this.handleDownEvent_(t);n&&t.preventDefault(),this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==r.default.POINTERMOVE&&this.handleMoveEvent_(t);return!e}function g(t){return t}e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.primaryAction=e.mouseOnly=e.targetNotEditable=e.shiftKeyOnly=e.platformModifierKeyOnly=e.noModifierKeys=e.doubleClick=e.singleClick=e.pointerMove=e.never=e.mouseActionButton=e.click=e.always=e.focus=e.altShiftKeysOnly=e.altKeyOnly=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(i(103)),r=i(20),o=i(18),a=i(68);e.altKeyOnly=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},e.altShiftKeysOnly=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},e.focus=function(t){return t.target.getTargetElement()===document.activeElement},e.always=o.TRUE,e.click=function(t){return t.type==n.default.CLICK},e.mouseActionButton=function(t){var e=t.originalEvent;return 0==e.button&&!(a.WEBKIT&&a.MAC&&e.ctrlKey)},e.never=o.FALSE,e.pointerMove=function(t){return"pointermove"==t.type},e.singleClick=function(t){return t.type==n.default.SINGLECLICK},e.doubleClick=function(t){return t.type==n.default.DBLCLICK},e.noModifierKeys=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},e.platformModifierKeyOnly=function(t){var e=t.originalEvent;return!e.altKey&&(a.MAC?e.metaKey:e.ctrlKey)&&!e.shiftKey},e.shiftKeyOnly=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},e.targetNotEditable=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},e.mouseOnly=function(t){return(0,r.assert)(t.pointerEvent,56),"mouse"==t.pointerEvent.pointerType},e.primaryAction=function(t){var e=t.pointerEvent;return e.isPrimary&&0===e.button}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.circular=function(t,e,i,r){for(var a=i||32,s=[],u=0;u<a;++u)(0,n.extend)(s,(0,c.offset)(t,e,2*Math.PI*u/a,r));return s.push(s[0],s[1]),new S(s,o.default.XY,[s.length])},e.fromExtent=function(t){var e=t[0],i=t[1],n=t[2],r=t[3],a=[e,i,e,r,n,r,n,i,e,i];return new S(a,o.default.XY,[a.length])},e.fromCircle=function(t,e,i){for(var n=e||32,r=t.getStride(),o=t.getLayout(),a=t.getCenter(),s=r*(n+1),u=new Array(s),l=0;l<s;l+=r){u[l]=0,u[l+1]=0;for(var c=2;c<r;c++)u[l+c]=a[c]}var h=[u.length],f=new S(u,o,h);return w(f,a,t.getRadius(),i),f},e.makeRegular=w;var n=i(17),r=i(1),o=x(i(102)),a=x(i(25)),s=x(i(922)),u=x(i(36)),l=x(i(66)),c=i(478),h=i(294),f=i(170),p=i(218),d=i(101),g=i(121),v=i(476),y=i(217),_=i(474),m=i(145),b=i(14);function x(t){return t&&t.__esModule?t:{default:t}}var S=function(t){function e(e,i,n){t.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==i&&n?(this.setFlatCoordinates(i,e),this.ends_=n):this.setCoordinates(e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLinearRing=function(t){this.flatCoordinates?(0,n.extend)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,i,n){return n<(0,r.closestSquaredDistanceXY)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,f.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,f.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,n))},e.prototype.containsXY=function(t,e){return(0,p.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return(0,h.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,_.orientLinearRings)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,(0,g.inflateCoordinatesArray)(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=(0,r.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,v.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new u.default(this.getFlatInteriorPoint(),o.default.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new s.default(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.ends_,n=[],r=0,o=0,a=i.length;o<a;++o){var u=i[o],l=new s.default(e.slice(r,u),t);n.push(l),r=u}return n},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,_.linearRingIsOriented)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,_.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],n=[];return i.length=(0,m.quantizeArray)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),i,0,n),new e(i,o.default.XY,n)},e.prototype.getType=function(){return a.default.POLYGON},e.prototype.intersectsExtent=function(t){return(0,y.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=(0,d.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},e}(l.default);function w(t,e,i,n){for(var r=t.getFlatCoordinates(),o=t.getStride(),a=r.length/o-1,s=n||0,u=0;u<=a;++u){var l=u*o,c=s+2*(0,b.modulo)(u,a)*Math.PI/a;r[l]=e[0]+i*Math.cos(c),r[l+1]=e[1]+i*Math.sin(c)}t.changed()}e.default=S},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CollectionEvent=void 0;var n=s(i(488)),r=s(i(123)),o=s(i(22)),a=s(i(32));function s(t){return t&&t.__esModule?t:{default:t}}var u="length",l=e.CollectionEvent=function(t){function e(e,i){t.call(this,e),this.element=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.default),c=function(t){function e(e,i){t.call(this);var n=i||{};if(this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(var r=0,o=this.array_.length;r<o;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,i=t.length;e<i;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,i=0,n=e.length;i<n;++i)t(e[i],i,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(u)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new l(r.default.ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,i=0,n=e.length;i<n;++i)if(e[i]===t)return this.removeAt(i)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new l(r.default.REMOVE,e)),e},e.prototype.setAt=function(t,e){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(e,t);var n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new l(r.default.REMOVE,n)),this.dispatchEvent(new l(r.default.ADD,e))}else{for(var o=i;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(u,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===t&&i!==e)throw new n.default(58)},e}(o.default);e.default=c},function(t,e,i){var n=i(58),r=i(33),o=i(323)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,i){var n=i(176),r=i(134),o=i(57),a=i(79),s=i(58),u=i(523),l=Object.getOwnPropertyDescriptor;e.f=i(30)?l:function(t,e){if(t=o(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(s(t,e))return r(!n.f.call(t,e),t[e])}},function(t,e,i){var n=i(177),r=i(78);t.exports=function(t){return n(r(t))}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getInFront=function t(e,i){var r=0;i=i||(0,n.default)(document);var o=!1;e.parents().each(function(r,a){(0,n.default)(a).is(i)||"absolute"===(0,n.default)(a).css("position")&&(o=!0,t((0,n.default)(a),i),t(e,(0,n.default)(a)))});o||(i.find("*:visible").not(function(t,i){return i!==e[0]&&(0,n.default)(i).parents().is(e)}).each(function(){var t=parseInt((0,n.default)(this).css("z-index"),10);t&&r<t&&(r=t)}),e.css("z-index",r+1))},e.addTooltip=function(t,e){t.addClass(r.cssClasses.hasTooltip).append((0,n.default)('<span role="tooltip">').html(e))},e.changeTooltip=function(t,e){t.find("[role=tooltip]").html(e)};var n=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),r=i(13)},function(t,e){t.exports=function(t,e,i){var n=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(i=i>r?r:i)<0&&(i+=r),r=e>i?0:i-e>>>0,e>>>=0;for(var o=Array(r);++n<r;)o[n]=t[n+e];return o}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,i){"use strict";function n(t,e,i){return t+"/"+e+"/"+i}Object.defineProperty(e,"__esModule",{value:!0}),e.createOrUpdate=function(t,e,i,n){return void 0!==n?(n[0]=t,n[1]=e,n[2]=i,n):[t,e,i]},e.getKeyZXY=n,e.getKey=function(t){return n(t[0],t[1],t[2])},e.fromKey=function(t){return t.split("/").map(Number)},e.hash=function(t){return(t[1]<<t[0])+t[2]},e.quadKey=function(t){var e,i,n=t[0],r=new Array(n),o=1<<n-1;for(e=0;e<n;++e)i=48,t[1]&o&&(i+=1),t[2]&o&&(i+=2),r[e]=String.fromCharCode(i),o>>=1;return r.join("")},e.withinExtentAndZ=function(t,e){var i=t[0],n=t[1],r=t[2];if(e.getMinZoom()>i||i>e.getMaxZoom())return!1;var o,a=e.getExtent();o=a?e.getTileRangeForExtentAndZ(a,i):e.getFullTileRange(i);return!o||o.containsXY(n,r)}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createStyleFunction=f;var n=i(20),r=i(3),o=c(i(4)),a=i(22),s=c(a),u=c(i(220)),l=c(i(98));function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(e){if(t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,(0,r.listen)(this,(0,a.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),void 0!==e)if(e instanceof u.default||!e){var i=e;this.setGeometry(i)}else{var n=e;this.setProperties(n)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var i=this.getGeometry();i&&t.setGeometry(i.clone());var n=this.getStyle();return n&&t.setStyle(n),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,r.unlistenByKey)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=(0,r.listen)(t,o.default.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?f(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){(0,r.unlisten)(this,(0,a.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,(0,r.listen)(this,(0,a.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(s.default);function f(t){return"function"==typeof t?t:(Array.isArray(t)?e=t:((0,n.assert)(t instanceof l.default,41),e=[t]),function(){return e});var e}e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getStrideForLayout=h,e.transformGeom2D=function(t,e,i){var n=t.getFlatCoordinates();if(n){var r=t.getStride();return(0,s.transform2D)(n,0,n.length,r,e,i)}return null};var n=i(18),r=i(1),o=l(i(220)),a=l(i(102)),s=i(171),u=i(9);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(){t.call(this),this.layout=a.default.XY,this.stride=2,this.flatCoordinates=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeExtent=function(t){return(0,r.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&((0,u.clear)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var i=this.getSimplifiedGeometryInternal(t);return i.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=i,i):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=h(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){},e.prototype.setLayout=function(t,e,i){var n;if(t)n=h(t);else{for(var r=0;r<i;++r){if(0===e.length)return this.layout=a.default.XY,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=a.default.XY:3==t?e=a.default.XYZ:4==t&&(e=a.default.XYZM);return e}(n=e.length)}this.layout=t,this.stride=n},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var i=this.getFlatCoordinates();if(i){var n=this.getStride();(0,s.rotate)(i,0,i.length,n,t,e,i),this.changed()}},e.prototype.scale=function(t,e,i){var n=e;void 0===n&&(n=t);var o=i;o||(o=(0,r.getCenter)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var u=this.getStride();(0,s.scale)(a,0,a.length,u,t,n,o,a),this.changed()}},e.prototype.translate=function(t,e){var i=this.getFlatCoordinates();if(i){var n=this.getStride();(0,s.translate)(i,0,i.length,n,t,e,i),this.changed()}},e}(o.default);function h(t){var e;return t==a.default.XY?e=2:t==a.default.XYZ||t==a.default.XYM?e=3:t==a.default.XYZM&&(e=4),e}c.prototype.containsXY=n.FALSE,e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.add=function(t,e){return t[0]+=e[0],t[1]+=e[1],t},e.closestOnCircle=function(t,e){var i=e.getRadius(),n=e.getCenter(),r=n[0],o=n[1],a=t[0],s=t[1],u=a-r,l=s-o;0===u&&0===l&&(u=1);var c=Math.sqrt(u*u+l*l);return[r+i*u/c,o+i*l/c]},e.closestOnSegment=o,e.createStringXY=function(t){return function(e){return l(e,t)}},e.degreesToStringHDMS=a,e.format=s,e.equals=function(t,e){for(var i=!0,n=t.length-1;n>=0;--n)if(t[n]!=e[n]){i=!1;break}return i},e.rotate=function(t,e){var i=Math.cos(e),n=Math.sin(e),r=t[0]*i-t[1]*n,o=t[1]*i+t[0]*n;return t[0]=r,t[1]=o,t},e.scale=function(t,e){return t[0]*=e,t[1]*=e,t},e.squaredDistance=u,e.distance=function(t,e){return Math.sqrt(u(t,e))},e.squaredDistanceToSegment=function(t,e){return u(t,o(t,e))},e.toStringHDMS=function(t,e){return t?a("NS",t[1],e)+" "+a("EW",t[0],e):""},e.toStringXY=l;var n=i(14),r=i(221);function o(t,e){var i,n,r=t[0],o=t[1],a=e[0],s=e[1],u=a[0],l=a[1],c=s[0],h=s[1],f=c-u,p=h-l,d=0===f&&0===p?0:(f*(r-u)+p*(o-l))/(f*f+p*p||0);return d<=0?(i=u,n=l):d>=1?(i=c,n=h):(i=u+d*f,n=l+d*p),[i,n]}function a(t,e,i){var o=(0,n.modulo)(e+180,360)-180,a=Math.abs(3600*o),s=i||0,u=Math.pow(10,s),l=Math.floor(a/3600),c=Math.floor((a-3600*l)/60),h=a-3600*l-60*c;return(h=Math.ceil(h*u)/u)>=60&&(h=0,c+=1),c>=60&&(c=0,l+=1),l+" "+(0,r.padNumber)(c,2)+" "+(0,r.padNumber)(h,2,s)+""+(0==o?"":" "+t.charAt(o<0?1:0))}function s(t,e,i){return t?e.replace("{x}",t[0].toFixed(i)).replace("{y}",t[1].toFixed(i)):""}function u(t,e){var i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n}function l(t,e){return s(t,"{x}, {y}",e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(929);Object.defineProperty(e,"WEBGL",{enumerable:!0,get:function(){return n.HAS}});var r="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";e.FIREFOX=-1!==r.indexOf("firefox"),e.SAFARI=-1!==r.indexOf("safari")&&-1==r.indexOf("chrom"),e.WEBKIT=-1!==r.indexOf("webkit")&&-1==r.indexOf("edge"),e.MAC=-1!==r.indexOf("macintosh"),e.DEVICE_PIXEL_RATIO=window.devicePixelRatio||1,e.CANVAS_LINE_DASH=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(t){}return t}(),e.GEOLOCATION="geolocation"in navigator,e.TOUCH="ontouchstart"in window,e.POINTER="PointerEvent"in window,e.MSPOINTER=!!navigator.msPointerEnabled},function(t,e,i){"use strict";var n=i(11);t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){var n=i(37);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListenerOrganizerMixin=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=s(i(2)),o=i(104),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=function(){function t(e){u(this,t),this.element=e}return n(t,[{key:"on",value:function(t,e,i){this.event=t,this.listener=e,this.useCapture=i,this.element.addEventListener(t,e,i)}},{key:"once",value:function(t,e,i){var n=this;this.on(t,function(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];e.apply(this,i),n.detach()},i)}},{key:"detach",value:function(){this.element.removeEventListener(this.event,this.listener,this.useCapture)}}]),t}(),c=function(){function t(e){u(this,t),this.element=e}return n(t,[{key:"on",value:function(t,e){this.event=t,this.listener=e,this.element.on(t,e)}},{key:"once",value:function(t,e){this.event=t,this.listener=e,this.element.one(t,e)}},{key:"detach",value:function(){this.element.off(this.event,this.listener)}}]),t}(),h=function(){function t(e){u(this,t),this.element=e}return n(t,[{key:"on",value:function(t,e){this.event=t,this.key_=this.element.on(t,e)}},{key:"once",value:function(t,e){this.event=t,this.key_=this.element.once(t,e)}},{key:"detach",value:function(){(0,o.unByKey)(this.key_)}}]),t}();e.ListenerOrganizerMixin=function(){function t(){u(this,t)}return n(t,[{key:"initialize",value:function(){this.organizedListeners_=[]}},{key:"listenAt",value:function(e){var i=this;e=Array.isArray(e)?e:[e];var n={on:function(r,o,a){var s=!0,u=!1,l=void 0;try{for(var c,h=e[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var f=c.value,p=t.getTypeListener(f);p.on(r,o,a),i.organizedListeners_.push(p)}}catch(t){u=!0,l=t}finally{try{!s&&h.return&&h.return()}finally{if(u)throw l}}return n},once:function(r,o,a){var s=!0,u=!1,l=void 0;try{for(var c,h=e[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var f=c.value,p=t.getTypeListener(f);p.once(r,o,a),i.organizedListeners_.push(p)}}catch(t){u=!0,l=t}finally{try{!s&&h.return&&h.return()}finally{if(u)throw l}}return n}};return n}},{key:"detachFrom",value:function(t,e){var i=this.organizedListeners_.filter(function(e){return e.element===t});e&&(i=i.filter(function(t){return t.event===e}));var n=!0,r=!1,o=void 0;try{for(var a,s=i[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;u.detach(),this.organizedListeners_.splice(this.organizedListeners_.indexOf(u),1)}}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}}},{key:"detachAllListeners",value:function(){var t=!0,e=!1,i=void 0;try{for(var n,r=this.organizedListeners_[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){n.value.detach()}}catch(t){e=!0,i=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw i}}this.organizedListeners_=[]}}],[{key:"getTypeListener",value:function(t){if(t instanceof a.default)return new h(t);if(t instanceof r.default)return new c(t);if(t.addEventListener)return new l(t);throw new Error("no suitable listener interface found!")}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.copy=function(t){return r.default.isArray(t)?r.default.extend([],t):r.default.isPlainObject(t)?r.default.extend({},t):t},e.copyDeep=function(t){return r.default.isArray(t)?r.default.extend(!0,[],t):r.default.isPlainObject(t)?r.default.extend(!0,{},t):t},e.merge=function(t,e){return r.default.extend(t,e)},e.mergeDeep=function(t,e){return r.default.extend(!0,t,e)},e.mergeWithDefaults=function t(e,i){if("object"===(void 0===i?"undefined":n(i))&&"object"===(void 0===e?"undefined":n(e))){var r=!0,o=!1,a=void 0;try{for(var s,u=Object.keys(i)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var l=s.value;if(!(l in e)&&l.search("Element")<0)e[l]=i[l];else if(e[l]instanceof Array){if(e[l].length===i[l].length)for(var c=0;c<e[l].length;c+=1)t(e[l][c],i[l][c]);else if(l+"Element"in i)for(var h=0;h<e[l].length;h+=1)t(e[l][h],i[l+"Element"])}else"object"===n(e[l])?t(e[l],i[l]):"object"!==n(e[l])&&"object"===n(i[l])&&e[l]&&(e[l]={},t(e[l],i[l]))}}catch(t){o=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}}else e||(e=i);return e},e.take=function(t,e){if(t.hasOwnProperty(e)){var i=t[e];return delete t[e],i}};var r=function(t){return t&&t.__esModule?t:{default:t}}(i(2))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},function(t,e,i){var n=i(71),r=i(177),o=i(33),a=i(28),s=i(306);t.exports=function(t,e){var i=1==t,u=2==t,l=3==t,c=4==t,h=6==t,f=5==t||h,p=e||s;return function(e,s,d){for(var g,v,y=o(e),_=r(y),m=n(s,d,3),b=a(_.length),x=0,S=i?p(e,b):u?p(e,0):void 0;b>x;x++)if((f||x in _)&&(v=m(g=_[x],x,y),t))if(i)S[x]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return x;case 2:S.push(g)}else if(c)return!1;return h?-1:l||c?c:S}}},function(t,e,i){var n=i(0),r=i(80),o=i(11);t.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],a={};a[t]=e(i),n(n.S+n.F*o(function(){i(1)}),"Object",a)}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){var n=i(12);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){var i=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=i)},function(t,e,i){var n=i(350),r=i(636),o=i(635),a=i(348),s=i(624),u=i(344),l=i(623),c=i(342),h=i(341),f=i(21),p="Expected a function",d=1,g=2,v=8,y=16,_=32,m=64,b=Math.max;t.exports=function(t,e,i,x,S,w,E,M){var O=e&g;if(!O&&"function"!=typeof t)throw new TypeError(p);var C=x?x.length:0;if(C||(e&=~(_|m),x=S=void 0),E=void 0===E?E:b(f(E),0),M=void 0===M?M:f(M),C-=S?S.length:0,e&m){var T=x,P=S;x=S=void 0}var L=O?void 0:u(t),A=[t,e,i,x,S,T,P,w,E,M];if(L&&l(A,L),t=A[0],e=A[1],i=A[2],x=A[3],S=A[4],!(M=A[9]=void 0===A[9]?O?0:t.length:b(A[9]-C,0))&&e&(v|y)&&(e&=~(v|y)),e&&e!=d)I=e==v||e==y?o(t,e,M):e!=_&&e!=(d|_)||S.length?a.apply(void 0,A):s(t,e,i,x);else var I=r(t,e,i);return h((L?n:c)(I,A),t,e)}},function(t,e,i){var n=i(428),r=i(277),o=i(42);t.exports=function(t){return o(t)?n(t):r(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resetTransform=e.measureTextHeight=e.checkFont=e.textHeights=e.checkedFonts=e.labelCache=e.defaultLineWidth=e.defaultPadding=e.defaultTextBaseline=e.defaultTextAlign=e.defaultStrokeStyle=e.defaultMiterLimit=e.defaultLineJoin=e.defaultLineDashOffset=e.defaultLineDash=e.defaultLineCap=e.defaultFillStyle=e.defaultFont=void 0,e.measureTextWidth=function(t,e){var i=f();t!=i.font&&(i.font=t);return i.measureText(e).width},e.rotateAtOffset=function(t,e,i,n){0!==e&&(t.translate(i,n),t.rotate(e),t.translate(-i,-n))},e.drawImage=function(t,e,i,n,r,o,a,s,u,l,c){var h;1!=i&&(h=t.globalAlpha,t.globalAlpha=h*i);e&&t.setTransform.apply(t,e);t.drawImage(n,r,o,a,s,u,l,a*c,s*c),h&&(t.globalAlpha=h);e&&t.setTransform.apply(t,p)};var n=i(84),r=i(27),o=i(9),a=function(t){return t&&t.__esModule?t:{default:t}}(i(463)),s=i(40);e.defaultFont="10px sans-serif",e.defaultFillStyle=[0,0,0,1],e.defaultLineCap="round",e.defaultLineDash=[],e.defaultLineDashOffset=0,e.defaultLineJoin="round",e.defaultMiterLimit=10,e.defaultStrokeStyle=[0,0,0,1],e.defaultTextAlign="center",e.defaultTextBaseline="middle",e.defaultPadding=[0,0,0,0],e.defaultLineWidth=1;var u=e.labelCache=new a.default,l=e.checkedFonts={},c=null,h=e.textHeights={};e.checkFont=function(){var t,e,i=60,r=l,a="32px ",s=["monospace","serif"],p=s.length,d="wmytzilWMYTZIL@#/&?$%10";function g(t){for(var i=f(),n=100;n<=700;n+=300){for(var r=n+" ",o=!0,u=0;u<p;++u){var l=s[u];if(i.font=r+a+l,e=i.measureText(d).width,t!=l){i.font=r+a+t+","+l;var c=i.measureText(d).width;o=o&&c!=e}}if(o)return!0}return!1}function v(){var e=!0;for(var n in r)r[n]<i&&(g(n)?(r[n]=i,(0,o.clear)(h),c=null,u.clear()):(++r[n],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var o=(0,n.getFontFamilies)(e);if(o)for(var a=0,s=o.length;a<s;++a){var u=o[a];u in r||(r[u]=i,g(u)||(r[u]=0,void 0===t&&(t=setInterval(v,32))))}}}();function f(){return c||(c=(0,r.createCanvasContext2D)(1,1)),c}e.measureTextHeight=function(){var t,e=h;return function(i){var n=e[i];return void 0==n&&(t||((t=document.createElement("span")).textContent="M",t.style.margin=t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=i,document.body.appendChild(t),n=e[i]=t.offsetHeight,document.body.removeChild(t)),n}}();var p=e.resetTransform=(0,s.create)()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.CLASS_HIDDEN="ol-hidden",e.CLASS_SELECTABLE="ol-selectable",e.CLASS_UNSELECTABLE="ol-unselectable",e.CLASS_UNSUPPORTED="ol-unsupported",e.CLASS_CONTROL="ol-control",e.CLASS_COLLAPSED="ol-collapsed",e.getFontFamilies=function(){var t,e={};return function(i){if(t||(t=document.createElement("div").style),!(i in e)){t.font=i;var n=t.fontFamily;if(t.font="",!n)return null;e[i]=n.split(/,\s?/)}return e[i]}}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},r=e.METERS_PER_UNIT={};r[n.DEGREES]=2*Math.PI*6370997/360,r[n.FEET]=.3048,r[n.METERS]=1,r[n.USFEET]=1200/3937,e.default=n},function(t,e,i){"use strict";function n(t){return Math.pow(t,3)}function r(t){return 3*t*t-2*t*t*t}Object.defineProperty(e,"__esModule",{value:!0}),e.easeIn=n,e.easeOut=function(t){return 1-n(1-t)},e.inAndOut=r,e.linear=function(t){return t},e.upAndDown=function(t){return t<.5?r(2*t):1-r(2*(t-.5))}},function(t,e,i){var n=i(502),r=i(0),o=i(240)("metadata"),a=o.store||(o.store=new(i(499))),s=function(t,e,i){var r=a.get(t);if(!r){if(!i)return;a.set(t,r=new n)}var o=r.get(e);if(!o){if(!i)return;r.set(e,o=new n)}return o};t.exports={store:a,map:s,has:function(t,e,i){var n=s(e,i,!1);return void 0!==n&&n.has(t)},get:function(t,e,i){var n=s(e,i,!1);return void 0===n?void 0:n.get(t)},set:function(t,e,i,n){s(i,n,!0).set(t,e)},keys:function(t,e){var i=s(t,e,!1),n=[];return i&&i.forEach(function(t,e){n.push(e)}),n},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){r(r.S,"Reflect",t)}}},function(t,e,i){"use strict";if(i(30)){var n=i(132),r=i(8),o=i(11),a=i(0),s=i(230),u=i(300),l=i(71),c=i(126),h=i(134),f=i(50),p=i(124),d=i(77),g=i(28),v=i(497),y=i(130),_=i(79),m=i(58),b=i(175),x=i(12),S=i(33),w=i(309),E=i(129),M=i(55),O=i(128).f,C=i(307),T=i(133),P=i(23),L=i(75),A=i(239),I=i(232),R=i(304),k=i(147),j=i(235),N=i(127),F=i(305),D=i(507),G=i(29),U=i(56),B=G.f,V=U.f,z=r.RangeError,Y=r.TypeError,W=r.Uint8Array,X=Array.prototype,H=u.ArrayBuffer,q=u.DataView,K=L(0),$=L(2),Z=L(3),J=L(4),Q=L(5),tt=L(6),et=A(!0),it=A(!1),nt=R.values,rt=R.keys,ot=R.entries,at=X.lastIndexOf,st=X.reduce,ut=X.reduceRight,lt=X.join,ct=X.sort,ht=X.slice,ft=X.toString,pt=X.toLocaleString,dt=P("iterator"),gt=P("toStringTag"),vt=T("typed_constructor"),yt=T("def_constructor"),_t=s.CONSTR,mt=s.TYPED,bt=s.VIEW,xt=L(1,function(t,e){return Ot(I(t,t[yt]),e)}),St=o(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),wt=!!W&&!!W.prototype.set&&o(function(){new W(1).set({})}),Et=function(t,e){var i=d(t);if(i<0||i%e)throw z("Wrong offset!");return i},Mt=function(t){if(x(t)&&mt in t)return t;throw Y(t+" is not a typed array!")},Ot=function(t,e){if(!(x(t)&&vt in t))throw Y("It is not a typed array constructor!");return new t(e)},Ct=function(t,e){return Tt(I(t,t[yt]),e)},Tt=function(t,e){for(var i=0,n=e.length,r=Ot(t,n);n>i;)r[i]=e[i++];return r},Pt=function(t,e,i){B(t,e,{get:function(){return this._d[i]}})},Lt=function(t){var e,i,n,r,o,a,s=S(t),u=arguments.length,c=u>1?arguments[1]:void 0,h=void 0!==c,f=C(s);if(void 0!=f&&!w(f)){for(a=f.call(s),n=[],e=0;!(o=a.next()).done;e++)n.push(o.value);s=n}for(h&&u>2&&(c=l(c,arguments[2],2)),e=0,i=g(s.length),r=Ot(this,i);i>e;e++)r[e]=h?c(s[e],e):s[e];return r},At=function(){for(var t=0,e=arguments.length,i=Ot(this,e);e>t;)i[t]=arguments[t++];return i},It=!!W&&o(function(){pt.call(new W(1))}),Rt=function(){return pt.apply(It?ht.call(Mt(this)):Mt(this),arguments)},kt={copyWithin:function(t,e){return D.call(Mt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return J(Mt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return F.apply(Mt(this),arguments)},filter:function(t){return Ct(this,$(Mt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Q(Mt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Mt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){K(Mt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return it(Mt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Mt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return lt.apply(Mt(this),arguments)},lastIndexOf:function(t){return at.apply(Mt(this),arguments)},map:function(t){return xt(Mt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(Mt(this),arguments)},reduceRight:function(t){return ut.apply(Mt(this),arguments)},reverse:function(){for(var t,e=Mt(this).length,i=Math.floor(e/2),n=0;n<i;)t=this[n],this[n++]=this[--e],this[e]=t;return this},some:function(t){return Z(Mt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ct.call(Mt(this),t)},subarray:function(t,e){var i=Mt(this),n=i.length,r=y(t,n);return new(I(i,i[yt]))(i.buffer,i.byteOffset+r*i.BYTES_PER_ELEMENT,g((void 0===e?n:y(e,n))-r))}},jt=function(t,e){return Ct(this,ht.call(Mt(this),t,e))},Nt=function(t){Mt(this);var e=Et(arguments[1],1),i=this.length,n=S(t),r=g(n.length),o=0;if(r+e>i)throw z("Wrong length!");for(;o<r;)this[e+o]=n[o++]},Ft={entries:function(){return ot.call(Mt(this))},keys:function(){return rt.call(Mt(this))},values:function(){return nt.call(Mt(this))}},Dt=function(t,e){return x(t)&&t[mt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Gt=function(t,e){return Dt(t,e=_(e,!0))?h(2,t[e]):V(t,e)},Ut=function(t,e,i){return!(Dt(t,e=_(e,!0))&&x(i)&&m(i,"value"))||m(i,"get")||m(i,"set")||i.configurable||m(i,"writable")&&!i.writable||m(i,"enumerable")&&!i.enumerable?B(t,e,i):(t[e]=i.value,t)};_t||(U.f=Gt,G.f=Ut),a(a.S+a.F*!_t,"Object",{getOwnPropertyDescriptor:Gt,defineProperty:Ut}),o(function(){ft.call({})})&&(ft=pt=function(){return lt.call(this)});var Bt=p({},kt);p(Bt,Ft),f(Bt,dt,Ft.values),p(Bt,{slice:jt,set:Nt,constructor:function(){},toString:ft,toLocaleString:Rt}),Pt(Bt,"buffer","b"),Pt(Bt,"byteOffset","o"),Pt(Bt,"byteLength","l"),Pt(Bt,"length","e"),B(Bt,gt,{get:function(){return this[mt]}}),t.exports=function(t,e,i,u){var l=t+((u=!!u)?"Clamped":"")+"Array",h="get"+t,p="set"+t,d=r[l],y=d||{},_=d&&M(d),m=!d||!s.ABV,S={},w=d&&d.prototype,C=function(t,i){B(t,i,{get:function(){return function(t,i){var n=t._d;return n.v[h](i*e+n.o,St)}(this,i)},set:function(t){return function(t,i,n){var r=t._d;u&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),r.v[p](i*e+r.o,n,St)}(this,i,t)},enumerable:!0})};m?(d=i(function(t,i,n,r){c(t,d,l,"_d");var o,a,s,u,h=0,p=0;if(x(i)){if(!(i instanceof H||"ArrayBuffer"==(u=b(i))||"SharedArrayBuffer"==u))return mt in i?Tt(d,i):Lt.call(d,i);o=i,p=Et(n,e);var y=i.byteLength;if(void 0===r){if(y%e)throw z("Wrong length!");if((a=y-p)<0)throw z("Wrong length!")}else if((a=g(r)*e)+p>y)throw z("Wrong length!");s=a/e}else s=v(i),o=new H(a=s*e);for(f(t,"_d",{b:o,o:p,l:a,e:s,v:new q(o)});h<s;)C(t,h++)}),w=d.prototype=E(Bt),f(w,"constructor",d)):o(function(){d(1)})&&o(function(){new d(-1)})&&j(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=i(function(t,i,n,r){var o;return c(t,d,l),x(i)?i instanceof H||"ArrayBuffer"==(o=b(i))||"SharedArrayBuffer"==o?void 0!==r?new y(i,Et(n,e),r):void 0!==n?new y(i,Et(n,e)):new y(i):mt in i?Tt(d,i):Lt.call(d,i):new y(v(i))}),K(_!==Function.prototype?O(y).concat(O(_)):O(y),function(t){t in d||f(d,t,y[t])}),d.prototype=w,n||(w.constructor=d));var T=w[dt],P=!!T&&("values"==T.name||void 0==T.name),L=Ft.values;f(d,vt,!0),f(w,mt,l),f(w,bt,!0),f(w,yt,d),(u?new d(1)[gt]==l:gt in w)||B(w,gt,{get:function(){return l}}),S[l]=d,a(a.G+a.W+a.F*(d!=y),S),a(a.S,l,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o(function(){y.of.call(d,1)}),l,{from:Lt,of:At}),"BYTES_PER_ELEMENT"in w||f(w,"BYTES_PER_ELEMENT",e),a(a.P,l,kt),N(l),a(a.P+a.F*wt,l,{set:Nt}),a(a.P+a.F*!P,l,Ft),n||w.toString==ft||(w.toString=ft),a(a.P+a.F*o(function(){new d(1).slice()}),l,{slice:jt}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!o(function(){w.toLocaleString.call([1,2])})),l,{toLocaleString:Rt}),k[l]=P?T:L,n||P||f(w,dt,L)}}else t.exports=function(){}},function(t,e){t.exports=function(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}},function(t,e,i){var n=i(760),r=i(383)(n);t.exports=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(166),r=i(19),o=g(i(405)),a=g(i(404)),s=g(i(47)),u=i(3),l=g(i(4)),c=i(6),h=g(i(783)),f=g(i(402)),p=i(62),d=i(113);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,extent:e.extent,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:y,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:o.default,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){if(!n.ENABLE_RASTER_REPROJECTION)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,i){if(n.ENABLE_RASTER_REPROJECTION){var r=this.getTileCacheForProjection(e);for(var o in this.tileCache.expireCache(this.tileCache==r?i:{}),this.tileCacheForProjection){var a=this.tileCacheForProjection[o];a.expireCache(a==r?i:{})}}else t.prototype.expireCache.call(this,e,i)},e.prototype.getGutterForProjection=function(t){return n.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&t&&!(0,c.equivalent)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(n.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!(0,c.equivalent)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!n.ENABLE_RASTER_REPROJECTION)return t.prototype.getTileGridForProjection.call(this,e);var i=this.getProjection();if(!this.tileGrid||i&&!(0,c.equivalent)(i,e)){var o=(0,r.getUid)(e).toString();return o in this.tileGridForProjection||(this.tileGridForProjection[o]=(0,d.getForProjection)(e)),this.tileGridForProjection[o]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!n.ENABLE_RASTER_REPROJECTION)return t.prototype.getTileCacheForProjection.call(this,e);var i=this.getProjection();if(!i||(0,c.equivalent)(i,e))return this.tileCache;var o=(0,r.getUid)(e).toString();return o in this.tileCacheForProjection||(this.tileCacheForProjection[o]=new a.default(this.tileCache.highWaterMark)),this.tileCacheForProjection[o]},e.prototype.createTile_=function(t,e,i,n,r,o){var a=[t,e,i],c=this.getTileCoordForTileUrlFunction(a,r),h=c?this.tileUrlFunction(c,n,r):void 0,f=new this.tileClass(a,void 0!==h?s.default.IDLE:s.default.EMPTY,void 0!==h?h:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=o,(0,u.listen)(f,l.default.CHANGE,this.handleTileChange,this),f},e.prototype.getTile=function(t,e,i,r,o){var a=this.getProjection();if(n.ENABLE_RASTER_REPROJECTION&&a&&o&&!(0,c.equivalent)(a,o)){var s,u=this.getTileCacheForProjection(o),l=[t,e,i],f=(0,p.getKey)(l);u.containsKey(f)&&(s=u.get(f));var d=this.getKey();if(s&&s.key==d)return s;var g=this.getTileGridForProjection(a),v=this.getTileGridForProjection(o),y=this.getTileCoordForTileUrlFunction(l,o),_=new h.default(a,g,o,v,l,y,this.getTilePixelRatio(r),this.getGutter(),function(t,e,i,n){return this.getTileInternal(t,e,i,n,a)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return _.key=d,s?(_.interimTile=s,_.refreshInterimChain(),u.replace(f,_)):u.set(f,_),_}return this.getTileInternal(t,e,i,r,a||o)},e.prototype.getTileInternal=function(t,e,i,n,r){var o=null,a=(0,p.getKeyZXY)(t,e,i),u=this.getKey();if(this.tileCache.containsKey(a)){if((o=this.tileCache.get(a)).key!=u){var l=o;o=this.createTile_(t,e,i,n,r,u),l.getState()==s.default.IDLE?o.interimTile=l.interimTile:o.interimTile=l,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(t,e,i,n,r,u),this.tileCache.set(a,o);return o},e.prototype.setRenderReprojectionEdges=function(t){if(n.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(n.ENABLE_RASTER_REPROJECTION){var i=(0,c.get)(t);if(i){var o=(0,r.getUid)(i).toString();o in this.tileGridForProjection||(this.tileGridForProjection[o]=e)}}},e}(f.default);function y(t,e){t.getImage().src=e}e.default=v},function(t,e,i){var n=i(39),r=i(26),o="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||r(t)&&n(t)==o}},function(t,e,i){var n=i(845),r=i(281),o=i(844),a=i(420),s=i(419),u=i(39),l=i(430),c=l(n),h=l(r),f=l(o),p=l(a),d=l(s),g=u;(n&&"[object DataView]"!=g(new n(new ArrayBuffer(1)))||r&&"[object Map]"!=g(new r)||o&&"[object Promise]"!=g(o.resolve())||a&&"[object Set]"!=g(new a)||s&&"[object WeakMap]"!=g(new s))&&(g=function(t){var e=u(t),i="[object Object]"==e?t.constructor:void 0,n=i?l(i):"";if(n)switch(n){case c:return"[object DataView]";case h:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=g},function(t,e){t.exports=function(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}},function(t,e){var i=9007199254740991,n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?i:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toFunction=function(t){var e;if("function"==typeof t)e=t;else{var i;Array.isArray(t)?i=t:((0,n.assert)(t instanceof l,41),i=[t]),e=function(){return i}}return e},e.createDefaultStyle=function(t,e){if(!c){var i=new a.default({color:"rgba(255,255,255,0.4)"}),n=new s.default({color:"#3399CC",width:1.25});c=[new l({image:new o.default({fill:i,stroke:n,radius:5}),fill:i,stroke:n})]}return c},e.createEditingStyle=function(){var t={},e=[255,255,255,1],i=[0,153,255,1];return t[r.default.POLYGON]=[new l({fill:new a.default({color:[255,255,255,.5]})})],t[r.default.MULTI_POLYGON]=t[r.default.POLYGON],t[r.default.LINE_STRING]=[new l({stroke:new s.default({color:e,width:5})}),new l({stroke:new s.default({color:i,width:3})})],t[r.default.MULTI_LINE_STRING]=t[r.default.LINE_STRING],t[r.default.CIRCLE]=t[r.default.POLYGON].concat(t[r.default.LINE_STRING]),t[r.default.POINT]=[new l({image:new o.default({radius:6,fill:new a.default({color:i}),stroke:new s.default({color:e,width:1.5})}),zIndex:1/0})],t[r.default.MULTI_POINT]=t[r.default.POINT],t[r.default.GEOMETRY_COLLECTION]=t[r.default.POLYGON].concat(t[r.default.LINE_STRING],t[r.default.POINT]),t};var n=i(20),r=u(i(25)),o=u(i(465)),a=u(i(215)),s=u(i(291));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=h,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};l.prototype.clone=function(){var t=this.getGeometry();return t&&t.clone&&(t=t.clone()),new l({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},l.prototype.getRenderer=function(){return this.renderer_},l.prototype.setRenderer=function(t){this.renderer_=t},l.prototype.getGeometry=function(){return this.geometry_},l.prototype.getGeometryFunction=function(){return this.geometryFunction_},l.prototype.getFill=function(){return this.fill_},l.prototype.setFill=function(t){this.fill_=t},l.prototype.getImage=function(){return this.image_},l.prototype.setImage=function(t){this.image_=t},l.prototype.getStroke=function(){return this.stroke_},l.prototype.setStroke=function(t){this.stroke_=t},l.prototype.getText=function(){return this.text_},l.prototype.setText=function(t){this.text_=t},l.prototype.getZIndex=function(){return this.zIndex_},l.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=h,this.geometry_=t},l.prototype.setZIndex=function(t){this.zIndex_=t};var c=null;function h(t){return t.getGeometry()}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(18),r=u(i(225)),o=u(i(22)),a=i(27),s=i(3);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:n.VOID,e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){(0,a.removeNode)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&(0,a.removeNode)(this.element);for(var e=0,i=this.listenerKeys.length;e<i;++e)(0,s.unlistenByKey)(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==n.VOID&&this.listenerKeys.push((0,s.listen)(t,r.default.POSTRENDER,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(o.default);e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buffer=function(t,e,i){void 0===i&&(i=[0,0]);return i[0]=t[0]+2*e,i[1]=t[1]+2*e,i},e.hasArea=function(t){return t[0]>0&&t[1]>0},e.scale=function(t,e,i){void 0===i&&(i=[0,0]);return i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i},e.toSize=function(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}},function(t,e,i){"use strict";function n(t,e,i,n){for(var r=0,o=i.length;r<o;++r)for(var a=i[r],s=0;s<n;++s)t[e++]=a[s];return e}function r(t,e,i,r,o){for(var a=o||[],s=0,u=0,l=i.length;u<l;++u){var c=n(t,e,i[u],r);a[s++]=c,e=c}return a.length=s,a}Object.defineProperty(e,"__esModule",{value:!0}),e.deflateCoordinate=function(t,e,i,n){for(var r=0,o=i.length;r<o;++r)t[e++]=i[r];return e},e.deflateCoordinates=n,e.deflateCoordinatesArray=r,e.deflateMultiCoordinatesArray=function(t,e,i,n,o){for(var a=o||[],s=0,u=0,l=i.length;u<l;++u){var c=r(t,e,i[u],n,a[s]);a[s++]=c,e=c[c.length-1]}return a.length=s,a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(4));e.default={SINGLECLICK:"singleclick",CLICK:n.default.CLICK,DBLCLICK:n.default.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unByKey=function(t){if(Array.isArray(t))for(var e=0,i=t.length;e<i;++e)(0,n.unlistenByKey)(t[e]);else(0,n.unlistenByKey)(t)};var n=i(3),r=a(i(122)),o=a(i(4));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(o.default.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var i=t.length,r=new Array(i),o=0;o<i;++o)r[o]=(0,n.listen)(this,t[o],e);return r}return(0,n.listen)(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var i=t.length,r=new Array(i),o=0;o<i;++o)r[o]=(0,n.listenOnce)(this,t[o],e);return r}return(0,n.listenOnce)(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var i=0,r=t.length;i<r;++i)(0,n.unlisten)(this,t[i],e);else(0,n.unlisten)(this,t,e)},e}(r.default);e.default=s},function(t,e,i){var n=i(23)("unscopables"),r=Array.prototype;void 0==r[n]&&i(50)(r,n,{}),t.exports=function(t){r[n][t]=!0}},function(t,e,i){var n=i(133)("meta"),r=i(12),o=i(58),a=i(29).f,s=0,u=Object.isExtensible||function(){return!0},l=!i(11)(function(){return u(Object.preventExtensions({}))}),c=function(t){a(t,n,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[n].i},getWeak:function(t,e){if(!o(t,n)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[n].w},onFreeze:function(t){return l&&h.NEED&&u(t)&&!o(t,n)&&c(t),t}}},function(t,e){var i="__lodash_placeholder__";t.exports=function(t,e){for(var n=-1,r=t.length,o=0,a=[];++n<r;){var s=t[n];s!==e&&s!==i||(t[n]=i,a[o++]=n)}return a}},function(t,e,i){var n=i(197),r=i(183),o=i(255),a=i(196),s=i(651),u=i(195),l=200;t.exports=function(t,e,i){var c=-1,h=r,f=t.length,p=!0,d=[],g=d;if(i)p=!1,h=o;else if(f>=l){var v=e?null:s(t);if(v)return u(v);p=!1,h=a,g=new n}else g=e?[]:d;t:for(;++c<f;){var y=t[c],_=e?e(y):y;if(y=i||0!==y?y:0,p&&_==_){for(var m=g.length;m--;)if(g[m]===_)continue t;e&&g.push(_),d.push(y)}else h(g,_,i)||(g!==d&&g.push(_),d.push(y))}return d}},function(t,e,i){var n=i(96),r=i(42),o=i(95),a=i(43);t.exports=function(t,e,i){if(!a(i))return!1;var s=typeof e;return!!("number"==s?r(i)&&o(e,i.length):"string"==s&&e in i)&&n(i[e],t)}},function(t,e){t.exports=function(t){return t}},function(t,e,i){var n=i(92),r=1/0;t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-r?"-0":e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultImageLoadFunction=function(t,e){t.getImage().src=e};var n=i(166),r=h(i(74)),o=i(17),a=h(i(32)),s=i(1),u=i(6),l=h(i(777)),c=h(i(212));function h(t){return t&&t.__esModule?t:{default:t}}var f="imageloadstart",p="imageloadend",d="imageloaderror",g=function(t){function e(e,i){t.call(this,e),this.image=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.default),v=function(t){function e(e){t.call(this,{attributions:e.attributions,extent:e.extent,projection:e.projection,state:e.state}),this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=(0,o.linearFindNearest)(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,i,r){var o=this.getProjection();if(n.ENABLE_RASTER_REPROJECTION&&o&&r&&!(0,u.equivalent)(o,r)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,u.equivalent)(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==e&&(0,s.equals)(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new l.default(o,r,t,e,i,function(t,e,i){return this.getImageInternal(t,e,i,o)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return o&&(r=o),this.getImageInternal(t,e,i,r)},e.prototype.getImageInternal=function(t,e,i,n){},e.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case r.default.LOADING:this.loading=!0,this.dispatchEvent(new g(f,e));break;case r.default.LOADED:this.loading=!1,this.dispatchEvent(new g(p,e));break;case r.default.ERROR:this.loading=!1,this.dispatchEvent(new g(d,e))}},e}(c.default);e.default=v},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getForProjection=function(t){var e=t.getDefaultTileGrid();e||(e=d(t),t.setDefaultTileGrid(e));return e},e.wrapX=function(t,e,i){var n=e[0],r=t.getTileCoordCenter(e),a=g(i);if((0,o.containsCoordinate)(a,r))return e;var s=(0,o.getWidth)(a),u=Math.ceil((a[0]-r[0])/s);return r[0]+=s*u,t.getTileCoordForCoordAndZ(r,n)},e.createForExtent=f,e.createXYZ=function(t){var e={};(0,s.assign)(e,void 0!==t?t:{}),void 0===e.extent&&(e.extent=(0,u.get)("EPSG:3857").getExtent());return e.resolutions=p(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new c.default(e)},e.createForProjection=d,e.extentFromProjection=g;var n=i(223),r=i(100),o=i(1),a=h(i(480)),s=i(9),u=i(6),l=h(i(85)),c=h(i(190));function h(t){return t&&t.__esModule?t:{default:t}}function f(t,e,i,n){var r=void 0!==n?n:a.default.TOP_LEFT,s=p(t,e,i);return new c.default({extent:t,origin:(0,o.getCorner)(t,r),resolutions:s,tileSize:i})}function p(t,e,i){for(var a=void 0!==e?e:n.DEFAULT_MAX_ZOOM,s=(0,o.getHeight)(t),u=(0,o.getWidth)(t),l=(0,r.toSize)(void 0!==i?i:n.DEFAULT_TILE_SIZE),c=Math.max(u/l[0],s/l[1]),h=a+1,f=new Array(h),p=0;p<h;++p)f[p]=c/Math.pow(2,p);return f}function d(t,e,i,n){return f(g(t),e,i,n)}function g(t){var e=(t=(0,u.get)(t)).getExtent();if(!e){var i=180*u.METERS_PER_UNIT[l.default.DEGREES]/t.getMetersPerUnit();e=(0,o.createOrUpdate)(-i,-i,i,i)}return e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GroupLayer=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(i(293)),o=i(104),a=i(5),s=i(155);e.GroupLayer=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n=new WeakMap;return i.getLayers().on("add",function(t){var e=t.element;e.provideMap&&e.provideMap(i.getProvidedMap()),n.set(e,e.on(["change:visible","change:childVisible"],function(){i.dispatchEvent({type:"change:childVisible",child:e})}))}),i.getLayers().on("remove",function(t){var e=t.element;e.provideMap&&e.provideMap(null),(0,o.unByKey)(n.get(e)),n.delete(e)}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,a.mixin)(r.default,s.ProvideMapMixin)),n(e,[{key:"provideMap",value:function(t){(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"provideMap",this).call(this,t),this.getLayers().forEach(function(e){e.provideMap&&e.provideMap(t)})}},{key:"recursiveForEach",value:function(t){var e=this;this.getLayers().forEach(function(i){t(i,e),i.recursiveForEach&&i.recursiveForEach(t)})}},{key:"forEachOn",value:function(t,i){var n=this;this.recursiveForEach(function(r){r.on(t,i),r instanceof e&&(n.getLayers().on("add",function(e){e.element.on(t,i)}),n.getLayers().on("remove",function(e){e.element.un(t,i)}))})}},{key:"countChildrenVisible",value:function(){for(var t=this.getLayersArray(),i=0,n=0,r=t.length;n<r;n++)t[n]instanceof e?i+=t[n].countChildrenVisible():t[n].getVisible()&&(i+=1);return i}},{key:"countChildren",value:function(){for(var t=this.getLayersArray(),i=0,n=0,r=t.length;n<r;n++)t[n]instanceof e?i+=t[n].countChildren():i+=1;return i}},{key:"getLayersArray",value:function(){return this.getLayers().getArray()}},{key:"getLength",value:function(){return this.getLayers().getLength()}},{key:"isParentOf",value:function(t){var e=!1;return this.recursiveForEach(function(i){t===i&&(e=!0)}),e}},{key:"getIds",value:function(){for(var t=void 0!==this.get("id")?[this.get("id")]:[],e=this.getLayersArray(),i=0,n=e.length;i<n;i++)e[i].getIds?t=t.concat(e[i].getIds()):t.push(e[i].get("id"));return t}},{key:"getAttributions",value:function(){var t=[];return this.recursiveForEach(function(e){if(e.getVisible()&&e.getSource){var i=e.getSource().getAttributions();i&&(t=t.concat(i))}}),t}},{key:"removeLayerById",value:function(t){for(var e=this.getLayers(),i=0;i<e.getLength();i++){if(e.item(i).get("id")===t)return e.removeAt(i);if(e.item(i).removeLayerById){var n=e.item(i).removeLayerById(t);if(n)return n}}}},{key:"findLayer",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,o=this.getLayersArray()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;if(t(a))return a;if(a.findLayer){var s=a.findLayer(t);if(s)return s}}}catch(t){i=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}}},{key:"getLayerById",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,o=this.getLayersArray()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;if(a.get("id")===t)return a;if(a.getLayerById){var s=a.getLayerById(t);if(s)return s}}}catch(t){i=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}}},{key:"removeLayer",value:function(t){var e=this.getLayers().remove(t);return e||this.getLayers().forEach(function(i){!e&&i.removeLayer&&(e=i.removeLayer(t))}),e}},{key:"getIdsVisibilities",value:function(){var t={};return this.recursiveForEach(function(e){e.get("id")&&(t[e.get("id")]=e.getVisible())}),t}},{key:"setIdsVisibilities",value:function(t){this.recursiveForEach(function(e){e.get("id")&&e.setVisible(t[e.get("id")])})}},{key:"containsLayer",value:function(t){return this.getLayers().getArray().some(function(e){return e===t||(e.containsLayer?e.containsLayer(t):void 0)})}}]),e}()},function(t,e){t.exports=function(t,e){for(var i=-1,n=null==t?0:t.length,r=0,o=[];++i<n;){var a=t[i];e(a,i,t)&&(o[r++]=a)}return o}},function(t,e,i){var n=i(35).Symbol;t.exports=n},function(t,e,i){var n=i(433),r=i(869);t.exports=function(t,e){var i=r(t,e);return n(i)?i:void 0}},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(17),r=i(1),o=v(i(102)),a=v(i(25)),s=v(i(66)),u=i(170),l=i(101),c=i(121),h=i(460),f=i(217),p=i(459),d=i(475),g=i(145);function v(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function e(e,i){t.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?this.setCoordinates(e,i):this.setFlatCoordinates(i,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendCoordinate=function(t){this.flatCoordinates?(0,n.extend)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,i,n){return n<(0,r.closestSquaredDistanceXY)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,u.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,u.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,i,n))},e.prototype.forEachSegment=function(t){return(0,d.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=o.default.XYM&&this.layout!=o.default.XYZM)return null;var i=void 0!==e&&e;return(0,h.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i)},e.prototype.getCoordinates=function(){return(0,c.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return(0,h.interpolatePoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return(0,p.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=(0,g.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new e(i,o.default.XY)},e.prototype.getType=function(){return a.default.LINE_STRING},e.prototype.intersectsExtent=function(t){return(0,f.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,l.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s.default);e.default=y},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.visibleAtResolution=function(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution};var n=i(3),r=f(i(4)),o=i(19),a=i(22),s=f(i(473)),u=f(i(472)),l=i(9),c=f(i(172)),h=f(i(65));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(e){var i=(0,l.assign)({},e);delete i.source,t.call(this,i),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),(0,n.listen)(this,(0,a.getChangeEventType)(u.default.SOURCE),this.handleSourcePropertyChange_,this);var r=e.source?e.source:null;this.setSource(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(u.default.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():h.default.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,n.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=(0,n.listen)(t,r.default.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&((0,n.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,n.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,n.listen)(t,c.default.PRECOMPOSE,function(t){var e=this.getLayerState();e.managed=!1,void 0===this.getZIndex()&&(e.zIndex=1/0),t.frameState.layerStatesArray.push(e),t.frameState.layerStates[(0,o.getUid)(this)]=e},this),this.mapRenderKey_=(0,n.listen)(this,r.default.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(u.default.SOURCE,t)},e}(s.default);e.default=p},function(t,e,i){"use strict";function n(t,e,i,n,r){for(var o=void 0!==r?r:[],a=0,s=e;s<i;s+=n)o[a++]=t.slice(s,s+n);return o.length=a,o}function r(t,e,i,r,o){for(var a=void 0!==o?o:[],s=0,u=0,l=i.length;u<l;++u){var c=i[u];a[s++]=n(t,e,c,r,a[s]),e=c}return a.length=s,a}Object.defineProperty(e,"__esModule",{value:!0}),e.inflateCoordinates=n,e.inflateCoordinatesArray=r,e.inflateMultiCoordinatesArray=function(t,e,i,n,o){for(var a=void 0!==o?o:[],s=0,u=0,l=i.length;u<l;++u){var c=i[u];a[s++]=r(t,e,c,n,a[s]),e=c[c.length-1]}return a.length=s,a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(i(297)),r=i(3),o=i(18),a=s(i(32));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(){t.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addEventListener=function(t,e){var i=this.listeners_[t];i||(i=this.listeners_[t]=[]),-1===i.indexOf(e)&&i.push(e)},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new a.default(t):t,i=e.type;e.target=this;var n,r=this.listeners_[i];if(r){i in this.dispatching_||(this.dispatching_[i]=0,this.pendingRemovals_[i]=0),++this.dispatching_[i];for(var s=0,u=r.length;s<u;++s)if(!1===r[s].call(this,e)||e.propagationStopped){n=!1;break}if(--this.dispatching_[i],0===this.dispatching_[i]){var l=this.pendingRemovals_[i];for(delete this.pendingRemovals_[i];l--;)this.removeEventListener(i,o.VOID);delete this.dispatching_[i]}return n}},e.prototype.disposeInternal=function(){(0,r.unlistenAll)(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var i=this.listeners_[t];if(i){var n=i.indexOf(e);t in this.pendingRemovals_?(i[n]=o.VOID,++this.pendingRemovals_[t]):(i.splice(n,1),0===i.length&&delete this.listeners_[t])}},e}(n.default);e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ADD:"add",REMOVE:"remove"}},function(t,e,i){var n=i(49);t.exports=function(t,e,i){for(var r in e)n(t,r,e[r],i);return t}},function(t,e,i){var n=i(71),r=i(509),o=i(309),a=i(7),s=i(28),u=i(307),l={},c={};(e=t.exports=function(t,e,i,h,f){var p,d,g,v,y=f?function(){return t}:u(t),_=n(i,h,e?2:1),m=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(p=s(t.length);p>m;m++)if((v=e?_(a(d=t[m])[0],d[1]):_(t[m]))===l||v===c)return v}else for(g=y.call(t);!(d=g.next()).done;)if((v=r(g,_,d.value,e))===l||v===c)return v}).BREAK=l,e.RETURN=c},function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){"use strict";var n=i(8),r=i(29),o=i(30),a=i(23)("species");t.exports=function(t){var e=n[t];o&&e&&!e[a]&&r.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,i){var n=i(521),r=i(322).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e,i){var n=i(7),r=i(520),o=i(322),a=i(323)("IE_PROTO"),s=function(){},u=function(){var t,e=i(325)("iframe"),n=o.length;for(e.style.display="none",i(321).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;n--;)delete u.prototype[o[n]];return u()};t.exports=Object.create||function(t,e){var i;return null!==t?(s.prototype=n(t),i=new s,s.prototype=null,i[a]=t):i=u(),void 0===e?i:r(i,e)}},function(t,e,i){var n=i(77),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=n(t))<0?r(t+e,0):o(t,e)}},function(t,e,i){var n=i(521),r=i(322);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e){t.exports=!1},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.ActivatableMixin=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.activate_=!0===t.active,this.active_=!1}},{key:"activateOnMapChange",value:function(){this.setActive(this.activate_)}},{key:"setActive",value:function(t){var e=this.active_;if(e!==t){this.active_=t;var i={type:"change:active",oldValue:e};this.dispatchEvent(i)}}},{key:"getActive",value:function(){return this.active_}}]),t}()},function(t,e){t.exports=function(t){return t.placeholder}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VectorLayer=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(i(167)),r=i(263),o=i(5),a=i(155);e.VectorLayer=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.on("change:visible",function(){i.getSource().setRefreshing&&i.getSource().setRefreshing(i.getVisible())}),i.set("mutators",t.mutators||[]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,o.mixin)((0,o.mixin)(n.default,a.ProvideMapMixin),r.LayerLoadProcessCountMixin)),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.appendParams=function(t,e){var i=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))});var n=i.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OBJECT_PROPERTY_NODE_FACTORY=e.XML_SCHEMA_INSTANCE_URI=e.DOCUMENT=void 0,e.createElementNS=o,e.getAllTextContent=function(t,e){return a(t,e,[]).join("")},e.getAllTextContent_=a,e.isDocument=function(t){return t instanceof Document},e.isNode=function(t){return t instanceof Node},e.getAttributeNS=function(t,e,i){return t.getAttributeNS(e,i)||""},e.parse=function(t){return(new DOMParser).parseFromString(t,"application/xml")},e.makeArrayExtender=function(t,e){return function(i,r){var o=t.call(void 0!==e?e:this,i,r);if(void 0!==o){var a=r[r.length-1];(0,n.extend)(a,o)}}},e.makeArrayPusher=function(t,e){return function(i,n){var r=t.call(void 0!==e?e:this,i,n);if(void 0!==r){var o=n[n.length-1];o.push(r)}}},e.makeReplacer=function(t,e){return function(i,n){var r=t.call(void 0!==e?e:this,i,n);void 0!==r&&(n[n.length-1]=r)}},e.makeObjectPropertyPusher=function(t,e,i){return function(n,r){var o=t.call(void 0!==i?i:this,n,r);if(void 0!==o){var a=r[r.length-1],s=void 0!==e?e:n.localName;(s in a?a[s]:a[s]=[]).push(o)}}},e.makeObjectPropertySetter=function(t,e,i){return function(n,r){var o=t.call(void 0!==i?i:this,n,r);if(void 0!==o){var a=r[r.length-1],s=void 0!==e?e:n.localName;a[s]=o}}},e.makeChildAppender=function(t,e){return function(i,n,r){t.call(void 0!==e?e:this,i,n,r);var o=r[r.length-1],a=o.node;a.appendChild(i)}},e.makeArraySerializer=function(t,e){var i,n;return function(e,r,o){if(void 0===i){i={};var a={};a[e.localName]=t,i[e.namespaceURI]=a,n=s(e.localName)}l(i,n,r,o)}},e.makeSimpleNodeFactory=s,e.makeSequence=function(t,e){for(var i=e.length,n=new Array(i),r=0;r<i;++r)n[r]=t[e[r]];return n},e.makeStructureNS=function(t,e,i){var n,r,o=void 0!==i?i:{};for(n=0,r=t.length;n<r;++n)o[t[n]]=e;return o},e.parseNode=u,e.pushParseAndPop=function(t,e,i,n,r){return n.push(t),u(e,i,n,r),n.pop()},e.serialize=l,e.pushSerializeAndPop=function(t,e,i,n,r,o,a){return r.push(t),l(e,i,n,r,o,a),r.pop()};var n=i(17),r=e.DOCUMENT=document.implementation.createDocument("","",null);e.XML_SCHEMA_INSTANCE_URI="http://www.w3.org/2001/XMLSchema-instance";function o(t,e){return r.createElementNS(t,e)}function a(t,e,i){var n;if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?i.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):i.push(t.nodeValue);else for(n=t.firstChild;n;n=n.nextSibling)a(n,e,i);return i}function s(t,e){var i=t;return function(t,n,r){var a=n[n.length-1].node,s=i;return void 0===s&&(s=r),o(void 0!==e?e:a.namespaceURI,s)}}e.OBJECT_PROPERTY_NODE_FACTORY=s();function u(t,e,i,n){var r;for(r=e.firstElementChild;r;r=r.nextElementSibling){var o=t[r.namespaceURI];if(void 0!==o){var a=o[r.localName];void 0!==a&&a.call(n,r,i)}}}function l(t,e,i,n,r,o){for(var a,s,u=(void 0!==r?r:i).length,l=0;l<u;++l)void 0!==(a=i[l])&&void 0!==(s=e.call(void 0!==o?o:this,a,n,void 0!==r?r[l]:void 0))&&t[s.namespaceURI][s.localName].call(o,s,a,n)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformWithOptions=function(t,e,i){var r,a=i?(0,o.get)(i.featureProjection):null,s=i?(0,o.get)(i.dataProjection):null;r=a&&s&&!(0,o.equivalent)(a,s)?t instanceof n.default?(e?t.clone():t).transform(e?a:s,e?s:a):(0,o.transformExtent)(t,s,a):t;if(e&&i&&void 0!==i.decimals){var u=Math.pow(10,i.decimals);r===t&&(r=r.clone()),r.applyTransform(function(t){for(var e=0,i=t.length;e<i;++e)t[e]=Math.round(t[e]*u)/u;return t})}return r};var n=function(t){return t&&t.__esModule?t:{default:t}}(i(220)),r=i(9),o=i(6);var a=function(){this.dataProjection=null,this.defaultFeatureProjection=null};a.prototype.getReadOptions=function(t,e){var i;return e&&(i={dataProjection:e.dataProjection?e.dataProjection:this.readProjection(t),featureProjection:e.featureProjection}),this.adaptOptions(i)},a.prototype.adaptOptions=function(t){return(0,r.assign)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},a.prototype.getLastExtent=function(){return null},a.prototype.getType=function(){},a.prototype.readFeature=function(t,e){},a.prototype.readFeatures=function(t,e){},a.prototype.readGeometry=function(t,e){},a.prototype.readProjection=function(t){},a.prototype.writeFeature=function(t,e){},a.prototype.writeFeatures=function(t,e){},a.prototype.writeGeometry=function(t,e){},e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFromTemplate=a,e.createFromTemplates=function(t,e){for(var i=t.length,n=new Array(i),r=0;r<i;++r)n[r]=a(t[r],e);return s(n)},e.createFromTileUrlFunctions=s,e.nullTileUrlFunction=function(t,e,i){return},e.expandUrl=function(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var n,r=i[1].charCodeAt(0),o=i[2].charCodeAt(0);for(n=r;n<=o;++n)e.push(t.replace(i[0],String.fromCharCode(n)));return e}if(i=i=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(i[2],10),s=parseInt(i[1],10);s<=a;s++)e.push(t.replace(i[0],s.toString()));return e}return e.push(t),e};var n=i(20),r=i(14),o=i(62);function a(t,e){var i=/\{z\}/g,r=/\{x\}/g,o=/\{y\}/g,a=/\{-y\}/g;return function(s,u,l){return s?t.replace(i,s[0].toString()).replace(r,s[1].toString()).replace(o,function(){return(-s[2]-1).toString()}).replace(a,function(){var t=s[0],i=e.getFullTileRange(t);return(0,n.assert)(i,55),(i.getHeight()+s[2]).toString()}):void 0}}function s(t){return 1===t.length?t[0]:function(e,i,n){if(e){var a=(0,o.hash)(e),s=(0,r.modulo)(a,t.length);return t[s](e,i,n)}}}},function(t,e,i){(function(t){var n=i(432),r="object"==typeof e&&e&&!e.nodeType&&e,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===r&&n.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,i(278)(t))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(17),r=i(1),o=h(i(25)),a=h(i(36)),s=h(i(66)),u=i(101),l=i(121),c=i(14);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(e,i){t.call(this),i&&!Array.isArray(e[0])?this.setFlatCoordinates(i,e):this.setCoordinates(e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPoint=function(t){this.flatCoordinates?(0,n.extend)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,i,n){if(n<(0,r.closestSquaredDistanceXY)(this.getExtent(),t,e))return n;for(var o=this.flatCoordinates,a=this.stride,s=0,u=o.length;s<u;s+=a){var l=(0,c.squaredDistance)(t,e,o[s],o[s+1]);if(l<n){n=l;for(var h=0;h<a;++h)i[h]=o[s+h];i.length=a}}return n},e.prototype.getCoordinates=function(){return(0,l.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new a.default(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,i=this.stride,n=[],r=0,o=t.length;r<o;r+=i){var s=new a.default(t.slice(r,r+i),e);n.push(s)}return n},e.prototype.getType=function(){return o.default.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,i=this.stride,n=0,o=e.length;n<o;n+=i){var a=e[n],s=e[n+1];if((0,r.containsXY)(t,a,s))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,u.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s.default);e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromString=void 0,e.asString=function(t){return"string"==typeof t?t:l(t)},e.asArray=function(t){return Array.isArray(t)?t:s(t)},e.normalize=u,e.toString=l;var n=i(20),r=i(14),o=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,a=/^([a-z]*)$/i;var s=e.fromString=function(){var t={},e=0;return function(i){var r;if(t.hasOwnProperty(i))r=t[i];else{if(e>=1024){var s=0;for(var l in t)0==(3&s++)&&(delete t[l],--e)}r=function(t){var e,i,r,s,l;a.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var i=getComputedStyle(e).color;return document.body.removeChild(e),i}return""}(t));if(o.exec(t)){var c,h=t.length-1;c=h<=4?1:2;var f=4===h||8===h;e=parseInt(t.substr(1+0*c,c),16),i=parseInt(t.substr(1+1*c,c),16),r=parseInt(t.substr(1+2*c,c),16),s=f?parseInt(t.substr(1+3*c,c),16):255,1==c&&(e=(e<<4)+e,i=(i<<4)+i,r=(r<<4)+r,f&&(s=(s<<4)+s)),l=[e,i,r,s/255]}else 0==t.indexOf("rgba(")?u(l=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((l=t.slice(4,-1).split(",").map(Number)).push(1),u(l)):(0,n.assert)(!1,14);return l}(i),t[i]=r,++e}return r}}();function u(t){return t[0]=(0,r.clamp)(t[0]+.5|0,0,255),t[1]=(0,r.clamp)(t[1]+.5|0,0,255),t[2]=(0,r.clamp)(t[2]+.5|0,0,255),t[3]=(0,r.clamp)(t[3],0,1),t}function l(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var n=t[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+e+","+i+","+n+","+(void 0===t[3]?1:t[3])+")"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.simplifyLineString=function(t,e,i,n,o,s,u){var l=void 0!==u?u:[];s||(i=a(t,e,i,n,o,l,0),t=l,e=0,n=2);return l.length=r(t,e,i,n,o,l,0),l},e.douglasPeucker=r,e.douglasPeuckerArray=o,e.douglasPeuckerMultiArray=function(t,e,i,n,r,a,s,u){for(var l=0,c=i.length;l<c;++l){var h=i[l],f=[];s=o(t,e,h,n,r,a,s,f),u.push(f),e=h[h.length-1]}return s},e.radialDistance=a,e.snap=s,e.quantize=u,e.quantizeArray=l,e.quantizeMultiArray=function(t,e,i,n,r,o,a,s){for(var u=0,c=i.length;u<c;++u){var h=i[u],f=[];a=l(t,e,h,n,r,o,a,f),s.push(f),e=h[h.length-1]}return a};var n=i(14);function r(t,e,i,r,o,a,s){var u=(i-e)/r;if(u<3){for(;e<i;e+=r)a[s++]=t[e],a[s++]=t[e+1];return s}var l=new Array(u);l[0]=1,l[u-1]=1;for(var c=[e,i-r],h=0;c.length>0;){for(var f=c.pop(),p=c.pop(),d=0,g=t[p],v=t[p+1],y=t[f],_=t[f+1],m=p+r;m<f;m+=r){var b=t[m],x=t[m+1],S=(0,n.squaredSegmentDistance)(b,x,g,v,y,_);S>d&&(h=m,d=S)}d>o&&(l[(h-e)/r]=1,p+r<h&&c.push(p,h),h+r<f&&c.push(h,f))}for(var w=0;w<u;++w)l[w]&&(a[s++]=t[e+w*r],a[s++]=t[e+w*r+1]);return s}function o(t,e,i,n,o,a,s,u){for(var l=0,c=i.length;l<c;++l){var h=i[l];s=r(t,e,h,n,o,a,s),u.push(s),e=h}return s}function a(t,e,i,r,o,a,s){if(i<=e+r){for(;e<i;e+=r)a[s++]=t[e],a[s++]=t[e+1];return s}var u=t[e],l=t[e+1];a[s++]=u,a[s++]=l;var c=u,h=l;for(e+=r;e<i;e+=r)c=t[e],h=t[e+1],(0,n.squaredDistance)(u,l,c,h)>o&&(a[s++]=c,a[s++]=h,u=c,l=h);return c==u&&h==l||(a[s++]=c,a[s++]=h),s}function s(t,e){return e*Math.round(t/e)}function u(t,e,i,n,r,o,a){if(e==i)return a;var u,l,c=s(t[e],r),h=s(t[e+1],r);e+=n,o[a++]=c,o[a++]=h;do{if(u=s(t[e],r),l=s(t[e+1],r),(e+=n)==i)return o[a++]=u,o[a++]=l,a}while(u==c&&l==h);for(;e<i;){var f=s(t[e],r),p=s(t[e+1],r);if(e+=n,f!=u||p!=l){var d=u-c,g=l-h,v=f-c,y=p-h;d*y==g*v&&(d<0&&v<d||d==v||d>0&&v>d)&&(g<0&&y<g||g==y||g>0&&y>g)?(u=f,l=p):(o[a++]=u,o[a++]=l,c=u,h=l,u=f,l=p)}}return o[a++]=u,o[a++]=l,a}function l(t,e,i,n,r,o,a,s){for(var l=0,c=i.length;l<c;++l){var h=i[l];a=u(t,e,h,n,r,o,a),s.push(a),e=h}return a}},function(t,e,i){var n=i(12);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e){t.exports={}},function(t,e,i){var n=i(0),r=i(78),o=i(11),a=i(319),s="["+a+"]",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),c=function(t,e,i){var r={},s=o(function(){return!!a[t]()||""!=""[t]()}),u=r[t]=s?e(h):a[t];i&&(r[i]=u),n(n.P+n.F*s,"String",r)},h=c.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=c},function(t,e,i){var n=i(29).f,r=i(58),o=i(23)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,i){var n=i(197),r=i(183),o=i(255),a=i(38),s=i(63),u=i(196),l=200;t.exports=function(t,e,i,c){var h=-1,f=r,p=!0,d=t.length,g=[],v=e.length;if(!d)return g;i&&(e=a(e,s(i))),c?(f=o,p=!1):e.length>=l&&(f=u,p=!1,e=new n(e));t:for(;++h<d;){var y=t[h],_=null==i?y:i(y);if(y=c||0!==y?y:0,p&&_==_){for(var m=v;m--;)if(e[m]===_)continue t;g.push(y)}else f(e,_,c)||g.push(y)}return g}},function(t,e,i){var n=i(10),r=i(259),o=i(756),a=i(406);t.exports=function(t,e){return n(t)?t:r(t,e)?[t]:o(a(t))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URL=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(24);e.URL=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!==r.default.type(e)&&e.hasOwnProperty("url")?(this.url=e.url,this.useProxy=e.useProxy,this.proxy=e.proxy,this.cache=void 0===e.cache||e.cache,this.username=e.username,this.password=e.password,e.params?this.params=e.params.slice(0):this.params=[],e.expand?this.expand=e.expand.slice(0):this.expand=[],this.globalProxy=e.globalProxy,this.localiser=e.localiser):(this.url=e,this.useProxy=!1,this.cache=!0,this.params=[],this.expand=[]),i&&this.extractParamsFromMap(i)}return n(t,[{key:"extractParamsFromMap",value:function(t){this.globalProxy=this.globalProxy||t.get("proxy"),this.localiser=this.localiser||t.get("localiser")}},{key:"clone",value:function(){return new t(this)}},{key:"finalize",value:function(){var e=this;this.cache||(e=this.clone().addParam(Math.random().toString(36).substring(7)));var i=this.localiser?this.localiser.selectL10N(e.url):e.url;e.params.length&&(-1===i.search(/\?/)?i+="?":i+="&",i+=e.params.join("&"));var n=!0,r=!1,o=void 0;try{for(var a,s=e.expand[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;i=t.expandTemplate_(i,u)}}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}if(!0===e.useProxy||void 0===e.useProxy&&e.proxy){var l=e.proxy||this.globalProxy;if(!l)throw new Error("No proxy configured. Either configure a local or global proxy if you want to use the option useProxy.");return t.expandTemplate_(l,{paramName:"url",paramValue:t.encodeTemplate_(i),required:!0})}return i}},{key:"addParam",value:function(t){return this.params.push(t),this}},{key:"expandTemplate",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this.expand.findIndex(function(e){return e.paramName===t});n>=0&&this.expand.splice(n,1);return e=function t(i){return"string"===r.default.type(i)?encodeURIComponent(i):"array"===r.default.type(e)?i.map(function(e){return t(e)}):i}(e),this.expand.push({paramName:t,paramValue:e,required:i}),this}},{key:"useProxyFor",value:function(e){return new t({useProxy:this.useProxy,proxy:this.proxy,url:e,localiser:this.localiser,globalProxy:this.globalProxy})}},{key:"extend",value:function(t){var e=this.clone();return e.url+=t,e}}],[{key:"extractFromConfig",value:function(e,i,n,a){return e.hasOwnProperty(i)?e.hasOwnProperty("useProxy")||e.hasOwnProperty("proxy")||e.hasOwnProperty("cache")?(o.Debug.warn("Using the parameters 'useProxy' 'proxy' 'cache' directly inside a config object is considered deprecated. Please use a URLConfig object"),new t({url:e[i]||n,useProxy:e.useProxy,proxy:e.proxy,cache:e.cache},a)):r.default.isPlainObject(e[i])&&!e[i].hasOwnProperty("url")?(o.Debug.warn('The url config object is missing an "url" parameter. The software is assuming the parameter is a Localizable.'),new t({url:e[i]},a)):new t(e[i],a):null}},{key:"expandTemplate_",value:function(t,e){var i=new RegExp("{"+e.paramName+"([^}]*)}"),n=t.match(i);if(!n){if(e.required)throw new Error("required parameter "+e.paramName+" (enclosed in {}) not found in string "+t);return t}if("string"===r.default.type(e.paramValue))return t.replace(i,e.paramValue);if("array"===r.default.type(e.paramValue)){var o=n[1]||",";return t.replace(i,e.paramValue.join(o))}if("number"===r.default.type(e.paramValue)){for(var a=new RegExp("(?::|,)([^,])","g"),s=a.exec(n[1]),u=0;u<e.paramValue;u++)s=a.exec(n[1]);return t.replace(i,s[1])}}},{key:"encodeTemplate_",value:function(t){var e=t.split("}"),i="",n=void 0;for(n=0;n<e.length-1;n+=1){var r=e[n].split("{");i+=encodeURIComponent(r[0])+"{"+r[1]+"}"}return i+=encodeURIComponent(e[n])}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileSourceEvent=void 0;var n=i(18),r=f(i(404)),o=f(i(47)),a=f(i(32)),s=i(6),u=i(100),l=f(i(212)),c=i(62),h=i(113);function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(e){t.call(this,{attributions:e.attributions,extent:e.extent,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new r.default(e.cacheSize),this.tmpSize=[0,0],this.key_="",this.tileOptions={transition:e.transition}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,i,n){var r=this.getTileCacheForProjection(t);if(!r)return!1;for(var a,s,u,l=!0,h=i.minX;h<=i.maxX;++h)for(var f=i.minY;f<=i.maxY;++f)s=(0,c.getKeyZXY)(e,h,f),u=!1,r.containsKey(s)&&(u=(a=r.get(s)).getState()===o.default.LOADED)&&(u=!1!==n(a)),u||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,i,n,r){},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:(0,h.getForProjection)(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!(0,s.equivalent)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,i){var n=this.getTileGridForProjection(i),r=this.getTilePixelRatio(e),o=(0,u.toSize)(n.getTileSize(t),this.tmpSize);return 1==r?o:(0,u.scale)(o,r,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=void 0!==e?e:this.getProjection(),n=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=(0,h.wrapX)(n,t,i)),(0,c.withinExtentAndZ)(t,n)?t:null},e.prototype.refresh=function(){this.tileCache.clear(),this.changed()},e}(l.default);p.prototype.useTile=n.VOID;e.TileSourceEvent=function(t){function e(e,i){t.call(this,e),this.tile=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.default);e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(91)),r=i(113);var o=function(t){function e(e){var i=e||{},n=void 0!==i.projection?i.projection:"EPSG:3857",o=void 0!==i.tileGrid?i.tileGrid:(0,r.createXYZ)({extent:(0,r.extentFromProjection)(n),maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,opaque:i.opaque,projection:n,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n.default);e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.ProvideMapMixin=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,[{key:"provideMap",value:function(t){this.providedMap_=t}},{key:"getProvidedMap",value:function(){return this.providedMap_}}]),t}()},function(t,e,i){var n=i(789),r=i(82);t.exports=function(t){return null==t?[]:n(t,r(t))}},function(t,e,i){var n=i(43),r=i(92),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(r(t))return o;if(n(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var i=u.test(t);return i||l.test(t)?c(t.slice(2),i?2:8):s.test(t)?o:+t}},function(t,e){t.exports=function(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}},function(t,e,i){(function(t){var n=i(35),r=i(426),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?n.Buffer:void 0,u=(s?s.isBuffer:void 0)||r;t.exports=u}).call(this,i(278)(t))},function(t,e,i){var n=i(855),r=i(26),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(t){return r(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,i){var n=i(204),r=i(162);t.exports=function(t,e,i,o){var a=!i;i||(i={});for(var s=-1,u=e.length;++s<u;){var l=e[s],c=o?o(i[l],t[l],l,i,t):void 0;void 0===c&&(c=t[l]),a?r(i,l,c):n(i,l,c)}return i}},function(t,e,i){var n=i(429);t.exports=function(t,e,i){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}},function(t,e,i){var n=i(39),r=i(43),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!r(t))return!1;var e=n(t);return e==a||e==s||e==o||e==u}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};e.fillInstruction=[n.FILL],e.strokeInstruction=[n.STROKE],e.beginPathInstruction=[n.BEGIN_PATH],e.closePathInstruction=[n.CLOSE_PATH];e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),r=i(18),o=i(17),a=i(216),s=i(1),u=x(i(479)),l=x(i(25)),c=i(121),h=i(459),f=i(898),p=i(171),d=i(68),g=i(9),v=x(i(445)),y=i(83),_=x(i(164)),m=i(210),b=i(40);function x(t){return t&&t.__esModule?t:{default:t}}var S=(0,s.createEmpty)(),w=(0,b.create)(),E=function(t){function e(e,i,n,r,o,a){t.call(this),this.declutterTree=a,this.tolerance=e,this.maxExtent=i,this.overlaps=o,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=n,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=(0,b.create)(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replayTextBackground_=function(t,e,i,n,r,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},e.prototype.replayImage_=function(t,e,i,n,r,o,a,u,l,c,h,f,p,d,g,v,_,m){var x=_||m;e-=r*=p,i-=o*=p;var E,M,O,C,T=g+c>n.width?n.width-c:g,P=u+h>n.height?n.height-h:u,L=v[3]+T*p+v[1],A=v[0]+P*p+v[2],I=e-v[3],R=i-v[0];(x||0!==f)&&(E=[I,R],M=[I+L,R],O=[I+L,R+A],C=[I,R+A]);var k=null;if(0!==f){var j=e+r,N=i+o;k=(0,b.compose)(w,j,N,1,1,f,-j,-N),(0,s.createOrUpdateEmpty)(S),(0,s.extendCoordinate)(S,(0,b.apply)(w,E)),(0,s.extendCoordinate)(S,(0,b.apply)(w,M)),(0,s.extendCoordinate)(S,(0,b.apply)(w,O)),(0,s.extendCoordinate)(S,(0,b.apply)(w,C))}else(0,s.createOrUpdate)(I,R,I+L,R+A,S);var F=t.canvas,D=m?m[2]*p/2:0,G=S[0]-D<=F.width&&S[2]+D>=0&&S[1]-D<=F.height&&S[3]+D>=0;if(d&&(e=Math.round(e),i=Math.round(i)),a){if(!G&&1==a[4])return;(0,s.extend)(a,S);var U=G?[t,k?k.slice(0):null,l,n,c,h,T,P,e,i,p]:null;U&&x&&U.push(_,m,E,M,O,C),a.push(U)}else G&&(x&&this.replayTextBackground_(t,E,M,O,C,_,m),(0,y.drawImage)(t,k,l,n,c,h,T,P,e,i,p))},e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,i,n,r,o){var a=this.coordinates.length,l=this.getBufferedMaxExtent();o&&(e+=n);var c,h,f,p=[t[e],t[e+1]],d=[NaN,NaN],g=!0;for(c=e+n;c<i;c+=n)d[0]=t[c],d[1]=t[c+1],(f=(0,s.coordinateRelationship)(l,d))!==h?(g&&(this.coordinates[a++]=p[0],this.coordinates[a++]=p[1]),this.coordinates[a++]=d[0],this.coordinates[a++]=d[1],g=!1):f===u.default.INTERSECTING?(this.coordinates[a++]=d[0],this.coordinates[a++]=d[1],g=!1):g=!0,p[0]=d[0],p[1]=d[1],h=f;return(r&&g||c===e+n)&&(this.coordinates[a++]=p[0],this.coordinates[a++]=p[1]),a},e.prototype.drawCustomCoordinates_=function(t,e,i,n,r){for(var o=0,a=i.length;o<a;++o){var s=i[o],u=this.appendFlatCoordinates(t,e,s,n,!1,!1);r.push(u),e=s}return e},e.prototype.drawCustom=function(t,e,i){this.beginGeometry(t,e);var n,r,o,a,s,u=t.getType(),h=t.getStride(),f=this.coordinates.length;if(u==l.default.MULTI_POLYGON){n=(t=t).getOrientedFlatCoordinates(),a=[];var p=t.getEndss();s=0;for(var d=0,g=p.length;d<g;++d){var v=[];s=this.drawCustomCoordinates_(n,s,p[d],h,v),a.push(v)}this.instructions.push([_.default.CUSTOM,f,a,t,i,c.inflateMultiCoordinatesArray])}else u==l.default.POLYGON||u==l.default.MULTI_LINE_STRING?(o=[],n=u==l.default.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(n,0,t.getEnds(),h,o),this.instructions.push([_.default.CUSTOM,f,o,t,i,c.inflateCoordinatesArray])):u==l.default.LINE_STRING||u==l.default.MULTI_POINT?(n=t.getFlatCoordinates(),r=this.appendFlatCoordinates(n,0,n.length,h,!1,!1),this.instructions.push([_.default.CUSTOM,f,r,t,i,c.inflateCoordinates])):u==l.default.POINT&&(n=t.getFlatCoordinates(),this.coordinates.push(n[0],n[1]),r=this.coordinates.length,this.instructions.push([_.default.CUSTOM,f,r,t,i]));this.endGeometry(t,e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[_.default.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[_.default.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.fill_=function(t){if(this.alignFill_){var e=(0,b.apply)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,y.resetTransform)},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],d.CANVAS_LINE_DASH&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var i=t[4];if(1==i||i==t.length-5){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(n)){this.declutterTree.insert(n);for(var r=5,o=t.length;r<o;++r){var a=t[r];a&&(a.length>11&&this.replayTextBackground_(a[0],a[13],a[14],a[15],a[16],a[11],a[12]),y.drawImage.apply(void 0,a))}}t.length=5,(0,s.createOrUpdateEmpty)(t)}}},e.prototype.replay_=function(t,e,i,r,a,u,l){var c;this.pixelCoordinates_&&(0,o.equals)(e,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=(0,p.transform2D)(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),(0,b.setFromArray)(this.renderedTransform_,e));for(var d,v,x,S,w,E,M,O,C,T,P,L,A=!(0,g.isEmpty)(i),I=0,R=r.length,k=0,j=0,N=0,F=null,D=null,G=this.coordinateCache_,U=this.viewRotation_,B={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:U},V=this.instructions!=r||this.overlaps?0:200;I<R;){var z=r[I];switch(z[0]){case _.default.BEGIN_GEOMETRY:T=z[1],A&&i[(0,n.getUid)(T).toString()]||!T.getGeometry()?I=z[2]:void 0===l||(0,s.intersects)(l,T.getGeometry().getExtent())?++I:I=z[2]+1;break;case _.default.BEGIN_PATH:j>V&&(this.fill_(t),j=0),N>V&&(t.stroke(),N=0),j||N||(t.beginPath(),S=w=NaN),++I;break;case _.default.CIRCLE:var Y=c[k=z[1]],W=c[k+1],X=c[k+2]-Y,H=c[k+3]-W,q=Math.sqrt(X*X+H*H);t.moveTo(Y+q,W),t.arc(Y,W,q,0,2*Math.PI,!0),++I;break;case _.default.CLOSE_PATH:t.closePath(),++I;break;case _.default.CUSTOM:k=z[1],d=z[2];var K=z[3],$=z[4],Z=6==z.length?z[5]:void 0;B.geometry=K,B.feature=T,I in G||(G[I]=[]);var J=G[I];Z?Z(c,k,d,2,J):(J[0]=c[k],J[1]=c[k+1],J.length=2),$(J,B),++I;break;case _.default.DRAW_IMAGE:k=z[1],d=z[2],C=z[3],v=z[4],x=z[5],O=u?null:z[6];var Q=z[7],tt=z[8],et=z[9],it=z[10],nt=z[11],rt=z[12],ot=z[13],at=z[14],st=void 0,ut=void 0,lt=void 0;for(z.length>16?(st=z[15],ut=z[16],lt=z[17]):(st=y.defaultPadding,ut=lt=!1),nt&&(rt+=U);k<d;k+=2)this.replayImage_(t,c[k],c[k+1],C,v,x,O,Q,tt,et,it,rt,ot,a,at,st,ut?F:null,lt?D:null);this.renderDeclutter_(O,T),++I;break;case _.default.DRAW_CHARS:var ct=z[1],ht=z[2],ft=z[3];O=u?null:z[4];var pt=z[5],dt=z[6],gt=z[7],vt=z[8],yt=z[9],_t=z[10],mt=z[11],bt=z[12],xt=z[13],St=z[14],wt=(0,h.lineStringLength)(c,ct,ht,2),Et=vt(bt);if(pt||Et<=wt){var Mt=this.textStates[xt].textAlign,Ot=(wt-Et)*m.TEXT_ALIGN[Mt],Ct=(0,f.drawTextOnPath)(c,ct,ht,2,bt,vt,Ot,gt);if(Ct){var Tt=void 0,Pt=void 0,Lt=void 0,At=void 0,It=void 0;if(_t)for(Tt=0,Pt=Ct.length;Tt<Pt;++Tt)Lt=(It=Ct[Tt])[4],At=this.getImage(Lt,xt,"",_t),v=It[2]+mt,x=ft*At.height+2*(.5-ft)*mt-yt,this.replayImage_(t,It[0],It[1],At,v,x,O,At.height,1,0,0,It[3],St,!1,At.width,y.defaultPadding,null,null);if(dt)for(Tt=0,Pt=Ct.length;Tt<Pt;++Tt)Lt=(It=Ct[Tt])[4],At=this.getImage(Lt,xt,dt,""),v=It[2],x=ft*At.height-yt,this.replayImage_(t,It[0],It[1],At,v,x,O,At.height,1,0,0,It[3],St,!1,At.width,y.defaultPadding,null,null)}}this.renderDeclutter_(O,T),++I;break;case _.default.END_GEOMETRY:if(void 0!==u){var Rt=u(T=z[1]);if(Rt)return Rt}++I;break;case _.default.FILL:V?j++:this.fill_(t),++I;break;case _.default.MOVE_TO_LINE_TO:for(k=z[1],d=z[2],P=c[k],M=(L=c[k+1])+.5|0,(E=P+.5|0)===S&&M===w||(t.moveTo(P,L),S=E,w=M),k+=2;k<d;k+=2)E=(P=c[k])+.5|0,M=(L=c[k+1])+.5|0,k!=d-2&&E===S&&M===w||(t.lineTo(P,L),S=E,w=M);++I;break;case _.default.SET_FILL_STYLE:F=z,this.alignFill_=z[2],j&&(this.fill_(t),j=0,N&&(t.stroke(),N=0)),t.fillStyle=z[1],++I;break;case _.default.SET_STROKE_STYLE:D=z,N&&(t.stroke(),N=0),this.setStrokeStyle_(t,z),++I;break;case _.default.STROKE:V?N++:t.stroke(),++I;break;default:++I}}j&&this.fill_(t),N&&t.stroke()},e.prototype.replay=function(t,e,i,n,r){this.viewRotation_=i,this.replay_(t,e,n,this.instructions,r,void 0,void 0)},e.prototype.replayHitDetection=function(t,e,i,n,r,o){return this.viewRotation_=i,this.replay_(t,e,n,this.hitDetectionInstructions,!0,r,o)},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var i,n,r=e.length,a=-1;for(t=0;t<r;++t)(n=(i=e[t])[0])==_.default.END_GEOMETRY?a=t:n==_.default.BEGIN_GEOMETRY&&(i[2]=t,(0,o.reverseSubArray)(this.hitDetectionInstructions,a,t),a=-1)},e.prototype.setFillStrokeStyle=function(t,e){var i=this.state;if(t){var n=t.getColor();i.fillStyle=(0,a.asColorLike)(n||y.defaultFillStyle)}else i.fillStyle=void 0;if(e){var r=e.getColor();i.strokeStyle=(0,a.asColorLike)(r||y.defaultStrokeStyle);var o=e.getLineCap();i.lineCap=void 0!==o?o:y.defaultLineCap;var s=e.getLineDash();i.lineDash=s?s.slice():y.defaultLineDash;var u=e.getLineDashOffset();i.lineDashOffset=u||y.defaultLineDashOffset;var l=e.getLineJoin();i.lineJoin=void 0!==l?l:y.defaultLineJoin;var c=e.getWidth();i.lineWidth=void 0!==c?c:y.defaultLineWidth;var h=e.getMiterLimit();i.miterLimit=void 0!==h?h:y.defaultMiterLimit,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},e.prototype.createFill=function(t,e){var i=t.fillStyle,n=[_.default.SET_FILL_STYLE,i];return"string"!=typeof i&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[_.default.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e,i){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t,i)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var i=t.strokeStyle,n=t.lineCap,r=t.lineDash,a=t.lineDashOffset,s=t.lineJoin,u=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=n||r!=t.currentLineDash&&!(0,o.equals)(t.currentLineDash,r)||t.currentLineDashOffset!=a||t.currentLineJoin!=s||t.currentLineWidth!=u||t.currentMiterLimit!=l)&&(void 0!==i&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=n,t.currentLineDash=r,t.currentLineDashOffset=a,t.currentLineJoin=s,t.currentLineWidth=u,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var i=[_.default.END_GEOMETRY,e];this.instructions.push(i),this.hitDetectionInstructions.push(i)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,s.clone)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;(0,s.buffer)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(v.default);E.prototype.finish=r.VOID,e.default=E},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ERROR_THRESHOLD=.5,e.ENABLE_RASTER_REPROJECTION=!0},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderType=void 0;var n=u(i(97)),r=u(i(120)),o=u(i(458)),a=i(9),s=i(98);function u(t){return t&&t.__esModule?t:{default:t}}e.RenderType={IMAGE:"image",VECTOR:"vector"};var l="renderOrder",c=function(t){function e(e){var i=e||{},r=(0,a.assign)({},i);delete r.style,delete r.renderBuffer,delete r.updateWhileAnimating,delete r.updateWhileInteracting,t.call(this,r),this.declutter_=void 0!==i.declutter&&i.declutter,this.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(i.style),this.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,this.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,this.renderMode_=i.renderMode||o.default.VECTOR,this.type=n.default.VECTOR}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.setDeclutter=function(t){this.declutter_=t},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(l)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(l,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:s.createDefaultStyle,this.styleFunction_=null===t?void 0:(0,s.toFunction)(this.style_),this.changed()},e.prototype.getRenderMode=function(){return this.renderMode_},e}(r.default);c.prototype.getSource,e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(17),r=i(1),o=g(i(102)),a=g(i(25)),s=g(i(119)),u=g(i(66)),l=i(170),c=i(101),h=i(121),f=i(460),p=i(217),d=i(145);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(e,i,r){if(t.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,i);else if(void 0!==i&&r)this.setFlatCoordinates(i,e),this.ends_=r;else{for(var o=this.getLayout(),a=[],s=[],u=0,l=e.length;u<l;++u){var c=e[u];0===u&&(o=c.getLayout()),(0,n.extend)(a,c.getFlatCoordinates()),s.push(a.length)}this.setFlatCoordinates(o,a),this.ends_=s}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLineString=function(t){this.flatCoordinates?(0,n.extend)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,i,n){return n<(0,r.closestSquaredDistanceXY)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,l.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,l.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,i,n))},e.prototype.getCoordinateAtM=function(t,e,i){if(this.layout!=o.default.XYM&&this.layout!=o.default.XYZM||0===this.flatCoordinates.length)return null;var n=void 0!==e&&e,r=void 0!==i&&i;return(0,f.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,t,n,r)},e.prototype.getCoordinates=function(){return(0,h.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new s.default(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,i=this.layout,n=[],r=0,o=0,a=e.length;o<a;++o){var u=e[o],l=new s.default(t.slice(r,u),i);n.push(l),r=u}return n},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,i=0,r=this.ends_,o=this.stride,a=0,s=r.length;a<s;++a){var u=r[a],l=(0,f.interpolatePoint)(e,i,u,o,.5);(0,n.extend)(t,l),i=u}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],n=[];return i.length=(0,d.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,t,i,0,n),new e(i,o.default.XY,n)},e.prototype.getType=function(){return a.default.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return(0,p.intersectsLineStringArray)(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=(0,c.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},e}(u.default);e.default=v},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.handleEvent=N,e.createRegularPolygon=function(t,e){return function(i,n){var r=i[0],o=i[1],a=Math.sqrt((0,u.squaredDistance)(r,o)),s=n||(0,S.fromCircle)(new d.default(r),t),l=e;if(!e){var c=o[0]-r[0],h=o[1]-r[1];l=Math.atan(h/c)-(c<0?Math.PI:0)}return(0,S.makeRegular)(s,r,a,l),s}},e.createBox=function(){return function(t,e){var i=(0,f.boundingExtent)(t),n=[[(0,f.getBottomLeft)(i),(0,f.getBottomRight)(i),(0,f.getTopRight)(i),(0,f.getTopLeft)(i),(0,f.getBottomLeft)(i)]],r=e;return r?r.setCoordinates(n):r=new w.default(n),r}};var n=L(i(4)),r=L(i(64)),o=L(i(103)),a=L(i(173)),s=i(22),u=i(67),l=i(3),c=L(i(32)),h=i(52),f=i(1),p=i(18),d=L(i(461)),g=L(i(25)),v=L(i(119)),y=L(i(168)),_=L(i(143)),m=L(i(214)),b=i(295),x=L(i(36)),S=i(53),w=L(S),E=i(51),M=L(E),O=L(i(292)),C=L(i(167)),T=L(i(44)),P=i(98);function L(t){return t&&t.__esModule?t:{default:t}}var A={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},I="drawstart",R="drawend",k=function(t){function e(e,i){t.call(this,e),this.feature=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(c.default),j=function(t){function e(e){t.call(this,{handleDownEvent:F,handleEvent:N,handleUpEvent:D,stopDown:p.FALSE}),this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=function(t){var e;t===g.default.POINT||t===g.default.MULTI_POINT?e=A.POINT:t===g.default.LINE_STRING||t===g.default.MULTI_LINE_STRING?e=A.LINE_STRING:t===g.default.POLYGON||t===g.default.MULTI_POLYGON?e=A.POLYGON:t===g.default.CIRCLE&&(e=A.CIRCLE);return e}(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_===A.POLYGON?3:2,this.maxPoints_=e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:p.TRUE;var i=e.geometryFunction;if(!i)if(this.type_===g.default.CIRCLE)i=function(t,e){var i=e||new d.default([NaN,NaN]),n=(0,u.squaredDistance)(t[0],t[1]);return i.setCenterAndRadius(t[0],Math.sqrt(n)),i};else{var n,r=this.mode_;r===A.POINT?n=x.default:r===A.LINE_STRING?n=v.default:r===A.POLYGON&&(n=w.default),i=function(t,e){var i=e;return i?r===A.POLYGON?t[0].length?i.setCoordinates([t[0].concat([t[0][0]])]):i.setCoordinates([]):i.setCoordinates(t):i=new n(t),i}}this.geometryFunction_=i,this.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new C.default({source:new T.default({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:function(){var t=(0,P.createEditingStyle)();return function(e,i){return t[e.getGeometry().getType()]}}(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:h.noModifierKeys,this.freehandCondition_,e.freehand?this.freehandCondition_=h.always:this.freehandCondition_=e.freehandCondition?e.freehandCondition:h.shiftKeyOnly,(0,l.listen)(this,(0,s.getChangeEventType)(O.default.ACTIVE),this.updateState_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,i=t.pixel,n=e[0]-i[0],r=e[1]-i[1],o=n*n+r*r;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t),!0},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var i=!1,n=[this.finishCoordinate_];if(this.mode_===A.LINE_STRING?i=this.sketchCoords_.length>this.minPoints_:this.mode_===A.POLYGON&&(i=this.sketchCoords_[0].length>this.minPoints_,n=[this.sketchCoords_[0][0],this.sketchCoords_[0][this.sketchCoords_[0].length-2]]),i)for(var r=t.map,o=0,a=n.length;o<a;o++){var s=n[o],u=r.getPixelFromCoordinate(s),l=t.pixel,c=l[0]-u[0],h=l[1]-u[1],f=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(c*c+h*h)<=f){this.finishCoordinate_=s;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new r.default(new x.default(e)),this.updateSketchFeatures_())},e.prototype.startDrawing_=function(t){var e=t.coordinate;this.finishCoordinate_=e,this.mode_===A.POINT?this.sketchCoords_=e.slice():this.mode_===A.POLYGON?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new r.default(new v.default(this.sketchLineCoords_)));var i=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new r.default,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(i),this.updateSketchFeatures_(),this.dispatchEvent(new k(I,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,i,n,o=t.coordinate,a=this.sketchFeature_.getGeometry();(this.mode_===A.POINT?i=this.sketchCoords_:this.mode_===A.POLYGON?(i=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(t)&&(o=this.finishCoordinate_.slice())):i=(e=this.sketchCoords_)[e.length-1],i[0]=o[0],i[1]=o[1],this.geometryFunction_(this.sketchCoords_,a),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(o);if(a instanceof w.default&&this.mode_!==A.POLYGON){this.sketchLine_||(this.sketchLine_=new r.default);var s=a.getLinearRing(0);(n=this.sketchLine_.getGeometry())?(n.setFlatCoordinates(s.getLayout(),s.getFlatCoordinates()),n.changed()):(n=new v.default(s.getFlatCoordinates(),s.getLayout()),this.sketchLine_.setGeometry(n))}else this.sketchLineCoords_&&(n=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,i,n=t.coordinate,r=this.sketchFeature_.getGeometry();this.mode_===A.LINE_STRING?(this.finishCoordinate_=n.slice(),(i=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(n.slice()),this.geometryFunction_(i,r)):this.mode_===A.POLYGON&&((i=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(n.slice()),e&&(this.finishCoordinate_=i[0]),this.geometryFunction_(this.sketchCoords_,r)),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry();this.mode_===A.LINE_STRING?((t=this.sketchCoords_).splice(-2,1),this.geometryFunction_(t,e),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===A.POLYGON&&((t=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,i=t.getGeometry();this.mode_===A.LINE_STRING?(e.pop(),this.geometryFunction_(e,i)):this.mode_===A.POLYGON&&(e[0].pop(),this.geometryFunction_(e,i),e=i.getCoordinates()),this.type_===g.default.MULTI_POINT?t.setGeometry(new _.default([e])):this.type_===g.default.MULTI_LINE_STRING?t.setGeometry(new y.default([e])):this.type_===g.default.MULTI_POLYGON&&t.setGeometry(new m.default([e])),this.dispatchEvent(new k(R,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return t&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),t},e.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new k(I,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing_(),this.overlay_.setMap(e?t:null)},e}(M.default);function N(t){t.originalEvent.type===n.default.CONTEXTMENU&&t.preventDefault(),this.freehand_=this.mode_!==A.POINT&&this.freehandCondition_(t);var e=t.type===o.default.POINTERMOVE,i=!0;this.lastDragTime_&&t.type===o.default.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,e=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&t.type===o.default.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(t),i=!1):this.freehand_&&t.type===o.default.POINTERDOWN?i=!1:e?(i=t.type===o.default.POINTERMOVE)&&this.freehand_?i=this.handlePointerMove_(t):(t.pointerEvent.pointerType==b.POINTER_TYPE||t.type===o.default.POINTERDRAG&&!this.downTimeout_)&&this.handlePointerMove_(t):t.type===o.default.DBLCLICK&&(i=!1),E.handleEvent.call(this,t)&&i}function F(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):!!this.condition_(t)&&(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new a.default(o.default.POINTERMOVE,t.map,t.pointerEvent,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0)}function D(t){var e=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);var i=this.mode_===A.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||i?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t):(this.startDrawing_(t),this.mode_===A.POINT&&this.finishDrawing()),e=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!e&&this.stopClick_&&t.stopPropagation(),e}e.default=j},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.maxSquaredDelta=o,e.arrayMaxSquaredDelta=a,e.multiArrayMaxSquaredDelta=function(t,e,i,n,r){for(var o=0,s=i.length;o<s;++o){var u=i[o];r=a(t,e,u,n,r),e=u[u.length-1]}return r},e.assignClosestPoint=s,e.assignClosestArrayPoint=u,e.assignClosestMultiArrayPoint=function(t,e,i,n,r,o,a,s,l,c,h){for(var f=h||[NaN,NaN],p=0,d=i.length;p<d;++p){var g=i[p];c=u(t,e,g,n,r,o,a,s,l,c,f),e=g[g.length-1]}return c};var n=i(14);function r(t,e,i,r,o,a,s){var u,l=t[e],c=t[e+1],h=t[i]-l,f=t[i+1]-c;if(0===h&&0===f)u=e;else{var p=((o-l)*h+(a-c)*f)/(h*h+f*f);if(p>1)u=i;else{if(p>0){for(var d=0;d<r;++d)s[d]=(0,n.lerp)(t[e+d],t[i+d],p);return void(s.length=r)}u=e}}for(var g=0;g<r;++g)s[g]=t[u+g];s.length=r}function o(t,e,i,r,o){var a=t[e],s=t[e+1];for(e+=r;e<i;e+=r){var u=t[e],l=t[e+1],c=(0,n.squaredDistance)(a,s,u,l);c>o&&(o=c),a=u,s=l}return o}function a(t,e,i,n,r){for(var a=0,s=i.length;a<s;++a){var u=i[a];r=o(t,e,u,n,r),e=u}return r}function s(t,e,i,o,a,s,u,l,c,h,f){if(e==i)return h;var p,d;if(0===a){if((d=(0,n.squaredDistance)(u,l,t[e],t[e+1]))<h){for(p=0;p<o;++p)c[p]=t[e+p];return c.length=o,d}return h}for(var g=f||[NaN,NaN],v=e+o;v<i;)if(r(t,v-o,v,o,u,l,g),(d=(0,n.squaredDistance)(u,l,g[0],g[1]))<h){for(h=d,p=0;p<o;++p)c[p]=g[p];c.length=o,v+=o}else v+=o*Math.max((Math.sqrt(d)-Math.sqrt(h))/a|0,1);if(s&&(r(t,i-o,e,o,u,l,g),(d=(0,n.squaredDistance)(u,l,g[0],g[1]))<h)){for(h=d,p=0;p<o;++p)c[p]=g[p];c.length=o}return h}function u(t,e,i,n,r,o,a,u,l,c,h){for(var f=h||[NaN,NaN],p=0,d=i.length;p<d;++p){var g=i[p];c=s(t,e,g,n,r,o,a,u,l,c,f),e=g}return c}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transform2D=function(t,e,i,n,r,o){for(var a=o||[],s=0,u=e;u<i;u+=n){var l=t[u],c=t[u+1];a[s++]=r[0]*l+r[2]*c+r[4],a[s++]=r[1]*l+r[3]*c+r[5]}o&&a.length!=s&&(a.length=s);return a},e.rotate=function(t,e,i,n,r,o,a){for(var s=a||[],u=Math.cos(r),l=Math.sin(r),c=o[0],h=o[1],f=0,p=e;p<i;p+=n){var d=t[p]-c,g=t[p+1]-h;s[f++]=c+d*u-g*l,s[f++]=h+d*l+g*u;for(var v=p+2;v<p+n;++v)s[f++]=t[v]}a&&s.length!=f&&(s.length=f);return s},e.scale=function(t,e,i,n,r,o,a,s){for(var u=s||[],l=a[0],c=a[1],h=0,f=e;f<i;f+=n){var p=t[f]-l,d=t[f+1]-c;u[h++]=l+r*p,u[h++]=c+o*d;for(var g=f+2;g<f+n;++g)u[h++]=t[g]}s&&u.length!=h&&(u.length=h);return u},e.translate=function(t,e,i,n,r,o,a){for(var s=a||[],u=0,l=e;l<i;l+=n){s[u++]=t[l]+r,s[u++]=t[l+1]+o;for(var c=l+2;c<l+n;++c)s[u++]=t[c]}a&&s.length!=u&&(s.length=u);return s}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(e,i,n,r,o){t.call(this,e,i,n.originalEvent,r,o),this.pointerEvent=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(function(t){return t&&t.__esModule?t:{default:t}}(i(487)).default);e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={PROPERTYCHANGE:"propertychange"}},function(t,e,i){var n=i(70),r=i(23)("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?i:o?n(e):"Object"==(a=n(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){var n=i(70);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RewireMixin=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(335),a=i(13),s=i(5);e.RewireMixin=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ControlLogicMixin),n(e,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.singleButton=!1,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this,t),this.rewire()}},{key:"rewire",value:function(){(0,s.recursiveSelect)(this.get$Element(),"button[title]").each(function(){var t=(0,r.default)(this).attr("title");(0,r.default)(this).addClass(a.cssClasses.hasTooltip).removeAttr("title").append("<span role='tooltip'>"+t+"</span>")})}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Window=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=c(i(2)),o=c(i(602)),a=c(i(22)),s=i(5),u=i(59),l=i(13);function c(t){return t&&t.__esModule?t:{default:t}}i(1230);e.Window=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));i.className_=t.hasOwnProperty("className")?t.className:"g4u-window",i.classNameBody_=i.className_+"-content",i.classNameButtonClose_=i.className_+"-button-close",i.$element_=(0,r.default)("<div>").addClass(i.className_).on("click",function(t){return t.stopPropagation()}),i.$positionWrapper_=(0,r.default)("<div>").addClass(i.className_+"-inner-position"),i.$scrollWrapper_=(0,r.default)("<div>").addClass(i.className_+"-scroll-wrap"),i.$body_=(0,r.default)("<div>").addClass(i.classNameBody_),i.$button_=(0,r.default)("<button>").addClass(i.classNameButtonClose_),i.$element_.append(i.$button_).append(i.$positionWrapper_.append(i.$scrollWrapper_.append(i.$body_))).addClass(l.cssClasses.hidden),t.hasOwnProperty("id")&&i.$element_.attr("id",t.id),i.$button_.on("click",function(){return i.setVisible(!1)}),i.draggable_=!t.hasOwnProperty("draggable")||t.draggable,i.fixedPosition_=!0===t.fixedPosition,i.map_=t.map,i.$context_=(0,r.default)(i.map_.getTarget());var n=i.draggable_;return i.map_.asSoonAs("ready",!0,function(){i.map_.on("resize",function(){return i.updateSize(!0)});var t=function(){i.map_.get("mobile")?(i.draggable_=!1,i.getVisible()&&i.setEnableMobileScrolling_(!0)):(i.draggable_=n,i.scroll_&&i.scroll_.enabled&&i.setEnableMobileScrolling_(!1)),i.updateSize()};t(),i.map_.on("change:mobile",t)}),i.makeWindowDraggable_(),i.$element_.on("mousedown",function(){i.getInFront()}),i.visible_=!1,i.setVisible(!!t.hasOwnProperty("visible")&&t.visible),i.shieldActivated_=!1,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),n(e,[{key:"resetDragged",value:function(){this.$element_.css("position","")}},{key:"makeWindowDraggable_",value:function(){var t=this,e=0,i=0,n=!1,o=!1;this.$context_.on("mousemove",function(r){o&&(r.clientY-i===t.$element_.offset().top&&r.clientX-e===t.$element_.offset().left||(n=!0,t.$element_.css("position","absolute"),t.$element_.offset({top:r.clientY-i,left:r.clientX-e}),r.stopPropagation()))}),this.$button_.on("mousedown",function(n){!(0,r.default)(n.target).is("input, textarea")&&t.draggable_&&(e=n.clientX-t.$element_.offset().left,i=n.clientY-t.$element_.offset().top,o=!0)}),this.$element_.get(0).addEventListener("click",function(e){n&&t.draggable_&&(n=!1,e.preventDefault(),e.stopPropagation())},!0),this.$context_.on("mouseup",function(){o=!1})}},{key:"setEnableMobileScrolling_",value:function(t){var e=this;t?this.scroll_?this.scroll_.enable():(this.scroll_=new o.default(this.$scrollWrapper_.get(0),{scrollbar:!0,bounce:!1}),window.addEventListener("wheel",function(t){e.getVisible()&&e.scroll_.enabled&&e.scroll_.scrollTo(0,Math.max(e.scroll_.maxScrollY,Math.min(0,e.scroll_.y-t.deltaY)),100)})):this.scroll_&&(this.scroll_.scrollTo(0,0,0),this.scroll_.disable())}},{key:"getInFront",value:function(){(0,u.getInFront)(this.$element_,this.$context_)}},{key:"setVisible",value:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.visible_;n!==t&&(t?(this.$element_.removeClass(l.cssClasses.hidden),this.map_.get("mobile")?(this.setEnableMobileScrolling_(!0),this.map_.get("shield").setActive(!0),this.map_.get("shield").add$OnTop(this.$element_,{findParentWindow:!1}),this.shieldActivated_=!0,this.map_.get("history").push(function(){return e.setVisible(!1,!1)})):this.map_.get("shield").getActive()||this.getInFront()):(this.map_.get("mobile")&&this.setEnableMobileScrolling_(!1),this.shieldActivated_&&(i?this.map_.get("history").pop():(this.map_.get("shield").setActive(!1),this.map_.get("shield").remove$OnTop(this.$element_),this.shieldActivated_=!1)),this.$element_.addClass(l.cssClasses.hidden),this.$element_.css("top",""),this.$element_.css("left","")),this.visible_=t,this.updateSize(!0),this.dispatchEvent({type:"change:visible",oldValue:n,newValue:t}))}},{key:"getVisible",value:function(){return this.visible_}},{key:"get$Body",value:function(){return this.$body_}},{key:"get$Element",value:function(){return this.$element_}},{key:"updateSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=0;if(this.getVisible()){if(this.map_.get("mobile")){e=10;var i=this.$context_.innerWidth()-2*e,n=this.$context_.innerHeight()-2*e;this.get$Body().css("max-height",""),this.$element_.css("width",i),this.$element_.css("height",n);var r=this.$context_.offset();this.$element_.css("left",e+r.left),this.$element_.css("top",e+r.top)}else{e=50;var o=this.$context_.innerWidth()-2*e,a=this.$context_.innerHeight()-2*e,u=this.$element_.css("position"),c=this.$element_.css("top"),h=this.$element_.css("left");this.$element_.css("position",""),this.$element_.css("top",""),this.$element_.css("left",""),this.$element_.css("width",""),this.$element_.css("height",""),this.get$Body().css("max-height",""),this.$element_.css("position","fixed"),this.$element_.css("top","0px"),this.$element_.css("left","0px"),this.$element_.css("width","auto"),this.$element_.css("height","auto");var f=this.$element_.outerWidth(),p=this.$element_.outerHeight(),d=Math.min(f,o),g=Math.min(p,a);this.$element_.css("width",d),this.$element_.css("height",g);var v=parseInt(this.get$Body().css("padding-top").split("px")[0])+parseInt(this.get$Body().css("padding-bottom").split("px")[0]);if(this.get$Body().css("max-height",this.get$Element().innerHeight()-this.$button_.outerHeight()-v),this.$element_.css("position",u),t&&!this.fixedPosition_){c=this.$element_.css("top"),h=this.$element_.css("left");var y=(0,s.offset)(this.$context_,this.$element_),_=(this.$context_.width()-d)/2,m=e,b="auto"===c?0:parseInt(c),x="auto"===h?0:parseInt(h);this.$element_.css("top",b+y.top+m),this.$element_.css("left",x+y.left+_)}else this.$element_.css("top",c),this.$element_.css("left",h)}0===this.get$Body().children(":not(."+l.cssClasses.hidden+")").length&&this.$element_.addClass(l.cssClasses.hidden),this.scroll_&&this.scroll_.refresh()}}}]),e}()},function(t,e,i){var n=i(200),r=i(43);t.exports=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=n(t.prototype),o=t.apply(i,e);return r(o)?o:i}}},function(t,e,i){var n=i(250),r=i(110),o=i(92),a=2147483647;t.exports=function(t,e,i){var s=0,u=null==t?s:t.length;if("number"==typeof e&&e==e&&u<=a){for(;s<u;){var l=s+u>>>1,c=t[l];null!==c&&!o(c)&&(i?c<=e:c<e)?s=l+1:u=l}return u}return n(t,e,r,i)}},function(t,e,i){var n=i(60);t.exports=function(t,e,i,r){for(var o=t.length,a=r?o:-1;(r?a--:++a<o)&&e(t[a],a,t););return i?n(t,r?0:a,r?a+1:o):n(t,r?a+1:0,r?o:a)}},function(t,e,i){var n=i(185);t.exports=function(t,e){return!(null==t||!t.length)&&n(t,e,0)>-1}},function(t,e,i){var n=i(362);t.exports=function(t,e){var i=-1,r=t.length,o=r-1;for(e=void 0===e?r:e;++i<e;){var a=n(i,o),s=t[a];t[a]=t[i],t[i]=s}return t.length=e,t}},function(t,e,i){var n=i(187),r=i(371),o=i(732);t.exports=function(t,e,i){return e==e?o(t,e,i):n(t,r,i)}},function(t,e,i){var n=i(38),r=i(16),o=i(372),a=i(10);t.exports=function(t,e){return(a(t)?n:o)(t,r(e,3))}},function(t,e){t.exports=function(t,e,i,n){for(var r=t.length,o=i+(n?1:-1);n?o--:++o<r;)if(e(t[o],o,t))return o;return-1}},function(t,e,i){var n=i(762),r=i(761),o=i(16),a=i(10);t.exports=function(t,e){return function(i,s){var u=a(i)?n:r,l=e?e():{};return u(i,t,o(s,2),l)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=u(i(286)),r=u(i(74)),o=i(3),a=u(i(4)),s=i(1);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(e,i,n,o,a,s){t.call(this,e,i,n,r.default.IDLE),this.src_=o,this.image_=new Image,null!==a&&(this.image_.crossOrigin=a),this.imageListenerKeys_=null,this.state=r.default.IDLE,this.imageLoadFunction_=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=r.default.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,s.getHeight)(this.extent)/this.image_.height),this.state=r.default.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=r.default.IDLE&&this.state!=r.default.ERROR||(this.state=r.default.LOADING,this.changed(),this.imageListenerKeys_=[(0,o.listenOnce)(this.image_,a.default.ERROR,this.handleImageError_,this),(0,o.listenOnce)(this.image_,a.default.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(o.unlistenByKey),this.imageListenerKeys_=null},e}(n.default);e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(223),r=i(20),o=i(441),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=i(17),u=i(1),l=i(14),c=i(100),h=i(62);var f=[0,0,0],p=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,r.assert)((0,s.isSorted)(this.resolutions_,function(t,e){return e-t},!0),17),!t.origins)for(var i=0,o=this.resolutions_.length-1;i<o;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,r.assert)(this.origins_.length==this.resolutions_.length,20));var l=t.extent;void 0===l||this.origin_||this.origins_||(this.origin_=(0,u.getTopLeft)(l)),(0,r.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,r.assert)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:n.DEFAULT_TILE_SIZE,(0,r.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==l?l:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new a.default(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):l&&this.calculateTileRanges_(l)};p.prototype.forEachTileCoord=function(t,e,i){for(var n=this.getTileRangeForExtentAndZ(t,e),r=n.minX,o=n.maxX;r<=o;++r)for(var a=n.minY,s=n.maxY;a<=s;++a)i([e,r,a])},p.prototype.forEachTileCoordParentTileRange=function(t,e,i,n,r){var a,s,u,l=null,c=t[0]-1;for(2===this.zoomFactor_?(s=t[1],u=t[2]):l=this.getTileCoordExtent(t,r);c>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),u=Math.floor(u/2),a=(0,o.createOrUpdate)(s,s,u,u,n)):a=this.getTileRangeForExtentAndZ(l,c,n),e.call(i,c,a))return!0;--c}return!1},p.prototype.getExtent=function(){return this.extent_},p.prototype.getMaxZoom=function(){return this.maxZoom},p.prototype.getMinZoom=function(){return this.minZoom},p.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},p.prototype.getResolution=function(t){return this.resolutions_[t]},p.prototype.getResolutions=function(){return this.resolutions_},p.prototype.getTileCoordChildTileRange=function(t,e,i){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var n=2*t[1],r=2*t[2];return(0,o.createOrUpdate)(n,n+1,r,r+1,e)}var a=this.getTileCoordExtent(t,i);return this.getTileRangeForExtentAndZ(a,t[0]+1,e)}return null},p.prototype.getTileRangeExtent=function(t,e,i){var n=this.getOrigin(t),r=this.getResolution(t),o=(0,c.toSize)(this.getTileSize(t),this.tmpSize_),a=n[0]+e.minX*o[0]*r,s=n[0]+(e.maxX+1)*o[0]*r,l=n[1]+e.minY*o[1]*r,h=n[1]+(e.maxY+1)*o[1]*r;return(0,u.createOrUpdate)(a,l,s,h,i)},p.prototype.getTileRangeForExtentAndZ=function(t,e,i){var n=f;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n);var r=n[1],a=n[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,n),(0,o.createOrUpdate)(r,n[1],a,n[2],i)},p.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),n=(0,c.toSize)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*n[0]*i,e[1]+(t[2]+.5)*n[1]*i]},p.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=(0,c.toSize)(this.getTileSize(t[0]),this.tmpSize_),o=i[0]+t[1]*r[0]*n,a=i[1]+t[2]*r[1]*n,s=o+r[0]*n,l=a+r[1]*n;return(0,u.createOrUpdate)(o,a,s,l,e)},p.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},p.prototype.getTileCoordForXYAndResolution_=function(t,e,i,n,r){var o=this.getZForResolution(i),a=i/this.getResolution(o),s=this.getOrigin(o),u=(0,c.toSize)(this.getTileSize(o),this.tmpSize_),l=n?.5:0,f=n?0:.5,p=Math.floor((t-s[0])/i+l),d=Math.floor((e-s[1])/i+f),g=a*p/u[0],v=a*d/u[1];return n?(g=Math.ceil(g)-1,v=Math.ceil(v)-1):(g=Math.floor(g),v=Math.floor(v)),(0,h.createOrUpdate)(o,g,v,r)},p.prototype.getTileCoordForXYAndZ_=function(t,e,i,n,r){var o=this.getOrigin(i),a=this.getResolution(i),s=(0,c.toSize)(this.getTileSize(i),this.tmpSize_),u=n?.5:0,l=n?0:.5,f=Math.floor((t-o[0])/a+u),p=Math.floor((e-o[1])/a+l),d=f/s[0],g=p/s[1];return n?(d=Math.ceil(d)-1,g=Math.ceil(g)-1):(d=Math.floor(d),g=Math.floor(g)),(0,h.createOrUpdate)(i,d,g,r)},p.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},p.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},p.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},p.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},p.prototype.getZForResolution=function(t,e){var i=(0,s.linearFindNearest)(this.resolutions_,t,e||0);return(0,l.clamp)(i,this.minZoom,this.maxZoom)},p.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),n=this.minZoom;n<e;++n)i[n]=this.getTileRangeForExtentAndZ(t,n);this.fullTileRanges_=i},e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateSourceResolution=function(t,e,i,n){var o=(0,a.transform)(i,e,t),s=(0,a.getPointResolution)(e,n,i),u=e.getMetersPerUnit();void 0!==u&&(s*=u);var l=t.getMetersPerUnit();void 0!==l&&(s/=l);var c=t.getExtent();if(!c||(0,r.containsCoordinate)(c,o)){var h=(0,a.getPointResolution)(t,s,o)/s;isFinite(h)&&h>0&&(s/=h)}return s},e.render=function(t,e,i,a,u,l,c,h,f,p,d){var g=(0,n.createCanvasContext2D)(Math.round(i*t),Math.round(i*e));if(0===f.length)return g.canvas;g.scale(i,i);var v=(0,r.createEmpty)();f.forEach(function(t,e,i){(0,r.extend)(v,t.extent)});var y=(0,r.getWidth)(v),_=(0,r.getHeight)(v),m=(0,n.createCanvasContext2D)(Math.round(i*y/a),Math.round(i*_/a)),b=i/a;f.forEach(function(t,e,i){var n=t.extent[0]-v[0],o=-(t.extent[3]-v[3]),a=(0,r.getWidth)(t.extent),s=(0,r.getHeight)(t.extent);m.drawImage(t.image,p,p,t.image.width-2*p,t.image.height-2*p,n*b,o*b,a*b,s*b)});var x=(0,r.getTopLeft)(c);h.getTriangles().forEach(function(t,e,n){var r=t.source,u=t.target,c=r[0][0],h=r[0][1],f=r[1][0],p=r[1][1],d=r[2][0],y=r[2][1],_=(u[0][0]-x[0])/l,b=-(u[0][1]-x[1])/l,S=(u[1][0]-x[0])/l,w=-(u[1][1]-x[1])/l,E=(u[2][0]-x[0])/l,M=-(u[2][1]-x[1])/l,O=c,C=h;c=0,h=0;var T=[[f-=O,p-=C,0,0,S-_],[d-=O,y-=C,0,0,E-_],[0,0,f,p,w-b],[0,0,d,y,M-b]],P=(0,o.solveLinearSystem)(T);if(P){g.save(),g.beginPath();var L=(_+S+E)/3,A=(b+w+M)/3,I=s(L,A,_,b),R=s(L,A,S,w),k=s(L,A,E,M);g.moveTo(R[0],R[1]),g.lineTo(I[0],I[1]),g.lineTo(k[0],k[1]),g.clip(),g.transform(P[0],P[2],P[1],P[3],_,b),g.translate(v[0]-O,v[3]-C),g.scale(a/i,-a/i),g.drawImage(m.canvas,0,0),g.restore()}}),d&&(g.save(),g.strokeStyle="black",g.lineWidth=1,h.getTriangles().forEach(function(t,e,i){var n=t.target,r=(n[0][0]-x[0])/l,o=-(n[0][1]-x[1])/l,a=(n[1][0]-x[0])/l,s=-(n[1][1]-x[1])/l,u=(n[2][0]-x[0])/l,c=-(n[2][1]-x[1])/l;g.beginPath(),g.moveTo(a,s),g.lineTo(r,o),g.lineTo(u,c),g.closePath(),g.stroke()}),g.restore());return g.canvas};var n=i(27),r=i(1),o=i(14),a=i(6);function s(t,e,i,n){var r=i-t,o=n-e,a=Math.sqrt(r*r+o*o);return[Math.round(i+r/a),Math.round(n+o/a)]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(i(47)),r=i(86),o=s(i(122)),a=s(i(4));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(e,i,n){t.call(this);var r=n||{};this.tileCoord=e,this.state=i,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(a.default.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==n.default.LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==n.default.LOADED){t.interimTile=null;break}t.getState()==n.default.LOADING?e=t:t.getState()==n.default.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;var n=e-i+1e3/60;return n>=this.transition_?1:(0,r.easeIn)(n/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(o.default);e.default=u},function(t,e){t.exports=function(t,e,i){return t==t&&(void 0!==i&&(t=t<=i?t:i),void 0!==e&&(t=t>=e?t:e)),t}},function(t,e,i){var n=i(39),r=i(10),o=i(26),a="[object String]";t.exports=function(t){return"string"==typeof t||!r(t)&&o(t)&&n(t)==a}},function(t,e){t.exports=function(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,i){var n=i(280),r=i(817),o=i(816);function a(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new n;++e<i;)this.add(t[e])}a.prototype.add=a.prototype.push=r,a.prototype.has=o,t.exports=a},function(t,e,i){var n=i(818),r=i(26);t.exports=function t(e,i,o,a,s){return e===i||(null==e||null==i||!r(e)&&!r(i)?e!=e&&i!=i:n(e,i,o,a,t,s))}},function(t,e,i){var n=i(157);t.exports=function(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=n(e),i=n(i)),t(e,i)}}},function(t,e,i){var n=i(43),r=Object.create,o=function(){function t(){}return function(e){if(!n(e))return{};if(r)return r(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();t.exports=o},function(t,e){var i=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||i)}},function(t,e){var i=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}},function(t,e,i){var n=i(854),r=i(63),o=i(142),a=o&&o.isTypedArray,s=a?r(a):n;t.exports=s},function(t,e,i){var n=i(162),r=i(96),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,i){var a=t[e];o.call(t,e)&&r(a,i)&&(void 0!==i||e in t)||n(t,e,i)}},function(t,e,i){var n=i(860);t.exports=function(t,e){var i=t.__data__;return n(e)?i["string"==typeof e?"string":"hash"]:i.map}},function(t,e,i){var n=i(117)(Object,"create");t.exports=n},function(t,e,i){var n=i(96);t.exports=function(t,e){for(var i=t.length;i--;)if(n(t[i][0],e))return i;return-1}},function(t,e,i){var n=i(882),r=i(881),o=i(880),a=i(879),s=i(878);function u(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=r,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,i){var n=i(282),r=i(279),o=i(204),a=i(856),s=i(852),u=i(849),l=i(94),c=i(848),h=i(847),f=i(422),p=i(846),d=i(93),g=i(843),v=i(842),y=i(837),_=i(10),m=i(159),b=i(417),x=i(43),S=i(416),w=i(82),E=1,M=2,O=4,C="[object Arguments]",T="[object Function]",P="[object GeneratorFunction]",L="[object Object]",A={};A[C]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[L]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[T]=A["[object WeakMap]"]=!1,t.exports=function t(e,i,I,R,k,j){var N,F=i&E,D=i&M,G=i&O;if(I&&(N=k?I(e,R,k,j):I(e)),void 0!==N)return N;if(!x(e))return e;var U=_(e);if(U){if(N=g(e),!F)return l(e,N)}else{var B=d(e),V=B==T||B==P;if(m(e))return u(e,F);if(B==L||B==C||V&&!k){if(N=D||V?{}:y(e),!F)return D?h(e,s(N,e)):c(e,a(N,e))}else{if(!A[B])return k?e:{};N=v(e,B,F)}}j||(j=new n);var z=j.get(e);if(z)return z;if(j.set(e,N),S(e))return e.forEach(function(n){N.add(t(n,i,I,n,e,j))}),N;if(b(e))return e.forEach(function(n,r){N.set(r,t(n,i,I,r,e,j))}),N;var Y=G?D?p:f:D?keysIn:w,W=U?void 0:Y(e);return r(W||e,function(n,r){W&&(n=e[r=n]),o(N,r,t(n,i,I,r,e,j))}),N}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TEXT_ALIGN=e.ORDER=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(i(211));e.ORDER=[n.default.POLYGON,n.default.CIRCLE,n.default.LINE_STRING,n.default.IMAGE,n.default.TEXT,n.default.DEFAULT];var r=e.TEXT_ALIGN={};r.left=0,r.end=0,r.center=.5,r.right=1,r.start=1,r.top=0,r.middle=.5,r.hanging=.2,r.alphabetic=.8,r.ideographic=.8,r.bottom=1},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(18),r=s(i(22)),o=i(6),a=s(i(65));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(e){t.call(this),this.projection_=(0,o.get)(e.projection),this.attributions_=this.adaptAttributions_(e.attributions),this.loading=!1,this.state_=void 0!==e.state?e.state:a.default.READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.adaptAttributions_=function(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null},e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=this.adaptAttributions_(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(r.default);u.prototype.forEachFeatureAtCoordinate=n.VOID,e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(17),r=i(1),o=b(i(102)),a=b(i(25)),s=b(i(143)),u=b(i(53)),l=b(i(66)),c=i(294),h=i(910),f=i(170),p=i(218),d=i(101),g=i(121),v=i(476),y=i(217),_=i(474),m=i(145);function b(t){return t&&t.__esModule?t:{default:t}}var x=function(t){function e(e,i,r){if(t.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){for(var o=this.getLayout(),a=[],s=[],u=0,l=e.length;u<l;++u){var c=e[u];0===u&&(o=c.getLayout());for(var h=a.length,f=c.getEnds(),p=0,d=f.length;p<d;++p)f[p]+=h;(0,n.extend)(a,c.getFlatCoordinates()),s.push(f)}i=o,e=a,r=s}void 0!==i&&r?(this.setFlatCoordinates(i,e),this.endss_=r):this.setCoordinates(e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var i=this.flatCoordinates.length;(0,n.extend)(this.flatCoordinates,t.getFlatCoordinates());for(var r=0,o=(e=t.getEnds().slice()).length;r<o;++r)e[r]+=i}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,i=new Array(t),n=0;n<t;++n)i[n]=this.endss_[n].slice();return new e(this.flatCoordinates.slice(),this.layout,i)},e.prototype.closestPointXY=function(t,e,i,n){return n<(0,r.closestSquaredDistanceXY)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,f.multiArrayMaxSquaredDelta)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,f.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,i,n))},e.prototype.containsXY=function(t,e){return(0,p.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return(0,c.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,_.orientLinearRingsArray)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,(0,g.inflateMultiCoordinatesArray)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=(0,h.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,v.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new s.default(this.getFlatInteriorPoints().slice(),o.default.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,_.linearRingsAreOriented)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,_.orientLinearRingsArray)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[],n=[];return i.length=(0,m.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),i,0,n),new e(i,o.default.XY,n)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var i=this.endss_[t-1];e=i[i.length-1]}var n=this.endss_[t].slice(),r=n[n.length-1];if(0!==e)for(var o=0,a=n.length;o<a;++o)n[o]-=e;return new u.default(this.flatCoordinates.slice(e,r),this.layout,n)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.endss_,n=[],r=0,o=0,a=i.length;o<a;++o){var s=i[o].slice(),l=s[s.length-1];if(0!==r)for(var c=0,h=s.length;c<h;++c)s[c]-=r;var f=new u.default(e.slice(r,l),t,s);n.push(f),r=l}return n},e.prototype.getType=function(){return a.default.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return(0,y.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=(0,d.deflateMultiCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===i.length)this.flatCoordinates.length=0;else{var n=i[i.length-1];this.flatCoordinates.length=0===n.length?0:n[n.length-1]}this.changed()},e}(l.default);e.default=x},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),r=i(144),o=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};o.prototype.clone=function(){var t=this.getColor();return new o({color:t&&t.slice?t.slice():t||void 0})},o.prototype.getColor=function(){return this.color_},o.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},o.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient?this.checksum_=(0,n.getUid)(this.color_).toString():this.checksum_="f"+(this.color_?(0,r.asString)(this.color_):"-")),this.checksum_},e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asColorLike=function(t){return r(t)?t:(0,n.toString)(t)},e.isColorLike=r;var n=i(144);function r(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intersectsLineString=a,e.intersectsLineStringArray=function(t,e,i,n,r){for(var o=0,s=i.length;o<s;++o){if(a(t,e,i[o],n,r))return!0;e=i[o]}return!1},e.intersectsLinearRing=s,e.intersectsLinearRingArray=u,e.intersectsLinearRingMultiArray=function(t,e,i,n,r){for(var o=0,a=i.length;o<a;++o){var s=i[o];if(u(t,e,s,n,r))return!0;e=s[s.length-1]}return!1};var n=i(1),r=i(218),o=i(475);function a(t,e,i,r,a){var s=(0,n.extendFlatCoordinates)((0,n.createEmpty)(),t,e,i,r);return!!(0,n.intersects)(a,s)&&(!!(0,n.containsExtent)(a,s)||(s[0]>=a[0]&&s[2]<=a[2]||(s[1]>=a[1]&&s[3]<=a[3]||(0,o.forEach)(t,e,i,r,function(t,e){return(0,n.intersectsSegment)(a,t,e)}))))}function s(t,e,i,n,o){return!!a(t,e,i,n,o)||(!!(0,r.linearRingContainsXY)(t,e,i,n,o[0],o[1])||(!!(0,r.linearRingContainsXY)(t,e,i,n,o[0],o[3])||(!!(0,r.linearRingContainsXY)(t,e,i,n,o[2],o[1])||!!(0,r.linearRingContainsXY)(t,e,i,n,o[2],o[3]))))}function u(t,e,i,n,o){if(!s(t,e,i[0],n,o))return!1;if(1===i.length)return!0;for(var a=1,u=i.length;a<u;++a)if((0,r.linearRingContainsExtent)(t,i[a-1],i[a],n,o))return!1;return!0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linearRingContainsExtent=function(t,e,i,o,a){return!(0,n.forEachCorner)(a,function(n){return!r(t,e,i,o,n[0],n[1])})},e.linearRingContainsXY=r,e.linearRingsContainsXY=o,e.linearRingssContainsXY=function(t,e,i,n,r,a){if(0===i.length)return!1;for(var s=0,u=i.length;s<u;++s){var l=i[s];if(o(t,e,l,n,r,a))return!0;e=l[l.length-1]}return!1};var n=i(1);function r(t,e,i,n,r,o){for(var a=0,s=t[i-n],u=t[i-n+1];e<i;e+=n){var l=t[e],c=t[e+1];u<=o?c>o&&(l-s)*(o-u)-(r-s)*(c-u)>0&&a++:c<=o&&(l-s)*(o-u)-(r-s)*(c-u)<0&&a--,s=l,u=c}return 0!==a}function o(t,e,i,n,o,a){if(0===i.length)return!1;if(!r(t,e,i[0],n,o,a))return!1;for(var s=1,u=i.length;s<u;++s)if(r(t,i[s-1],i[s],n,o,a))return!1;return!0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(85),r=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};r.prototype.canWrapX=function(){return this.canWrapX_},r.prototype.getCode=function(){return this.code_},r.prototype.getExtent=function(){return this.extent_},r.prototype.getUnits=function(){return this.units_},r.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||n.METERS_PER_UNIT[this.units_]},r.prototype.getWorldExtent=function(){return this.worldExtent_},r.prototype.getAxisOrientation=function(){return this.axisOrientation_},r.prototype.isGlobal=function(){return this.global_},r.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},r.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},r.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},r.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},r.prototype.setWorldExtent=function(t){this.worldExtent_=t},r.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},r.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=c(i(22)),r=i(1),o=i(18),a=i(171),s=i(6),u=c(i(85)),l=i(40);function c(t){return t&&t.__esModule?t:{default:t}}var h=(0,l.create)(),f=function(t){function e(){t.call(this),this.extent_=(0,r.createEmpty)(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){},e.prototype.closestPointXY=function(t,e,i,n){},e.prototype.getClosestPoint=function(t,e){var i=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],i,1/0),i},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),(0,r.returnOrUpdate)(this.extent_,t)},e.prototype.rotate=function(t,e){},e.prototype.scale=function(t,e,i){},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){},e.prototype.getType=function(){},e.prototype.applyTransform=function(t){},e.prototype.intersectsExtent=function(t){},e.prototype.translate=function(t,e){},e.prototype.transform=function(t,e){var i=(t=(0,s.get)(t)).getUnits()==u.default.TILE_PIXELS?function(i,n,o){var u=t.getExtent(),c=t.getWorldExtent(),f=(0,r.getHeight)(c)/(0,r.getHeight)(u);return(0,l.compose)(h,c[0],c[3],f,-f,0,0,0),(0,a.transform2D)(i,0,i.length,o,h,n),(0,s.getTransform)(t,e)(i,n,o)}:(0,s.getTransform)(t,e);return this.applyTransform(i),this},e}(n.default);f.prototype.containsXY=o.FALSE,e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.padNumber=function(t,e,i){var n=void 0!==i?t.toFixed(i):""+t,r=n.indexOf(".");return(r=-1===r?n.length:r)>e?n:new Array(1+e-r).join("0")+n},e.compareVersions=function(t,e){for(var i=(""+t).split("."),n=(""+e).split("."),r=0;r<Math.max(i.length,n.length);r++){var o=parseInt(i[r]||"0",10),a=parseInt(n[r]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.disable=function(t,e){return void 0!==t?0:void 0},e.none=function(t,e){return void 0!==t?t+e:void 0},e.createSnapToN=function(t){var e=2*Math.PI/t;return function(t,i){return void 0!==t?t=Math.floor((t+i)/e+.5)*e:void 0}},e.createSnapToZero=function(t){var e=t||(0,n.toRadians)(5);return function(t,i){return void 0!==t?Math.abs(t+i)<=e?0:t+i:void 0}};var n=i(14)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DEFAULT_MAX_ZOOM=42,e.DEFAULT_TILE_SIZE=256},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCenterConstraint=T,e.createResolutionConstraint=P,e.createRotationConstraint=L,e.isNoopAnimation=A;var n=i(223),r=i(19),o=i(18),a=i(924),s=E(i(22)),u=i(923),l=i(222),c=E(i(46)),h=E(i(481)),f=i(17),p=i(20),d=i(67),g=i(86),v=i(1),y=E(i(25)),_=i(53),m=E(i(66)),b=i(14),x=i(9),S=i(6),w=E(i(85));function E(t){return t&&t.__esModule?t:{default:t}}var M=0,O=function(t){function e(e){t.call(this);var i=(0,x.assign)({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=(0,S.createProjection)(i.projection,"EPSG:3857"),this.applyOptions_(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyOptions_=function(t){var e={};e[h.default.CENTER]=void 0!==t.center?t.center:null;var i=P(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=i.minZoom;var n=T(t),r=i.constraint,o=L(t);this.constraints_={center:n,resolution:r,rotation:o},void 0!==t.resolution?e[h.default.RESOLUTION]=t.resolution:void 0!==t.zoom&&(e[h.default.RESOLUTION]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[h.default.RESOLUTION]=(0,b.clamp)(Number(this.getResolution()||e[h.default.RESOLUTION]),this.minResolution_,this.maxResolution_))),e[h.default.ROTATION]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=(0,x.assign)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),(0,x.assign)({},e,t)},e.prototype.animate=function(t){var e,i=arguments,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var r=arguments[n-1];return r.center&&this.setCenter(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&C(e,!0))}for(var o=Date.now(),a=this.getCenter().slice(),s=this.getResolution(),u=this.getRotation(),l=[],h=0;h<n;++h){var f=i[h],p={start:o,complete:!1,anchor:f.anchor,duration:void 0!==f.duration?f.duration:1e3,easing:f.easing||g.inAndOut};if(f.center&&(p.sourceCenter=a,p.targetCenter=f.center,a=p.targetCenter),void 0!==f.zoom?(p.sourceResolution=s,p.targetResolution=this.constrainResolution(this.maxResolution_,f.zoom-this.minZoom_,0),s=p.targetResolution):f.resolution&&(p.sourceResolution=s,p.targetResolution=f.resolution,s=p.targetResolution),void 0!==f.rotation){p.sourceRotation=u;var d=(0,b.modulo)(f.rotation-u+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=u+d,u=p.targetRotation}p.callback=e,A(p)?p.complete=!0:o+=p.duration,l.push(p)}this.animations_.push(l),this.setHint(c.default.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[c.default.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[c.default.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(c.default.ANIMATING,-this.hints_[c.default.ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var i=this.animations_[t];i[0].callback&&C(i[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,i=this.animations_.length-1;i>=0;--i){for(var n=this.animations_[i],r=!0,o=0,a=n.length;o<a;++o){var s=n[o];if(!s.complete){var u=t-s.start,l=s.duration>0?u/s.duration:1;l>=1?(s.complete=!0,l=1):r=!1;var f=s.easing(l);if(s.sourceCenter){var p=s.sourceCenter[0],d=s.sourceCenter[1],g=p+f*(s.targetCenter[0]-p),v=d+f*(s.targetCenter[1]-d);this.set(h.default.CENTER,[g,v])}if(s.sourceResolution&&s.targetResolution){var y=1===f?s.targetResolution:s.sourceResolution+f*(s.targetResolution-s.sourceResolution);s.anchor&&this.set(h.default.CENTER,this.calculateCenterZoom(y,s.anchor)),this.set(h.default.RESOLUTION,y)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var _=1===f?(0,b.modulo)(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+f*(s.targetRotation-s.sourceRotation);s.anchor&&this.set(h.default.CENTER,this.calculateCenterRotate(_,s.anchor)),this.set(h.default.ROTATION,_)}if(e=!0,!s.complete)break}}if(r){this.animations_[i]=null,this.setHint(c.default.ANIMATING,-1);var m=n[0].callback;m&&C(m,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var i,n=this.getCenter();return void 0!==n&&(i=[n[0]-e[0],n[1]-e[1]],(0,d.rotate)(i,t-this.getRotation()),(0,d.add)(i,e)),i},e.prototype.calculateCenterZoom=function(t,e){var i,n=this.getCenter(),r=this.getResolution();void 0!==n&&void 0!==r&&(i=[e[0]-t*(e[0]-n[0])/r,e[1]-t*(e[1]-n[1])/r]);return i},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+(0,r.getUid)(this)+'"]',i=document.querySelector(e);if(i){var n=getComputedStyle(i);t[0]=parseInt(n.width,10),t[1]=parseInt(n.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,i){var n=e||0,r=i||0;return this.constraints_.resolution(t,n,r)},e.prototype.constrainRotation=function(t,e){var i=e||0;return this.constraints_.rotation(t,i)},e.prototype.getCenter=function(){return this.get(h.default.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),i=this.getCenter();(0,p.assert)(i,1);var n=this.getResolution();(0,p.assert)(void 0!==n,2);var r=this.getRotation();return(0,p.assert)(void 0!==r,3),(0,v.getForViewAndSize)(i,n,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(h.default.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var i=e||this.getSizeFromViewport_(),n=(0,v.getWidth)(t)/i[0],r=(0,v.getHeight)(t)/i[1];return Math.max(n,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,i=this.maxResolution_,n=this.minResolution_,r=Math.log(i/n)/Math.log(e);return function(t){return i/Math.pow(e,t*r)}},e.prototype.getRotation=function(){return this.get(h.default.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,i=this.maxResolution_,n=this.minResolution_,r=Math.log(i/n)/Math.log(e);return function(t){return Math.log(i/t)/Math.log(e)/r}},e.prototype.getState=function(t){var e=this.getCenter(),i=this.getProjection(),n=this.getResolution(),r=n/t,o=this.getRotation();return{center:[Math.round(e[0]/r)*r,Math.round(e[1]/r)*r],projection:void 0!==i?i:null,resolution:n,rotation:o,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,i,n=this.minZoom_||0;if(this.resolutions_){var r=(0,f.linearFindNearest)(this.resolutions_,t,1);n=r,e=this.resolutions_[r],i=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(e/t)/Math.log(i)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var i,n=e||{},r=n.size;r||(r=this.getSizeFromViewport_()),t instanceof m.default?t.getType()===y.default.CIRCLE?(t=t.getExtent(),(i=(0,_.fromExtent)(t)).rotate(this.getRotation(),(0,v.getCenter)(t))):i=t:((0,p.assert)(Array.isArray(t),24),(0,p.assert)(!(0,v.isEmpty)(t),25),i=(0,_.fromExtent)(t));var a,s=void 0!==n.padding?n.padding:[0,0,0,0],u=void 0===n.constrainResolution||n.constrainResolution,l=void 0!==n.nearest&&n.nearest;a=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.constrainResolution(this.maxResolution_,n.maxZoom-this.minZoom_,0):0;for(var c=i.getFlatCoordinates(),h=this.getRotation(),f=Math.cos(-h),d=Math.sin(-h),g=1/0,b=1/0,x=-1/0,S=-1/0,w=i.getStride(),E=0,M=c.length;E<M;E+=w){var O=c[E]*f-c[E+1]*d,T=c[E]*d+c[E+1]*f;g=Math.min(g,O),b=Math.min(b,T),x=Math.max(x,O),S=Math.max(S,T)}var P=this.getResolutionForExtent([g,b,x,S],[r[0]-s[1]-s[3],r[1]-s[0]-s[2]]);if(P=isNaN(P)?a:Math.max(P,a),u){var L=this.constrainResolution(P,0,0);!l&&L<P&&(L=this.constrainResolution(L,-1,0)),P=L}d=-d;var A=(g+x)/2,I=(b+S)/2,R=[(A+=(s[1]-s[3])/2*P)*f-(I+=(s[0]-s[2])/2*P)*d,I*f+A*d],k=n.callback?n.callback:o.VOID;void 0!==n.duration?this.animate({resolution:P,center:R,duration:n.duration,easing:n.easing},k):(this.setResolution(P),this.setCenter(R),C(k,!0))},e.prototype.centerOn=function(t,e,i){var n=this.getRotation(),r=Math.cos(-n),o=Math.sin(-n),a=t[0]*r-t[1]*o,s=t[1]*r+t[0]*o,u=this.getResolution(),l=(a+=(e[0]/2-i[0])*u)*r-(s+=(i[1]-e[1]/2)*u)*(o=-o),c=s*r+a*o;this.setCenter([l,c])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var i=this.calculateCenterRotate(t,e);this.setCenter(i)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set(h.default.CENTER,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set(h.default.RESOLUTION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set(h.default.ROTATION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(s.default);function C(t,e){setTimeout(function(){t(e)},0)}function T(t){return void 0!==t.extent?(0,a.createExtent)(t.extent):a.none}function P(t){var e,i,r,o=void 0!==t.minZoom?t.minZoom:M,a=void 0!==t.maxZoom?t.maxZoom:28,s=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var l=t.resolutions;i=l[o],r=void 0!==l[a]?l[a]:l[l.length-1],e=(0,u.createSnapToResolutions)(l)}else{var c=(0,S.createProjection)(t.projection,"EPSG:3857"),h=c.getExtent(),f=(h?Math.max((0,v.getWidth)(h),(0,v.getHeight)(h)):360*S.METERS_PER_UNIT[w.default.DEGREES]/c.getMetersPerUnit())/n.DEFAULT_TILE_SIZE/Math.pow(2,M),p=f/Math.pow(2,28-M);void 0!==(i=t.maxResolution)?o=0:i=f/Math.pow(s,o),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?i/Math.pow(s,a):f/Math.pow(s,a):p),a=o+Math.floor(Math.log(i/r)/Math.log(s)),r=i/Math.pow(s,a-o),e=(0,u.createSnapToPower)(s,i,a-o)}return{constraint:e,maxResolution:i,minResolution:r,minZoom:o,zoomFactor:s}}function L(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(0,l.createSnapToZero)():!1===e?l.none:"number"==typeof e?(0,l.createSnapToN)(e):l.none}return l.disable}function A(t){return!(t.sourceCenter&&t.targetCenter&&!(0,d.equals)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}e.default=O},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){this.dispatcher=t,this.mapping_=e};n.prototype.getEvents=function(){return Object.keys(this.mapping_)},n.prototype.getHandlerForEvent=function(t){return this.mapping_[t]},e.default=n},function(t,e,i){"use strict";var n=i(0),r=i(37),o=i(71),a=i(125);t.exports=function(t){n(n.S,t,{from:function(t){var e,i,n,s,u=arguments[1];return r(this),(e=void 0!==u)&&r(u),void 0==t?new this:(i=[],e?(n=0,s=o(u,arguments[2],2),a(t,!1,function(t){i.push(s(t,n++))})):a(t,!1,i.push,i),new this(i))}})}},function(t,e,i){"use strict";var n=i(0);t.exports=function(t){n(n.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,i){"use strict";t.exports=i(132)||!i(11)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete i(8)[t]})},function(t,e,i){for(var n,r=i(8),o=i(50),a=i(133),s=a("typed_array"),u=a("view"),l=!(!r.ArrayBuffer||!r.DataView),c=l,h=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(n=r[f[h++]])?(o(n.prototype,s,!0),o(n.prototype,u,!0)):c=!1;t.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},function(t,e,i){"use strict";var n=i(8),r=i(0),o=i(49),a=i(124),s=i(106),u=i(125),l=i(126),c=i(12),h=i(11),f=i(235),p=i(149),d=i(318);t.exports=function(t,e,i,g,v,y){var _=n[t],m=_,b=v?"set":"add",x=m&&m.prototype,S={},w=function(t){var e=x[t];o(x,t,"delete"==t?function(t){return!(y&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof m&&(y||x.forEach&&!h(function(){(new m).entries().next()}))){var E=new m,M=E[b](y?{}:-0,1)!=E,O=h(function(){E.has(1)}),C=f(function(t){new m(t)}),T=!y&&h(function(){for(var t=new m,e=5;e--;)t[b](e,e);return!t.has(-0)});C||((m=e(function(e,i){l(e,m,t);var n=d(new _,e,m);return void 0!=i&&u(i,v,n[b],n),n})).prototype=x,x.constructor=m),(O||T)&&(w("delete"),w("has"),v&&w("get")),(T||M)&&w(b),y&&x.clear&&delete x.clear}else m=g.getConstructor(e,t,v,b),a(m.prototype,i),s.NEED=!0;return p(m,t),S[t]=m,r(r.G+r.W+r.F*(m!=_),S),y||g.setStrong(m,t,v),m}},function(t,e,i){var n=i(7),r=i(37),o=i(23)("species");t.exports=function(t,e){var i,a=n(t).constructor;return void 0===a||void 0==(i=n(a)[o])?e:r(i)}},function(t,e,i){"use strict";var n=i(50),r=i(49),o=i(11),a=i(78),s=i(23);t.exports=function(t,e,i){var u=s(t),l=i(a,u,""[t]),c=l[0],h=l[1];o(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(r(String.prototype,t,c),n(RegExp.prototype,u,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},function(t,e,i){"use strict";var n=i(7);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,i){var n=i(23)("iterator"),r=!1;try{var o=[7][n]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:i=!0}},o[n]=function(){return a},t(o)}catch(t){}return i}},function(t,e,i){var n=i(12),r=i(70),o=i(23)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,i){var n=i(70);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(57),r=i(28),o=i(130);t.exports=function(t){return function(e,i,a){var s,u=n(e),l=r(u.length),c=o(a,l);if(t&&i!=i){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===i)return t||c||0;return!t&&-1}}},function(t,e,i){var n=i(8),r=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filterText=function(t){return t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):t},e.restoreText=function(t){return t?t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/"):t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerModule=function(t){n.push(t)},e.getRegisteredModules=function(){return n};var n=[]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WindowDecorator=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(31),a=i(179),s=i(59),u=i(13);i(1175);e.WindowDecorator=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.element=(0,r.default)("<div>").addClass("g4u-window-decorator").get(0),t.singleButton=!1,t.className=t.component.getClassName(),t.windowed=!0;var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.$button_=(0,r.default)("<button>").addClass(u.cssClasses.mainButton),i.get$Element().append(i.$button_),i.component_=t.component,i.component_.get$Element().addClass("g4u-window-component"),i.$button_.addClass(u.cssClasses.hasTooltip).html(i.component_.getTitle()),(0,s.addTooltip)(i.$button_,i.component_.getTipLabel()),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Control),n(e,[{key:"getComponent",value:function(){return this.component_}},{key:"setMap",value:function(t){var i=this;(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),this.getMap()&&this.getMap().removeControl(this.component_),t&&(t.addControl(this.component_),this.window_=new a.Window({map:t}),this.component_.on("change",function(){i.window_.updateSize(),i.window_.getInFront()}),this.window_.get$Body().append(this.component_.get$Element()),this.component_.setActive?(this.component_.getActive()&&(setTimeout(function(){return i.setWindowVisible(!0)},0),this.$button_.addClass(u.cssClasses.active)),this.$button_.on("click touch",function(){i.component_.setActive(!i.component_.getActive())}),this.component_.on("change:active",function(){var t=i.component_.getActive();setTimeout(function(){return i.setWindowVisible(t)},0),i.$button_.toggleClass(u.cssClasses.active,t)}),this.window_.on("change:visible",function(t){i.window_.getVisible()||i.component_.setActive(!1),i.dispatchEvent({type:"change:windowVisible",oldValue:t.oldValue})})):(this.$button_.on("click touch",function(){i.setWindowVisible(!i.window_.getVisible())}),this.window_.on("change:visible",function(t){i.dispatchEvent({type:"change:windowVisible",oldValue:t.oldValue})})),this.get$Element().append(this.window_.get$Element()))}},{key:"setActive",value:function(t){this.component_.setActive?this.component_.setActive(t):this.window_.setVisible(t)}},{key:"setWindowVisible",value:function(t){this.window_.setVisible(t)}},{key:"getWindowVisible",value:function(){return this.window_.getVisible()}},{key:"getFloat",value:function(){return this.component_.getFloat()}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComposedControl=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(179),a=i(31),s=i(13);i(1203),i(1201);e.ComposedControl=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=(0,r.default)("<div>");t.hasOwnProperty("element")?(0,r.default)(t.element).append(i):t.element=i.get(0),t.singleButton=!1;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.controls_=[],n.$container_=i,t.hasOwnProperty("containerClassName")&&n.$container_.addClass(t.containerClassName),n.classNameItem_=n.getClassName()+"-item",n.classNameItemFirst_=n.classNameItem_+"-first",n.classNameItemLast_=n.classNameItem_+"-last",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Control),n(e,[{key:"getControls",value:function(){return this.controls_}},{key:"get$Container",value:function(){return this.$container_}},{key:"setWindowForControl_",value:function(t){var e=new o.Window({$context:(0,r.default)(this.getMap().getViewport())});t.setWindow(e,!0)}},{key:"addClasses_",value:function(t){return t.addClass(this.classNameItemLast_),0===this.$container_.children().length?t.addClass(this.classNameItemFirst_):this.$container_.children(":last-child").removeClass(this.classNameItemLast_),t}},{key:"addControl",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getMap();if(!n)throw new Error("composed controls needs to be added to the map before they can get any controls");if(n.addControl(t),t.setWindow&&this.setWindowForControl_(t),!i.hasOwnProperty("claim")||!i.claim)if(!i.hasOwnProperty("wrap")||i.wrap){var o=(0,r.default)("<div>");i.hasOwnProperty("element")?o.append((0,r.default)(i.element)):t.set$Target(o),o.addClass(this.classNameItem_),i.hasOwnProperty("cssPosition")&&!i.cssPosition||this.addClasses_(o),t.getVisible()||o.addClass(s.cssClasses.hidden),t.on("change:visible",function(){o.toggleClass(s.cssClasses.hidden,!t.getVisible())}),this.$container_.append(o)}else(0,r.default)(i.element).addClass(this.classNameItem_),i.hasOwnProperty("cssPosition")&&!i.cssPosition||this.addClasses_((0,r.default)(i.element)),i.hasOwnProperty("element")?this.$container_.append((0,r.default)(i.element)):t.set$Target(this.$container_);t.on("change:visible",function(){return e.updateVisibility()}),t.on("change",function(t){return e.dispatchEvent(t)}),t.on("change:size",function(t){return e.dispatchEvent(t)}),this.controls_.push(t),this.changed(),this.updateVisibility()}},{key:"removeControl",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.controls_.indexOf(t);i>-1&&(t.get$Element().add(t.get$Element().parent()).add(t.get$Target()).filter("."+this.classNameItem_).remove(),this.controls_.splice(i,1),e&&this.getMap().removeControl(t),this.changed())}},{key:"setMap",value:function(t){var i=this;this.getMap()&&(this.controls_.forEach(function(t){i.getMap().removeControl(t)}),this.controls_=[]),function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&t.getControls().on("remove",function(t){i.removeControl(t.element,!1)})}},{key:"updateVisibility",value:function(){this.setVisible(this.controls_.some(function(t){return t.getVisible()}))}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(225)),r=i(22),o=h(r),a=h(i(333)),s=i(84),u=i(27),l=i(3),c=i(1);function h(t){return t&&t.__esModule?t:{default:t}}var f={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},p=function(t){function e(e){t.call(this),this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+s.CLASS_SELECTABLE,this.element.style.position="absolute",this.autoPan=void 0!==e.autoPan&&e.autoPan,this.autoPanAnimation=e.autoPanAnimation||{},this.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,(0,l.listen)(this,(0,r.getChangeEventType)(f.ELEMENT),this.handleElementChanged,this),(0,l.listen)(this,(0,r.getChangeEventType)(f.MAP),this.handleMapChanged,this),(0,l.listen)(this,(0,r.getChangeEventType)(f.OFFSET),this.handleOffsetChanged,this),(0,l.listen)(this,(0,r.getChangeEventType)(f.POSITION),this.handlePositionChanged,this),(0,l.listen)(this,(0,r.getChangeEventType)(f.POSITIONING),this.handlePositioningChanged,this),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(void 0!==e.positioning?e.positioning:a.default.TOP_LEFT),void 0!==e.position&&this.setPosition(e.position)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getElement=function(){return this.get(f.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(f.MAP)},e.prototype.getOffset=function(){return this.get(f.OFFSET)},e.prototype.getPosition=function(){return this.get(f.POSITION)},e.prototype.getPositioning=function(){return this.get(f.POSITIONING)},e.prototype.handleElementChanged=function(){(0,u.removeChildren)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&((0,u.removeNode)(this.element),(0,l.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=(0,l.listen)(t,n.default.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(f.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(f.ELEMENT,t)},e.prototype.setMap=function(t){this.set(f.MAP,t)},e.prototype.setOffset=function(t){this.set(f.OFFSET,t)},e.prototype.setPosition=function(t){this.set(f.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),i=this.getElement(),n=this.getRect(i,[(0,u.outerWidth)(i),(0,u.outerHeight)(i)]),r=this.autoPanMargin;if(!(0,c.containsExtent)(e,n)){var o=n[0]-e[0],a=e[2]-n[2],s=n[1]-e[1],l=e[3]-n[3],h=[0,0];if(o<0?h[0]=o-r:a<0&&(h[0]=Math.abs(a)+r),s<0?h[1]=s-r:l<0&&(h[1]=Math.abs(l)+r),0!==h[0]||0!==h[1]){var f=t.getView().getCenter(),p=t.getPixelFromCoordinate(f),d=[p[0]+h[0],p[1]+h[1]];t.getView().animate({center:t.getCoordinateFromPixel(d),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var i=t.getBoundingClientRect(),n=i.left+window.pageXOffset,r=i.top+window.pageYOffset;return[n,r,n+e[0],r+e[1]]},e.prototype.setPositioning=function(t){this.set(f.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var i=t.getPixelFromCoordinate(e),n=t.getSize();this.updateRenderedPosition(i,n)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var i=this.element.style,n=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var o=n[0],s=n[1];if(r==a.default.BOTTOM_RIGHT||r==a.default.CENTER_RIGHT||r==a.default.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=i.left="");var u=Math.round(e[0]-t[0]-o)+"px";this.rendered.right_!=u&&(this.rendered.right_=i.right=u)}else{""!==this.rendered.right_&&(this.rendered.right_=i.right=""),r!=a.default.BOTTOM_CENTER&&r!=a.default.CENTER_CENTER&&r!=a.default.TOP_CENTER||(o-=this.element.offsetWidth/2);var l=Math.round(t[0]+o)+"px";this.rendered.left_!=l&&(this.rendered.left_=i.left=l)}if(r==a.default.BOTTOM_LEFT||r==a.default.BOTTOM_CENTER||r==a.default.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=i.top="");var c=Math.round(e[1]-t[1]-s)+"px";this.rendered.bottom_!=c&&(this.rendered.bottom_=i.bottom=c)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=i.bottom=""),r!=a.default.CENTER_LEFT&&r!=a.default.CENTER_CENTER&&r!=a.default.CENTER_RIGHT||(s-=this.element.offsetHeight/2);var h=Math.round(t[1]+s)+"px";this.rendered.top_!=h&&(this.rendered.top_=i.top=h)}},e.prototype.getOptions=function(){return this.options},e}(o.default);e.default=p},function(t,e){t.exports=function(){}},function(t,e,i){var n=i(200),r=i(246),o=4294967295;function a(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=o,this.__views__=[]}a.prototype=n(r.prototype),a.prototype.constructor=a,t.exports=a},function(t,e,i){var n=i(150),r=i(34),o=i(108);t.exports=function(t,e,i){var a=t.length;if(a<2)return a?o(t[0]):[];for(var s=-1,u=Array(a);++s<a;)for(var l=t[s],c=-1;++c<a;)c!=s&&(u[s]=n(u[s]||l,t[c],e,i));return o(r(u,1),e,i)}},function(t,e,i){var n=i(115),r=i(38),o=i(258),a=i(427),s=i(41),u=Math.max;t.exports=function(t){if(!t||!t.length)return[];var e=0;return t=n(t,function(t){if(s(t))return e=u(t.length,e),!0}),a(e,function(e){return r(t,o(e))})}},function(t,e,i){var n=i(92),r=4294967294,o=Math.floor,a=Math.min;t.exports=function(t,e,i,s){e=i(e);for(var u=0,l=null==t?0:t.length,c=e!=e,h=null===e,f=n(e),p=void 0===e;u<l;){var d=o((u+l)/2),g=i(t[d]),v=void 0!==g,y=null===g,_=g==g,m=n(g);if(c)var b=s||_;else b=p?_&&(s||v):h?_&&v&&(s||!y):f?_&&v&&!y&&(s||!m):!y&&!m&&(s?g<=e:g<e);b?u=d+1:l=d}return a(l,r)}},function(t,e,i){var n=i(38),r=i(185),o=i(674),a=i(63),s=i(94),u=Array.prototype.splice;t.exports=function(t,e,i,l){var c=l?o:r,h=-1,f=e.length,p=t;for(t===e&&(e=s(e)),i&&(p=n(t,a(i)));++h<f;)for(var d=0,g=e[h],v=i?i(g):g;(d=c(p,v,d,l))>-1;)p!==t&&u.call(p,d,1),u.call(t,d,1);return t}},function(t,e,i){var n=i(41);t.exports=function(t){return n(t)?t:[]}},function(t,e,i){var n=i(197),r=i(183),o=i(255),a=i(38),s=i(63),u=i(196),l=Math.min;t.exports=function(t,e,i){for(var c=i?o:r,h=t[0].length,f=t.length,p=f,d=Array(f),g=1/0,v=[];p--;){var y=t[p];p&&e&&(y=a(y,s(e))),g=l(y.length,g),d[p]=!i&&(e||h>=120&&y.length>=120)?new n(p&&y):void 0}y=t[0];var _=-1,m=d[0];t:for(;++_<h&&v.length<g;){var b=y[_],x=e?e(b):b;if(b=i||0!==b?b:0,!(m?u(m,x):c(v,x,i))){for(p=f;--p;){var S=d[p];if(!(S?u(S,x):c(t[p],x,i)))continue t}m&&m.push(x),v.push(b)}}return v}},function(t,e,i){var n=i(34);t.exports=function(t){return null!=t&&t.length?n(t,1):[]}},function(t,e){t.exports=function(t,e,i){for(var n=-1,r=null==t?0:t.length;++n<r;)if(i(e,t[n]))return!0;return!1}},function(t,e,i){var n=i(729),r=i(368)(n);t.exports=r},function(t,e,i){var n=i(110);t.exports=function(t){return"function"==typeof t?t:n}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,i){var n=i(10),r=i(92),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!r(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},function(t,e,i){var n=i(151),r=i(111);t.exports=function(t,e){for(var i=0,o=(e=n(e,t)).length;null!=t&&i<o;)t=t[r(e[i++])];return i&&i==o?t:void 0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SourceServerVector=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=p(i(2)),o=i(1),a=p(i(773)),s=p(i(771)),u=i(6),l=p(i(44)),c=i(457),h=i(73),f=i(24);function p(t){return t&&t.__esModule?t:{default:t}}e.SourceServerVector=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=(0,h.copy)(t),n=(0,h.take)(t,"url"),r=(0,h.take)(t,"type")||"";i.loader=function(){return p.loader.apply(p,arguments)};var u=t.loadingStrategy||"ALL";if("BBOX"===u){var l=t.bboxRatio||1;if(l<1)throw new Error("The bboxRatio should not be smaller than 1");var f=[0,0,0,0];i.strategy=function(t){if((0,o.containsExtent)(f,t))return[t];var e=(t[2]-t[0])/2*(l-1),i=(t[3]-t[1])/2*(l-1);return[f=[t[0]-e,t[1]-i,t[2]+e,t[3]+i]]}}else i.strategy=c.all;var p=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));p.localiser_=t.localiser,p.localised_=t.localised||!1,p.loadingStrategy_=u,p.urlTemplate=n,p.type_=r;var d={};switch(t.hasOwnProperty("defaultStyle")&&(d.defaultStyle=t.defaultStyle),t.hasOwnProperty("extractStyles")&&(d.extractStyles=t.extractStyles),p.type_){case"KML":d.showPointNames=!1,p.format_=new s.default(d),p.dataType_="text xml";break;case"GeoJSON":p.format_=new a.default(d),p.dataType_="text json";break;default:throw new Error(p.type_+" is not supported by SourceServerVector!")}return p.refresh_=0,t.hasOwnProperty("refresh")&&p.setRefresh(t.refresh),p.refreshTimeoutId_=null,p.doClear_=!1,p.bboxProjection_=t.bboxProjection,p}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,l.default),n(e,[{key:"loader",value:function(t,e,i){var n=this,o=this.urlTemplate.clone();if("BBOX"===this.loadingStrategy_){var a=(0,u.transformExtent)(t,i,this.bboxProjection_);o.expandTemplate("bboxleft",a[0].toString()).expandTemplate("bboxbottom",a[1].toString()).expandTemplate("bboxright",a[2].toString()).expandTemplate("bboxtop",a[3].toString()).expandTemplate("resolution",e.toString(),!1)}this.refresh_&&(this.refreshTimeoutId_&&clearTimeout(this.refreshTimeoutId_),this.refreshTimeoutId_=setTimeout(function(){n.doClear_=!0,n.loader(t,e,i)},this.refresh_)),this.localised_&&(o.cache=!1);var s=o.finalize();r.default.ajax({url:s,dataType:this.dataType_,beforeSend:function(){return n.dispatchEvent("vectorloadstart")},success:function(t){o.useProxy&&/xml$/.test(n.dataType_)&&(t=n.addProxyToHrefTags(t)),n.doClear_&&(n.clear(!0),n.doClear_=!1);var e=n.format_.readFeatures(t,{featureProjection:i});n.addFeatures(e),n.dispatchEvent("vectorloadend")},error:function(){f.Debug.error("Getting Feature resource failed with url "+s),n.dispatchEvent("vectorloaderror")},headers:this.localiser_?{"Accept-Language":this.localiser_.getCurrentLang()}:{}})}},{key:"setRefresh",value:function(t){this.refresh_=t>0?t:0}},{key:"addProxyToHrefTags",value:function(t){var e,i=t.getElementsByTagName("href"),n=void 0;for(n=0,e=i.length;n<e;n++)if(i[n].textContent)i[n].textContent=this.urlTemplate.useProxyFor(i[n].textContent.trim()).finalize();else{if(!i[n].innerHTML)throw new Error("Can't prepend proxy inside KML (textContent and innerHTML missing)");i[n].innerHTML=this.urlTemplate.useProxyFor(i[n].innerHTML.trim()).finalize()}return t}},{key:"getUrlTemplate",value:function(){return this.urlTemplate}},{key:"setUrlTemplate",value:function(t){this.urlTemplate=t}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseLayerMixin=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(114);e.BaseLayerMixin=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,[{key:"initialize",value:function(t){this.groupLayer_=t.groupLayer,this.on("change:available",this.onChangeAvailable.bind(this)),this.on("change:visible",this.onChangeVisible.bind(this)),this.isBaseLayer=!0}},{key:"onChangeAvailable",value:function(){!this.get("available")&&this.getVisible()&&this.groupLayer_.recursiveForEach(function(t){t instanceof r.GroupLayer||!t.get("available")||t.setVisible(!0)})}},{key:"onChangeVisible",value:function(){var t=this;if(this.getVisible())this.groupLayer_.recursiveForEach(function(e){e instanceof r.GroupLayer||e===t||e.setVisible(!1)});else{var e=!1;this.groupLayer_.recursiveForEach(function(t){t instanceof r.GroupLayer||!t.getVisible()||(e=!0)}),e||this.setVisible(!0)}}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.LayerLoadProcessCountMixin=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,[{key:"initialize",value:function(){var t=this;this.debounceLoadComplete_=40,this.isLoading_=!1,this.loadProcessCount_=0,this.getSource()&&this.registerCounters_(),this.on("change:source",function(){return t.registerCounters_()})}},{key:"registerCounters_",value:function(){var t=this,e=!1;this.getSource().on(["vectorloadstart","tileloadstart","imageloadstart"],function(){t.loadProcessCount_+=1,t.isLoading_||(t.isLoading_=!0,t.dispatchEvent("loadcountstart")),e=!0}),this.getSource().on(["vectorloadend","vectorloaderror","tileloadend","tileloaderror","imageloadend","imageloaderror"],function(){t.loadProcessCount_-=1,0===t.loadProcessCount_&&(e=!1,t.getProvidedMap().afterPostrender(function(){e||(t.isLoading_=!1,t.dispatchEvent("loadcountend"))}))})}},{key:"isLoading",value:function(){return this.isLoading_}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(287)),r=i(1);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(e){t.call(this,{attributions:e.attributions,projection:e.projection,resolutions:e.resolutions,state:e.state}),this.canvasFunction_=e.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=void 0!==e.ratio?e.ratio:1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImageInternal=function(t,e,i,o){e=this.findNearestResolution(e);var a=this.canvas_;if(a&&this.renderedRevision_==this.getRevision()&&a.getResolution()==e&&a.getPixelRatio()==i&&(0,r.containsExtent)(a.getExtent(),t))return a;t=t.slice(),(0,r.scaleFromCenter)(t,this.ratio_);var s=[(0,r.getWidth)(t)/e*i,(0,r.getHeight)(t)/e*i],u=this.canvasFunction_(t,e,i,s,o);return u&&(a=new n.default(t,e,i,u)),this.canvas_=a,this.renderedRevision_=this.getRevision(),a},e}(o(i(112)).default);e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optionsFromCapabilities=function(t,e){var i=t.Contents.Layer,n=(0,r.find)(i,function(t,i,n){return t.Identifier==e.layer});if(null===n)return null;var a,u=t.Contents.TileMatrixSet;a=n.TileMatrixSetLink.length>1?"projection"in e?(0,r.findIndex)(n.TileMatrixSetLink,function(t,i,n){var o=(0,r.find)(u,function(e){return e.Identifier==t.TileMatrixSet}),a=o.SupportedCRS,l=(0,s.get)(a.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||(0,s.get)(a),c=(0,s.get)(e.projection);return l&&c?(0,s.equivalent)(l,c):a==e.projection}):(0,r.findIndex)(n.TileMatrixSetLink,function(t,i,n){return t.TileMatrixSet==e.matrixSet}):0;a<0&&(a=0);var h=n.TileMatrixSetLink[a].TileMatrixSet,f=n.TileMatrixSetLink[a].TileMatrixSetLimits,p=n.Format[0];"format"in e&&(p=e.format);(a=(0,r.findIndex)(n.Style,function(t,i,n){return"style"in e?t.Title==e.style:t.isDefault}))<0&&(a=0);var d=n.Style[a].Identifier,g={};"Dimension"in n&&n.Dimension.forEach(function(t,e,i){var n=t.Identifier,r=t.Default;void 0===r&&(r=t.Value[0]),g[n]=r});var v,y=t.Contents.TileMatrixSet,_=(0,r.find)(y,function(t,e,i){return t.Identifier==h}),m=_.SupportedCRS;m&&(v=(0,s.get)(m.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||(0,s.get)(m));if("projection"in e){var b=(0,s.get)(e.projection);b&&(v&&!(0,s.equivalent)(b,v)||(v=b))}var x,S,w=n.WGS84BoundingBox;if(void 0!==w){var E=(0,s.get)("EPSG:4326").getExtent();S=w[0]==E[0]&&w[2]==E[2],x=(0,s.transformExtent)(w,"EPSG:4326",v);var M=v.getExtent();M&&((0,o.containsExtent)(M,x)||(x=void 0))}var O=(0,c.createFromCapabilitiesMatrixSet)(_,x,f),C=[],T=e.requestEncoding;if(T=void 0!==T?T:"","OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata)for(var P=t.OperationsMetadata.GetTile.DCP.HTTP.Get,L=0,A=P.length;L<A;++L)if(P[L].Constraint){var I=(0,r.find)(P[L].Constraint,function(t){return"GetEncoding"==t.name}),R=I.AllowedValues.Value;if(""===T&&(T=R[0]),T!==l.default.KVP)break;(0,r.includes)(R,l.default.KVP)&&C.push(P[L].href)}else P[L].href&&(T=l.default.KVP,C.push(P[L].href));0===C.length&&(T=l.default.REST,n.ResourceURL.forEach(function(t){"tile"===t.resourceType&&(p=t.format,C.push(t.template))}));return{urls:C,layer:e.layer,matrixSet:h,format:p,projection:v,requestEncoding:T,tileGrid:O,style:d,dimensions:g,wrapX:S,crossOrigin:e.crossOrigin}};var n=i(141),r=i(17),o=i(1),a=i(9),s=i(6),u=f(i(91)),l=f(i(778)),c=i(399),h=i(138);function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(e){var i=void 0!==e.requestEncoding?e.requestEncoding:l.default.KVP,r=e.tileGrid,o=e.urls;void 0===o&&void 0!==e.url&&(o=(0,n.expandUrl)(e.url)),t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:n.nullTileUrlFunction,urls:o,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition}),this.version_=void 0!==e.version?e.version:"1.0.0",this.format_=void 0!==e.format?e.format:"image/jpeg",this.dimensions_=void 0!==e.dimensions?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=i,this.setKey(this.getKeyForDimensions_()),o&&o.length>0&&(this.tileUrlFunction=(0,n.createFromTileUrlFunctions)(o.map(d.bind(this))))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):(0,n.createFromTileUrlFunctions)(t.map(d.bind(this))),e)},e.prototype.getDimensions=function(){return this.dimensions_},e.prototype.getFormat=function(){return this.format_},e.prototype.getLayer=function(){return this.layer_},e.prototype.getMatrixSet=function(){return this.matrixSet_},e.prototype.getRequestEncoding=function(){return this.requestEncoding_},e.prototype.getStyle=function(){return this.style_},e.prototype.getVersion=function(){return this.version_},e.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var i in this.dimensions_)e[t++]=i+"-"+this.dimensions_[i];return e.join("/")},e.prototype.updateDimensions=function(t){(0,a.assign)(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},e}(u.default);function d(t){var e=this.requestEncoding_,i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==l.default.KVP&&(0,a.assign)(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=e==l.default.KVP?(0,h.appendParams)(t,i):t.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in i?i[e.toLowerCase()]:t});var n=this.tileGrid,r=this.dimensions_;return function(i,o,s){if(i){var u={TileMatrix:n.getMatrixId(i[0]),TileCol:i[1],TileRow:-i[2]-1};(0,a.assign)(u,r);var c=t;return c=e==l.default.KVP?(0,h.appendParams)(c,u):c.replace(/\{(\w+?)\}/g,function(t,e){return u[e]})}}}e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readBoolean=function(t){return o((0,n.getAllTextContent)(t,!1))},e.readBooleanString=o,e.readDateTime=function(t){var e=(0,n.getAllTextContent)(t,!1),i=Date.parse(e);return isNaN(i)?void 0:i/1e3},e.readDecimal=function(t){return a((0,n.getAllTextContent)(t,!1))},e.readDecimalString=a,e.readNonNegativeInteger=function(t){return s((0,n.getAllTextContent)(t,!1))},e.readNonNegativeIntegerString=s,e.readString=function(t){return(0,n.getAllTextContent)(t,!1).trim()},e.writeBooleanTextNode=function(t,e){u(t,e?"1":"0")},e.writeCDATASection=function(t,e){t.appendChild(n.DOCUMENT.createCDATASection(e))},e.writeDateTimeTextNode=function(t,e){var i=new Date(1e3*e),o=i.getUTCFullYear()+"-"+(0,r.padNumber)(i.getUTCMonth()+1,2)+"-"+(0,r.padNumber)(i.getUTCDate(),2)+"T"+(0,r.padNumber)(i.getUTCHours(),2)+":"+(0,r.padNumber)(i.getUTCMinutes(),2)+":"+(0,r.padNumber)(i.getUTCSeconds(),2)+"Z";t.appendChild(n.DOCUMENT.createTextNode(o))},e.writeDecimalTextNode=function(t,e){var i=e.toPrecision();t.appendChild(n.DOCUMENT.createTextNode(i))},e.writeNonNegativeIntegerTextNode=function(t,e){var i=e.toString();t.appendChild(n.DOCUMENT.createTextNode(i))},e.writeStringTextNode=u;var n=i(139),r=i(221);function o(t){var e=/^\s*(true|1)|(false|0)\s*$/.exec(t);return e?void 0!==e[1]||!1:void 0}function a(t){var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);return e?parseFloat(e[1]):void 0}function s(t){var e=/^\s*(\d+)\s*$/.exec(t);return e?parseInt(e[1],10):void 0}function u(t,e){t.appendChild(n.DOCUMENT.createTextNode(e))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=l(i(4)),o=i(1),a=l(i(220)),s=l(i(25)),u=i(9);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(e){t.call(this),this.geometries_=e||null,this.listenGeometriesChange_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)(0,n.unlisten)(this.geometries_[t],r.default.CHANGE,this.changed,this)},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)(0,n.listen)(this.geometries_[t],r.default.CHANGE,this.changed,this)},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t},e.prototype.closestPointXY=function(t,e,i,n){if(n<(0,o.closestSquaredDistanceXY)(this.getExtent(),t,e))return n;for(var r=this.geometries_,a=0,s=r.length;a<s;++a)n=r[a].closestPointXY(t,e,i,n);return n},e.prototype.containsXY=function(t,e){for(var i=this.geometries_,n=0,r=i.length;n<r;++n)if(i[n].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){(0,o.createOrUpdateEmpty)(t);for(var e=this.geometries_,i=0,n=e.length;i<n;++i)(0,o.extend)(t,e[i].getExtent());return t},e.prototype.getGeometries=function(){return h(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&((0,u.clear)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var i=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(i))return this.simplifiedGeometryCache[i];for(var n=[],r=this.geometries_,o=!1,a=0,s=r.length;a<s;++a){var l=r[a],c=l.getSimplifiedGeometry(t);n.push(c),c!==l&&(o=!0)}if(o){var h=new e(null);return h.setGeometriesArray(n),this.simplifiedGeometryCache[i]=h,h}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return s.default.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,i=0,n=e.length;i<n;++i)if(e[i].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var i=this.geometries_,n=0,r=i.length;n<r;++n)i[n].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,i){var n=i;n||(n=(0,o.getCenter)(this.getExtent()));for(var r=this.geometries_,a=0,s=r.length;a<s;++a)r[a].scale(t,e,n);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(h(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,i=0,n=e.length;i<n;++i)e[i].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var i=this.geometries_,n=0,r=i.length;n<r;++n)i[n].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(a.default);function h(t){for(var e=[],i=0,n=t.length;i<n;++i)e.push(t[i].clone());return e}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.jsonp=function(t,e,i,r){var o=document.createElement("script"),a="olc_"+(0,n.getUid)(e);function s(){delete window[a],o.parentNode.removeChild(o)}o.async=!0,o.src=t+(-1==t.indexOf("?")?"?":"&")+(r||"callback")+"="+a;var u=setTimeout(function(){s(),i&&i()},1e4);window[a]=function(t){clearTimeout(u),s(),e(t)},document.getElementsByTagName("head")[0].appendChild(o)};var n=i(19)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ATTRIBUTION=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(i(154));var r=e.ATTRIBUTION='&#169; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',o=function(t){function e(e){var i,n=e||{};i=void 0!==n.attributions?n.attributions:[r];var o=void 0!==n.crossOrigin?n.crossOrigin:"anonymous",a=void 0!==n.url?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";t.call(this,{attributions:i,cacheSize:n.cacheSize,crossOrigin:o,opaque:void 0===n.opaque||n.opaque,maxZoom:void 0!==n.maxZoom?n.maxZoom:19,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,url:a,wrapX:n.wrapX})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n.default);e.default=o},function(t,e,i){var n=i(410),r=i(82);t.exports=function(t){for(var e=r(t),i=e.length;i--;){var o=e[i],a=t[o];e[i]=[o,a,n(a)]}return e}},function(t,e,i){var n=i(282),r=i(198),o=1,a=2;t.exports=function(t,e,i,s){var u=i.length,l=u,c=!s;if(null==t)return!l;for(t=Object(t);u--;){var h=i[u];if(c&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++u<l;){var f=(h=i[u])[0],p=t[f],d=h[1];if(c&&h[2]){if(void 0===p&&!(f in t))return!1}else{var g=new n;if(s)var v=s(p,d,f,t,e,g);if(!(void 0===v?r(d,p,o|a,s,g):v))return!1}}return!0}},function(t,e,i){var n=i(39),r=i(274),o=i(26),a="[object Object]",s=Function.prototype,u=Object.prototype,l=s.toString,c=u.hasOwnProperty,h=l.call(Object);t.exports=function(t){if(!o(t)||n(t)!=a)return!1;var e=r(t);if(null===e)return!0;var i=c.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&l.call(i)==h}},function(t,e,i){var n=i(418);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},function(t,e,i){var n=i(425)(Object.getPrototypeOf,Object);t.exports=n},function(t,e,i){var n=i(115),r=i(424),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),n(a(t),function(e){return o.call(t,e)}))}:r;t.exports=s},function(t,e,i){var n=i(428),r=i(851),o=i(42);t.exports=function(t){return o(t)?n(t,!0):r(t)}},function(t,e,i){var n=i(201),r=i(853),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return r(t);var e=[];for(var i in Object(t))o.call(t,i)&&"constructor"!=i&&e.push(i);return e}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t}},function(t,e,i){var n=i(868),r=i(861),o=i(859),a=i(858),s=i(857);function u(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=r,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,i){var n=i(117)(i(35),"Map");t.exports=n},function(t,e,i){var n=i(208),r=i(877),o=i(876),a=i(875),s=i(874),u=i(873);function l(t){var e=this.__data__=new n(t);this.size=e.size}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,t.exports=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),r=f(i(74)),o=i(20),a=i(144),s=i(3),u=f(i(4)),l=f(i(437)),c=i(886),h=f(i(436));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(e){var i=e||{},s=void 0!==i.opacity?i.opacity:1,u=void 0!==i.rotation?i.rotation:0,f=void 0!==i.scale?i.scale:1,p=void 0!==i.rotateWithView&&i.rotateWithView;t.call(this,{opacity:s,rotation:u,scale:f,rotateWithView:p}),this.anchor_=void 0!==i.anchor?i.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:h.default.TOP_LEFT,this.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:l.default.FRACTION,this.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:l.default.FRACTION,this.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var d=void 0!==i.img?i.img:null,g=void 0!==i.imgSize?i.imgSize:null,v=i.src;(0,o.assert)(!(void 0!==v&&d),4),(0,o.assert)(!d||d&&g,5),void 0!==v&&0!==v.length||!d||(v=d.src||(0,n.getUid)(d).toString()),(0,o.assert)(void 0!==v&&v.length>0,6);var y=void 0!==i.src?r.default.IDLE:r.default.LOADED;this.color_=void 0!==i.color?(0,a.asArray)(i.color):null,this.iconImage_=(0,c.get)(d,v,g,this.crossOrigin_,y,this.color_),this.offset_=void 0!==i.offset?i.offset:[0,0],this.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:h.default.TOP_LEFT,this.origin_=null,this.size_=void 0!==i.size?i.size:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==l.default.FRACTION||this.anchorYUnits_==l.default.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==l.default.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==l.default.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=h.default.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=h.default.TOP_RIGHT&&this.anchorOrigin_!=h.default.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=h.default.BOTTOM_LEFT&&this.anchorOrigin_!=h.default.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=h.default.TOP_LEFT){var e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),this.offsetOrigin_!=h.default.TOP_RIGHT&&this.offsetOrigin_!=h.default.BOTTOM_RIGHT||(t[0]=i[0]-e[0]-t[0]),this.offsetOrigin_!=h.default.BOTTOM_LEFT&&this.offsetOrigin_!=h.default.BOTTOM_RIGHT||(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t,e){return(0,s.listen)(this.iconImage_,u.default.CHANGE,t,e)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t,e){(0,s.unlisten)(this.iconImage_,u.default.CHANGE,t,e)},e}(f(i(462)).default);e.default=p},function(t,e,i){"use strict";function n(){return""}function r(t,e,i){return t.slice(e,i).replace(/\S/g," ")}t.exports=function(t,e){for(var i,o,a=!1,s=!1,u=0,l="",c=!1===(e=e||{}).whitespace?n:r,h=0;h<t.length;h++){if(i=t[h],o=t[h+1],!s&&'"'===i)"\\"===t[h-1]&&"\\"!==t[h-2]||(a=!a);if(!a)if(s||i+o!=="//"){if(1===s&&i+o==="\r\n"){s=!1,l+=c(t,u,++h),u=h;continue}if(1===s&&"\n"===i)s=!1,l+=c(t,u,h),u=h;else{if(!s&&i+o==="/*"){l+=t.slice(u,h),u=h,s=2,h++;continue}if(2===s&&i+o==="*/"){s=!1,l+=c(t,u,++h+1),u=h+1;continue}}}else l+=t.slice(u,h),u=h,s=1,h++}return l+(s?c(t.substr(u)):t.substr(u))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),r=f(i(97)),o=f(i(441)),a=f(i(47)),s=f(i(46)),u=i(27),l=i(1),c=f(i(443)),h=i(40);function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(e,i){t.call(this,e),this.context=i?null:(0,u.createCanvasContext2D)(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=(0,l.createEmpty)(),this.tmpTileRange_=new o.default(0,0,0,0),this.imageTransform_=(0,h.create)(),this.zDirection=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isDrawableTile_=function(t){var e=t.getState(),i=this.getLayer().getUseInterimTilesOnError();return e==a.default.LOADED||e==a.default.EMPTY||e==a.default.ERROR&&!i},e.prototype.getTile=function(t,e,i,n,r){var o=this.getLayer(),s=o.getSource().getTile(t,e,i,n,r);return s.getState()==a.default.ERROR&&(o.getUseInterimTilesOnError()?o.getPreload()>0&&(this.newTiles_=!0):s.setState(a.default.LOADED)),this.isDrawableTile_(s)||(s=s.getInterimTile()),s},e.prototype.prepareFrame=function(t,e){var i=t.pixelRatio,r=t.size,o=t.viewState,u=o.projection,c=o.resolution,f=o.center,p=this.getLayer(),d=p.getSource(),g=d.getRevision(),v=d.getTileGridForProjection(u),y=v.getZForResolution(c,this.zDirection),_=v.getResolution(y),m=Math.round(c/_)||1,b=t.extent;if(void 0!==e.extent&&(b=(0,l.getIntersection)(b,e.extent)),(0,l.isEmpty)(b))return!1;var x=v.getTileRangeForExtentAndZ(b,y),S=v.getTileRangeExtent(y,x),w=d.getTilePixelRatio(i),E={};E[y]={};var M,O,C,T=this.createLoadedTileFinder(d,u,E),P=t.viewHints,L=P[s.default.ANIMATING]||P[s.default.INTERACTING],A=this.tmpExtent,I=this.tmpTileRange_;for(this.newTiles_=!1,O=x.minX;O<=x.maxX;++O)for(C=x.minY;C<=x.maxY;++C)if(!(Date.now()-t.time>16&&L)){if(M=this.getTile(y,O,C,i,u),this.isDrawableTile_(M)){var R=(0,n.getUid)(this);if(M.getState()==a.default.LOADED){E[y][M.tileCoord.toString()]=M;var k=M.inTransition(R);this.newTiles_||!k&&-1!==this.renderedTiles.indexOf(M)||(this.newTiles_=!0)}if(1===M.getAlpha(R,t.time))continue}var j=v.getTileCoordChildTileRange(M.tileCoord,I,A),N=!1;j&&(N=T(y+1,j)),N||v.forEachTileCoordParentTileRange(M.tileCoord,T,null,I,A)}var F=_*i/w*m;if(!(this.renderedResolution&&Date.now()-t.time>16&&L)&&(this.newTiles_||!this.renderedExtent_||!(0,l.containsExtent)(this.renderedExtent_,b)||this.renderedRevision!=g||m!=this.oversampling_||!L&&F!=this.renderedResolution)){var D=this.context;if(D){var G=d.getTilePixelSize(y,i,u),U=Math.round(x.getWidth()*G[0]/m),B=Math.round(x.getHeight()*G[1]/m),V=D.canvas;V.width!=U||V.height!=B?(this.oversampling_=m,V.width=U,V.height=B):(this.renderedExtent_&&!(0,l.equals)(S,this.renderedExtent_)&&D.clearRect(0,0,U,B),m=this.oversampling_)}this.renderedTiles.length=0;var z,Y,W,X,H,q,K,$,Z,J,Q=Object.keys(E).map(Number);for(Q.sort(function(t,e){return t===y?1:e===y?-1:t>e?1:t<e?-1:0}),X=0,H=Q.length;X<H;++X)for(var tt in W=Q[X],Y=d.getTilePixelSize(W,i,u),z=v.getResolution(W)/_,K=w*d.getGutterForProjection(u),$=E[W])M=$[tt],O=((q=v.getTileCoordExtent(M.getTileCoord(),A))[0]-S[0])/_*w/m,C=(S[3]-q[3])/_*w/m,Z=Y[0]*z/m,J=Y[1]*z/m,this.drawTileImage(M,t,e,O,C,Z,J,K,y===W),this.renderedTiles.push(M);this.renderedRevision=g,this.renderedResolution=_*i/w*m,this.renderedExtent_=S}var et=this.renderedResolution/c,it=(0,h.compose)(this.imageTransform_,i*r[0]/2,i*r[1]/2,et,et,0,(this.renderedExtent_[0]-f[0])/this.renderedResolution*i,(f[1]-this.renderedExtent_[3])/this.renderedResolution*i);return(0,h.compose)(this.coordinateToCanvasPixelTransform,i*r[0]/2-it[4],i*r[1]/2-it[5],i/c,-i/c,0,-f[0],-f[1]),this.updateUsedTiles(t.usedTiles,d,y,x),this.manageTilePyramid(t,d,v,i,u,b,y,p.getPreload()),this.scheduleExpireCache(t,d),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,i,r,o,a,s,u,l){var c=t.getImage(this.getLayer());if(c){var h=(0,n.getUid)(this),f=l?t.getAlpha(h,e.time):1;1!==f||this.getLayer().getSource().getOpaque(e.viewState.projection)||this.context.clearRect(r,o,a,s);var p=f!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(c,u,u,c.width-2*u,c.height-2*u,r,o,a,s),p&&this.context.restore(),1!==f?e.animate=!0:l&&t.endTransition(h)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e}(c.default);p.handles=function(t){return t.getType()===r.default.TILE},p.create=function(t,e){return new p(e)},p.prototype.getLayer,e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(122)),r=o(i(4));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(e,i,n,r){t.call(this),this.extent=e,this.pixelRatio_=n,this.resolution=i,this.state=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(r.default.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){},e}(n.default);e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(286)),r=o(i(74));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(e,i,n,o,a){var s=void 0!==a?r.default.IDLE:r.default.LOADED;t.call(this,e,i,n,s),this.loader_=void 0!==a?a:null,this.canvas_=o,this.error_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=r.default.ERROR):this.state=r.default.LOADED,this.changed()},e.prototype.load=function(){this.state==r.default.IDLE&&(this.state=r.default.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(n.default);e.default=a},function(t,e,i){"use strict";t.exports=r,t.exports.default=r;var n=i(908);function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function a(t,e){s(t,0,t.children.length,e,t)}function s(t,e,i,n,r){r||(r=y(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,a=e;a<i;a++)o=t.children[a],u(r,t.leaf?n(o):o);return r}function u(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function d(t,e){var i=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-i)*Math.max(0,o-n)}function g(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function v(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function y(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _(t,e,i,r,o){for(var a,s=[e,i];s.length;)(i=s.pop())-(e=s.pop())<=r||(a=e+Math.ceil((i-e)/r/2)*r,n(t,a,e,i,o),s.push(e,a,a,i))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],n=this.toBBox;if(!v(t,e))return i;for(var r,o,a,s,u=[];e;){for(r=0,o=e.children.length;r<o;r++)a=e.children[r],v(t,s=e.leaf?n(a):a)&&(e.leaf?i.push(a):g(t,s)?this._all(a,i):u.push(a));e=u.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!v(t,e))return!1;for(var n,r,o,a,s=[];e;){for(n=0,r=e.children.length;n<r;n++)if(o=e.children[n],v(t,a=e.leaf?i(o):o)){if(e.leaf||g(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(t,e){if(!t)return this;for(var i,n,r,a,s=this.data,u=this.toBBox(t),l=[],c=[];s||l.length;){if(s||(s=l.pop(),n=l[l.length-1],i=c.pop(),a=!0),s.leaf&&-1!==(r=o(t,s.children,e)))return s.children.splice(r,1),l.push(s),this._condense(l),this;a||s.leaf||!g(s,u)?n?(i++,s=n.children[i],a=!1):s=null:(l.push(s),c.push(i),i=0,n=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:l,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,n){var r,o=i-e+1,s=this._maxEntries;if(o<=s)return a(r=y(t.slice(e,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,n-1))),(r=y([])).leaf=!1,r.height=n;var u,l,c,h,f=Math.ceil(o/s),p=f*Math.ceil(Math.sqrt(s));for(_(t,e,i,p,this.compareMinX),u=e;u<=i;u+=p)for(_(t,u,c=Math.min(u+p-1,i),f,this.compareMinY),l=u;l<=c;l+=f)h=Math.min(l+f-1,c),r.children.push(this._build(t,l,h,n-1));return a(r,this.toBBox),r},_chooseSubtree:function(t,e,i,n){for(var r,o,a,s,u,l,c,f;n.push(e),!e.leaf&&n.length-1!==i;){for(c=f=1/0,r=0,o=e.children.length;r<o;r++)u=h(a=e.children[r]),(l=p(t,a)-u)<f?(f=l,c=u<c?u:c,s=a):l===f&&u<c&&(c=u,s=a);e=s||e.children[0]}return e},_insert:function(t,e,i){var n=this.toBBox,r=i?t:n(t),o=[],a=this._chooseSubtree(r,this.data,e,o);for(a.children.push(t),u(a,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var i=t[e],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var o=this._chooseSplitIndex(i,r,n),s=y(i.children.splice(o,i.children.length-o));s.height=i.height,s.leaf=i.leaf,a(i,this.toBBox),a(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(i,s)},_splitRoot:function(t,e){this.data=y([t,e]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var n,r,o,a,u,l,c,f;for(l=c=1/0,n=e;n<=i-e;n++)a=d(r=s(t,0,n,this.toBBox),o=s(t,n,i,this.toBBox)),u=h(r)+h(o),a<l?(l=a,f=n,c=u<c?u:c):a===l&&u<c&&(c=u,f=n);return f},_chooseSplitAxis:function(t,e,i){var n=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,r)&&t.children.sort(n)},_allDistMargin:function(t,e,i,n){t.children.sort(n);var r,o,a=this.toBBox,l=s(t,0,e,a),c=s(t,i-e,i,a),h=f(l)+f(c);for(r=e;r<i-e;r++)o=t.children[r],u(l,t.leaf?a(o):o),h+=f(l);for(r=i-e-1;r>=e;r--)o=t.children[r],u(c,t.leaf?a(o):o),h+=f(c);return h},_adjustParentBBoxes:function(t,e,i){for(var n=i;n>=0;n--)u(e[n],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),r=function(t){return t&&t.__esModule?t:{default:t}}(i(288)),o=i(1),a=i(9);var s=function(t){this.rbush_=(0,r.default)(t,void 0),this.items_={}};s.prototype.insert=function(t,e){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(i),this.items_[(0,n.getUid)(e)]=i},s.prototype.load=function(t,e){for(var i=new Array(e.length),r=0,o=e.length;r<o;r++){var a=t[r],s=e[r],u={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};i[r]=u,this.items_[(0,n.getUid)(s)]=u}this.rbush_.load(i)},s.prototype.remove=function(t){var e=(0,n.getUid)(t),i=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(i)},s.prototype.update=function(t,e){var i=this.items_[(0,n.getUid)(e)],r=[i.minX,i.minY,i.maxX,i.maxY];(0,o.equals)(r,t)||(this.remove(e),this.insert(t,e))},s.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},s.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},s.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},s.prototype.forEachInExtent=function(t,e,i){return this.forEach_(this.getInExtent(t),e,i)},s.prototype.forEach_=function(t,e,i){for(var n,r=0,o=t.length;r<o;r++)if(n=e.call(i,t[r]))return n;return n},s.prototype.isEmpty=function(){return(0,a.isEmpty)(this.items_)},s.prototype.clear=function(){this.rbush_.clear(),this.items_={}},s.prototype.getExtent=function(t){var e=this.rbush_.data;return(0,o.createOrUpdate)(e.minX,e.minY,e.maxX,e.maxY,t)},s.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[0|e]=t.items_[0|e]},e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),r=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};r.prototype.clone=function(){var t=this.getColor();return new r({color:t&&t.slice?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},r.prototype.getColor=function(){return this.color_},r.prototype.getLineCap=function(){return this.lineCap_},r.prototype.getLineDash=function(){return this.lineDash_},r.prototype.getLineDashOffset=function(){return this.lineDashOffset_},r.prototype.getLineJoin=function(){return this.lineJoin_},r.prototype.getMiterLimit=function(){return this.miterLimit_},r.prototype.getWidth=function(){return this.width_},r.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},r.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},r.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},r.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},r.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},r.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},r.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},r.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=(0,n.getUid)(this.color_).toString():this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_},e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ACTIVE:"active"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),r=g(i(54)),o=g(i(123)),a=i(22),s=g(i(174)),u=i(20),l=i(3),c=g(i(4)),h=i(1),f=g(i(473)),p=i(9),d=g(i(65));function g(t){return t&&t.__esModule?t:{default:t}}var v={LAYERS:"layers"},y=function(t){function e(e){var i=e||{},n=(0,p.assign)({},i);delete n.layers;var o=i.layers;t.call(this,n),this.layersListenerKeys_=[],this.listenerKeys_={},(0,l.listen)(this,(0,a.getChangeEventType)(v.LAYERS),this.handleLayersChanged_,this),o?Array.isArray(o)?o=new r.default(o.slice(),{unique:!0}):((0,u.assert)(o instanceof r.default,43),o=o):o=new r.default(void 0,{unique:!0}),this.setLayers(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(l.unlistenByKey),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push((0,l.listen)(t,o.default.ADD,this.handleLayersAdd_,this),(0,l.listen)(t,o.default.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(l.unlistenByKey);(0,p.clear)(this.listenerKeys_);for(var i=t.getArray(),r=0,a=i.length;r<a;r++){var u=i[r];this.listenerKeys_[(0,n.getUid)(u).toString()]=[(0,l.listen)(u,s.default.PROPERTYCHANGE,this.handleLayerChange_,this),(0,l.listen)(u,c.default.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element,i=(0,n.getUid)(e).toString();this.listenerKeys_[i]=[(0,l.listen)(e,s.default.PROPERTYCHANGE,this.handleLayerChange_,this),(0,l.listen)(e,c.default.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,i=(0,n.getUid)(e).toString();this.listenerKeys_[i].forEach(l.unlistenByKey),delete this.listenerKeys_[i],this.changed()},e.prototype.getLayers=function(){return this.get(v.LAYERS)},e.prototype.setLayers=function(t){this.set(v.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],i=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var n=this.getLayerState(),r=i,o=e.length;r<o;r++){var a=e[r];a.opacity*=n.opacity,a.visible=a.visible&&n.visible,a.maxResolution=Math.min(a.maxResolution,n.maxResolution),a.minResolution=Math.max(a.minResolution,n.minResolution),void 0!==n.extent&&(void 0!==a.extent?a.extent=(0,h.getIntersection)(a.extent,n.extent):a.extent=n.extent)}return e},e.prototype.getSourceState=function(){return d.default.READY},e}(f.default);e.default=y},function(t,e,i){"use strict";function n(t,e,i,n){for(var r=0,o=t[i-n],a=t[i-n+1];e<i;e+=n){var s=t[e],u=t[e+1];r+=a*s-o*u,o=s,a=u}return r/2}function r(t,e,i,r){for(var o=0,a=0,s=i.length;a<s;++a){var u=i[a];o+=n(t,e,u,r),e=u}return o}Object.defineProperty(e,"__esModule",{value:!0}),e.linearRing=n,e.linearRings=r,e.linearRingss=function(t,e,i,n){for(var o=0,a=0,s=i.length;a<s;++a){var u=i[a];o+=r(t,e,u,n),e=u[u.length-1]}return o}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.POINTER_TYPE=e.POINTER_ID=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(i(226));var r=e.POINTER_ID=1,o=e.POINTER_TYPE="mouse";function a(t){if(!this.isEventSimulatedFromTouch_(t)){r.toString()in this.pointerMap&&this.cancel(t);var e=f(t,this.dispatcher);this.pointerMap[r.toString()]=t,this.dispatcher.down(e,t)}}function s(t){if(!this.isEventSimulatedFromTouch_(t)){var e=f(t,this.dispatcher);this.dispatcher.move(e,t)}}function u(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[r.toString()];if(e&&e.button===t.button){var i=f(t,this.dispatcher);this.dispatcher.up(i,t),this.cleanupMouse()}}}function l(t){if(!this.isEventSimulatedFromTouch_(t)){var e=f(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function c(t){if(!this.isEventSimulatedFromTouch_(t)){var e=f(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}var h=function(t){function e(e){var i={mousedown:a,mousemove:s,mouseup:u,mouseover:l,mouseout:c};t.call(this,e,i),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,i=t.clientX,n=t.clientY,r=0,o=e.length,a=void 0;r<o&&(a=e[r]);r++){var s=Math.abs(i-a[0]),u=Math.abs(n-a[1]);if(s<=25&&u<=25)return!0}return!1},e.prototype.cancel=function(t){var e=f(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[r.toString()]},e}(n.default);function f(t,e){var i=e.cloneEvent(t,t),n=i.preventDefault;return i.preventDefault=function(){t.preventDefault(),n()},i.pointerId=r,i.isPrimary=!0,i.pointerType=o,i}e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){this.disposed_=!1};n.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},n.prototype.disposeInternal=function(){},e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.G4UMap=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0},a=y(i(2)),s=y(i(489)),u=y(i(284)),l=i(890),c=i(24),h=i(568),f=i(13),p=i(567),d=i(242);i(566);var g=i(565),v=i(73);function y(t){return t&&t.__esModule?t:{default:t}}i(1147);e.G4UMap=function(t){function e(t,i,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s={},y={},_=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{controls:[],interactions:[],view:null}));_.set("guide4youVersion","v3.3.1"),_.set("options",o),_.defaultInteractions_=new Map,_.supersedingInteractions_=new Map,_.modules_=[],_.addModules((0,d.getRegisteredModules)()),_.set("ready",!1),_.on(["change:ready","change:ready:ui","change:ready:layers"],function(t){_.get(t.key)&&_.dispatchEvent(t.key)});var m=new g.PopupModifierManager;if(_.set("popupModifiers",m),o.popupModifiers&&_.on("change:featurePopup",function(){var t=!0,e=!1,i=void 0;try{for(var n,r=Object.keys(o.popupModifiers)[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var a=n.value,s=o.popupModifiers[a];s.setMap(_),m.register(a,s)}}catch(t){e=!0,i=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw i}}}),"string"==typeof t&&"#"!==t[0]?_.setTarget((0,a.default)("#"+t).get(0)):_.setTarget((0,a.default)(t).get(0)),(0,a.default)(_.getTarget()).children().addClass(f.cssClasses.desktop),"object"===(void 0===i?"undefined":n(i)))s=i;else{if("string"!=typeof i)throw new Error("Unrecognised type for parameter configOrFileName!");_.set("configFileName",i),_.set("defaultLayerConfigFileName",r)}if("object"===(void 0===r?"undefined":n(r)))y=r;else{if("string"!=typeof r)throw new Error("Unrecognised type for parameter layerConfigOrFileName!");_.set("layerConfigFileName",r)}function b(t){return a.default.ajax({url:t,dataType:"text"}).then(function(e){try{return JSON.parse((0,u.default)(e))}catch(e){c.Debug.error("The config file "+t+" couldn't be parsed."),c.Debug.error(e)}}).fail(function(e){c.Debug.error("The config file "+t+" couldn't be loaded."),c.Debug.error(e)})}_.dispatchEvent("beforeConfigLoad"),_.set("mapConfigReady",!1),_.set("layerConfigReady",!1);var x=[],S=_.get("configFileName");S&&x.push(b(S).then(function(t){s=t}));var w=_.get("layerConfigFileName");return w&&x.push(b(w).then(function(t){y=t})),Promise.all(x).then(function(){_.set("mapConfigReady",!0),_.set("layerConfigReady",!0),s=(0,v.mergeWithDefaults)(s,h.defaults.config),_.set("mapConfig",s),_.set("layerConfig",y);var t=0;_.on("change:configFileName",function(e){_.set("ready",!1),t++,_.oldMapConfigs_=_.oldMapConfigs_||{},_.oldMapConfigs_[e.oldValue]=_.get("mapConfig"),_.oldMapConfigs_.hasOwnProperty(_.get("configFileName"))?_.set("mapConfig",_.oldMapConfigs_[_.get("configFileName")]):(_.set("mapConfigReady",!1),b(_.get("configFileName")).then(function(t){_.set("mapConfigReady",!0),_.set("mapConfig",t)}).always(function(){0===--t&&_.set("ready",!0)}))}),_.on("change:layerConfigFileName",function(e){_.set("ready",!1),t++,_.oldLayerConfigs_=_.oldLayerConfigs_||{},_.oldLayerConfigs_[e.oldValue]=_.get("layerConfig"),_.oldLayerConfigs_.hasOwnProperty(_.get("layerConfigFileName"))?_.set("layerConfig",_.oldLayerConfigs_[_.get("layerConfigFileName")]):(_.set("layerConfigReady",!1),b(_.get("layerConfigFileName")).then(function(t){_.set("layerConfigReady",!0),_.set("layerConfig",t)}).always(function(){0===--t&&_.set("ready",!0)}))}),_.set("proxy",s.proxy);var e=void 0;if(o.localiser)_.set("localiser",o.localiser);else{var i={};if(s.hasOwnProperty("languageSettings")){var n=s.languageSettings;i.currentLanguage=n.currentLanguage,n.hasOwnProperty("defaultLanguage")&&(i.defaultLanguage=n.defaultLanguage),n.hasOwnProperty("languageFile")&&(i.languageFile=n.languageFile),n.hasOwnProperty("availableLanguages")&&(i.availableLanguages=n.availableLanguages)}var r=new p.L10N(i);_.set("localiser",r),e=r.ajaxGetLanguageFile()}return _.asSoonAs("ready",!0,function(){_.get("localiser").on("change:language",function(){var t=_.getLayerGroup().getIdsVisibilities();_.get("configurator").configureLayers(),_.get("configurator").configureUI(),_.getLayerGroup().setIdsVisibilities(t)})}),_.dispatchEvent("afterConfigLoad"),e}).then(function(){_.set("configurator",new l.MapConfigurator(_)),_.dispatchEvent("afterConfiguring"),_.get("ready:ui")&&_.get("ready:layers")&&_.set("ready",!0),_.on(["change:ready:ui","change:ready:layers"],function(t){_.get(t.key)||_.set("ready",!1),_.get("ready:ui")&&_.get("ready:layers")&&_.set("ready",!0)})}).catch(c.Debug.defaultErrorHandler),_}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),r(e,[{key:"getControlsByName",value:function(t){return this.controlsByName[t]||[]}},{key:"getControlsByType",value:function(t){var e=[],i=!0,n=!1,r=void 0;try{for(var o,a=Object.values(this.controlsByName)[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var s=o.value;e=e.concat(s.filter(function(e){return e instanceof t}))}}catch(t){n=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(n)throw r}}return e}},{key:"addModule",value:function(t){t.setMap(this),this.modules_.push(t)}},{key:"addModules",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;this.addModule(a)}}catch(t){i=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}}},{key:"afterPostrender",value:function(t){this.once("postrender",function(){return setTimeout(t,0)})}},{key:"getModules",value:function(){return this.modules_}},{key:"removeInteraction",value:function(t){var i=void 0;this.defaultInteractions_.forEach(function(e){(i=e.indexOf(t))>-1&&e.splice(i,1)}),this.supersedingInteractions_.forEach(function(e){(i=e.indexOf(t))>-1&&e.splice(i,1)}),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeInteraction",this).call(this,t)}},{key:"removeInteractions",value:function(){for(;this.getInteractions()&&this.getInteractions().getLength();){var t=!0,e=!1,i=void 0;try{for(var n,r=this.getInteractions().getArray()[Symbol.iterator]();!(t=(n=r.next()).done);t=!0){var o=n.value;this.removeInteraction(o)}}catch(t){e=!0,i=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw i}}}}},{key:"addInteraction",value:function(){throw new Error("Use addDefaultInteraction or addSupersedingInteraction")}},{key:"addDefaultInteraction",value:function(t,i){var n=!0,r=!1,a=void 0;try{for(var s,u=t.split(" ")[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var l=s.value;this.defaultInteractions_.has(l)?this.defaultInteractions_.get(l).push(i):this.defaultInteractions_.set(l,[i])}}catch(t){r=!0,a=t}finally{try{!n&&u.return&&u.return()}finally{if(r)throw a}}o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addInteraction",this).call(this,i)}},{key:"deactivateInteractions",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,o=this.defaultInteractions_.get(t)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.setActive(!1)}}catch(t){i=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}var a=!0,s=!1,u=void 0;try{for(var l,c=this.supersedingInteractions_.get(t)[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){l.value.setActive(!1)}}catch(t){s=!0,u=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}},{key:"activateInteractions",value:function(t){var e=!0,i=!1,n=void 0;try{for(var r,o=this.getDefaultInteractions(t)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){r.value.setActive(!0)}}catch(t){i=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}}},{key:"getDefaultInteractions",value:function(t){return this.defaultInteractions_.get(t)}},{key:"addSupersedingInteraction",value:function(t,i){var n=this,r=t.split(" "),a=function(){var t=!0,e=!1,o=void 0;try{for(var a,s=r[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var u=a.value,l=!0,c=!1,h=void 0;try{for(var f,p=n.supersedingInteractions_.get(u)[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var d=f.value;i!==d&&d.setActive(!1)}}catch(t){c=!0,h=t}finally{try{!l&&p.return&&p.return()}finally{if(c)throw h}}if(n.defaultInteractions_.get(u)){var g=!0,v=!1,y=void 0;try{for(var _,m=n.defaultInteractions_.get(u)[Symbol.iterator]();!(g=(_=m.next()).done);g=!0){_.value.setActive(!1)}}catch(t){v=!0,y=t}finally{try{!g&&m.return&&m.return()}finally{if(v)throw y}}}}}catch(t){e=!0,o=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw o}}},s=function(){var t=!0,e=!1,i=void 0;try{for(var o,a=r[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(n.defaultInteractions_.get(s)){var u=!0,l=!1,c=void 0;try{for(var h,f=n.defaultInteractions_.get(s)[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){h.value.setActive(!0)}}catch(t){l=!0,c=t}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}}}}catch(t){e=!0,i=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw i}}},u=!0,l=!1,c=void 0;try{for(var h,f=r[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var p=h.value;this.supersedingInteractions_.has(p)?this.supersedingInteractions_.get(p).push(i):this.supersedingInteractions_.set(p,[i])}}catch(t){l=!0,c=t}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}i.getActive()&&a(),i.on("change:active",function(t){t.oldValue!==i.getActive()&&(i.getActive()?(n.activating_=!0,a(),n.activating_=!1):(n.interactionDecativationTimeout_&&clearTimeout(n.interactionDecativationTimeout_),n.activating_||(n.interactionDecativationTimeout_=setTimeout(s,500))))}),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addInteraction",this).call(this,i)}},{key:"setLayerGroup",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||t.provideMap(this),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setLayerGroup",this).call(this,t)}},{key:"removeControls",value:function(){var t=this,e=this.getControls();if(e)for(;e.getLength()>0;)e.forEach(function(e){return t.removeControl(e)}),e=this.getControls()}}]),e}()},function(t,e,i){var n=i(8).navigator;t.exports=n&&n.userAgent||""},function(t,e,i){"use strict";var n=i(8),r=i(30),o=i(132),a=i(230),s=i(50),u=i(124),l=i(11),c=i(126),h=i(77),f=i(28),p=i(497),d=i(128).f,g=i(29).f,v=i(305),y=i(149),_="prototype",m="Wrong index!",b=n.ArrayBuffer,x=n.DataView,S=n.Math,w=n.RangeError,E=n.Infinity,M=b,O=S.abs,C=S.pow,T=S.floor,P=S.log,L=S.LN2,A=r?"_b":"buffer",I=r?"_l":"byteLength",R=r?"_o":"byteOffset";function k(t,e,i){var n,r,o,a=new Array(i),s=8*i-e-1,u=(1<<s)-1,l=u>>1,c=23===e?C(2,-24)-C(2,-77):0,h=0,f=t<0||0===t&&1/t<0?1:0;for((t=O(t))!=t||t===E?(r=t!=t?1:0,n=u):(n=T(P(t)/L),t*(o=C(2,-n))<1&&(n--,o*=2),(t+=n+l>=1?c/o:c*C(2,1-l))*o>=2&&(n++,o/=2),n+l>=u?(r=0,n=u):n+l>=1?(r=(t*o-1)*C(2,e),n+=l):(r=t*C(2,l-1)*C(2,e),n=0));e>=8;a[h++]=255&r,r/=256,e-=8);for(n=n<<e|r,s+=e;s>0;a[h++]=255&n,n/=256,s-=8);return a[--h]|=128*f,a}function j(t,e,i){var n,r=8*i-e-1,o=(1<<r)-1,a=o>>1,s=r-7,u=i-1,l=t[u--],c=127&l;for(l>>=7;s>0;c=256*c+t[u],u--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=e;s>0;n=256*n+t[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return n?NaN:l?-E:E;n+=C(2,e),c-=a}return(l?-1:1)*n*C(2,c-e)}function N(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function F(t){return[255&t]}function D(t){return[255&t,t>>8&255]}function G(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function U(t){return k(t,52,8)}function B(t){return k(t,23,4)}function V(t,e,i){g(t[_],e,{get:function(){return this[i]}})}function z(t,e,i,n){var r=p(+i);if(r+e>t[I])throw w(m);var o=t[A]._b,a=r+t[R],s=o.slice(a,a+e);return n?s:s.reverse()}function Y(t,e,i,n,r,o){var a=p(+i);if(a+e>t[I])throw w(m);for(var s=t[A]._b,u=a+t[R],l=n(+r),c=0;c<e;c++)s[u+c]=l[o?c:e-c-1]}if(a.ABV){if(!l(function(){b(1)})||!l(function(){new b(-1)})||l(function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name})){for(var W,X=(b=function(t){return c(this,b),new M(p(t))})[_]=M[_],H=d(M),q=0;H.length>q;)(W=H[q++])in b||s(b,W,M[W]);o||(X.constructor=b)}var K=new x(new b(2)),$=x[_].setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||u(x[_],{setInt8:function(t,e){$.call(this,t,e<<24>>24)},setUint8:function(t,e){$.call(this,t,e<<24>>24)}},!0)}else b=function(t){c(this,b,"ArrayBuffer");var e=p(t);this._b=v.call(new Array(e),0),this[I]=e},x=function(t,e,i){c(this,x,"DataView"),c(t,b,"DataView");var n=t[I],r=h(e);if(r<0||r>n)throw w("Wrong offset!");if(r+(i=void 0===i?n-r:f(i))>n)throw w("Wrong length!");this[A]=t,this[R]=r,this[I]=i},r&&(V(b,"byteLength","_l"),V(x,"buffer","_b"),V(x,"byteLength","_l"),V(x,"byteOffset","_o")),u(x[_],{getInt8:function(t){return z(this,1,t)[0]<<24>>24},getUint8:function(t){return z(this,1,t)[0]},getInt16:function(t){var e=z(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=z(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return N(z(this,4,t,arguments[1]))},getUint32:function(t){return N(z(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return j(z(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return j(z(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){Y(this,1,t,F,e)},setUint8:function(t,e){Y(this,1,t,F,e)},setInt16:function(t,e){Y(this,2,t,D,e,arguments[2])},setUint16:function(t,e){Y(this,2,t,D,e,arguments[2])},setInt32:function(t,e){Y(this,4,t,G,e,arguments[2])},setUint32:function(t,e){Y(this,4,t,G,e,arguments[2])},setFloat32:function(t,e){Y(this,4,t,B,e,arguments[2])},setFloat64:function(t,e){Y(this,8,t,U,e,arguments[2])}});y(b,"ArrayBuffer"),y(x,"DataView"),s(x[_],a.VIEW,!0),e.ArrayBuffer=b,e.DataView=x},function(t,e,i){"use strict";var n=i(37);t.exports.f=function(t){return new function(t){var e,i;this.promise=new t(function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n}),this.resolve=n(e),this.reject=n(i)}(t)}},function(t,e,i){var n=i(8),r=i(303).set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,u="process"==i(70)(a);t.exports=function(){var t,e,i,l=function(){var n,r;for(u&&(n=a.domain)&&n.exit();t;){r=t.fn,t=t.next;try{r()}catch(n){throw t?i():e=void 0,n}}e=void 0,n&&n.enter()};if(u)i=function(){a.nextTick(l)};else if(!o||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve();i=function(){c.then(l)}}else i=function(){r.call(n,l)};else{var h=!0,f=document.createTextNode("");new o(l).observe(f,{characterData:!0}),i=function(){f.data=h=!h}}return function(n){var r={fn:n,next:void 0};e&&(e.next=r),t||(t=r,i()),e=r}}},function(t,e,i){var n,r,o,a=i(71),s=i(516),u=i(321),l=i(325),c=i(8),h=c.process,f=c.setImmediate,p=c.clearImmediate,d=c.MessageChannel,g=c.Dispatch,v=0,y={},_=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},m=function(t){_.call(t.data)};f&&p||(f=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return y[++v]=function(){s("function"==typeof t?t:Function(t),e)},n(v),v},p=function(t){delete y[t]},"process"==i(70)(h)?n=function(t){h.nextTick(a(_,t,1))}:g&&g.now?n=function(t){g.now(a(_,t,1))}:d?(o=(r=new d).port2,r.port1.onmessage=m,n=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(t){c.postMessage(t+"","*")},c.addEventListener("message",m,!1)):n="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),_.call(t)}}:function(t){setTimeout(a(_,t,1),0)}),t.exports={set:f,clear:p}},function(t,e,i){"use strict";var n=i(105),r=i(506),o=i(147),a=i(57);t.exports=i(313)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,e,i){"use strict";var n=i(33),r=i(130),o=i(28);t.exports=function(t){for(var e=n(this),i=o(e.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,i),u=a>2?arguments[2]:void 0,l=void 0===u?i:r(u,i);l>s;)e[s++]=t;return e}},function(t,e,i){var n=i(1043);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,i){var n=i(175),r=i(23)("iterator"),o=i(147);t.exports=i(80).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[n(t)]}},function(t,e,i){"use strict";var n=i(29),r=i(134);t.exports=function(t,e,i){e in t?n.f(t,e,r(0,i)):t[e]=i}},function(t,e,i){var n=i(147),r=i(23)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[r]===t)}},function(t,e,i){var n=i(23)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,i){var n=i(236),r=i(78);t.exports=function(t,e,i){if(n(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(r(t))}},function(t,e,i){"use strict";var n=i(129),r=i(134),o=i(149),a={};i(50)(a,i(23)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(a,{next:r(1,i)}),o(t,e+" Iterator")}},function(t,e,i){"use strict";var n=i(132),r=i(0),o=i(49),a=i(50),s=i(147),u=i(312),l=i(149),c=i(55),h=i(23)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,i,d,g,v,y){u(i,e,d);var _,m,b,x=function(t){if(!f&&t in M)return M[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},S=e+" Iterator",w="values"==g,E=!1,M=t.prototype,O=M[h]||M["@@iterator"]||g&&M[g],C=O||x(g),T=g?w?x("entries"):C:void 0,P="Array"==e&&M.entries||O;if(P&&(b=c(P.call(new t)))!==Object.prototype&&b.next&&(l(b,S,!0),n||"function"==typeof b[h]||a(b,h,p)),w&&O&&"values"!==O.name&&(E=!0,C=function(){return O.call(this)}),n&&!y||!f&&!E&&M[h]||a(M,h,C),s[e]=C,s[S]=p,g)if(_={values:w?C:x("values"),keys:v?C:x("keys"),entries:T},y)for(m in _)m in M||o(M,m,_[m]);else r(r.P+r.F*(f||E),e,_);return _}},function(t,e,i){var n=i(77),r=i(78);t.exports=function(t){return function(e,i){var o,a,s=String(r(e)),u=n(i),l=s.length;return u<0||u>=l?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(t,e){var i=Math.expm1;t.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,i){"use strict";var n=i(77),r=i(78);t.exports=function(t){var e=String(r(this)),i="",o=n(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(i+=e);return i}},function(t,e,i){var n=i(12),r=i(320).set;t.exports=function(t,e,i){var o,a=e.constructor;return a!==i&&"function"==typeof a&&(o=a.prototype)!==i.prototype&&n(o)&&r&&r(t,o),t}},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,i){var n=i(12),r=i(7),o=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=i(71)(Function.call,i(56).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return o(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:o}},function(t,e,i){var n=i(8).document;t.exports=n&&n.documentElement},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(240)("keys"),r=i(133);t.exports=function(t){return n[t]||(n[t]=r(t))}},function(t,e,i){var n=i(8),r=i(80),o=i(132),a=i(522),s=i(29).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,i){var n=i(12),r=i(8).document,o=n(r)&&n(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapEventInteraction=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=a(i(2)),o=a(i(45));function a(t){return t&&t.__esModule?t:{default:t}}e.MapEventInteraction=function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=i.type||"singleclick";return t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{handleEvent:function(e){return t.getActive()&&e.type===n&&(0,r.default)(e.originalEvent.target).is(".ol-viewport > canvas")&&t.handleMapEvent(e),!0}}))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),n(e,[{key:"handleMapEvent",value:function(t){this.dispatchEvent({type:"mapevent",mapEvent:t})}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureInteraction=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(385),o=c(i(36)),a=c(i(143)),s=c(i(119)),u=c(i(168)),l=i(327);function c(t){return t&&t.__esModule?t:{default:t}}e.FeatureInteraction=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.hitTolerance_=t.hitTolerance||0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,l.MapEventInteraction),n(e,[{key:"handleMapEvent",value:function(t){var e=[];this.getMap().forEachFeatureAtPixel(t.pixel,function(t,i){e.push({feature:t,layer:i})},{hitTolerance:this.hitTolerance_}),e=(0,r.sortBy)(e,function(t){var e=t.feature;return e.getGeometry()instanceof o.default||e.getGeometry()instanceof a.default?1:e.getGeometry()instanceof s.default||e.getGeometry()instanceof u.default?2:3}),this.dispatchEvent({type:"interaction",coordinate:t.coordinate,interacted:e})}},{key:"triggerEmptyMapEvent",value:function(){this.dispatchEvent({type:"interaction",interacted:[]})}},{key:"setHitTolerance",value:function(t){this.hitTolerance_=t}},{key:"getHitTolerance",value:function(){return this.hitTolerance_}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrintButton=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(31),a=i(59),s=i(13);i(1166);e.PrintButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-printbutton",t.element=(0,r.default)("<button>").get(0);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.get$Element().addClass(i.className_).addClass(s.cssClasses.mainButton).html(i.getLocaliser().localiseUsingDictionary("PrintButton title")),(0,a.addTooltip)(i.get$Element(),i.getLocaliser().localiseUsingDictionary("PrintButton tipLabel")),i.get$Element().on("click",function(){return i.onClick_()}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Control),n(e,[{key:"onClick_",value:function(){var t=function(t,e){(0,r.default)(t).innerWidth(e[0]),(0,r.default)(t).innerHeight(e[1])};if(function(){try{return this.getMap().getViewport().getElementsByTagName("canvas")[0].getContext("2d").getImageData(1,1,1,1),!1}catch(t){return!0}}()){var e=(0,r.default)(this.getMap().getViewport()),i=e.parent(),n=i.clone().empty().append(e);t(n,this.getMap().getSize());var o=(0,r.default)("body"),a=(0,r.default)("<body>").append(n);document.body=a.get(0),window.print(),document.body=o.get(0),i.append(e)}else{var s=window.open("","_blank"),u=(0,r.default)("<div>").append((0,r.default)("style").clone()).append((0,r.default)('link[type="text/css"]').clone()),l=this.getMap().getViewport(),c=l.parentNode.cloneNode(!0);t(c,this.getMap().getSize());var h=l.getElementsByTagName("canvas")[0];c.getElementsByTagName("canvas")[0].getContext("2d").drawImage(h,0,0);var f=s.document;f.open(),f.write("<!doctype html>"),f.write("<html>"),f.write("<head>"),f.write("<title>"),f.write(this.getLocaliser().localiseUsingDictionary("PrintButton windowTitle")),f.write("</title>"),f.write(u.html()),f.write('<script type="text/javascript">'),f.write("window.onload = function () {\n"),f.write("\twindow.focus();\n"),f.write("\tsetTimeout( function () {\n"),f.write("\t\twindow.print();\n"),f.write("\t\twindow.close();\n"),f.write("\t}, 50);\n"),f.write("};"),f.write("<\/script>"),f.write("</head>"),f.write("</html>"),f.close(),s.onload=function(){f.getElementsByTagName("body")[0].appendChild(c)},s.focus()}this.dispatchEvent("click")}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Dropdown=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=l(i(2)),o=l(i(22));i(118);var a=i(13),s=i(72),u=i(5);function l(t){return t&&t.__esModule?t:{default:t}}i(1177),r.default.extend(r.default.easing,{easeOutCirc:function(t,e,i,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+i},easeInCirc:function(t,e,i,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+i}});e.Dropdown=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));i.className_=t.className||"g4u-dropdown",i.classNames_={entry:i.className_+"-entry",selected:i.className_+"-selected",ghost:i.className_+"-ghostentry"},i.$element_=(0,r.default)("<div>").addClass(i.className_),i.$ghostentry=(0,r.default)('<button tabindex="-1">').addClass(i.classNames_.ghost).html(t.ghostentry||"no entries"),i.slideDuration_=t.slideDuration||400,i.entriesArray_=[],i.selectedIndex_=-1,i.setUpKeyboardHandling_(),i.listenAt(i.$element_).on("focus",function(){i.selectedIndex_>-1&&i.entriesArray_[i.selectedIndex_].$element.focus()}),i.listenAt(i.$element_).on("mousemove",function(t){t.stopPropagation()}),i.slideUp(!0);var n=void 0;return i.listenAt(i.$element_).on("click",function(){n=!0}),i.listenAt([document]).on("click",function(){n?n=!1:i.collapse_&&i.slideUp()}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,u.mixin)(o.default,s.ListenerOrganizerMixin)),n(e,[{key:"detach",value:function(){this.detachAllListeners()}},{key:"getValue",value:function(){if(this.selectedIndex_>=0)return this.entriesArray_[this.selectedIndex_].value}},{key:"getText",value:function(){if(this.selectedIndex_>=0)return this.entriesArray_[this.selectedIndex_].text}},{key:"setUpKeyboardHandling_",value:function(){var t=this;this.listenAt(this.$element_).on("keydown",function(e){switch(e.which){case a.keyCodes.ARROW_DOWN:e.preventDefault(),e.stopPropagation(),t.selectedIndex_<t.entriesArray_.length-1&&(t.entriesArray_[t.selectedIndex_+1].$element.addClass(t.classNames_.selected),t.entriesArray_[t.selectedIndex_+1].$element.focus(),t.entriesArray_[t.selectedIndex_].$element.removeClass(t.classNames_.selected),t.selectedIndex_+=1);break;case a.keyCodes.ARROW_UP:e.preventDefault(),e.stopPropagation(),t.selectedIndex_>0?(t.entriesArray_[t.selectedIndex_-1].$element.addClass(t.classNames_.selected),t.entriesArray_[t.selectedIndex_-1].$element.focus(),t.entriesArray_[t.selectedIndex_].$element.removeClass(t.classNames_.selected),t.selectedIndex_-=1):(t.entriesArray_[t.selectedIndex_].$element.removeClass(t.classNames_.selected),t.selectedIndex_=-1,t.dispatchEvent({type:"leave:backwards",originalEvent:e}));break;case a.keyCodes.TAB:e.shiftKey?t.dispatchEvent({type:"leave:backwards",originalEvent:e}):t.dispatchEvent({type:"leave:forwards",originalEvent:e});break;case a.keyCodes.ENTER:e.stopPropagation(),e.preventDefault(),t.select$Entry_(t.entriesArray_[t.selectedIndex_].$element)}}),this.listenAt(window).on("keydown",function(e){t.collapse_&&e.which===a.keyCodes.ESCAPE&&(t.slideUp(),t.dispatchEvent("close"))})}},{key:"get$Element",value:function(){return this.$element_}},{key:"getLength",value:function(){return this.entriesArray_.length}},{key:"addEntry",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=e||t;var n=this.getLength();this.setLength(n+1);var r=this.entriesArray_[n];r.text=e,r.$element.html(e),r.value=t,i&&(r.$element.addClass(this.classNames_.selected),this.selectedIndex_=n)}},{key:"setActivated",value:function(t,e){this.entriesArray_.find(function(e){return e.value===t}).$element.toggleClass(a.cssClasses.active,e)}},{key:"setFastMode",value:function(t){this.fastMode_=t}},{key:"setEntries",value:function(t,e){e=e||t,this.setLength(t.length);for(var i=0,n=t.length;i<n;i++)this.entriesArray_[i].text=e[i],this.entriesArray_[i].$element.html(e[i]),this.entriesArray_[i].value=t[i]}},{key:"select$Entry_",value:function(t){t.hasClass(this.classNames_.selected)||(t.addClass(this.classNames_.selected),this.selectedIndex_>-1&&this.entriesArray_[this.selectedIndex_].$element.removeClass(this.classNames_.selected)),this.selectedIndex_=this.entriesArray_.findIndex(function(e){return e.$element===t}),this.slideUp(),this.dispatchEvent("select")}},{key:"setLength",value:function(t){var e=this;this.selectedIndex_>-1&&(this.entriesArray_[this.selectedIndex_].$element.removeClass(this.classNames_.selected),this.selectedIndex_=-1);var i=void 0,n=void 0;if(0===this.entriesArray_.length&&this.$element_.empty(),t>this.entriesArray_.length){var o=function(){var t=(0,r.default)('<button tabindex="-1">').addClass(e.classNames_.entry).hide();t.on("click",function(){return e.select$Entry_(t)}),t.focus(),e.$element_.append(t),e.entriesArray_.push({$element:t}),t.slideDown({duration:e.slideDuration_})};for(i=this.entriesArray_.length,n=t;i<n;i++)o()}else if(t<this.entriesArray_.length){for(i=this.entriesArray_.length-1,n=t;i>=n;i--)this.entriesArray_[i].$element.slideUp({duration:this.slideDuration_,complete:function(){e.entriesArray_.pop(),e.$element_.children().last().remove()}});this.selectedIndex_>=t&&(this.selectedIndex_=t-1)}}},{key:"showGhostEntry",value:function(){this.setLength(0),this.$element_.append(this.$ghostentry),this.slideDown()}},{key:"focus",value:function(){this.entriesArray_.length>=0&&(this.selectedIndex_<0&&(this.selectedIndex_=0,this.entriesArray_[0].$element.addClass(this.classNames_.selected)),this.entriesArray_[this.selectedIndex_].$element.focus())}},{key:"slideUp",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(i){t.collapse_=!1;var n=t.slideDuration_;(e||t.fastMode_)&&(n=0),t.$element_.slideUp({duration:n,complete:function(){t.$element_.addClass(a.cssClasses.hidden),i()},easing:"easeInCirc"})})}},{key:"slideDown",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(i){if(t.$element_.children().length>0){var n=t.slideDuration_;(e||t.fastMode_)&&(n=0),t.$element_.removeClass(a.cssClasses.hidden),t.$element_.slideDown({easing:"easeOutCirc",complete:function(){t.collapse_=!0,i()},duration:n})}})}},{key:"clear",value:function(){this.slideUp(),this.$element_.empty(),this.entriesArray_=[],this.selectedIndex_=-1}},{key:"isSelectable",value:function(){return this.entriesArray_.length>0}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MeasurementButton=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=p(i(2)),o=i(6),a=p(i(44)),s=p(i(169)),u=i(31),l=i(13),c=i(137);i(1183);var h=i(5),f=i(135);function p(t){return t&&t.__esModule?t:{default:t}}e.MeasurementButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.element=(0,r.default)("<div>").get(0),t.className=t.className||"g4u-measurement",t.singleButton=!1;var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));if(i.style_=t.style||"#defaultStyle",!t.hasOwnProperty("type"))throw new Error("Measurement needs a type (Polygon, LineString, etc)");return i.type_=t.type,i.dimension_=t.dimension||1,i.setTitle(i.getTitle()||i.getLocaliser().localiseUsingDictionary("MeasurementButton dim"+i.dimension_+" title")),i.setTipLabel(i.getTipLabel()||i.getLocaliser().localiseUsingDictionary("MeasurementButton dim"+i.dimension_+" tipLabel")),i.atDrawEnd_=t.atDrawEnd,i.value_=0,i.$valueDisplay_=(0,r.default)("<span>").html("0"),i.$unitPlaceholder_=(0,r.default)("<span>"),i.on("change:active",function(){return i.handleActiveChange_()}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,h.mixin)(u.Control,f.ActivatableMixin)),n(e,[{key:"setMap",value:function(t){var i=this;if(this.getMap()&&(this.getMap().getLayers().remove(this.layer_),this.getMap().removeInteraction(this.drawInteraction_)),function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t){if(this.get$Element().append(this.getLocaliser().localiseUsingDictionary("MeasurementButton dim"+this.dimension_+" measured")).append((0,r.default)("<span>").addClass(this.className_+"-value").append(this.$valueDisplay_).append("&nbsp;").append(this.$unitPlaceholder_)).append("<br/>").append(this.getLocaliser().localiseUsingDictionary("MeasurementButton doubleClickEndsMeasurement")),this.measurementProjection_=t.get("measurementProjection"),!this.measurementProjection_)throw new Error("MeasurementButton needs a measurementProjection. This is a global option of the map.");1===this.dimension_&&this.$unitPlaceholder_.replaceWith(this.measurementProjection_.getUnits()),2===this.dimension_&&this.$unitPlaceholder_.replaceWith(this.measurementProjection_.getUnits()+"&sup2;"),this.measurementTransform_=(0,o.getTransform)(t.getView().getProjection(),this.measurementProjection_),this.source_=new a.default({projection:this.measurementProjection_}),this.layer_=new c.VectorLayer({source:this.source_}),this.layer_.setStyle(t.get("styling").getStyle(this.style_)),t.get("styling").manageLayer(this.layer_),t.getLayers().insertAt(1,this.layer_),this.drawInteraction_=new s.default({source:this.source_,type:this.type_,style:t.get("styling").getStyle(this.style_)}),this.drawInteraction_.setActive(!1),t.addSupersedingInteraction("singleclick dblclick pointermove",this.drawInteraction_);var n=null;this.drawInteraction_.on("drawstart",function(t){i.clear(),n=t.feature,i.dispatchEvent("measurement")}),t.on("click",function(){if(i.getActive()){var t=n.getGeometry().clone();t.applyTransform(i.measurementTransform_),1===i.dimension_?i.setValue(t.getLength()):2===i.dimension_&&i.setValue(t.getArea())}}),(0,r.default)(t.getViewport()).parent().on("keydown",function(t){t.which===l.keyCodes.ESCAPE&&i.drawInteraction_.getActive()&&i.drawInteraction_.finishDrawing()}),this.drawInteraction_.on("drawend",function(){switch(i.atDrawEnd_){case"newMeasurement":break;case"closeWindow":i.setActive(!1);break;default:i.drawInteraction_.setActive(!1)}}),this.activateOnMapChange()}}},{key:"getValue",value:function(){return this.value_}},{key:"setValue",value:function(t){this.value_=t,this.$valueDisplay_.html(""+Math.round(t)),this.changed()}},{key:"getType",value:function(){return this.type_}},{key:"handleActiveChange_",value:function(){var t=this.getActive();if(this.layer_.setVisible(t),t){this.getMap().get("localiser").isRtl()?this.get$Element().prop("dir","rtl"):this.get$Element().prop("dir",void 0);var e=this.getMap().get("featurePopup");e&&e.setVisible(!1),(0,r.default)(this.getMap().getViewport()).addClass(l.cssClasses.crosshair),this.clear(),this.drawInteraction_.setActive(!0)}else(0,r.default)(this.getMap().getViewport()).removeClass(l.cssClasses.crosshair),this.drawInteraction_.setActive(!1);this.get$Element().toggleClass(l.cssClasses.active,t)}},{key:"clear",value:function(){this.source_.clear(),this.setValue(0)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Attribution=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(31),a=i(72),s=i(5),u=i(13),l=i(59);i(1207);e.Attribution=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-attribution",t.singleButton=!1,t.element=(0,r.default)("<div>").get(0);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.setTipLabel(i.getTipLabel()||i.getLocaliser().localiseUsingDictionary("Attribution tipLabel")),i.createStaticHTML(t),i.setCollapsed(!0===t.collapsed),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,s.mixin)(o.Control,a.ListenerOrganizerMixin)),n(e,[{key:"setCollapsed",value:function(t,e){var i=this.collapsed_;i!==t&&(this.collapsed_=t,this.dispatchEvent({type:"change:collapsed",oldValue:i}),e||this.dispatchEvent("change:size"),this.get$Element().toggleClass(u.cssClasses.collapsed,t))}},{key:"getCollapsed",value:function(){return this.collapsed_}},{key:"createStaticHTML",value:function(t){var e=this,i=(0,r.default)("<button>").on("click",function(){e.setCollapsed(!e.getCollapsed())});if((0,l.addTooltip)(i,this.getTipLabel()),this.$list_=(0,r.default)("<ul>"),this.get$Element().append(i).append(this.$list_),this.showPoweredBy_=!1!==t.poweredBy,this.showPoweredBy_){var n=void 0===t.poweredBy?'<a href="https://github.com/KlausBenndorf/guide4you" target="_blank">Guide4You</a>':this.getLocaliser().selectL10N(t.poweredBy);Array.isArray(n)||(n=[n]),this.$poweredBy_=n.map(function(t){return(0,r.default)("<li>").append(t).addClass(e.className_+"-poweredby")})}}},{key:"updateList",value:function(t){this.$list_.empty(),this.showPoweredBy_&&this.$list_.append(this.$poweredBy_);var e=!0,i=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value;this.$list_.append((0,r.default)("<li>").html(s))}}catch(t){i=!0,n=t}finally{try{!e&&a.return&&a.return()}finally{if(i)throw n}}this.getCollapsed()||this.dispatchEvent("change:size")}},{key:"updateRtl",value:function(){this.getMap().get("localiser").isRtl()?this.$list_.prop("dir","rtl"):this.$list_.prop("dir",void 0)}},{key:"setMap",value:function(t){var i=this;this.getMap()&&this.detachAllListeners(),function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&t.asSoonAs("ready:layers",!0,function(){if(i.getMap()){var t=i.getMap().get("attributions");i.updateList(t.getArray()),i.listenAt(t).on("change",function(){i.updateList(t.getArray())}),i.updateRtl(),i.listenAt(i.getMap().get("localiser")).on("change:language",function(){i.updateRtl()})}},0)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeaturePopup=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=y(i(2)),o=y(i(254)),a=y(i(163)),s=y(i(10)),u=i(1),l=y(i(36)),c=y(i(22)),h=y(i(245)),f=y(i(283)),p=i(72),d=i(179),g=i(13),v=i(5);function y(t){return t&&t.__esModule?t:{default:t}}function _(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}i(1213);e.FeaturePopup=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.className_=t.hasOwnProperty("className")?t.className:"g4u-featurepopup",i.classNameFeatureName_=i.className_+"-feature-name",i.classNameFeatureDescription_=i.className_+"-feature-description",i.$name_=(0,r.default)("<h3>").addClass(i.classNameFeatureName_),i.$description_=(0,r.default)("<p>").addClass(i.classNameFeatureDescription_),i.feature_=null,i.visible_=!1,i.referencingVisibleLayers_=[],i.pixelOffset_=t.hasOwnProperty("offset")?t.offset:[0,0],i.iconSizedOffset_=t.hasOwnProperty("iconSizedOffset")?t.iconSizedOffset:[0,0],i.centerOnPopup_=!t.hasOwnProperty("centerOnPopup")||t.centerOnPopup,i.centerOnPopupInitial_=i.centerOnPopup_,i.animated_=!t.hasOwnProperty("animated")||t.animated,i.$element_=(0,r.default)("<div>").addClass(i.className_).addClass(g.cssClasses.hidden),i.overlay_=new h.default({element:i.$element_.get(0),offset:i.pixelOffset_,positioning:t.hasOwnProperty("positioning")?t.positioning:"center-center",stopEvent:!0}),i.defaultPopupModifiers_=t.popupModifier||[],i.draggable_=t.draggable||!1,i.currentPopupModifiers_=[],i.window_=null,i.map__=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,v.mixin)(c.default,p.ListenerOrganizerMixin)),n(e,[{key:"setMap",value:function(t){var i=this;if(this.getMap()&&(this.detachAllListeners(),this.getMap().removeOverlay(this.overlay_)),t){this.window_=new d.Window({draggable:this.draggable_,fixedPosition:!0,map:t}),this.window_.get$Body().append(this.$name_).append(this.$description_),this.listenAt(this.window_).on("change:visible",function(){i.window_.getVisible()||i.setVisible(!1)}),this.$element_.append(this.window_.get$Element()),this.listenAt(t.getDefaultInteractions("singleclick")[0]).on("interaction",function(t){var n=t.interacted.filter(function(t){var i=t.feature;return e.canDisplay(i)});if(n.length){var r=n[0],o=r.feature,a=r.layer;i.onFeatureClick_(o,a,t.coordinate)}}),this.listenAt(t.getDefaultInteractions("pointermove")[0]).on("interaction",function(i){i.interacted.filter(function(t){var i=t.feature;return e.canDisplay(i)}).length?(0,r.default)(t.getViewport()).addClass(g.cssClasses.clickable):(0,r.default)(t.getViewport()).removeClass(g.cssClasses.clickable)});var n=function(t,e){e.getFeatures&&i.listenAt(e).on("removefeature",function(t){t.feature===i.getFeature()&&i.referencingVisibleLayers_.forEach(function(t){t.getSource()===e&&i.removeReferencingLayer_(t)})})};!function t(e){if(e.getSource){var r=e.getSource();r&&n(0,r),i.listenAt(e).on("change:source",function(t){i.detachFrom(t.oldValue),n(0,e.getSource())}),i.listenAt(e).on("change:visible",function(){var t=e.getSource();t&&t.getFeatures&&(!1===e.getVisible()?t.getFeatures().indexOf(i.getFeature())>-1&&i.removeReferencingLayer_(e):t.getFeatures().indexOf(i.getFeature())>-1&&i.referencingVisibleLayers_.push(e))})}e.getLayers&&(e.getLayers().forEach(t),i.listenAt(e.getLayers()).on("add",function(e){t(e.element)}).on("remove",function(t){t.element.getSource&&t.element.getSource()&&i.detachFrom(t.element.getSource()),i.detachFrom(t.element)}))}(t.getLayerGroup()),t.addOverlay(this.overlay_),this.$element_.parent().addClass(this.className_+"-container");var o=function(){t.get("mobile")?i.centerOnPopup_=!1:i.centerOnPopup_=i.centerOnPopupInitial_};o(),this.listenAt(t).on("change:mobile",o),t.once("postrender",function(){i.window_.updateSize()})}this.map__=t}},{key:"onFeatureClick_",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.get("features")&&(t=t.get("features")[0]),this.referencingVisibleLayers_=[],this.getMap().getLayerGroup().recursiveForEach(function(e){e.getVisible()&&e.getSource&&e.getSource().getFeatures&&e.getSource().getFeatures().indexOf(t)>-1&&i.referencingVisibleLayers_.push(e)}),this.setFeature(t,t.getStyle()||e.getStyle(),n),this.setVisible(!0),this.centerOnPopup_&&this.centerMapOnPopup()}},{key:"removeReferencingLayer_",value:function(t){this.referencingVisibleLayers_.splice(this.referencingVisibleLayers_.indexOf(t),1),0===this.referencingVisibleLayers_.length&&this.setVisible(!1)}},{key:"getMap",value:function(){return this.map__}},{key:"getFeature",value:function(){return this.feature_}},{key:"getLayers",value:function(){return this.referencingVisibleLayers_}},{key:"updateContent",value:function(){var t=this;return this.getMap().get("localiser").isRtl()?this.window_.get$Body().prop("dir","rtl"):this.window_.get$Body().prop("dir",void 0),this.getMap().get("popupModifiers").apply({name:this.getFeature().get("name"),description:this.getFeature().get("description")},this.currentPopupModifiers_).then(function(e){return e.name?(t.$name_.removeClass(g.cssClasses.hidden),t.$name_.html(e.name)):t.$name_.addClass(g.cssClasses.hidden),e.description?(t.$description_.removeClass(g.cssClasses.hidden),t.$description_.html(e.description)):t.$description_.addClass(g.cssClasses.hidden),t.dispatchEvent("update:content"),(0,v.finishAllImages)(t.$description_)}).then(function(){t.updateSize()})}},{key:"update",value:function(t){var e=this;if(this.getFeature()){var i=this.getFeature();this.$name_.empty(),this.$description_.empty(),this.updateContent().then(function(){if(i.get("observedByPopup")||(i.on("change:name",function(){return e.updateContent()}),i.on("change:description",function(){return e.updateContent()}),i.set("observedByPopup",!0)),e.once("change:feature",function(){i.un("change:name",function(){return e.updateContent()}),i.un("change:description",function(){return e.updateContent()}),i.set("observedByPopup",!1)}),!e.getMap().get("mobile")){var n=e.getMap().getView().getResolution();e.addIconSizedOffset(e.getFeature(),t,n)}var r=!0,o=!1,a=void 0;try{for(var s,u=e.referencingVisibleLayers_[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var l=s.value;l.get("addClass")&&e.window_.get$Element().addClass(l.get("addClass"))}}catch(t){o=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}e.getVisible()&&setTimeout(function(){return e.window_.updateSize()},0)})}}},{key:"updateSize",value:function(){this.getVisible()&&this.window_&&this.window_.updateSize&&this.window_.updateSize()}},{key:"setFeature",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=this.feature_;if(t){var s=n;(t.getGeometry()instanceof l.default||!n)&&(s=(0,u.getCenter)(t.getGeometry().getExtent())),this.overlay_.setPosition(s)}if(a!==t){this.feature_&&this.feature_.un("change:geometry",this.geometryChangeHandler_),this.feature_=t,this.currentPopupModifiers_=[].concat(_(this.defaultPopupModifiers_),_(r));var c=!0,h=!1,f=void 0;try{for(var p,d=this.referencingVisibleLayers_[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var g=p.value;this.currentPopupModifiers_=this.currentPopupModifiers_.concat((0,o.default)(g.get("popupModifiers")))}}catch(t){h=!0,f=t}finally{try{!c&&d.return&&d.return()}finally{if(h)throw f}}this.geometryChangeHandler_=function(){var r=n;(t.getGeometry()instanceof l.default||!n)&&(r=(0,u.getCenter)(t.getGeometry().getExtent())),i.overlay_.setPosition(r),i.getVisible()&&i.update(e)},this.feature_.on("change:geometry",this.geometryChangeHandler_),this.dispatchEvent({type:"change:feature",oldValue:a,key:"feature"}),this.update(e)}}},{key:"getVisible",value:function(){return this.visible_}},{key:"setVisible",value:function(t){var e=this,i=this.visible_;i!==t&&(!0===t&&this.getFeature()?(this.$element_.removeClass(g.cssClasses.hidden),this.window_.setVisible(!0)):(this.$element_.addClass(g.cssClasses.hidden),this.window_.setVisible(!1),this.window_.resetDragged()),this.visible_=t,this.dispatchEvent({type:"change:visible",oldValue:i,key:"visible"})),t&&setTimeout(function(){return e.window_.updateSize()},0)}},{key:"addIconSizedOffset",value:function(t,e,i){var n=this;if((0!==this.iconSizedOffset_[0]||0!==this.iconSizedOffset_[1])&&e&&((0,a.default)(e)&&(e=e(t,i)),(0,s.default)(e)&&(e=e[0]),e)){var r=e.getImage();r instanceof f.default&&new Promise(function(t){var e=r.getImage();e.complete&&e.src?t():(e.addEventListener("load",function(){n.getMap().render(),n.getMap().once("postcompose",t)}),r.load())}).then(function(){var t=r.getSize(),e=[n.pixelOffset_[0]+n.iconSizedOffset_[0]*t[0]*(r.getScale()||1),n.pixelOffset_[1]+n.iconSizedOffset_[1]*t[1]*(r.getScale()||1)];n.overlay_.setOffset(e)})}}},{key:"centerMapOnPopup",value:function(t){var e=this;t=void 0===t?this.animated_:t;var i=function(){e.window_.updateSize(),e.getMap().get("move").toPoint(e.getCenter(),{animated:t})};(0,v.finishAllImages)(this.window_.get$Body()).then(function(){e.getMap().getPixelFromCoordinate([0,0])?i():e.getMap().once("postrender",i)})}},{key:"getCenter",value:function(){var t=this.overlay_.getOffset(),e=this.getMap().getPixelFromCoordinate(this.overlay_.getPosition());e[0]+=t[0],e[1]+=t[1];var i=this.overlay_.getPositioning().split("-"),n=this.$element_.outerWidth(),r=this.$element_.outerHeight();return"left"===i[1]&&(e[0]+=n/2),"right"===i[1]&&(e[0]-=n/2),"top"===i[0]&&(e[1]+=r/2),"bottom"===i[0]&&(e[1]-=r/2),this.getMap().getCoordinateFromPixel(e)}}],[{key:"canDisplay",value:function(t){return t.get("features")&&1===t.get("features").length&&(t=t.get("features")[0]),!t.get("disabled")&&(t.get("name")||t.get("description")&&(0,r.default)("<span>").html(t.get("description")).text().match(/\S/))}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ControlLogicMixin=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(13);e.ControlLogicMixin=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.className_=t.hasOwnProperty("className")?t.className:"",t.hasOwnProperty("target")){var e=void 0;e="string"==typeof t.target&&"#"!==t.target[0]?(0,r.default)("#"+t.target):(0,r.default)(t.target),this.set$Target(e)}t.hasOwnProperty("element")&&(0,r.default)(t.element).addClass(this.className_).addClass("ol-unselectable ol-control"),this.singleButton=!0===t.singleButton,this.singleButton&&(0,r.default)(t.element).addClass(o.cssClasses.mainButton),this.controlName_=t.controlName,this.windowed_=!!t.hasOwnProperty("windowed")&&t.windowed,this.localiser_=t.localiser,this.title_=t.hasOwnProperty("title")?this.getLocaliser().selectL10N(t.title):void 0,this.tipLabel_=t.hasOwnProperty("tipLabel")?this.getLocaliser().selectL10N(t.tipLabel):void 0,this.float_=void 0===t.float?["top","left"]:t.float,this.importance_=t.importance||0,this.visible_=!0}},{key:"getFloat",value:function(){return this.float_}},{key:"getImportance",value:function(){return this.importance_}},{key:"getLocaliser",value:function(){return this.localiser_}},{key:"isSingleButton",value:function(){return this.singleButton}},{key:"isWindowed",value:function(){return this.windowed_}},{key:"getControlName",value:function(){return this.controlName_}},{key:"getTitle",value:function(){return this.title_}},{key:"setTitle",value:function(t){this.title_=this.getLocaliser().selectL10N(t)}},{key:"getTipLabel",value:function(){return this.tipLabel_}},{key:"setTipLabel",value:function(t){this.tipLabel_=this.getLocaliser().selectL10N(t)}},{key:"get$Element",value:function(){return(0,r.default)(this.element)}},{key:"get$Target",value:function(){return this.catched$Target_?this.catched$Target_:this.getMap()?(this.catched$Target_=(0,r.default)(this.getMap().getViewport()).children(".ol-overlaycontainer-stopevent"),this.catched$Target_):void 0}},{key:"getClassName",value:function(){return this.className_}},{key:"set$Target",value:function(t){this.catched$Target_=t,this.setTarget(t[0]),t.append(this.get$Element())}},{key:"setVisible",value:function(t){t!==this.visible_&&(this.get$Element().toggleClass(o.cssClasses.hidden,!t),this.visible_=t,this.dispatchEvent("change:visible"))}},{key:"getVisible",value:function(){return this.visible_}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayerSelector=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),a=i(114),s=i(603),u=i(31),l=i(5),c=i(179);i(1223);var h=i(72),f=i(152),p=i(59);e.LayerSelector=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-layerselector",t.element=(0,o.default)("<div>")[0],t.singleButton=!1;var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.layerGroupName_=t.layerGroupName,i.minLayerAmount_=t.hasOwnProperty("minLayerAmount")?t.minLayerAmount:1,i.collapsible_=!t.hasOwnProperty("collapsible")||t.collapsible,i.collapsed_=t.collapsed||!1,i.classNames_={menu:i.getClassName()+"-menu",layerButton:i.getClassName()+"-layerbutton",active:i.getClassName()+"-active",featureInfo:i.getClassName()+"-info",featureInfoActive:i.getClassName()+"-info-active",disabled:i.getClassName()+"-disabled"},i.menu_=new s.ButtonBox({element:i.get$Element(),className:i.getClassName(),title:i.getLocaliser().selectL10N(i.getTitle()),collapsible:i.collapsible_,collapsed:i.collapsed_}),i.menu_.on("change:collapsed",function(){return i.dispatchEvent("change:size")}),i.get$Element().append(i.menu_.get$Element()),i.minVisibleButtons_=t.minVisibleEntries||5,i.visible_=!0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,l.mixin)(u.Control,h.ListenerOrganizerMixin)),r(e,[{key:"getCollapsible",value:function(){return this.collapsible_}},{key:"getCollapsed",value:function(){return this.menu_.getCollapsed()}},{key:"setCollapsed",value:function(t,e){t!==this.menu_.getCollapsed()&&this.menu_.setCollapsed(t,e)}},{key:"addWindowToButton",value:function(t,e){var i=this,n=e.get("window"),r=new c.Window({map:this.getMap()});this.$windowContainer_||(this.$windowContainer_=(0,o.default)("<span>"),this.get$Element().append(this.$windowContainer_)),this.$windowContainer_.append(r.get$Element()),e.get("addClass")&&r.get$Element().addClass(e.get("addClass"));var a=void 0,s=function(){i.getMap().get("localiser").isRtl()?r.get$Body().prop("dir","rtl"):r.get$Body().prop("dir",void 0),r.get$Body().html(a),r.setVisible(!0)};this.listenAt(t).on("click",function(){if(e.getVisible())if(a)s();else{var t=f.URL.extractFromConfig(n,"url",void 0,i.getMap());o.default.get(t.finalize(),function(t){a=t,s()})}else r.setVisible(!1)})}},{key:"updateDisabledButtons",value:function(){this.dispatchEvent("update:disabled")}},{key:"buildLayerButton",value:function(t,e){var i=this;if(t.get("available")){var n=(0,o.default)("<button>").addClass(this.classNames_.layerButton).attr("id",t.get("id")).html(t.get("title"));t.get("addClass")&&n.addClass(t.get("addClass")),t.get("disabled")&&n.addClass(this.classNames_.disabled),this.on("update:disabled",function(){n.toggleClass(i.classNames_.disabled,t.get("disabled"))}),this.getMap().get("localiser").isRtl()&&n.prop("dir","rtl");var r=this.classNames_.menu+"-active";return this.listenAt(n).on("click",function(){t.setVisible(!t.getVisible()),i.dispatchEvent({type:"click:layer",layer:t})}),t.getVisible()&&n.addClass(r),this.listenAt(t).on("change:visible",function(){n.toggleClass(r,t.getVisible()),t.getVisible()||n.removeClass("g4u-layer-loading")}),t.get("window")&&this.addWindowToButton(n,t),this.listenAt(t).on("loadcountstart",function(){n.addClass("g4u-layer-loading")}),this.listenAt(t).on("loadcountend",function(){n.removeClass("g4u-layer-loading")}),e.append(n),n}}},{key:"buildCategoryButton",value:function(t,e){var i=this,n=e;if(t.get("available")){var r=!1!==t.get("activateChildren"),o=t.get("collapsed");void 0===o&&(o=!t.countChildrenVisible()&&!1!==t.get("collapsed"),t.set("collapsed",o));var u=new s.ButtonBox({className:this.classNames_.menu,title:this.getLocaliser().selectL10N(t.get("title")),rtl:this.getMap().get("localiser").isRtl(),titleButton:r,collapsed:o,id:t.get("id"),addClass:t.get("addClass")}),l=t.countChildren(),c=t.countChildrenVisible(),h=function(){0===c?(u.setCollapseButtonActive(!1),r&&u.setTitleButtonActive(!1)):c===l?(u.setCollapseButtonActive(!0),r&&u.setTitleButtonActive(!0)):(u.setCollapseButtonActive(!0),r&&u.setTitleButtonActive(!1))};h();var f=function(t){i.listenAt(t).on(["change:visible","change:childVisible"],function(e){(e.child||t).getVisible()?c++:c--,h()})};t.getLayers().forEach(f),this.listenAt(t.getLayers()).on("add",function(t){return f(t.element)}),this.listenAt(u).on("title:click",function(){var e=c<l;t.recursiveForEach(function(t){t instanceof a.GroupLayer||t.setVisible(e)}),i.dispatchEvent({type:"click:layer",layer:t})}),e.append(u.get$Element()),n=u.get$Body(),this.listenAt(u).on("change:collapsed",function(){t.set("collapsed",u.getCollapsed()),i.dispatchEvent("change:size"),i.changed()});var p=!0,d=!1,g=void 0;try{for(var v,y=t.getLayers().getArray()[Symbol.iterator]();!(p=(v=y.next()).done);p=!0){var _=v.value;this.chooseButtonBuilder(_,n)}}catch(t){d=!0,g=t}finally{try{!p&&y.return&&y.return()}finally{if(d)throw g}}return u}var m=!0,b=!1,x=void 0;try{for(var S,w=t.getLayers().getArray()[Symbol.iterator]();!(m=(S=w.next()).done);m=!0){var E=S.value;this.chooseButtonBuilder(E,n)}}catch(t){b=!0,x=t}finally{try{!m&&w.return&&w.return()}finally{if(b)throw x}}}},{key:"buildWMSButton",value:function(t,e){var i=this;if(t.get("available")){var r=function(){var r=t.get("buttons");if(r&&r.length){var a=function(){var n=0,a=t.getSource(),u=[],l=[],c=a.isFeatureInfoCheckable(),h=void 0;r.length>1&&(h=new s.ButtonBox({className:i.classNames_.menu,title:i.getLocaliser().selectL10N(t.get("title")),titleButton:!0,collapsed:!1!==t.get("collapsed"),id:t.get("id"),addClass:t.get("addClass")}),e.append(h.get$Element()),i.listenAt(h).on("change:collapsed",function(){i.dispatchEvent("change:size"),i.changed()}),e=h.get$Body());var f=i.classNames_.menu+"-active",d=function(s){u=u.concat(s.LAYERS),l=l.concat(s.QUERY_LAYERS);var d=(0,o.default)("<span>").addClass(i.classNames_.layerButton).addClass("button").html(i.getLocaliser().selectL10N(s.title)),g=(0,o.default)("<span>").addClass(i.classNames_.featureInfo);(0,p.addTooltip)(g,i.getLocaliser().localiseUsingDictionary("LayerSelector featureInfo show")),t.get("disabled")&&d.addClass(i.classNames_.disabled),i.on("update:disabled",function(){d.toggleClass(i.classNames_.disabled,t.get("disabled"))}),e.append(d);var v,y=void 0;v=function(){var e=!a.getWMSLayersVisible(s.LAYERS);e?n++:n--,d.toggleClass(f,e),a.toggleWMSLayers(s.LAYERS,e),!e&&c&&y(!1),e&&s.checked&&y(!0),0===n?(t.setVisible(!1),h&&(h.setCollapseButtonActive(!1),h.setTitleButtonActive(!1))):n===r.length?(t.setVisible(!0),h&&(h.setCollapseButtonActive(!0),h.setTitleButtonActive(!0))):(t.setVisible(!0),h&&(h.setCollapseButtonActive(!0),h.setTitleButtonActive(!1))),i.dispatchEvent({type:"click:layer",layer:t,wmsLayer:!0})},y=function(t){t&&!a.getWMSLayersVisible(s.LAYERS)&&v(),a.toggleWMSQueryLayers(s.QUERY_LAYERS,t),g.toggleClass(i.classNames_.featureInfoActive,t),t?(0,p.changeTooltip)(g,i.getLocaliser().localiseUsingDictionary("LayerSelector featureInfo hide")):(0,p.changeTooltip)(g,i.getLocaliser().localiseUsingDictionary("LayerSelector featureInfo show"))},t.getVisible()&&v(),i.listenAt(d).on("click",function(){v()}),c&&(d.append(g),i.listenAt(g).on("click",function(t){y(!g.hasClass(i.classNames_.featureInfoActive)),t.stopPropagation()})),1===r.length&&(i.listenAt(t).on("loadcountstart",function(){d.addClass("g4u-layer-loading")}),i.listenAt(t).on("loadcountend",function(){d.removeClass("g4u-layer-loading")}))},g=!0,v=!1,y=void 0;try{for(var _,m=r[Symbol.iterator]();!(g=(_=m.next()).done);g=!0){d(_.value)}}catch(t){v=!0,y=t}finally{try{!g&&m.return&&m.return()}finally{if(v)throw y}}if(h)return i.listenAt(h).on("title:click",function(){var e=n<r.length;e?(a.toggleWMSLayers(u,!0),n=r.length):(a.toggleWMSLayers(u,!1),c&&(a.toggleWMSQueryLayers(l,!1),h.get$Body().find("input[type=checkbox]").prop("checked",!1)),n=0),h.get$Body().find("button").toggleClass(f,e),t.setVisible(e),h.setCollapseButtonActive(e),h.setTitleButtonActive(e),i.dispatchEvent({type:"click:category",layer:t,wmsLayer:!0})}),i.listenAt(t).on("loadcountstart",function(){h.get$Element().addClass("g4u-layer-loading")}),i.listenAt(t).on("loadcountend",function(){h.get$Element().removeClass("g4u-layer-loading")}),{v:{v:h}}}();if("object"===(void 0===a?"undefined":n(a)))return a.v}else{var u=t.getSource(),l=u.isFeatureInfoCheckable(),c=i.classNames_.menu+"-active",h=(0,o.default)("<span>").addClass(i.classNames_.layerButton).addClass("button").html(i.getLocaliser().selectL10N(t.get("title")));t.get("addClass")&&h.addClass(t.get("addClass")),t.get("disabled")&&h.addClass(i.classNames_.disabled),i.on("update:disabled",function(){h.toggleClass(i.classNames_.disabled,t.get("disabled"))});var f=(0,o.default)("<span>").addClass(i.classNames_.featureInfo);(0,p.addTooltip)(f,i.getLocaliser().localiseUsingDictionary("LayerSelector featureInfo show")),e.append(h);var d,g=void 0;d=function(){var e=!t.getVisible();t.setVisible(e),h.toggleClass(c,e),!e&&l&&g(!1),e&&u.isFeatureInfoChecked()&&g(!0),i.dispatchEvent({type:"click:layer",layer:t,wmsLayer:!0})};var v=u.getFeatureInfoParams();g=function(e){e&&!t.getVisible()&&d(),u.toggleWMSQueryLayers(v.QUERY_LAYERS,e),f.toggleClass(i.classNames_.featureInfoActive,e),e?(0,p.changeTooltip)(f,i.getLocaliser().localiseUsingDictionary("LayerSelector featureInfo hide")):(0,p.changeTooltip)(f,i.getLocaliser().localiseUsingDictionary("LayerSelector featureInfo show"))},i.listenAt(h).on("click touchstart",function(){d(),i.dispatchEvent({type:"click:layer",layer:t,wmsLayer:!0})}),i.listenAt(t).on("change:visible",function(){h.toggleClass(c,t.getVisible())}),t.get("window")&&i.addWindowToButton(h,t),l&&(h.append(f),i.listenAt(f).on("click touchstart",function(t){g(!f.hasClass(i.classNames_.featureInfoActive)),t.stopPropagation()})),i.listenAt(t).on("loadcountstart",function(){h.addClass("g4u-layer-loading")}),i.listenAt(t).on("loadcountend",function(){h.removeClass("g4u-layer-loading")})}}();if("object"===(void 0===r?"undefined":n(r)))return r.v}}},{key:"chooseButtonBuilder",value:function(t,e){return t instanceof a.GroupLayer?this.buildCategoryButton(t,e):t.getSource&&t.getSource()&&t.getSource().isFeatureInfoCheckable?this.buildWMSButton(t,e):this.buildLayerButton(t,e)}},{key:"setMap",value:function(t){this.getMap()&&this.clear(),function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&this.build()}},{key:"clear",value:function(){this.detachAllListeners(),this.menu_.get$Body().empty()}},{key:"build",value:function(){var t=this;if(this.layers_=this.getMap().get(this.layerGroupName_).getLayers(),this.layers_.getLength()>=this.minLayerAmount_){this.setVisible(!0);var e=new s.ButtonBox({className:this.classNames_.menu}),i=!0,n=!1,r=void 0;try{for(var o,a=this.layers_.getArray()[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var u=o.value;this.chooseButtonBuilder(u,this.menu_.get$Body())}}catch(t){n=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(n)throw r}}e.giveLastVisible(this.get$Element().children(":last-child").children(":last-child")),this.listenAt(this.menu_).on("change:collapsed",function(){return t.dispatchEvent("change:size")})}else this.setVisible(!1)}},{key:"rebuild",value:function(){this.clear(),this.build()}},{key:"isSqueezable",value:function(t){return"height"===t}},{key:"squeezeBy",value:function(t,e){if("height"===t){var i=this.get$Element().find("."+this.getClassName()+"-content"),n=i.find("button:visible").filter("."+this.getClassName()+"-layerbutton,."+this.getClassName()+"-menu-titlebutton");if(n.length>1){var r=i.height(),o=(0,l.offset)(n.eq(1),n.eq(0)).top,a=Math.max(o*this.minVisibleButtons_,r-e);if(r>a)return i.css("max-height",a),r-a}}return 0}},{key:"beforePositioning",value:function(){this.scrolled_=this.menu_.get$Body().scrollTop()}},{key:"afterPositioning",value:function(){this.menu_.get$Body().scrollTop(this.scrolled_)}},{key:"release",value:function(t){"height"===t&&this.get$Element().find("."+this.getClassName()+"-content").css("max-height","")}}]),e}()},function(t,e,i){var n=i(15),r=i(81),o=i(136),a=i(107),s=n(function(t,e){var i=a(e,o(s));return r(t,32,void 0,e,i)});s.placeholder={},t.exports=s},function(t,e){var i="Expected a function";t.exports=function(t,e,n){if("function"!=typeof t)throw new TypeError(i);return setTimeout(function(){t.apply(void 0,n)},e)}},function(t,e,i){var n=i(43),r=i(618),o=i(157),a="Expected a function",s=Math.max,u=Math.min;t.exports=function(t,e,i){var l,c,h,f,p,d,g=0,v=!1,y=!1,_=!0;if("function"!=typeof t)throw new TypeError(a);function m(e){var i=l,n=c;return l=c=void 0,g=e,f=t.apply(n,i)}function b(t){var i=t-d;return void 0===d||i>=e||i<0||y&&t-g>=h}function x(){var t=r();if(b(t))return S(t);p=setTimeout(x,function(t){var i=e-(t-d);return y?u(i,h-(t-g)):i}(t))}function S(t){return p=void 0,_&&l?m(t):(l=c=void 0,f)}function w(){var t=r(),i=b(t);if(l=arguments,c=this,d=t,i){if(void 0===p)return function(t){return g=t,p=setTimeout(x,e),v?m(t):f}(d);if(y)return p=setTimeout(x,e),m(d)}return void 0===p&&(p=setTimeout(x,e)),f}return e=o(e)||0,n(i)&&(v=!!i.leading,h=(y="maxWait"in i)?s(o(i.maxWait)||0,e):h,_="trailing"in i?!!i.trailing:_),w.cancel=function(){void 0!==p&&clearTimeout(p),g=0,l=d=c=p=void 0},w.flush=function(){return void 0===p?f:S(r())},w}},function(t,e,i){var n=i(21),r="Expected a function";t.exports=function(t,e){var i;if("function"!=typeof e)throw new TypeError(r);return t=n(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=void 0),i}}},function(t,e,i){var n=i(628),r=i(627),o=i(256),a=i(626);t.exports=function(t,e,i){var s=e+"";return o(t,r(s,a(n(s),i)))}},function(t,e,i){var n=i(350),r=i(368)(n);t.exports=r},function(t,e,i){var n=i(200),r=i(246);function o(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}o.prototype=n(r.prototype),o.prototype.constructor=o,t.exports=o},function(t,e,i){var n=i(349),r=i(356),o=n?function(t){return n.get(t)}:r;t.exports=o},function(t,e,i){var n=i(633),r=i(342),o=i(341),a=1,s=2,u=4,l=8,c=32,h=64;t.exports=function(t,e,i,f,p,d,g,v,y,_){var m=e&l;e|=m?c:h,(e&=~(m?h:c))&u||(e&=~(a|s));var b=[t,e,p,m?d:void 0,m?g:void 0,m?void 0:d,m?void 0:g,v,y,_],x=i.apply(void 0,b);return n(t)&&r(x,b),x.placeholder=f,o(x,t,e)}},function(t,e){var i=Math.max;t.exports=function(t,e,n,r){for(var o=-1,a=t.length,s=-1,u=n.length,l=-1,c=e.length,h=i(a-u,0),f=Array(h+c),p=!r;++o<h;)f[o]=t[o];for(var d=o;++l<c;)f[d+l]=e[l];for(;++s<u;)(p||o<a)&&(f[d+n[s]]=t[o++]);return f}},function(t,e){var i=Math.max;t.exports=function(t,e,n,r){for(var o=-1,a=t.length,s=n.length,u=-1,l=e.length,c=i(a-s,0),h=Array(l+c),f=!r;++u<l;)h[u]=e[u];for(;++o<s;)(f||o<a)&&(h[n[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}},function(t,e,i){var n=i(347),r=i(346),o=i(634),a=i(180),s=i(345),u=i(136),l=i(625),c=i(107),h=i(35),f=1,p=2,d=8,g=16,v=128,y=512;t.exports=function t(e,i,_,m,b,x,S,w,E,M){var O=i&v,C=i&f,T=i&p,P=i&(d|g),L=i&y,A=T?void 0:a(e);return function f(){for(var p=arguments.length,d=Array(p),g=p;g--;)d[g]=arguments[g];if(P)var v=u(f),y=o(d,v);if(m&&(d=n(d,m,b,P)),x&&(d=r(d,x,S,P)),p-=y,P&&p<M){var I=c(d,v);return s(e,i,t,f.placeholder,_,d,I,w,E,M-p)}var R=C?_:this,k=T?R[e]:e;return p=d.length,w?d=l(d,w):L&&p>1&&d.reverse(),O&&E<p&&(d.length=E),this&&this!==h&&this instanceof f&&(k=A||a(k)),k.apply(R,d)}}},function(t,e,i){var n=i(419),r=n&&new n;t.exports=r},function(t,e,i){var n=i(110),r=i(349),o=r?function(t,e){return r.set(t,e),t}:n;t.exports=o},function(t,e,i){var n=i(81),r=128;t.exports=function(t,e,i){return e=i?void 0:e,e=t&&null==e?t.length:e,n(t,r,void 0,void 0,void 0,void 0,e)}},function(t,e,i){t.exports={after:i(637),ary:i(351),before:i(340),bind:i(622),bindKey:i(621),curry:i(620),curryRight:i(619),debounce:i(339),defer:i(617),delay:i(616),flip:i(615),memoize:i(380),negate:i(364),once:i(614),overArgs:i(613),partial:i(337),partialRight:i(611),rearg:i(610),rest:i(609),spread:i(608),throttle:i(606),unary:i(605),wrap:i(604)}},function(t,e){t.exports=function(t,e,i){for(var n=-1,r=t.length,o=e.length,a={};++n<r;){var s=n<o?e[n]:void 0;i(a,t[n],s)}return a}},function(t,e,i){var n=i(89),r=i(38),o=i(249);t.exports=function(t,e){if(!t||!t.length)return[];var i=o(t);return null==e?i:r(i,function(t){return n(e,void 0,t)})}},function(t,e,i){var n=i(108);t.exports=function(t){return t&&t.length?n(t):[]}},function(t,e){t.exports=function(){}},function(t,e,i){var n=i(96);t.exports=function(t,e){for(var i=-1,r=t.length,o=0,a=[];++i<r;){var s=t[i],u=e?e(s):s;if(!i||!n(u,l)){var l=u;a[o++]=0===s?0:s}}return a}},function(t,e,i){var n=i(254),r=i(369),o=i(256);t.exports=function(t){return o(r(t,void 0,n),t+"")}},function(t,e,i){var n=i(669),r=i(95),o=Array.prototype.splice;t.exports=function(t,e){for(var i=t?e.length:0,a=i-1;i--;){var s=e[i];if(i==a||s!==u){var u=s;r(s)?o.call(t,s,1):n(t,s)}}return t}},function(t,e,i){var n=i(251);t.exports=function(t,e){return t&&t.length&&e&&e.length?n(t,e):t}},function(t,e){t.exports=function(t){return t&&t.length?t[0]:void 0}},function(t,e){var i=Math.floor,n=Math.random;t.exports=function(t,e){return t+i(n()*(e-t+1))}},function(t,e,i){var n=i(362);t.exports=function(t){var e=t.length;return e?t[n(0,e-1)]:void 0}},function(t,e){var i="Expected a function";t.exports=function(t){if("function"!=typeof t)throw new TypeError(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},function(t,e){t.exports=function(t,e,i,n,r){return r(t,function(t,r,o){i=n?(n=!1,t):e(i,t,r,o)}),i}},function(t,e,i){var n=i(92);t.exports=function(t,e){if(t!==e){var i=void 0!==t,r=null===t,o=t==t,a=n(t),s=void 0!==e,u=null===e,l=e==e,c=n(e);if(!u&&!c&&!a&&t>e||a&&s&&l&&!u&&!c||r&&s&&l||!i&&l||!o)return 1;if(!r&&!a&&!c&&t<e||c&&i&&o&&!r&&!a||u&&i&&o||!s&&o||!l)return-1}return 0}},function(t,e,i){var n=i(38),r=i(16),o=i(372),a=i(725),s=i(63),u=i(724),l=i(110);t.exports=function(t,e,i){var c=-1;e=n(e.length?e:[l],s(r));var h=o(t,function(t,i,r){return{criteria:n(e,function(e){return e(t)}),index:++c,value:t}});return a(h,function(t,e){return u(t,e,i)})}},function(t,e){var i=800,n=16,r=Date.now;t.exports=function(t){var e=0,o=0;return function(){var a=r(),s=n-(a-o);if(o=a,s>0){if(++e>=i)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,i){var n=i(89),r=Math.max;t.exports=function(t,e,i){return e=r(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=r(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=o[a];return l[e]=i(u),n(t,this,l)}}},function(t,e,i){var n=i(260),r=i(60);t.exports=function(t,e){return e.length<2?t:n(t,r(e,0,-1))}},function(t,e){t.exports=function(t){return t!=t}},function(t,e,i){var n=i(90),r=i(42);t.exports=function(t,e){var i=-1,o=r(t)?Array(t.length):[];return n(t,function(t,n,r){o[++i]=e(t,n,r)}),o}},function(t,e,i){var n=i(187),r=i(16),o=i(21),a=Math.max,s=Math.min;t.exports=function(t,e,i){var u=null==t?0:t.length;if(!u)return-1;var l=u-1;return void 0!==i&&(l=o(i),l=i<0?a(u+l,0):s(l,u-1)),n(t,r(e,3),l,!0)}},function(t,e,i){var n=i(187),r=i(16),o=i(21),a=Math.max;t.exports=function(t,e,i){var s=null==t?0:t.length;if(!s)return-1;var u=null==i?0:o(i);return u<0&&(u=a(s+u,0)),n(t,r(e,3),u)}},function(t,e,i){var n=i(16),r=i(42),o=i(82);t.exports=function(t){return function(e,i,a){var s=Object(e);if(!r(e)){var u=n(i,3);e=o(e),i=function(t){return u(s[t],t,s)}}var l=t(e,i,a);return l>-1?s[u?e[l]:l]:void 0}}},function(t,e,i){var n=i(90);t.exports=function(t,e){var i=[];return n(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i}},function(t,e,i){var n=i(746),r=i(383)(n,!0);t.exports=r},function(t,e,i){var n=i(747),r=i(377),o=i(257),a=i(10);t.exports=function(t,e){return(a(t)?n:r)(t,o(e))}},function(t,e,i){var n=i(279),r=i(90),o=i(257),a=i(10);t.exports=function(t,e){return(a(t)?n:r)(t,o(e))}},function(t,e,i){var n=i(280),r="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(r);var i=function(){var n=arguments,r=e?e.apply(this,n):n[0],o=i.cache;if(o.has(r))return o.get(r);var a=t.apply(this,n);return i.cache=o.set(r,a)||o,a};return i.cache=new(o.Cache||n),i}o.Cache=n,t.exports=o},function(t,e,i){var n=i(260);t.exports=function(t,e,i){var r=null==t?void 0:n(t,e);return void 0===r?i:r}},function(t,e){t.exports=function(t,e){return function(i){return null!=i&&i[t]===e&&(void 0!==e||t in Object(i))}}},function(t,e,i){var n=i(42);t.exports=function(t,e){return function(i,r){if(null==i)return i;if(!n(i))return t(i,r);for(var o=i.length,a=e?o:-1,s=Object(i);(e?a--:++a<o)&&!1!==r(s[a],a,s););return i}}},function(t,e){t.exports=function(t){return function(e,i,n){for(var r=-1,o=Object(e),a=n(e),s=a.length;s--;){var u=a[t?s:++r];if(!1===i(o[u],u,o))break}return e}}},function(t,e,i){t.exports={countBy:i(763),each:i(749),eachRight:i(748),every:i(744),filter:i(741),find:i(740),findLast:i(739),flatMap:i(738),flatMapDeep:i(736),flatMapDepth:i(735),forEach:i(379),forEachRight:i(378),groupBy:i(734),includes:i(733),invokeMap:i(731),keyBy:i(727),map:i(186),orderBy:i(726),partition:i(723),reduce:i(722),reduceRight:i(720),reject:i(718),sample:i(717),sampleSize:i(715),shuffle:i(712),size:i(709),some:i(705),sortBy:i(703)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),r=i(20),o=h(i(64)),a=i(67),s=i(3),u=h(i(4)),l=i(1),c=h(i(36));function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(e){t.call(this,{attributions:e.attributions,extent:e.extent,projection:e.projection,wrapX:e.wrapX}),this.resolution=void 0,this.distance=void 0!==e.distance?e.distance:20,this.features=[],this.geometryFunction=e.geometryFunction||function(t){var e=t.getGeometry();return(0,r.assert)(e instanceof c.default,10),e},this.source=e.source,(0,s.listen)(this.source,u.default.CHANGE,this.refresh,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDistance=function(){return this.distance},e.prototype.getSource=function(){return this.source},e.prototype.loadFeatures=function(t,e,i){this.source.loadFeatures(t,e,i),e!==this.resolution&&(this.clear(),this.resolution=e,this.cluster(),this.addFeatures(this.features))},e.prototype.setDistance=function(t){this.distance=t,this.refresh()},e.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features),t.prototype.refresh.call(this)},e.prototype.cluster=function(){if(void 0!==this.resolution){this.features.length=0;for(var t=(0,l.createEmpty)(),e=this.distance*this.resolution,i=this.source.getFeatures(),r={},o=0,a=i.length;o<a;o++){var s=i[o];if(!((0,n.getUid)(s).toString()in r)){var u=this.geometryFunction(s);if(u){var c=u.getCoordinates();(0,l.createOrUpdateFromCoordinate)(c,t),(0,l.buffer)(t,e,t);var h=this.source.getFeaturesInExtent(t);h=h.filter(function(t){var e=(0,n.getUid)(t).toString();return!(e in r)&&(r[e]=!0,!0)}),this.features.push(this.createCluster(h))}}}}},e.prototype.createCluster=function(t){for(var e=[0,0],i=t.length-1;i>=0;--i){var n=this.geometryFunction(t[i]);n?(0,a.add)(e,n.getCoordinates()):t.splice(i,1)}(0,a.scale)(e,1/t.length);var r=new o.default(new c.default(e));return r.set("features",t),r},e}(h(i(44)).default);e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(389),r=i(20),o=i(1),a=i(9),s=i(14),u=i(6),l=i(191),c=i(100),h=v(i(91)),f=v(i(388)),p=i(62),d=i(221),g=i(138);function v(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function e(e){var i=e||{},n=i.params||{},r=!("TRANSPARENT"in n)||n.TRANSPARENT;t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,opaque:!r,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:i.tileClass,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition}),this.gutter_=void 0!==i.gutter?i.gutter:0,this.params_=n,this.v13_=!0,this.serverType_=i.serverType,this.hidpi_=void 0===i.hidpi||i.hidpi,this.tmpExtent_=(0,o.createEmpty)(),this.updateV13_(),this.setKey(this.getKeyForParams_())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGetFeatureInfoUrl=function(t,e,i,r){var s=(0,u.get)(i),h=this.getProjection(),f=this.getTileGrid();f||(f=this.getTileGridForProjection(s));var p=f.getTileCoordForCoordAndResolution(t,e);if(!(f.getResolutions().length<=p[0])){var d=f.getResolution(p[0]),g=f.getTileCoordExtent(p,this.tmpExtent_),v=(0,c.toSize)(f.getTileSize(p[0]),this.tmpSize),y=this.gutter_;0!==y&&(v=(0,c.buffer)(v,y,this.tmpSize),g=(0,o.buffer)(g,d*y,g)),h&&h!==s&&(d=(0,l.calculateSourceResolution)(h,s,t,d),g=(0,u.transformExtent)(g,s,h),t=(0,u.transform)(t,s,h));var _={SERVICE:"WMS",VERSION:n.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,a.assign)(_,this.params_,r);var m=Math.floor((t[0]-g[0])/d),b=Math.floor((g[3]-t[1])/d);return _[this.v13_?"I":"X"]=m,_[this.v13_?"J":"Y"]=b,this.getRequestUrl_(p,v,g,1,h||s,_)}},e.prototype.getGutter=function(){return this.gutter_},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,i,n,o,a){var u=this.urls;if(u){if(a.WIDTH=e[0],a.HEIGHT=e[1],a[this.v13_?"CRS":"SRS"]=o.getCode(),"STYLES"in this.params_||(a.STYLES=""),1!=n)switch(this.serverType_){case f.default.GEOSERVER:var l=90*n+.5|0;"FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+=";dpi:"+l:a.FORMAT_OPTIONS="dpi:"+l;break;case f.default.MAPSERVER:a.MAP_RESOLUTION=90*n;break;case f.default.CARMENTA_SERVER:case f.default.QGIS:a.DPI=90*n;break;default:(0,r.assert)(!1,52)}var c,h,d=o.getAxisOrientation(),v=i;if(this.v13_&&"ne"==d.substr(0,2))c=i[0],v[0]=i[1],v[1]=c,c=i[2],v[2]=i[3],v[3]=c;if(a.BBOX=v.join(","),1==u.length)h=u[0];else h=u[(0,s.modulo)((0,p.hash)(t),u.length)];return(0,g.appendParams)(h,a)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")},e.prototype.fixedTileUrlFunction=function(t,e,i){var r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(i)),!(r.getResolutions().length<=t[0])){1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);var s=r.getResolution(t[0]),u=r.getTileCoordExtent(t,this.tmpExtent_),l=(0,c.toSize)(r.getTileSize(t[0]),this.tmpSize),h=this.gutter_;0!==h&&(l=(0,c.buffer)(l,h,this.tmpSize),u=(0,o.buffer)(u,s*h,u)),1!=e&&(l=(0,c.scale)(l,e,this.tmpSize));var f={SERVICE:"WMS",VERSION:n.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return(0,a.assign)(f,this.params_),this.getRequestUrl_(t,l,u,e,i,f)}},e.prototype.updateParams=function(t){(0,a.assign)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},e.prototype.updateV13_=function(){var t=this.params_.VERSION||n.DEFAULT_WMS_VERSION;this.v13_=(0,d.compareVersions)(t,"1.3")>=0},e}(h.default);e.default=y},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DEFAULT_WMS_VERSION="1.3.0"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(389),r=y(i(189)),o=i(20),a=i(3),s=y(i(4)),u=i(1),l=i(9),c=i(6),h=i(191),f=i(112),p=y(f),d=y(i(388)),g=i(221),v=i(138);function y(t){return t&&t.__esModule?t:{default:t}}var _=[101,101],m=function(t){function e(e){var i=e||{};t.call(this,{attributions:i.attributions,projection:i.projection,resolutions:i.resolutions}),this.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null,this.url_=i.url,this.imageLoadFunction_=void 0!==i.imageLoadFunction?i.imageLoadFunction:f.defaultImageLoadFunction,this.params_=i.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=i.serverType,this.hidpi_=void 0===i.hidpi||i.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==i.ratio?i.ratio:1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGetFeatureInfoUrl=function(t,e,i,r){if(void 0!==this.url_){var o=(0,c.get)(i),a=this.getProjection();a&&a!==o&&(e=(0,h.calculateSourceResolution)(a,o,t,e),t=(0,c.transform)(t,o,a));var s=(0,u.getForViewAndSize)(t,e,0,_),f={SERVICE:"WMS",VERSION:n.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,l.assign)(f,this.params_,r);var p=Math.floor((t[0]-s[0])/e),d=Math.floor((s[3]-t[1])/e);return f[this.v13_?"I":"X"]=p,f[this.v13_?"J":"Y"]=d,this.getRequestUrl_(s,_,1,a||o,f)}},e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,i,o){if(void 0===this.url_)return null;e=this.findNearestResolution(e),1==i||this.hidpi_&&void 0!==this.serverType_||(i=1);var c=e/i,h=(0,u.getCenter)(t),f=Math.ceil((0,u.getWidth)(t)/c),p=Math.ceil((0,u.getHeight)(t)/c),d=(0,u.getForViewAndSize)(h,c,0,[f,p]),g=Math.ceil(this.ratio_*(0,u.getWidth)(t)/c),v=Math.ceil(this.ratio_*(0,u.getHeight)(t)/c),y=(0,u.getForViewAndSize)(h,c,0,[g,v]),_=this.image_;if(_&&this.renderedRevision_==this.getRevision()&&_.getResolution()==e&&_.getPixelRatio()==i&&(0,u.containsExtent)(_.getExtent(),d))return _;var m={SERVICE:"WMS",VERSION:n.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,l.assign)(m,this.params_),this.imageSize_[0]=Math.round((0,u.getWidth)(y)/c),this.imageSize_[1]=Math.round((0,u.getHeight)(y)/c);var b=this.getRequestUrl_(y,this.imageSize_,i,o,m);return this.image_=new r.default(y,e,i,b,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),(0,a.listen)(this.image_,s.default.CHANGE,this.handleImageChange,this),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,i,n,r){if((0,o.assert)(void 0!==this.url_,9),r[this.v13_?"CRS":"SRS"]=n.getCode(),"STYLES"in this.params_||(r.STYLES=""),1!=i)switch(this.serverType_){case d.default.GEOSERVER:var a=90*i+.5|0;"FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+=";dpi:"+a:r.FORMAT_OPTIONS="dpi:"+a;break;case d.default.MAPSERVER:r.MAP_RESOLUTION=90*i;break;case d.default.CARMENTA_SERVER:case d.default.QGIS:r.DPI=90*i;break;default:(0,o.assert)(!1,8)}r.WIDTH=e[0],r.HEIGHT=e[1];var s,u=n.getAxisOrientation();return s=this.v13_&&"ne"==u.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,r.BBOX=s.join(","),(0,v.appendParams)(this.url_,r)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){(0,l.assign)(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},e.prototype.updateV13_=function(){var t=this.params_.VERSION||n.DEFAULT_WMS_VERSION;this.v13_=(0,g.compareVersions)(t,"1.3")>=0},e}(p.default);e.default=m},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileWMSSource=e.ImageWMSSource=e.WMSFeatureInfoMixin=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=l(i(2)),o=l(i(390)),a=l(i(387)),s=i(5),u=i(24);function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var p=e.WMSFeatureInfoMixin=function(){function t(){f(this,t)}return n(t,[{key:"initialize",value:function(t){this.featureInfo_=void 0!==t.featureInfo,this.featureInfo_&&(this.featureInfoParams_=t.featureInfo.params||{},this.featureInfoCheckable_=t.featureInfo.checkable,this.featureInfoMutators_=t.featureInfo.mutators,this.featureInfoChecked_=t.featureInfo.checked)}},{key:"getFeatureInfoParams",value:function(){return this.featureInfoParams_}},{key:"getQueryable",value:function(){return this.featureInfoParams_.QUERY_LAYERS&&this.featureInfoParams_.QUERY_LAYERS.length}},{key:"getFeatureInfoMutators",value:function(){return this.featureInfoMutators_||[]}},{key:"hasFeatureInfo",value:function(){return this.featureInfo_}},{key:"isFeatureInfoCheckable",value:function(){return this.featureInfoCheckable_}},{key:"isFeatureInfoChecked",value:function(){return this.featureInfoChecked_}},{key:"updateFeatureInfoParams",value:function(t){Object.assign(this.featureInfoParams_,t)}},{key:"getFeatureInfo",value:function(t,e,i){var n=this;return new Promise(function(o,a){var s=n.featureInfoParams_;if(s.QUERY_LAYERS&&0!==s.QUERY_LAYERS.length){var u=n.getGetFeatureInfoUrl(t,e,i,s).slice(1);r.default.ajax({url:n.originalUrlObject.extend(u).finalize(),success:o,error:a,dataType:"text"})}else o("")})}},{key:"toggleArrayEntries_",value:function(t,e,i,n){var r=t[e]||[];if(n)i.forEach(function(t){r.indexOf(t)<0&&r.push(t)});else{var o=!0,a=!1,s=void 0;try{for(var u,l=i[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value,h=r.indexOf(c);h>=0&&r.splice(h,1)}}catch(t){a=!0,s=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw s}}}return t[e]=r,t}},{key:"toggleWMSLayers",value:function(t,e){this.updateParams(this.toggleArrayEntries_(this.getParams(),"LAYERS",t,e))}},{key:"toggleWMSQueryLayers",value:function(t,e){this.updateFeatureInfoParams(this.toggleArrayEntries_(this.featureInfoParams_,"QUERY_LAYERS",t,e))}},{key:"arrayContainsAll",value:function(t,e){return e.every(function(e){return t.indexOf(e)>=0})}},{key:"getWMSLayersVisible",value:function(t){return this.arrayContainsAll(this.getParams().LAYERS||[],t)}},{key:"getWMSQueryLayersVisible",value:function(t){return this.arrayContainsAll(this.featureInfoParams_.QUERY_LAYERS||[],t)}}]),t}();e.ImageWMSSource=function(t){function e(t){f(this,e);var i=t.url;t.url="_",t.imageLoadFunction=function(t,e){(0,s.asyncImageLoad)(t.getImage(),n.originalUrlObject.extend(e.slice(1))).catch(function(t){return u.Debug.error(t)})};var n=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.originalUrlObject=i,n}return h(e,(0,s.mixin)(o.default,p)),e}(),e.TileWMSSource=function(t){function e(t){f(this,e);var i=t.url;t.url="_",t.tileLoadFunction=function(t,e){(0,s.asyncImageLoad)(t.getImage(),n.originalUrlObject.extend(e.slice(1))).catch(function(t){return u.Debug.error(t)})};var n=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.originalUrlObject=i,n}return h(e,(0,s.mixin)(a.default,p)),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(i(97)),r=s(i(120)),o=s(i(774)),a=i(9);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(e){var i=e||{},r=(0,a.assign)({},i);delete r.preload,delete r.useInterimTilesOnError,t.call(this,r),this.setPreload(void 0!==i.preload?i.preload:0),this.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),this.type=n.default.TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(o.default.PRELOAD)},e.prototype.setPreload=function(t){this.set(o.default.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(o.default.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(o.default.USE_INTERIM_TILES_ON_ERROR,t)},e}(r.default);u.prototype.getSource,e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileLayer=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(i(392)),r=i(263),o=i(5),a=i(155);e.TileLayer=(0,o.mixin)(n.default,[a.ProvideMapMixin,r.LayerLoadProcessCountMixin])},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(97));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(e){var i=e||{};t.call(this,i),this.type=n.default.IMAGE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r(i(120)).default);o.prototype.getSource,e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseLayerImage=e.ImageLayer=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(i(394)),r=i(263),o=i(262),a=i(5),s=i(155);var u=e.ImageLayer=(0,a.mixin)(n.default,[s.ProvideMapMixin,r.LayerLoadProcessCountMixin]);e.BaseLayerImage=(0,a.mixin)(u,o.BaseLayerMixin)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(139),r=function(){};r.prototype.read=function(t){if((0,n.isDocument)(t))return this.readFromDocument(t);if((0,n.isNode)(t))return this.readFromNode(t);if("string"==typeof t){var e=(0,n.parse)(t);return this.readFromDocument(e)}return null},r.prototype.readFromDocument=function(t){},r.prototype.readFromNode=function(t){},e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readHref=function(t){return t.getAttributeNS(n,"href")};var n="http://www.w3.org/1999/xlink"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=v(i(64)),r=i(140),o=v(i(781)),a=v(i(267)),s=v(i(25)),u=v(i(102)),l=v(i(119)),c=v(i(168)),h=v(i(143)),f=v(i(214)),p=v(i(36)),d=v(i(53)),g=v(i(66));function v(t){return t&&t.__esModule?t:{default:t}}var y={POINT:p.default,LINESTRING:l.default,POLYGON:d.default,MULTIPOINT:h.default,MULTILINESTRING:c.default,MULTIPOLYGON:f.default},_="EMPTY",m="Z",b="M",x=1,S=2,w=3,E=4,M=5,O=6,C={};for(var T in s.default)C[T]=s.default[T].toUpperCase();var P=function(t){this.wkt=t,this.index_=-1};P.prototype.isAlpha_=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},P.prototype.isNumeric_=function(t,e){return t>="0"&&t<="9"||"."==t&&!(void 0!==e&&e)},P.prototype.isWhiteSpace_=function(t){return" "==t||"\t"==t||"\r"==t||"\n"==t},P.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},P.prototype.nextToken=function(){var t=this.nextChar_(),e={position:this.index_,value:t};if("("==t)e.type=S;else if(","==t)e.type=M;else if(")"==t)e.type=w;else if(this.isNumeric_(t)||"-"==t)e.type=E,e.value=this.readNumber_();else if(this.isAlpha_(t))e.type=x,e.value=this.readText_();else{if(this.isWhiteSpace_(t))return this.nextToken();if(""!==t)throw new Error("Unexpected character: "+t);e.type=O}return e},P.prototype.readNumber_=function(){var t,e=this.index_,i=!1,n=!1;do{"."==t?i=!0:"e"!=t&&"E"!=t||(n=!0),t=this.nextChar_()}while(this.isNumeric_(t,i)||!n&&("e"==t||"E"==t)||n&&("-"==t||"+"==t));return parseFloat(this.wkt.substring(e,this.index_--))},P.prototype.readText_=function(){var t,e=this.index_;do{t=this.nextChar_()}while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()};var L=function(t){this.lexer_=t,this.token_,this.layout_=u.default.XY};L.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},L.prototype.isTokenType=function(t){return this.token_.type==t},L.prototype.match=function(t){var e=this.isTokenType(t);return e&&this.consume_(),e},L.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},L.prototype.parseGeometryLayout_=function(){var t=u.default.XY,e=this.token_;if(this.isTokenType(x)){var i=e.value;i===m?t=u.default.XYZ:i===b?t=u.default.XYM:"ZM"===i&&(t=u.default.XYZM),t!==u.default.XY&&this.consume_()}return t},L.prototype.parseGeometryCollectionText_=function(){if(this.match(S)){var t=[];do{t.push(this.parseGeometry_())}while(this.match(M));if(this.match(w))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},L.prototype.parsePointText_=function(){if(this.match(S)){var t=this.parsePoint_();if(this.match(w))return t}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())},L.prototype.parseLineStringText_=function(){if(this.match(S)){var t=this.parsePointList_();if(this.match(w))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},L.prototype.parsePolygonText_=function(){if(this.match(S)){var t=this.parseLineStringTextList_();if(this.match(w))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},L.prototype.parseMultiPointText_=function(){var t;if(this.match(S)){if(t=this.token_.type==S?this.parsePointTextList_():this.parsePointList_(),this.match(w))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},L.prototype.parseMultiLineStringText_=function(){if(this.match(S)){var t=this.parseLineStringTextList_();if(this.match(w))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},L.prototype.parseMultiPolygonText_=function(){if(this.match(S)){var t=this.parsePolygonTextList_();if(this.match(w))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},L.prototype.parsePoint_=function(){for(var t=[],e=this.layout_.length,i=0;i<e;++i){var n=this.token_;if(!this.match(E))break;t.push(n.value)}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())},L.prototype.parsePointList_=function(){for(var t=[this.parsePoint_()];this.match(M);)t.push(this.parsePoint_());return t},L.prototype.parsePointTextList_=function(){for(var t=[this.parsePointText_()];this.match(M);)t.push(this.parsePointText_());return t},L.prototype.parseLineStringTextList_=function(){for(var t=[this.parseLineStringText_()];this.match(M);)t.push(this.parseLineStringText_());return t},L.prototype.parsePolygonTextList_=function(){for(var t=[this.parsePolygonText_()];this.match(M);)t.push(this.parsePolygonText_());return t},L.prototype.isEmptyGeometry_=function(){var t=this.isTokenType(x)&&this.token_.value==_;return t&&this.consume_(),t},L.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},L.prototype.parseGeometry_=function(){var t=this.token_;if(this.match(x)){var e=t.value;if(this.layout_=this.parseGeometryLayout_(),"GEOMETRYCOLLECTION"==e){var i=this.parseGeometryCollectionText_();return new a.default(i)}var n,r=y[e];if(!r)throw new Error("Invalid geometry type: "+e);switch(e){case"POINT":n=this.parsePointText_();break;case"LINESTRING":n=this.parseLineStringText_();break;case"POLYGON":n=this.parsePolygonText_();break;case"MULTIPOINT":n=this.parseMultiPointText_();break;case"MULTILINESTRING":n=this.parseMultiLineStringText_();break;case"MULTIPOLYGON":n=this.parseMultiPolygonText_();break;default:throw new Error("Invalid geometry type: "+e)}return n||(n=r===y.POINT?[NaN,NaN]:[]),new r(n,this.layout_)}throw new Error(this.formatErrorMessage_())};var A=function(t){function e(e){t.call(this);var i=e||{};this.splitCollection_=void 0!==i.splitCollection&&i.splitCollection}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parse_=function(t){var e=new P(t);return new L(e).parse()},e.prototype.readFeatureFromText=function(t,e){var i=this.readGeometryFromText(t,e);if(i){var r=new n.default;return r.setGeometry(i),r}return null},e.prototype.readFeaturesFromText=function(t,e){for(var i=[],r=this.readGeometryFromText(t,e),o=[],a=0,u=(i=this.splitCollection_&&r.getType()==s.default.GEOMETRY_COLLECTION?r.getGeometriesArray():[r]).length;a<u;++a){var l=new n.default;l.setGeometry(i[a]),o.push(l)}return o},e.prototype.readGeometryFromText=function(t,e){var i=this.parse_(t);return i?(0,r.transformWithOptions)(i,!1,e):null},e.prototype.writeFeatureText=function(t,e){var i=t.getGeometry();return i?this.writeGeometryText(i,e):""},e.prototype.writeFeaturesText=function(t,e){if(1==t.length)return this.writeFeatureText(t[0],e);for(var i=[],n=0,r=t.length;n<r;++n)i.push(t[n].getGeometry());var o=new a.default(i);return this.writeGeometryText(o,e)},e.prototype.writeGeometryText=function(t,e){return N((0,r.transformWithOptions)(t,!0,e))},e}(o.default);function I(t){var e=t.getCoordinates();return 0===e.length?"":e.join(" ")}function R(t){for(var e=t.getCoordinates(),i=[],n=0,r=e.length;n<r;++n)i.push(e[n].join(" "));return i.join(",")}function k(t){for(var e=[],i=t.getLinearRings(),n=0,r=i.length;n<r;++n)e.push("("+R(i[n])+")");return e.join(",")}var j={Point:I,LineString:R,Polygon:k,MultiPoint:function(t){for(var e=[],i=t.getPoints(),n=0,r=i.length;n<r;++n)e.push("("+I(i[n])+")");return e.join(",")},MultiLineString:function(t){for(var e=[],i=t.getLineStrings(),n=0,r=i.length;n<r;++n)e.push("("+R(i[n])+")");return e.join(",")},MultiPolygon:function(t){for(var e=[],i=t.getPolygons(),n=0,r=i.length;n<r;++n)e.push("("+k(i[n])+")");return e.join(",")},GeometryCollection:function(t){for(var e=[],i=t.getGeometries(),n=0,r=i.length;n<r;++n)e.push(N(i[n]));return e.join(",")}};function N(t){var e=t.getType(),i=(0,j[e])(t);if(e=e.toUpperCase(),t instanceof g.default){var n=function(t){var e=t.getLayout(),i="";return e!==u.default.XYZ&&e!==u.default.XYZM||(i+=m),e!==u.default.XYM&&e!==u.default.XYZM||(i+=b),i}(t);n.length>0&&(e+=" "+n)}return 0===i.length?e+" "+_:e+"("+i+")"}e.default=A},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFromCapabilitiesMatrixSet=function(t,e,i){var a=[],s=[],u=[],l=[],c=[],h=void 0!==i?i:[],f=t.SupportedCRS,p=(0,r.get)(f.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||(0,r.get)(f),d=p.getMetersPerUnit(),g="ne"==p.getAxisOrientation().substr(0,2);return t.TileMatrix.sort(function(t,e){return e.ScaleDenominator-t.ScaleDenominator}),t.TileMatrix.forEach(function(e){if(!(h.length>0)||(0,n.find)(h,function(i){return e.Identifier==i.TileMatrix||-1===e.Identifier.indexOf(":")&&t.Identifier+":"+e.Identifier===i.TileMatrix})){s.push(e.Identifier);var i=28e-5*e.ScaleDenominator/d,r=e.TileWidth,o=e.TileHeight;g?u.push([e.TopLeftCorner[1],e.TopLeftCorner[0]]):u.push(e.TopLeftCorner),a.push(i),l.push(r==o?r:[r,o]),c.push([e.MatrixWidth,-e.MatrixHeight])}}),new o({extent:e,origins:u,resolutions:a,matrixIds:s,tileSizes:l,sizes:c})};var n=i(17),r=i(6);var o=function(t){function e(e){t.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getMatrixId=function(t){return this.matrixIds_[t]},e.prototype.getMatrixIds=function(){return this.matrixIds_},e}(function(t){return t&&t.__esModule?t:{default:t}}(i(190)).default);e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(141),r=i(1),o=i(268),a=i(6),s=h(i(65)),u=h(i(91)),l=i(62),c=i(113);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(e){var i=void 0!==e.hidpi&&e.hidpi;t.call(this,{cacheSize:e.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:(0,a.get)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:s.default.LOADING,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:i?2:1,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.hidpi_=i,this.culture_=void 0!==e.culture?e.culture:"en-us",this.maxZoom_=void 0!==e.maxZoom?e.maxZoom:-1,this.apiKey_=e.key,this.imagerySet_=e.imagerySet;var n="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_+"&c="+this.culture_;(0,o.jsonp)(n,this.handleImageryMetadataResponse.bind(this),void 0,"jsonp")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getApiKey=function(){return this.apiKey_},e.prototype.getImagerySet=function(){return this.imagerySet_},e.prototype.handleImageryMetadataResponse=function(t){if(200==t.statusCode&&"OK"==t.statusDescription&&"ValidCredentials"==t.authenticationResultCode&&1==t.resourceSets.length&&1==t.resourceSets[0].resources.length){var e=t.resourceSets[0].resources[0],i=-1==this.maxZoom_?e.zoomMax:this.maxZoom_,o=this.getProjection(),u=(0,c.extentFromProjection)(o),h=e.imageWidth==e.imageHeight?e.imageWidth:[e.imageWidth,e.imageHeight],f=(0,c.createXYZ)({extent:u,minZoom:e.zoomMin,maxZoom:i,tileSize:h/(this.hidpi_?2:1)});this.tileGrid=f;var p=this.culture_,d=this.hidpi_;if(this.tileUrlFunction=(0,n.createFromTileUrlFunctions)(e.imageUrlSubdomains.map(function(t){var i=[0,0,0],n=e.imageUrl.replace("{subdomain}",t).replace("{culture}",p);return function(t,e,r){if(t){(0,l.createOrUpdate)(t[0],t[1],-t[2]-1,i);var o=n;return d&&(o+="&dpi=d1&device=mobile"),o.replace("{quadkey}",(0,l.quadKey)(i))}}})),e.imageryProviders){var g=(0,a.getTransformFromProjections)((0,a.get)("EPSG:4326"),this.getProjection());this.setAttributions(function(t){var i=[],n=t.viewState.zoom;return e.imageryProviders.map(function(e){for(var o=!1,a=e.coverageAreas,s=0,u=a.length;s<u;++s){var l=a[s];if(n>=l.zoomMin&&n<=l.zoomMax){var c=l.bbox,h=[c[1],c[0],c[3],c[2]],f=(0,r.applyTransform)(h,g);if((0,r.intersects)(f,t.extent)){o=!0;break}}}o&&i.push(e.attribution)}),i.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'),i})}this.setState(s.default.READY)}else this.setState(s.default.ERROR)},e}(u.default);e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(269),r=function(t){return t&&t.__esModule?t:{default:t}}(i(154));var o=['Map tiles by <a href="https://stamen.com/">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.',n.ATTRIBUTION],a={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},s={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}},u=function(t){function e(e){var i=e.layer.indexOf("-"),n=-1==i?e.layer:e.layer.slice(0,i),r=s[n],u=a[e.layer],l=void 0!==e.url?e.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+e.layer+"/{z}/{x}/{y}."+u.extension;t.call(this,{attributions:o,cacheSize:e.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=e.maxZoom?e.maxZoom:r.maxZoom,minZoom:void 0!=e.minZoom?e.minZoom:r.minZoom,opaque:u.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,url:l,wrapX:e.wrapX})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r.default);e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),r=c(i(47)),o=i(141),a=i(153),s=c(a),u=c(i(782)),l=i(62);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,extent:e.extent,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition}),this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):o.nullTileUrlFunction,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction),this.tileLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,i=t.target,o=(0,n.getUid)(i),s=i.getState();s==r.default.LOADING?(this.tileLoadingKeys_[o]=!0,e=u.default.TILELOADSTART):o in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[o],e=s==r.default.ERROR?u.default.TILELOADERROR:s==r.default.LOADED||s==r.default.ABORT?u.default.TILELOADEND:void 0),void 0!=e&&this.dispatchEvent(new a.TileSourceEvent(e,i))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=(0,o.expandUrl)(t);this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):(0,o.createFromTemplates)(e,this.tileGrid),t)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):(0,o.createFromTemplates)(t,this.tileGrid),e)},e.prototype.useTile=function(t,e,i){var n=(0,l.getKeyZXY)(t,e,i);this.tileCache.containsKey(n)&&this.tileCache.get(n)},e}(s.default);h.prototype.fixedTileUrlFunction,e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(14),o=i(6),a=function(t,e,i,r,a){this.sourceProj_=t,this.targetProj_=e;var s={},u=(0,o.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return s[e]||(s[e]=u(t)),s[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&(0,n.getWidth)(r)==(0,n.getWidth)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,n.getWidth)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,n.getWidth)(this.targetProj_.getExtent()):null;var l=(0,n.getTopLeft)(i),c=(0,n.getTopRight)(i),h=(0,n.getBottomRight)(i),f=(0,n.getBottomLeft)(i),p=this.transformInv_(l),d=this.transformInv_(c),g=this.transformInv_(h),v=this.transformInv_(f);if(this.addQuad_(l,c,h,f,p,d,g,v,10),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach(function(t,e,i){y=Math.min(y,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-y>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-y>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-y>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-y>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var i=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-i<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}s={}};a.prototype.addTriangle_=function(t,e,i,n,r,o){this.triangles_.push({source:[n,r,o],target:[t,e,i]})},a.prototype.addQuad_=function(t,e,i,o,a,s,u,l,c){var h=(0,n.boundingExtent)([a,s,u,l]),f=this.sourceWorldWidth_?(0,n.getWidth)(h)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&f>.5&&f<1,g=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var v=(0,n.boundingExtent)([t,e,i,o]);g|=(0,n.getWidth)(v)/this.targetWorldWidth_>.25}!d&&this.sourceProj_.isGlobal()&&f&&(g|=f>.25)}if(g||!this.maxSourceExtent_||(0,n.intersects)(h,this.maxSourceExtent_)){if(!(g||isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(u[0])&&isFinite(u[1])&&isFinite(l[0])&&isFinite(l[1]))){if(!(c>0))return;g=!0}if(c>0){if(!g){var y,_=[(t[0]+i[0])/2,(t[1]+i[1])/2],m=this.transformInv_(_);if(d)y=((0,r.modulo)(a[0],p)+(0,r.modulo)(u[0],p))/2-(0,r.modulo)(m[0],p);else y=(a[0]+u[0])/2-m[0];var b=(a[1]+u[1])/2-m[1];g=y*y+b*b>this.errorThresholdSquared_}if(g){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){var x=[(e[0]+i[0])/2,(e[1]+i[1])/2],S=this.transformInv_(x),w=[(o[0]+t[0])/2,(o[1]+t[1])/2],E=this.transformInv_(w);this.addQuad_(t,e,x,w,a,s,S,E,c-1),this.addQuad_(w,x,i,o,E,S,u,l,c-1)}else{var M=[(t[0]+e[0])/2,(t[1]+e[1])/2],O=this.transformInv_(M),C=[(i[0]+o[0])/2,(i[1]+o[1])/2],T=this.transformInv_(C);this.addQuad_(t,M,C,o,a,O,T,l,c-1),this.addQuad_(M,e,i,C,O,s,u,T,c-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,i,o,a,u,l),this.addTriangle_(t,e,i,a,s,u)}},a.prototype.calculateSourceExtent=function(){var t=(0,n.createEmpty)();return this.triangles_.forEach(function(e,i,r){var o=e.source;(0,n.extendCoordinate)(t,o[0]),(0,n.extendCoordinate)(t,o[1]),(0,n.extendCoordinate)(t,o[2])}),t},a.prototype.getTriangles=function(){return this.triangles_},e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(463)),r=i(62);var o=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast(),i=e.tileCoord[0].toString();if(i in t&&t[i].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=(0,r.fromKey)(t)[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove((0,r.getKey)(t.tileCoord)),t.dispose())},this)}},e}(n.default);e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=u(i(192)),r=u(i(47)),o=i(27),a=i(3),s=u(i(4));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(e,i,n,r,o,a){t.call(this,e,i,a),this.crossOrigin_=r,this.src_=n,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.imageListenerKeys_=null,this.tileLoadFunction_=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==r.default.LOADING&&(this.unlistenImage_(),this.image_=c()),this.interimTile&&this.interimTile.dispose(),this.state=r.default.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=r.default.ERROR,this.unlistenImage_(),this.image_=c(),this.changed()},e.prototype.handleImageLoad_=function(){this.image_.naturalWidth&&this.image_.naturalHeight?this.state=r.default.LOADED:this.state=r.default.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==r.default.ERROR&&(this.state=r.default.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==r.default.IDLE&&(this.state=r.default.LOADING,this.changed(),this.imageListenerKeys_=[(0,a.listenOnce)(this.image_,s.default.ERROR,this.handleImageError_,this),(0,a.listenOnce)(this.image_,s.default.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(a.unlistenByKey),this.imageListenerKeys_=null},e}(n.default);function c(){var t=(0,o.createCanvasContext2D)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}e.default=l},function(t,e,i){var n=i(786);t.exports=function(t){return null==t?"":n(t)}},function(t,e,i){var n=i(193),r=i(21),o=4294967295;t.exports=function(t){return t?n(r(t),0,o):0}},function(t,e){var i=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return i.test(t)}},function(t,e,i){var n=i(39),r=i(26),o="[object Number]";t.exports=function(t){return"number"==typeof t||r(t)&&n(t)==o}},function(t,e,i){var n=i(43);t.exports=function(t){return t==t&&!n(t)}},function(t,e,i){var n=i(157),r=1/0,o=1.7976931348623157e308;t.exports=function(t){return t?(t=n(t))===r||t===-r?(t<0?-1:1)*o:t==t?t:0:0===t?t:0}},function(t,e,i){var n=i(21);t.exports=function(t){return"number"==typeof t&&t==n(t)}},function(t,e){t.exports=function(t){var e=-1,i=Array(t.size);return t.forEach(function(t,n){i[++e]=[n,t]}),i}},function(t,e){t.exports=function(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}},function(t,e,i){var n=i(197),r=i(414),o=i(196),a=1,s=2;t.exports=function(t,e,i,u,l,c){var h=i&a,f=t.length,p=e.length;if(f!=p&&!(h&&p>f))return!1;var d=c.get(t);if(d&&c.get(e))return d==e;var g=-1,v=!0,y=i&s?new n:void 0;for(c.set(t,e),c.set(e,t);++g<f;){var _=t[g],m=e[g];if(u)var b=h?u(m,_,g,e,t,c):u(_,m,g,t,e,c);if(void 0!==b){if(b)continue;v=!1;break}if(y){if(!r(e,function(t,e){if(!o(y,e)&&(_===t||l(_,t,i,u,c)))return y.push(e)})){v=!1;break}}else if(_!==m&&!l(_,m,i,u,c)){v=!1;break}}return c.delete(t),c.delete(e),v}},function(t,e,i){var n=i(835),r=i(63),o=i(142),a=o&&o.isSet,s=a?r(a):n;t.exports=s},function(t,e,i){var n=i(836),r=i(63),o=i(142),a=o&&o.isMap,s=a?r(a):n;t.exports=s},function(t,e,i){var n=i(35).Uint8Array;t.exports=n},function(t,e,i){var n=i(117)(i(35),"WeakMap");t.exports=n},function(t,e,i){var n=i(117)(i(35),"Set");t.exports=n},function(t,e,i){var n=i(158),r=i(10);t.exports=function(t,e,i){var o=e(t);return r(t)?o:n(o,i(t))}},function(t,e,i){var n=i(421),r=i(275),o=i(82);t.exports=function(t){return n(t,o,r)}},function(t,e,i){var n=i(158),r=i(274),o=i(275),a=i(424),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,o(t)),t=r(t);return e}:a;t.exports=s},function(t,e){t.exports=function(){return[]}},function(t,e){t.exports=function(t,e){return function(i){return t(e(i))}}},function(t,e){t.exports=function(){return!1}},function(t,e){t.exports=function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}},function(t,e,i){var n=i(427),r=i(160),o=i(10),a=i(159),s=i(95),u=i(203),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var i=o(t),c=!i&&r(t),h=!i&&!c&&a(t),f=!i&&!c&&!h&&u(t),p=i||c||h||f,d=p?n(t.length,String):[],g=d.length;for(var v in t)!e&&!l.call(t,v)||p&&("length"==v||h&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||d.push(v);return d}},function(t,e,i){var n=i(117),r=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=r},function(t,e){var i=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,i){var n=i(35)["__core-js_shared__"];t.exports=n},function(t,e,i){(function(e){var i="object"==typeof e&&e&&e.Object===Object&&e;t.exports=i}).call(this,i(326))},function(t,e,i){var n=i(163),r=i(870),o=i(43),a=i(430),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,h=l.hasOwnProperty,f=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||r(t))&&(n(t)?f:s).test(a(t))}},function(t,e){var i={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(t){return(t=Math.round(t))<0?0:t>255?255:t}function r(t){return t<0?0:t>1?1:t}function o(t){return"%"===t[t.length-1]?n(parseFloat(t)/100*255):n(parseInt(t))}function a(t){return"%"===t[t.length-1]?r(parseFloat(t)/100):r(parseFloat(t))}function s(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}try{e.parseCSSColor=function(t){var e,r=t.replace(/ /g,"").toLowerCase();if(r in i)return i[r].slice();if("#"===r[0])return 4===r.length?(e=parseInt(r.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===r.length&&(e=parseInt(r.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var u=r.indexOf("("),l=r.indexOf(")");if(-1!==u&&l+1===r.length){var c=r.substr(0,u),h=r.substr(u+1,l-(u+1)).split(","),f=1;switch(c){case"rgba":if(4!==h.length)return null;f=a(h.pop());case"rgb":return 3!==h.length?null:[o(h[0]),o(h[1]),o(h[2]),f];case"hsla":if(4!==h.length)return null;f=a(h.pop());case"hsl":if(3!==h.length)return null;var p=(parseFloat(h[0])%360+360)%360/360,d=a(h[1]),g=a(h[2]),v=g<=.5?g*(d+1):g+d-g*d,y=2*g-v;return[n(255*s(y,v,p+1/3)),n(255*s(y,v,p)),n(255*s(y,v,p-1/3)),f];default:return null}}return null}}catch(t){}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(215)),r=o(i(439));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new n.default({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:r.default.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding};a.prototype.clone=function(){return new a({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},a.prototype.getOverflow=function(){return this.overflow_},a.prototype.getFont=function(){return this.font_},a.prototype.getMaxAngle=function(){return this.maxAngle_},a.prototype.getPlacement=function(){return this.placement_},a.prototype.getOffsetX=function(){return this.offsetX_},a.prototype.getOffsetY=function(){return this.offsetY_},a.prototype.getFill=function(){return this.fill_},a.prototype.getRotateWithView=function(){return this.rotateWithView_},a.prototype.getRotation=function(){return this.rotation_},a.prototype.getScale=function(){return this.scale_},a.prototype.getStroke=function(){return this.stroke_},a.prototype.getText=function(){return this.text_},a.prototype.getTextAlign=function(){return this.textAlign_},a.prototype.getTextBaseline=function(){return this.textBaseline_},a.prototype.getBackgroundFill=function(){return this.backgroundFill_},a.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},a.prototype.getPadding=function(){return this.padding_},a.prototype.setOverflow=function(t){this.overflow_=t},a.prototype.setFont=function(t){this.font_=t},a.prototype.setMaxAngle=function(t){this.maxAngle_=t},a.prototype.setOffsetX=function(t){this.offsetX_=t},a.prototype.setOffsetY=function(t){this.offsetY_=t},a.prototype.setPlacement=function(t){this.placement_=t},a.prototype.setFill=function(t){this.fill_=t},a.prototype.setRotation=function(t){this.rotation_=t},a.prototype.setScale=function(t){this.scale_=t},a.prototype.setStroke=function(t){this.stroke_=t},a.prototype.setText=function(t){this.text_=t},a.prototype.setTextAlign=function(t){this.textAlign_=t},a.prototype.setTextBaseline=function(t){this.textBaseline_=t},a.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},a.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},a.prototype.setPadding=function(t){this.padding_=t},e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={FRACTION:"fraction",PIXELS:"pixels"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOrder=function(t,e){return(0,n.getUid)(t)-(0,n.getUid)(e)},e.getSquaredTolerance=function(t,e){var i=c(t,e);return i*i},e.getTolerance=c,e.renderFeature=function(t,e,i,n,s,u){var c=!1,h=i.getImage();if(h){var f=h.getImageState();f==r.default.LOADED||f==r.default.ERROR?h.unlistenImageChange(s,u):(f==r.default.IDLE&&h.load(),f=h.getImageState(),h.listenImageChange(s,u),c=!0)}return function(t,e,i,n){var r=i.getGeometryFunction()(e);if(r){var s=r.getSimplifiedGeometry(n);if(i.getRenderer())!function t(e,i,n,r){if(i.getType()!=o.default.GEOMETRY_COLLECTION){var s=e.getReplay(n.getZIndex(),a.default.DEFAULT);s.drawCustom(i,r,n.getRenderer())}else for(var u=i.getGeometries(),l=0,c=u.length;l<c;++l)t(e,u[l],n,r)}(t,s,i,e);else{var u=l[s.getType()];u(t,s,i,e)}}}(t,e,i,n),c};var n=i(19),r=s(i(74)),o=s(i(25)),a=s(i(211));function s(t){return t&&t.__esModule?t:{default:t}}var u=.5,l={Point:function(t,e,i,n){var o=i.getImage();if(o){if(o.getImageState()!=r.default.LOADED)return;var s=t.getReplay(i.getZIndex(),a.default.IMAGE);s.setImageStyle(o,t.addDeclutter(!1)),s.drawPoint(e,n)}var u=i.getText();if(u){var l=t.getReplay(i.getZIndex(),a.default.TEXT);l.setTextStyle(u,t.addDeclutter(!!o)),l.drawText(e,n)}},LineString:function(t,e,i,n){var r=i.getStroke();if(r){var o=t.getReplay(i.getZIndex(),a.default.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawLineString(e,n)}var s=i.getText();if(s){var u=t.getReplay(i.getZIndex(),a.default.TEXT);u.setTextStyle(s,t.addDeclutter(!1)),u.drawText(e,n)}},Polygon:function(t,e,i,n){var r=i.getFill(),o=i.getStroke();if(r||o){var s=t.getReplay(i.getZIndex(),a.default.POLYGON);s.setFillStrokeStyle(r,o),s.drawPolygon(e,n)}var u=i.getText();if(u){var l=t.getReplay(i.getZIndex(),a.default.TEXT);l.setTextStyle(u,t.addDeclutter(!1)),l.drawText(e,n)}},MultiPoint:function(t,e,i,n){var o=i.getImage();if(o){if(o.getImageState()!=r.default.LOADED)return;var s=t.getReplay(i.getZIndex(),a.default.IMAGE);s.setImageStyle(o,t.addDeclutter(!1)),s.drawMultiPoint(e,n)}var u=i.getText();if(u){var l=t.getReplay(i.getZIndex(),a.default.TEXT);l.setTextStyle(u,t.addDeclutter(!!o)),l.drawText(e,n)}},MultiLineString:function(t,e,i,n){var r=i.getStroke();if(r){var o=t.getReplay(i.getZIndex(),a.default.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawMultiLineString(e,n)}var s=i.getText();if(s){var u=t.getReplay(i.getZIndex(),a.default.TEXT);u.setTextStyle(s,t.addDeclutter(!1)),u.drawText(e,n)}},MultiPolygon:function(t,e,i,n){var r=i.getFill(),o=i.getStroke();if(o||r){var s=t.getReplay(i.getZIndex(),a.default.POLYGON);s.setFillStrokeStyle(r,o),s.drawMultiPolygon(e,n)}var u=i.getText();if(u){var l=t.getReplay(i.getZIndex(),a.default.TEXT);l.setTextStyle(u,t.addDeclutter(!1)),l.drawText(e,n)}},GeometryCollection:function(t,e,i,n){var r,o,a=e.getGeometriesArray();for(r=0,o=a.length;r<o;++r){var s=l[a[r].getType()];s(t,a[r],i,n)}},Circle:function(t,e,i,n){var r=i.getFill(),o=i.getStroke();if(r||o){var s=t.getReplay(i.getZIndex(),a.default.CIRCLE);s.setFillStrokeStyle(r,o),s.drawCircle(e,n)}var u=i.getText();if(u){var l=t.getReplay(i.getZIndex(),a.default.TEXT);l.setTextStyle(u,t.addDeclutter(!1)),l.drawText(e,n)}}};function c(t,e){return u*t/e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={POINT:"point",LINE:"line"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCircleArray=S,e.replayDeclutter=function(t,e,i,r){for(var o=Object.keys(t).map(Number).sort(n.numberSafeCompareFunction),a={},s=0,u=o.length;s<u;++s)for(var l=t[o[s].toString()],c=0,h=l.length;c<h;){var f=l[c++],p=l[c++];f.replay(e,p,i,a,r)}};var n=i(17),r=i(27),o=i(1),a=i(171),s=i(9),u=y(i(899)),l=y(i(211)),c=y(i(165)),h=y(i(897)),f=y(i(896)),p=y(i(895)),d=y(i(894)),g=i(210),v=i(40);function y(t){return t&&t.__esModule?t:{default:t}}var _={Circle:p.default,Default:c.default,Image:h.default,LineString:f.default,Polygon:p.default,Text:d.default},m=function(t){function e(e,i,n,o,a,s,u){t.call(this),this.declutterTree_=s,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=i,this.overlaps_=a,this.pixelRatio_=o,this.resolution_=n,this.renderBuffer_=u,this.replaysByZIndex_={},this.hitDetectionContext_=(0,r.createCanvasContext2D)(1,1),this.hitDetectionTransform_=(0,v.create)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=(0,o.createEmpty)()).push(1)),e},e.prototype.clip=function(t,e){var i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()},e.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var i=this.replaysByZIndex_[e],n=0,r=t.length;n<r;++n)if(t[n]in i)return!0;return!1},e.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var i in e)e[i].finish()}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,a,s,u){var c,h=2*(r=Math.round(r))+1,f=(0,v.compose)(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-i,-t[0],-t[1]),p=this.hitDetectionContext_;p.canvas.width!==h||p.canvas.height!==h?(p.canvas.width=h,p.canvas.height=h):p.clearRect(0,0,h,h),void 0!==this.renderBuffer_&&(c=(0,o.createEmpty)(),(0,o.extendCoordinate)(c,t),(0,o.buffer)(c,e*(this.renderBuffer_+r),c));var d,y,_=S(r);function m(t){for(var e=p.getImageData(0,0,h,h).data,i=0;i<h;i++)for(var n=0;n<h;n++)if(_[i][n]&&e[4*(n*h+i)+3]>0){var r=void 0;return(!d||y!=l.default.IMAGE&&y!=l.default.TEXT||-1!==d.indexOf(t))&&(r=s(t)),r||void p.clearRect(0,0,h,h)}}this.declutterTree_&&(d=this.declutterTree_.all().map(function(t){return t.value}));var b,x,w,E,M,O=Object.keys(this.replaysByZIndex_).map(Number);for(O.sort(n.numberSafeCompareFunction),b=O.length-1;b>=0;--b){var C=O[b].toString();for(w=this.replaysByZIndex_[C],x=g.ORDER.length-1;x>=0;--x)if(void 0!==(E=w[y=g.ORDER[x]]))if(!u||y!=l.default.IMAGE&&y!=l.default.TEXT){if(M=E.replayHitDetection(p,f,i,a,m,c))return M}else{var T=u[C];T?T.push(E,f.slice(0)):u[C]=[E,f.slice(0)]}}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_,i=e[0],n=e[1],r=e[2],o=e[3],s=[i,n,i,o,r,o,r,n];return(0,a.transform2D)(s,0,8,2,t,s),s},e.prototype.getReplay=function(t,e){var i=void 0!==t?t.toString():"0",n=this.replaysByZIndex_[i];void 0===n&&(n={},this.replaysByZIndex_[i]=n);var r=n[e];void 0===r&&(r=new(0,_[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),n[e]=r);return r},e.prototype.getReplays=function(){return this.replaysByZIndex_},e.prototype.isEmpty=function(){return(0,s.isEmpty)(this.replaysByZIndex_)},e.prototype.replay=function(t,e,i,r,o,a,s){var u=Object.keys(this.replaysByZIndex_).map(Number);u.sort(n.numberSafeCompareFunction),t.save(),this.clip(t,e);var c,h,f,p,d,v,y=a||g.ORDER;for(c=0,h=u.length;c<h;++c){var _=u[c].toString();for(d=this.replaysByZIndex_[_],f=0,p=y.length;f<p;++f){var m=y[f];if(v=d[m],void 0!==v)if(!s||m!=l.default.IMAGE&&m!=l.default.TEXT)v.replay(t,e,i,r,o);else{var b=s[_];b?b.push(v,e.slice(0)):s[_]=[v,e.slice(0)]}}}t.restore()},e}(u.default),b={0:[[!0]]};function x(t,e,i){var n,r=Math.floor(t.length/2);if(e>=r)for(n=r;n<e;n++)t[n][i]=!0;else if(e<r)for(n=e+1;n<r;n++)t[n][i]=!0}function S(t){if(void 0!==b[t])return b[t];for(var e=2*t+1,i=new Array(e),n=0;n<e;n++)i[n]=new Array(e);for(var r=t,o=0,a=0;r>=o;)x(i,t+r,t+o),x(i,t+o,t+r),x(i,t-o,t+r),x(i,t-r,t+o),x(i,t-r,t-o),x(i,t-o,t-r),x(i,t+o,t-r),x(i,t+r,t-o),2*((a+=1+2*++o)-r)+1>0&&(a+=1-2*(r-=1));return b[t]=i,i}e.default=m},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createOrUpdate=function(t,e,i,r,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=i,o.maxY=r,o):new n(t,e,i,r)};var n=function(t,e,i,n){this.minX=t,this.maxX=e,this.minY=i,this.maxY=n};n.prototype.contains=function(t){return this.containsXY(t[1],t[2])},n.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},n.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},n.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},n.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(18),o=h(i(447)),a=h(i(172)),s=i(83),u=h(i(446)),l=h(i(901)),c=i(40);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(e){t.call(this,e),this.renderedResolution,this.transform_=(0,c.create)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clip=function(t,e,i){var r=e.pixelRatio,o=e.size[0]*r,a=e.size[1]*r,u=e.viewState.rotation,l=(0,n.getTopLeft)(i),h=(0,n.getTopRight)(i),f=(0,n.getBottomRight)(i),p=(0,n.getBottomLeft)(i);(0,c.apply)(e.coordinateToPixelTransform,l),(0,c.apply)(e.coordinateToPixelTransform,h),(0,c.apply)(e.coordinateToPixelTransform,f),(0,c.apply)(e.coordinateToPixelTransform,p),t.save(),(0,s.rotateAtOffset)(t,-u,o/2,a/2),t.beginPath(),t.moveTo(l[0]*r,l[1]*r),t.lineTo(h[0]*r,h[1]*r),t.lineTo(f[0]*r,f[1]*r),t.lineTo(p[0]*r,p[1]*r),t.clip(),(0,s.rotateAtOffset)(t,u,o/2,a/2)},e.prototype.dispatchComposeEvent_=function(t,e,i,n){var r=this.getLayer();if(r.hasListener(t)){var a=i.size[0]*i.pixelRatio,l=i.size[1]*i.pixelRatio,c=i.viewState.rotation;(0,s.rotateAtOffset)(e,-c,a/2,l/2);var h=void 0!==n?n:this.getTransform(i,0),f=new u.default(e,i.pixelRatio,i.extent,h,i.viewState.rotation),p=new o.default(t,f,i,e,null);r.dispatchEvent(p),(0,s.rotateAtOffset)(e,c,a/2,l/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,i,n,o){return this.forEachFeatureAtCoordinate(t,e,i,r.TRUE,this)?n.call(o,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,i,n){this.dispatchComposeEvent_(a.default.POSTCOMPOSE,t,e,n)},e.prototype.preCompose=function(t,e,i){this.dispatchComposeEvent_(a.default.PRECOMPOSE,t,e,i)},e.prototype.dispatchRenderEvent=function(t,e,i){this.dispatchComposeEvent_(a.default.RENDER,t,e,i)},e.prototype.getTransform=function(t,e){var i=t.viewState,n=t.pixelRatio,r=n*t.size[0]/2,o=n*t.size[1]/2,a=n/i.resolution,s=-a,u=-i.rotation,l=-i.center[0]+e,h=-i.center[1];return(0,c.compose)(this.transform_,r,o,a,s,u,l,h)},e.prototype.composeFrame=function(t,e,i){},e.prototype.prepareFrame=function(t,e){},e}(l.default);e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(67),r=i(27),o=i(1),a=i(18),s=function(t){return t&&t.__esModule?t:{default:t}}(i(442)),u=i(40);var l=function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=(0,u.create)(),this.hitCanvasContext_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,i){this.preCompose(i,t);var n=this.getImage();if(n){var r=e.extent,a=void 0!==r&&!(0,o.containsExtent)(r,t.extent)&&(0,o.intersects)(r,t.extent);a&&this.clip(i,t,r);var s=this.getImageTransform(),u=i.globalAlpha;i.globalAlpha=e.opacity;var l=s[4],c=s[5],h=n.width*s[0],f=n.height*s[3];i.drawImage(n,0,0,+n.width,+n.height,Math.round(l),Math.round(c),Math.round(h),Math.round(f)),i.globalAlpha=u,a&&i.restore()}this.postCompose(i,t,e)},e.prototype.getImage=function(){},e.prototype.getImageTransform=function(){},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,n,r){var o=this.getLayer(),a=o.getSource(),s=e.viewState.resolution,u=e.viewState.rotation,l=e.skippedFeatureUids;return a.forEachFeatureAtCoordinate(t,s,u,i,l,function(t){return n.call(r,t,o)})},e.prototype.forEachLayerAtCoordinate=function(e,i,o,s,l){if(this.getImage()){if(this.getLayer().getSource().forEachFeatureAtCoordinate!==a.VOID)return t.prototype.forEachLayerAtCoordinate.call(this,arguments);var c=(0,u.apply)(this.coordinateToCanvasPixelTransform,e.slice());(0,n.scale)(c,i.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=(0,r.createCanvasContext2D)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),c[0],c[1],1,1,0,0,1,1);var h=this.hitCanvasContext_.getImageData(0,0,1,1).data;return h[3]>0?s.call(l,this.getLayer(),h):void 0}},e}(s.default);e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shared=void 0;var n=i(144),r=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function o(t,e,i){return e+":"+t+":"+(i?(0,n.asString)(i):"null")}r.prototype.clear=function(){this.cache_={},this.cacheSize_=0},r.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var i=this.cache_[e];0!=(3&t++)||i.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},r.prototype.get=function(t,e,i){var n=o(t,e,i);return n in this.cache_?this.cache_[n]:null},r.prototype.set=function(t,e,i,n){var r=o(t,e,i);this.cache_[r]=n,++this.cacheSize_},r.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},e.default=r;e.shared=new r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){};n.prototype.drawCustom=function(t,e,i){},n.prototype.drawGeometry=function(t){},n.prototype.setStyle=function(t){},n.prototype.drawCircle=function(t,e){},n.prototype.drawFeature=function(t,e){},n.prototype.drawGeometryCollection=function(t,e){},n.prototype.drawLineString=function(t,e){},n.prototype.drawMultiLineString=function(t,e){},n.prototype.drawMultiPoint=function(t,e){},n.prototype.drawMultiPolygon=function(t,e){},n.prototype.drawPoint=function(t,e){},n.prototype.drawPolygon=function(t,e){},n.prototype.drawText=function(t,e){},n.prototype.setFillStrokeStyle=function(t,e){},n.prototype.setImageStyle=function(t,e){},n.prototype.setTextStyle=function(t,e){},e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(17),r=i(216),o=i(1),a=p(i(25)),s=i(66),u=i(171),l=i(68),c=p(i(445)),h=i(83),f=i(40);function p(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(e,i,n,r,o){t.call(this),this.context_=e,this.pixelRatio_=i,this.extent_=n,this.transform_=r,this.viewRotation_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=(0,f.create)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawImages_=function(t,e,i,n){if(this.image_){var r=(0,u.transform2D)(t,e,i,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var c=0,h=r.length;c<h;c+=2){var p=r[c]-this.imageAnchorX_,d=r[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_){var g=p+this.imageAnchorX_,v=d+this.imageAnchorY_;(0,f.compose)(a,g,v,this.imageScale_,this.imageScale_,l,-g,-v),o.setTransform.apply(o,a)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,d,this.imageWidth_,this.imageHeight_)}0===l&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=s)}},e.prototype.drawText_=function(t,e,i,n){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=(0,u.transform2D)(t,e,i,n,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<i;e+=n){var s=r[e]+this.textOffsetX_,l=r[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var c=(0,f.compose)(this.tmpLocalTransform_,s,l,this.textScale_,this.textScale_,a,-s,-l);o.setTransform.apply(o,c)}this.textStrokeState_&&o.strokeText(this.text_,s,l),this.textFillState_&&o.fillText(this.text_,s,l)}0===a&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,i,n,r){var o=this.context_,a=(0,u.transform2D)(t,e,i,n,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;r&&(s-=2);for(var l=2;l<s;l+=2)o.lineTo(a[l],a[l+1]);return r&&o.closePath(),i},e.prototype.drawRings_=function(t,e,i,n){for(var r=0,o=i.length;r<o;++r)e=this.moveToLineTo_(t,e,i[r],n,!0);return e},e.prototype.drawCircle=function(t){if((0,o.intersects)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,s.transformGeom2D)(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],n=e[3]-e[1],r=Math.sqrt(i*i+n*n),a=this.context_;a.beginPath(),a.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case a.default.POINT:this.drawPoint(t);break;case a.default.LINE_STRING:this.drawLineString(t);break;case a.default.POLYGON:this.drawPolygon(t);break;case a.default.MULTI_POINT:this.drawMultiPoint(t);break;case a.default.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case a.default.MULTI_POLYGON:this.drawMultiPolygon(t);break;case a.default.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case a.default.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var i=e.getGeometryFunction()(t);i&&(0,o.intersects)(this.extent_,i.getExtent())&&(this.setStyle(e),this.drawGeometry(i))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,n=e.length;i<n;++i)this.drawGeometry(e[i])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},e.prototype.drawLineString=function(t){if((0,o.intersects)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if((0,o.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,n=t.getFlatCoordinates(),r=0,a=t.getEnds(),s=t.getStride();i.beginPath();for(var u=0,l=a.length;u<l;++u)r=this.moveToLineTo_(n,r,a[u],s,!1);i.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if((0,o.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var i=t.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if((0,o.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,i=t.getOrientedFlatCoordinates(),n=0,r=t.getEndss(),a=t.getStride();e.beginPath();for(var s=0,u=r.length;s<u;++s){var l=r[s];n=this.drawRings_(i,n,l,a)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var c=t.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=e.lineCap=t.lineCap),l.CANVAS_LINE_DASH&&((0,n.equals)(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),i.lineJoin!=t.lineJoin&&(i.lineJoin=e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,l.CANVAS_LINE_DASH&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,n=t.textAlign?t.textAlign:h.defaultTextAlign;i?(i.font!=t.font&&(i.font=e.font=t.font),i.textAlign!=n&&(i.textAlign=e.textAlign=n),i.textBaseline!=t.textBaseline&&(i.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=n,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:n,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var i=t.getColor();this.fillState_={fillStyle:(0,r.asColorLike)(i||h.defaultFillStyle)}}else this.fillState_=null;if(e){var n=e.getColor(),o=e.getLineCap(),a=e.getLineDash(),s=e.getLineDashOffset(),u=e.getLineJoin(),l=e.getWidth(),c=e.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:h.defaultLineCap,lineDash:a||h.defaultLineDash,lineDashOffset:s||h.defaultLineDashOffset,lineJoin:void 0!==u?u:h.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==l?l:h.defaultLineWidth),miterLimit:void 0!==c?c:h.defaultMiterLimit,strokeStyle:(0,r.asColorLike)(n||h.defaultStrokeStyle)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),i=t.getImage(1),n=t.getOrigin(),r=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=r[1],this.image_=i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=n[0],this.imageOriginY_=n[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=r[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var i=e.getColor();this.textFillState_={fillStyle:(0,r.asColorLike)(i||h.defaultFillStyle)}}else this.textFillState_=null;var n=t.getStroke();if(n){var o=n.getColor(),a=n.getLineCap(),s=n.getLineDash(),u=n.getLineDashOffset(),l=n.getLineJoin(),c=n.getWidth(),f=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==a?a:h.defaultLineCap,lineDash:s||h.defaultLineDash,lineDashOffset:u||h.defaultLineDashOffset,lineJoin:void 0!==l?l:h.defaultLineJoin,lineWidth:void 0!==c?c:h.defaultLineWidth,miterLimit:void 0!==f?f:h.defaultMiterLimit,strokeStyle:(0,r.asColorLike)(o||h.defaultStrokeStyle)}}else this.textStrokeState_=null;var p=t.getFont(),d=t.getOffsetX(),g=t.getOffsetY(),v=t.getRotateWithView(),y=t.getRotation(),_=t.getScale(),m=t.getText(),b=t.getTextAlign(),x=t.getTextBaseline();this.textState_={font:void 0!==p?p:h.defaultFont,textAlign:void 0!==b?b:h.defaultTextAlign,textBaseline:void 0!==x?x:h.defaultTextBaseline},this.text_=void 0!==m?m:"",this.textOffsetX_=void 0!==d?this.pixelRatio_*d:0,this.textOffsetY_=void 0!==g?this.pixelRatio_*g:0,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0!==y?y:0,this.textScale_=this.pixelRatio_*(void 0!==_?_:1)}else this.text_=""},e}(c.default);e.default=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(e,i,n,r,o){t.call(this,e),this.vectorContext=i,this.frameState=n,this.context=r,this.glContext=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(function(t){return t&&t.__esModule?t:{default:t}}(i(32)).default);e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.layerRendererConstructors=void 0;var n=i(40),r=i(17),o=i(84),a=i(27),s=i(120),u=g(i(447)),l=g(i(172)),c=i(83),h=g(i(446)),f=i(902),p=g(f),d=g(i(65));function g(t){return t&&t.__esModule?t:{default:t}}var v=e.layerRendererConstructors=[],y=function(t){function e(e){t.call(this,e);var i=e.getViewport();this.context_=(0,a.createCanvasContext2D)(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=o.CLASS_UNSELECTABLE,i.insertBefore(this.canvas_,i.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=(0,n.create)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var i=this.getMap(),n=this.context_;if(i.hasListener(t)){var r=e.extent,o=e.pixelRatio,a=e.viewState.rotation,s=this.getTransform(e),l=new h.default(n,o,r,s,a),c=new u.default(t,l,e,n,null);i.dispatchEvent(c)}},e.prototype.getTransform=function(t){var e=t.viewState,i=this.canvas_.width/2,r=this.canvas_.height/2,o=t.pixelRatio/e.resolution,a=-o,s=-e.rotation,u=-e.center[0],l=-e.center[1];return(0,n.compose)(this.transform_,i,r,o,a,s,u,l)},e.prototype.renderFrame=function(t){if(t){var e=this.context_,i=t.pixelRatio,n=Math.round(t.size[0]*i),o=Math.round(t.size[1]*i);this.canvas_.width!=n||this.canvas_.height!=o?(this.canvas_.width=n,this.canvas_.height=o):e.clearRect(0,0,n,o);var a=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent(l.default.PRECOMPOSE,t);var u=t.layerStatesArray;(0,r.stableSort)(u,f.sortByZIndex),a&&(e.save(),(0,c.rotateAtOffset)(e,a,n/2,o/2));var h,p,g,v,y,_=t.viewState.resolution;for(h=0,p=u.length;h<p;++h)g=(y=u[h]).layer,v=this.getLayerRenderer(g),(0,s.visibleAtResolution)(y,_)&&y.sourceState==d.default.READY&&v.prepareFrame(t,y)&&v.composeFrame(t,y,e);a&&e.restore(),this.dispatchRenderEvent(l.default.POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,i,r,o,a,u){var l,c,h=e.viewState.resolution,f=e.layerStatesArray,p=f.length,d=(0,n.apply)(e.pixelToCoordinateTransform,t.slice());for(c=p-1;c>=0;--c){var g=f[c],v=g.layer;if((0,s.visibleAtResolution)(g,h)&&a.call(u,v))if(l=this.getLayerRenderer(v).forEachLayerAtCoordinate(d,e,i,r,o))return l}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var i=0,n=e.length;i<n;++i){var o=e[i];(0,r.includes)(v,o)||v.push(o)}},e}(p.default);e.default=y},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(166),r=d(i(287)),o=d(i(97)),a=d(i(46)),s=i(17),u=i(1),l=d(i(458)),c=i(9),h=i(448),f=d(i(443)),p=i(40);function d(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function e(i){if(t.call(this,i),this.image_=null,this.imageTransform_=(0,p.create)(),this.skippedFeatures_=[],this.vectorRenderer_=null,i.getType()===o.default.VECTOR)for(var n=0,r=h.layerRendererConstructors.length;n<r;++n){var a=h.layerRendererConstructors[n];if(a!==e&&a.handles(i)){this.vectorRenderer_=new a(i);break}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.prepareFrame=function(t,e){var i,o=t.pixelRatio,l=t.size,h=t.viewState,f=h.center,d=h.resolution,g=this.getLayer().getSource(),v=t.viewHints,y=this.vectorRenderer_,_=t.extent;if(y||void 0===e.extent||(_=(0,u.getIntersection)(_,e.extent)),!v[a.default.ANIMATING]&&!v[a.default.INTERACTING]&&!(0,u.isEmpty)(_)){var m=h.projection;if(!n.ENABLE_RASTER_REPROJECTION){var b=g.getProjection();b&&(m=b)}var x=this.skippedFeatures_;if(y){var S=y.context,w=(0,c.assign)({},t,{size:[(0,u.getWidth)(_)/d,(0,u.getHeight)(_)/d],viewState:(0,c.assign)({},t.viewState,{rotation:0})}),E=Object.keys(w.skippedFeatureUids).sort();i=new r.default(_,d,o,S.canvas,function(t){!y.prepareFrame(w,e)||!y.replayGroupChanged&&(0,s.equals)(x,E)||(S.canvas.width=w.size[0]*o,S.canvas.height=w.size[1]*o,y.compose(S,w,e),x=E,t())})}else i=g.getImage(_,d,o,m);i&&this.loadImage(i)&&(this.image_=i,this.skippedFeatures_=x)}if(this.image_){var M=(i=this.image_).getExtent(),O=i.getResolution(),C=i.getPixelRatio(),T=o*O/(d*C),P=(0,p.compose)(this.imageTransform_,o*l[0]/2,o*l[1]/2,T,T,0,C*(M[0]-f[0])/O,C*(f[1]-M[3])/O);(0,p.compose)(this.coordinateToCanvasPixelTransform,o*l[0]/2-P[4],o*l[1]/2-P[5],o/d,-o/d,0,-f[0],-f[1]),this.renderedResolution=O*o/C}return!!this.image_},e.prototype.forEachFeatureAtCoordinate=function(e,i,n,r,o){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,i,n,r,o):t.prototype.forEachFeatureAtCoordinate.call(this,e,i,n,r,o)},e}(f.default);g.handles=function(t){return t.getType()===o.default.IMAGE||t.getType()===o.default.VECTOR&&t.getRenderMode()===l.default.IMAGE},g.create=function(t,e){return new g(e)},e.default=g},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0};n.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},n.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},n.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var i=e-3;i>0&&this.points_[i+2]>t;)i-=3;var n=this.points_[e+2]-this.points_[i+2];if(n<1e3/60)return!1;var r=this.points_[e]-this.points_[i],o=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/n,this.initialVelocity_>this.minVelocity_},n.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},n.prototype.getAngle=function(){return this.angle_},e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(i(46)),r=i(18),o=i(45),a=i(51);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(e){t.call(this,{handleDownEvent:h,handleDragEvent:l,handleUpEvent:c,stopDown:r.FALSE});var i=e||{};this.constrainResolution_=i.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==i.duration?i.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s(a).default);function l(t){var e=1,i=this.targetPointers[0],n=this.targetPointers[1],r=i.clientX-n.clientX,s=i.clientY-n.clientY,u=Math.sqrt(r*r+s*s);void 0!==this.lastDistance_&&(e=this.lastDistance_/u),this.lastDistance_=u;var l=t.map,c=l.getView(),h=c.getResolution(),f=c.getMaxResolution(),p=c.getMinResolution(),d=h*e;d>f?(e=f/h,d=f):d<p&&(e=p/h,d=p),1!=e&&(this.lastScaleDelta_=e);var g=l.getViewport().getBoundingClientRect(),v=(0,a.centroid)(this.targetPointers);v[0]-=g.left,v[1]-=g.top,this.anchor_=l.getCoordinateFromPixel(v),l.render(),(0,o.zoomWithoutConstraints)(c,d,this.anchor_)}function c(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(n.default.INTERACTING,-1);var i=e.getResolution();if(this.constrainResolution_||i<e.getMinResolution()||i>e.getMaxResolution()){var r=this.lastScaleDelta_-1;(0,o.zoom)(e,i,this.anchor_,this.duration_,r)}return!1}return!0}function h(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(n.default.INTERACTING,1),!0}return!1}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=l(i(46)),r=i(18),o=i(45),a=i(51),s=l(a),u=i(222);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(e){t.call(this,{handleDownEvent:p,handleDragEvent:h,handleUpEvent:f,stopDown:r.FALSE});var i=e||{};this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==i.threshold?i.threshold:.3,this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.default);function h(t){var e=0,i=this.targetPointers[0],n=this.targetPointers[1],r=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);if(void 0!==this.lastAngle_){var s=r-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=s}this.lastAngle_=r;var l=t.map,c=l.getView();if(c.getConstraints().rotation!==u.disable){var h=l.getViewport().getBoundingClientRect(),f=(0,a.centroid)(this.targetPointers);if(f[0]-=h.left,f[1]-=h.top,this.anchor_=l.getCoordinateFromPixel(f),this.rotating_){var p=c.getRotation();l.render(),(0,o.rotateWithoutConstraints)(c,p+e,this.anchor_)}}}function f(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(n.default.INTERACTING,-1),this.rotating_){var i=e.getRotation();(0,o.rotate)(e,i,this.anchor_,this.duration_)}return!1}return!0}function p(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(n.default.INTERACTING,1),!0}return!1}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mode=void 0;var n=h(i(46)),r=i(52),o=i(86),a=h(i(4)),s=i(68),u=i(45),l=h(u),c=i(14);function h(t){return t&&t.__esModule?t:{default:t}}var f=e.Mode={TRACKPAD:"trackpad",WHEEL:"wheel"},p=function(t){function e(e){t.call(this,{handleEvent:d});var i=e||{};this.delta_=0,this.duration_=void 0!==i.duration?i.duration:250,this.timeout_=void 0!==i.timeout?i.timeout:80,this.useAnchor_=void 0===i.useAnchor||i.useAnchor,this.constrainResolution_=i.constrainResolution||!1,this.condition_=i.condition?i.condition:r.always,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_=void 0,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(n.default.INTERACTING,-1)},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var i=(0,c.clamp)(this.delta_,-1,1);(0,u.zoomByDelta)(e,-i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(l.default);function d(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==a.default.WHEEL&&e!==a.default.MOUSEWHEEL)return!0;t.preventDefault();var i,r=t.map,u=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==a.default.WHEEL?(i=u.deltaY,s.FIREFOX&&u.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(i/=s.DEVICE_PIXEL_RATIO),u.deltaMode===WheelEvent.DOM_DELTA_LINE&&(i*=40)):t.type==a.default.MOUSEWHEEL&&(i=-u.wheelDeltaY,s.SAFARI&&(i/=3)),0===i)return!1;var l=Date.now();if(void 0===this.startTime_&&(this.startTime_=l),(!this.mode_||l-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(i)<4?f.TRACKPAD:f.WHEEL),this.mode_===f.TRACKPAD){var c=r.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):c.setHint(n.default.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var h=c.getResolution()*Math.pow(2,i/this.trackpadDeltaPerZoom_),p=c.getMinResolution(),d=c.getMaxResolution(),g=0;if(h<p?(h=Math.max(h,p/this.trackpadZoomBuffer_),g=1):h>d&&(h=Math.min(h,d*this.trackpadZoomBuffer_),g=-1),this.lastAnchor_){var v=c.calculateCenterZoom(h,this.lastAnchor_);c.setCenter(c.constrainCenter(v))}return c.setResolution(h),0===g&&this.constrainResolution_&&c.animate({resolution:c.constrainResolution(h,i>0?-1:1),easing:o.easeOut,anchor:this.lastAnchor_,duration:this.duration_}),g>0?c.animate({resolution:p,easing:o.easeOut,anchor:this.lastAnchor_,duration:500}):g<0&&c.animate({resolution:d,easing:o.easeOut,anchor:this.lastAnchor_,duration:500}),this.startTime_=l,!1}this.delta_+=i;var y=Math.max(this.timeout_-(l-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),y),!1}e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModifyEvent=void 0;var n=i(19),r=M(i(54)),o=M(i(123)),a=M(i(64)),s=M(i(103)),u=M(i(173)),l=i(17),c=i(67),h=i(3),f=M(i(32)),p=M(i(4)),d=i(52),g=i(1),v=M(i(25)),y=M(i(36)),_=i(51),m=M(_),b=M(i(167)),x=M(i(44)),S=M(i(290)),w=M(i(289)),E=i(98);function M(t){return t&&t.__esModule?t:{default:t}}var O=0,C=1,T={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},P=e.ModifyEvent=function(t){function e(e,i,n){t.call(this,e),this.features=i,this.mapBrowserEvent=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(f.default),L=function(t){function e(e){var i;if(t.call(this,{handleDownEvent:I,handleDragEvent:R,handleEvent:j,handleUpEvent:k}),this.condition_=e.condition?e.condition:d.primaryAction,this.defaultDeleteCondition_=function(t){return(0,d.altKeyOnly)(t)&&(0,d.singleClick)(t)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:d.always,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.modified_=!1,this.rBush_=new w.default,this.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new b.default({source:new x.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:function(){var t=(0,E.createEditingStyle)();return function(e,i){return t[v.default.POINT]}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_},this.source_=null,e.source?(this.source_=e.source,i=new r.default(this.source_.getFeatures()),(0,h.listen)(this.source_,S.default.ADDFEATURE,this.handleSourceAdd_,this),(0,h.listen)(this.source_,S.default.REMOVEFEATURE,this.handleSourceRemove_,this)):i=e.features,!i)throw new Error("The modify interaction requires features or a source");this.features_=i,this.features_.forEach(this.addFeature_.bind(this)),(0,h.listen)(this.features_,o.default.ADD,this.handleFeatureAdd_,this),(0,h.listen)(this.features_,o.default.REMOVE,this.handleFeatureRemove_,this),this.lastPointerEvent_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature_=function(t){var e=t.getGeometry();e&&e.getType()in this.SEGMENT_WRITERS_&&this.SEGMENT_WRITERS_[e.getType()].call(this,t,e);var i=this.getMap();i&&i.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,i),(0,h.listen)(t,p.default.CHANGE,this.handleFeatureChange_,this)},e.prototype.willModifyFeatures_=function(t){this.modified_||(this.modified_=!0,this.dispatchEvent(new P(T.MODIFYSTART,this.features_,t)))},e.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),(0,h.unlisten)(t,p.default.CHANGE,this.handleFeatureChange_,this)},e.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,i=[];e.forEach(function(e){t===e.feature&&i.push(e)});for(var n=i.length-1;n>=0;--n)e.remove(i[n])},e.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.overlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},e.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},e.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},e.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},e.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)},e.prototype.writePointGeometry_=function(t,e){var i=e.getCoordinates(),n={feature:t,geometry:e,segment:[i,i]};this.rBush_.insert(e.getExtent(),n)},e.prototype.writeMultiPointGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,r=i.length;n<r;++n){var o=i[n],a={feature:t,geometry:e,depth:[n],index:n,segment:[o,o]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,r=i.length-1;n<r;++n){var o=i.slice(n,n+2),a={feature:t,geometry:e,index:n,segment:o};this.rBush_.insert((0,g.boundingExtent)(o),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,r=i.length;n<r;++n)for(var o=i[n],a=0,s=o.length-1;a<s;++a){var u=o.slice(a,a+2),l={feature:t,geometry:e,depth:[n],index:a,segment:u};this.rBush_.insert((0,g.boundingExtent)(u),l)}},e.prototype.writePolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,r=i.length;n<r;++n)for(var o=i[n],a=0,s=o.length-1;a<s;++a){var u=o.slice(a,a+2),l={feature:t,geometry:e,depth:[n],index:a,segment:u};this.rBush_.insert((0,g.boundingExtent)(u),l)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,r=i.length;n<r;++n)for(var o=i[n],a=0,s=o.length;a<s;++a)for(var u=o[a],l=0,c=u.length-1;l<c;++l){var h=u.slice(l,l+2),f={feature:t,geometry:e,depth:[a,n],index:l,segment:h};this.rBush_.insert((0,g.boundingExtent)(h),f)}},e.prototype.writeCircleGeometry_=function(t,e){var i=e.getCenter(),n={feature:t,geometry:e,index:O,segment:[i,i]},r={feature:t,geometry:e,index:C,segment:[i,i]},o=[n,r];n.featureSegments=r.featureSegments=o,this.rBush_.insert((0,g.createOrUpdateFromCoordinate)(i),n),this.rBush_.insert(e.getExtent(),r)},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var i=e.getGeometriesArray(),n=0;n<i.length;++n)this.SEGMENT_WRITERS_[i[n].getType()].call(this,t,i[n])},e.prototype.createOrUpdateVertexFeature_=function(t){var e=this.vertexFeature_;e?e.getGeometry().setCoordinates(t):(e=new a.default(new y.default(t)),this.vertexFeature_=e,this.overlay_.getSource().addFeature(e));return e},e.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map)},e.prototype.handlePointerAtPixel_=function(t,e){var i=e.getCoordinateFromPixel(t),r=(0,g.buffer)((0,g.createOrUpdateFromCoordinate)(i),e.getView().getResolution()*this.pixelTolerance_),o=this.rBush_.getInExtent(r);if(o.length>0){o.sort(function(t,e){return N(i,t)-N(i,e)});var a=o[0],s=a.segment,u=F(i,a),l=e.getPixelFromCoordinate(u),h=(0,c.distance)(t,l);if(h<=this.pixelTolerance_){var f={};if(a.geometry.getType()===v.default.CIRCLE&&a.index===C)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(u);else{var p=e.getPixelFromCoordinate(s[0]),d=e.getPixelFromCoordinate(s[1]),y=(0,c.squaredDistance)(l,p),_=(0,c.squaredDistance)(l,d);h=Math.sqrt(Math.min(y,_)),this.snappedToVertex_=h<=this.pixelTolerance_,this.snappedToVertex_&&(u=y>_?s[1]:s[0]),this.createOrUpdateVertexFeature_(u);for(var m=1,b=o.length;m<b;++m){var x=o[m].segment;if(!((0,c.equals)(s[0],x[0])&&(0,c.equals)(s[1],x[1])||(0,c.equals)(s[0],x[1])&&(0,c.equals)(s[1],x[0])))break;f[(0,n.getUid)(x)]=!0}}return f[(0,n.getUid)(s)]=!0,void(this.vertexSegments_=f)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},e.prototype.insertVertex_=function(t,e){for(var i,n=t.segment,r=t.feature,o=t.geometry,a=t.depth,s=t.index;e.length<o.getStride();)e.push(0);switch(o.getType()){case v.default.MULTI_LINE_STRING:case v.default.POLYGON:(i=o.getCoordinates())[a[0]].splice(s+1,0,e);break;case v.default.MULTI_POLYGON:(i=o.getCoordinates())[a[1]][a[0]].splice(s+1,0,e);break;case v.default.LINE_STRING:(i=o.getCoordinates()).splice(s+1,0,e);break;default:return}this.setGeometryCoordinates_(o,i);var u=this.rBush_;u.remove(t),this.updateSegmentIndices_(o,s,a,1);var l={segment:[n[0],e],feature:r,geometry:o,depth:a,index:s};u.insert((0,g.boundingExtent)(l.segment),l),this.dragSegments_.push([l,1]);var c={segment:[e,n[1]],feature:r,geometry:o,depth:a,index:s+1};u.insert((0,g.boundingExtent)(c.segment),c),this.dragSegments_.push([c,0]),this.ignoreNextSingleClick_=!0},e.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=s.default.POINTERDRAG){var t=this.lastPointerEvent_;return this.willModifyFeatures_(t),this.removeVertex_(),this.dispatchEvent(new P(T.MODIFYEND,this.features_,t)),this.modified_=!1,!0}return!1},e.prototype.removeVertex_=function(){var t,e,i,r,o,a,s,u,l,c,h,f=this.dragSegments_,p={},d=!1;for(o=f.length-1;o>=0;--o)c=(i=f[o])[0],h=(0,n.getUid)(c.feature),c.depth&&(h+="-"+c.depth.join("-")),h in p||(p[h]={}),0===i[1]?(p[h].right=c,p[h].index=c.index):1==i[1]&&(p[h].left=c,p[h].index=c.index+1);for(h in p){switch(l=p[h].right,s=p[h].left,u=(a=p[h].index)-1,c=void 0!==s?s:l,u<0&&(u=0),t=e=(r=c.geometry).getCoordinates(),d=!1,r.getType()){case v.default.MULTI_LINE_STRING:e[c.depth[0]].length>2&&(e[c.depth[0]].splice(a,1),d=!0);break;case v.default.LINE_STRING:e.length>2&&(e.splice(a,1),d=!0);break;case v.default.MULTI_POLYGON:t=t[c.depth[1]];case v.default.POLYGON:(t=t[c.depth[0]]).length>4&&(a==t.length-1&&(a=0),t.splice(a,1),d=!0,0===a&&(t.pop(),t.push(t[0]),u=t.length-1))}if(d){this.setGeometryCoordinates_(r,e);var y=[];if(void 0!==s&&(this.rBush_.remove(s),y.push(s.segment[0])),void 0!==l&&(this.rBush_.remove(l),y.push(l.segment[1])),void 0!==s&&void 0!==l){var _={depth:c.depth,feature:c.feature,geometry:c.geometry,index:u,segment:y};this.rBush_.insert((0,g.boundingExtent)(_.segment),_)}this.updateSegmentIndices_(r,a,c.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),f.length=0}}return d},e.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},e.prototype.updateSegmentIndices_=function(t,e,i,n){this.rBush_.forEachInExtent(t.getExtent(),function(r){r.geometry===t&&(void 0===i||void 0===r.depth||(0,l.equals)(r.depth,i))&&r.index>e&&(r.index+=n)})},e}(m.default);function A(t,e){return t.index-e.index}function I(t){if(!this.condition_(t))return!1;this.handlePointerAtPixel_(t.pixel,t.map);var e=t.map.getCoordinateFromPixel(t.pixel);this.dragSegments_.length=0,this.modified_=!1;var i=this.vertexFeature_;if(i){var r=[],o=i.getGeometry().getCoordinates(),a=(0,g.boundingExtent)([o]),s=this.rBush_.getInExtent(a),u={};s.sort(A);for(var l=0,h=s.length;l<h;++l){var f=s[l],p=f.segment,d=(0,n.getUid)(f.feature),y=f.depth;if(y&&(d+="-"+y.join("-")),u[d]||(u[d]=new Array(2)),f.geometry.getType()===v.default.CIRCLE&&f.index===C){var _=F(e,f);(0,c.equals)(_,o)&&!u[d][0]&&(this.dragSegments_.push([f,0]),u[d][0]=f)}else if((0,c.equals)(p[0],o)&&!u[d][0])this.dragSegments_.push([f,0]),u[d][0]=f;else if((0,c.equals)(p[1],o)&&!u[d][1]){if((f.geometry.getType()===v.default.LINE_STRING||f.geometry.getType()===v.default.MULTI_LINE_STRING)&&u[d][0]&&0===u[d][0].index)continue;this.dragSegments_.push([f,1]),u[d][1]=f}else this.insertVertexCondition_(t)&&(0,n.getUid)(p)in this.vertexSegments_&&!u[d][0]&&!u[d][1]&&r.push([f,o])}r.length&&this.willModifyFeatures_(t);for(var m=r.length-1;m>=0;--m)this.insertVertex_.apply(this,r[m])}return!!this.vertexFeature_}function R(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t);for(var e=t.coordinate,i=0,n=this.dragSegments_.length;i<n;++i){for(var r=this.dragSegments_[i],o=r[0],a=o.depth,s=o.geometry,u=void 0,l=o.segment,h=r[1];e.length<s.getStride();)e.push(l[h][e.length]);switch(s.getType()){case v.default.POINT:u=e,l[0]=l[1]=e;break;case v.default.MULTI_POINT:(u=s.getCoordinates())[o.index]=e,l[0]=l[1]=e;break;case v.default.LINE_STRING:(u=s.getCoordinates())[o.index+h]=e,l[h]=e;break;case v.default.MULTI_LINE_STRING:case v.default.POLYGON:(u=s.getCoordinates())[a[0]][o.index+h]=e,l[h]=e;break;case v.default.MULTI_POLYGON:(u=s.getCoordinates())[a[1]][a[0]][o.index+h]=e,l[h]=e;break;case v.default.CIRCLE:l[0]=l[1]=e,o.index===O?(this.changingFeature_=!0,s.setCenter(e),this.changingFeature_=!1):(this.changingFeature_=!0,s.setRadius((0,c.distance)(s.getCenter(),e)),this.changingFeature_=!1)}u&&this.setGeometryCoordinates_(s,u)}this.createOrUpdateVertexFeature_(e)}function k(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var i=this.dragSegments_[e][0],n=i.geometry;if(n.getType()===v.default.CIRCLE){var r=n.getCenter(),o=i.featureSegments[0],a=i.featureSegments[1];o.segment[0]=o.segment[1]=r,a.segment[0]=a.segment[1]=r,this.rBush_.update((0,g.createOrUpdateFromCoordinate)(r),o),this.rBush_.update(n.getExtent(),a)}else this.rBush_.update((0,g.boundingExtent)(i.segment),i)}return this.modified_&&(this.dispatchEvent(new P(T.MODIFYEND,this.features_,t)),this.modified_=!1),!1}function j(t){return!(t instanceof u.default)||(this.lastPointerEvent_=t,t.map.getView().getInteracting()||t.type!=s.default.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(e=!(t.type!=s.default.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),t.type==s.default.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),_.handleEvent.call(this,t)&&!e);var e}function N(t,e){var i=e.geometry;if(i.getType()===v.default.CIRCLE){var n=i;if(e.index===C){var r=(0,c.squaredDistance)(n.getCenter(),t),o=Math.sqrt(r)-n.getRadius();return o*o}}return(0,c.squaredDistanceToSegment)(t,e.segment)}function F(t,e){var i=e.geometry;return i.getType()===v.default.CIRCLE&&e.index===C?i.getClosestPoint(t):(0,c.closestOnSegment)(t,e.segment)}e.default=L},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(i(4)),r=i(52),o=i(45);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(e){t.call(this,{handleEvent:u});var i=e||{};this.condition_=i.condition?i.condition:r.targetNotEditable,this.delta_=i.delta?i.delta:1,this.duration_=void 0!==i.duration?i.duration:100}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a(o).default);function u(t){var e=!1;if(t.type==n.default.KEYDOWN||t.type==n.default.KEYPRESS){var i=t.originalEvent.charCode;if(this.condition_(t)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var r=t.map,a=i=="+".charCodeAt(0)?this.delta_:-this.delta_,s=r.getView();(0,o.zoomByDelta)(s,a,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(67),r=u(i(4)),o=u(i(906)),a=i(52),s=i(45);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(e){t.call(this,{handleEvent:c});var i=e||{};this.defaultCondition_=function(t){return(0,a.noModifierKeys)(t)&&(0,a.targetNotEditable)(t)},this.condition_=void 0!==i.condition?i.condition:this.defaultCondition_,this.duration_=void 0!==i.duration?i.duration:100,this.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(u(s).default);function c(t){var e=!1;if(t.type==r.default.KEYDOWN){var i=t.originalEvent.keyCode;if(this.condition_(t)&&(i==o.default.DOWN||i==o.default.LEFT||i==o.default.RIGHT||i==o.default.UP)){var a=t.map.getView(),u=a.getResolution()*this.pixelDelta_,l=0,c=0;i==o.default.DOWN?c=-u:i==o.default.LEFT?l=-u:i==o.default.RIGHT?l=u:c=u;var h=[l,c];(0,n.rotate)(h,a.getRotation()),(0,s.pan)(a,h,this.duration_),t.preventDefault(),e=!0}}return!e}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.all=function(t,e){return[[-1/0,-1/0,1/0,1/0]]},e.bbox=function(t,e){return[t]},e.tile=function(t){return function(e,i){var n=t.getZForResolution(i),r=t.getTileRangeForExtentAndZ(e,n),o=[],a=[n,0,0];for(a[1]=r.minX;a[1]<=r.maxX;++a[1])for(a[2]=r.minY;a[2]<=r.maxY;++a[2])o.push(t.getTileCoordExtent(a));return o}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={IMAGE:"image",VECTOR:"vector"}},function(t,e,i){"use strict";function n(t,e,i,n){for(var r=t[e],o=t[e+1],a=0,s=e+n;s<i;s+=n){var u=t[s],l=t[s+1];a+=Math.sqrt((u-r)*(u-r)+(l-o)*(l-o)),r=u,o=l}return a}Object.defineProperty(e,"__esModule",{value:!0}),e.lineStringLength=n,e.linearRingLength=function(t,e,i,r){var o=n(t,e,i,r),a=t[i-r]-t[e],s=t[i-r+1]-t[e+1];return o+=Math.sqrt(a*a+s*s)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.interpolatePoint=function(t,e,i,o,a,s){var u=NaN,l=NaN,c=(i-e)/o;if(1===c)u=t[e],l=t[e+1];else if(2==c)u=(1-a)*t[e]+a*t[e+o],l=(1-a)*t[e+1]+a*t[e+o+1];else if(0!==c){for(var h=t[e],f=t[e+1],p=0,d=[0],g=e+o;g<i;g+=o){var v=t[g],y=t[g+1];p+=Math.sqrt((v-h)*(v-h)+(y-f)*(y-f)),d.push(p),h=v,f=y}var _=a*p,m=(0,n.binarySearch)(d,_);if(m<0){var b=(_-d[-m-2])/(d[-m-1]-d[-m-2]),x=e+(-m-2)*o;u=(0,r.lerp)(t[x],t[x+o],b),l=(0,r.lerp)(t[x+1],t[x+o+1],b)}else u=t[e+m*o],l=t[e+m*o+1]}return s?(s[0]=u,s[1]=l,s):[u,l]},e.lineStringCoordinateAtM=o,e.lineStringsCoordinateAtM=function(t,e,i,n,r,a,s){if(s)return o(t,e,i[i.length-1],n,r,a);var u;if(r<t[n-1])return a?((u=t.slice(0,n))[n-1]=r,u):null;if(t[t.length-1]<r)return a?((u=t.slice(t.length-n))[n-1]=r,u):null;for(var l=0,c=i.length;l<c;++l){var h=i[l];if(e!=h){if(r<t[e+n-1])return null;if(r<=t[h-1])return o(t,e,h,n,r,!1);e=h}}return null};var n=i(17),r=i(14);function o(t,e,i,n,o,a){if(i==e)return null;var s;if(o<t[e+n-1])return a?((s=t.slice(e,e+n))[n-1]=o,s):null;if(t[i-1]<o)return a?((s=t.slice(i-n,i))[n-1]=o,s):null;if(o==t[e+n-1])return t.slice(e,e+n);for(var u=e/n,l=i/n;u<l;){var c=u+l>>1;o<t[(c+1)*n-1]?l=c:u=c+1}var h=t[u*n-1];if(o==h)return t.slice((u-1)*n,(u-1)*n+n);var f=(o-h)/(t[(u+1)*n-1]-h);s=[];for(var p=0;p<n-1;++p)s.push((0,r.lerp)(t[(u-1)*n+p],t[u*n+p],f));return s.push(o),s}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=s(i(25)),o=s(i(66)),a=i(101);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(e,i,n){if(t.call(this),void 0!==n&&void 0===i)this.setFlatCoordinates(n,e);else{var r=i||0;this.setCenterAndRadius(e,r,n)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),void 0,this.layout)},e.prototype.closestPointXY=function(t,e,i,n){var r=this.flatCoordinates,o=t-r[0],a=e-r[1],s=o*o+a*a;if(s<n){if(0===s)for(var u=0;u<this.stride;++u)i[u]=r[u];else{var l=this.getRadius()/Math.sqrt(s);i[0]=r[0]+l*o,i[1]=r[1]+l*a;for(var c=2;c<this.stride;++c)i[c]=r[c]}return i.length=this.stride,s}return n},e.prototype.containsXY=function(t,e){var i=this.flatCoordinates,n=t-i[0],r=e-i[1];return n*n+r*r<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,i=e[this.stride]-e[0];return(0,n.createOrUpdate)(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return r.default.CIRCLE},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if((0,n.intersects)(t,e)){var i=this.getCenter();return t[0]<=i[0]&&t[2]>=i[0]||(t[1]<=i[1]&&t[3]>=i[1]||(0,n.forEachCorner)(t,this.intersectsCoordinate,this))}return!1},e.prototype.setCenter=function(t){var e=this.stride,i=this.flatCoordinates[e]-this.flatCoordinates[0],n=t.slice();n[e]=n[0]+i;for(var r=1;r<e;++r)n[e+r]=t[r];this.setFlatCoordinates(this.layout,n),this.changed()},e.prototype.setCenterAndRadius=function(t,e,i){this.setLayout(i,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var n=this.flatCoordinates,r=(0,a.deflateCoordinate)(n,0,t,this.stride);n[r++]=n[0]+e;for(var o=1,s=this.stride;o<s;++o)n[r++]=n[o];n.length=r,this.changed()},e.prototype.getCoordinates=function(){},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e}(o.default);u.prototype.transform,e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getSnapToPixel=function(){return!1},n.prototype.getAnchor=function(){},n.prototype.getImage=function(t){},n.prototype.getHitDetectionImage=function(t){},n.prototype.getImageState=function(){},n.prototype.getImageSize=function(){},n.prototype.getHitDetectionImageSize=function(){},n.prototype.getOrigin=function(){},n.prototype.getSize=function(){},n.prototype.setOpacity=function(t){this.opacity_=t},n.prototype.setRotateWithView=function(t){this.rotateWithView_=t},n.prototype.setRotation=function(t){this.rotation_=t},n.prototype.setScale=function(t){this.scale_=t},n.prototype.setSnapToPixel=function(t){},n.prototype.listenImageChange=function(t,e){},n.prototype.load=function(){},n.prototype.unlistenImageChange=function(t,e){},e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(20),r=a(i(122)),o=a(i(4));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(o.default.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){for(var i=this.oldest_;i;)t.call(e,i.value_,i.key_,this),i=i.newer},e.prototype.get=function(t){var e=this.entries_[t];return(0,n.assert)(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return(0,n.assert)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){(0,n.assert)(!(t in this.entries_),16);var i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e}(r.default);e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(216),r=i(27),o=i(68),a=u(i(74)),s=i(83);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(e){var i=void 0!==e.rotateWithView&&e.rotateWithView;t.call(this,{opacity:1,rotateWithView:i,rotation:void 0!==e.rotation?e.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return a.default.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t,e){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t,e){},e.prototype.render_=function(t){var e,i,a="",u="",l=0,c=null,h=0,f=0;this.stroke_&&(null===(i=this.stroke_.getColor())&&(i=s.defaultStrokeStyle),i=(0,n.asColorLike)(i),void 0===(f=this.stroke_.getWidth())&&(f=s.defaultLineWidth),c=this.stroke_.getLineDash(),h=this.stroke_.getLineDashOffset(),o.CANVAS_LINE_DASH||(c=null,h=0),void 0===(u=this.stroke_.getLineJoin())&&(u=s.defaultLineJoin),void 0===(a=this.stroke_.getLineCap())&&(a=s.defaultLineCap),void 0===(l=this.stroke_.getMiterLimit())&&(l=s.defaultMiterLimit));var p=2*(this.radius_+f)+1,d={strokeStyle:i,strokeWidth:f,size:p,lineCap:a,lineDash:c,lineDashOffset:h,lineJoin:u,miterLimit:l};if(void 0===t){var g=(0,r.createCanvasContext2D)(p,p);this.canvas_=g.canvas,e=p=this.canvas_.width,this.draw_(d,g,0,0),this.createHitDetectionCanvas_(d)}else{p=Math.round(p);var v,y=!this.fill_;y&&(v=this.drawHitDetectionCanvas_.bind(this,d));var _=this.getChecksum(),m=t.add(_,p,p,this.draw_.bind(this,d),v);this.canvas_=m.image,this.origin_=[m.offsetX,m.offsetY],e=m.image.width,y?(this.hitDetectionCanvas_=m.hitImage,this.hitDetectionImageSize_=[m.hitImage.width,m.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[p/2,p/2],this.size_=[p,p],this.imageSize_=[e,e]},e.prototype.draw_=function(t,e,i,r){var o,a,u;e.setTransform(1,0,0,1,0,0),e.translate(i,r),e.beginPath();var l=this.points_;if(l===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var c=void 0!==this.radius2_?this.radius2_:this.radius_;for(c!==this.radius_&&(l*=2),o=0;o<=l;o++)a=2*o*Math.PI/l-Math.PI/2+this.angle_,u=o%2==0?this.radius_:c,e.lineTo(t.size/2+u*Math.cos(a),t.size/2+u*Math.sin(a))}if(this.fill_){var h=this.fill_.getColor();null===h&&(h=s.defaultFillStyle),e.fillStyle=(0,n.asColorLike)(h),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=(0,r.createCanvasContext2D)(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},e.prototype.drawHitDetectionCanvas_=function(t,e,i,n){e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath();var r=this.points_;if(r===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o,a,u,l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(r*=2),o=0;o<=r;o++)u=2*o*Math.PI/r-Math.PI/2+this.angle_,a=o%2==0?this.radius_:l,e.lineTo(t.size/2+a*Math.cos(u),t.size/2+a*Math.sin(u))}e.fillStyle=s.defaultFillStyle,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var i="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[i,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},e}(u(i(462)).default);e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(e){var i=e||{};t.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,atlasManager:i.atlasManager})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(function(t){return t&&t.__esModule?t:{default:t}}(i(464)).default);e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(86),r=i(52),o=i(1);var a=function(t){function e(e){var i=e||{},n=i.condition?i.condition:r.shiftKeyOnly;t.call(this,{condition:n,className:i.className||"ol-dragzoom",onBoxEnd:s}),this.duration_=void 0!==i.duration?i.duration:200,this.out_=void 0!==i.out&&i.out}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(function(t){return t&&t.__esModule?t:{default:t}}(i(469)).default);function s(){var t=this.getMap(),e=t.getView(),i=t.getSize(),r=this.getGeometry().getExtent();if(this.out_){var a=e.calculateExtent(i),s=(0,o.createOrUpdateFromCoordinates)([t.getPixelFromCoordinate((0,o.getBottomLeft)(r)),t.getPixelFromCoordinate((0,o.getTopRight)(r))]),u=e.getResolutionForExtent(s,i);(0,o.scaleFromCenter)(a,1/u),r=a}var l=e.constrainResolution(e.getResolutionForExtent(r,i)),c=(0,o.getCenter)(r);c=e.constrainCenter(c),e.animate({resolution:l,center:c,duration:this.duration_,easing:n.easeOut})}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(222),r=u(i(46)),o=i(52),a=i(18),s=i(45);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(e){var i=e||{};t.call(this,{handleDownEvent:f,handleDragEvent:c,handleUpEvent:h,stopDown:a.FALSE}),this.condition_=i.condition?i.condition:o.altShiftKeysOnly,this.lastAngle_=void 0,this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(u(i(51)).default);function c(t){if((0,o.mouseOnly)(t)){var e=t.map,i=e.getView();if(i.getConstraints().rotation!==n.disable){var r=e.getSize(),a=t.pixel,u=Math.atan2(r[1]/2-a[1],a[0]-r[0]/2);if(void 0!==this.lastAngle_){var l=u-this.lastAngle_,c=i.getRotation();(0,s.rotateWithoutConstraints)(i,c-l)}this.lastAngle_=u}}}function h(t){if(!(0,o.mouseOnly)(t))return!0;var e=t.map.getView();e.setHint(r.default.INTERACTING,-1);var i=e.getRotation();return(0,s.rotate)(e,i,void 0,this.duration_),!1}function f(t){return!!(0,o.mouseOnly)(t)&&(!(!(0,o.mouseActionButton)(t)||!this.condition_(t))&&(t.map.getView().setHint(r.default.INTERACTING,1),this.lastAngle_=void 0,!0))}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=l(i(46)),r=i(67),o=i(86),a=i(52),s=i(18),u=i(51);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(e){t.call(this,{handleDownEvent:p,handleDragEvent:h,handleUpEvent:f,stopDown:s.FALSE});var i=e||{};this.kinetic_=i.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=i.condition?i.condition:a.noModifierKeys,this.noKinetic_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l(u).default);function h(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(n.default.INTERACTING,1));var e=this.targetPointers,i=(0,u.centroid)(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=this.lastCentroid[0]-i[0],a=i[1]-this.lastCentroid[1],s=t.map.getView(),l=[o,a];(0,r.scale)(l,s.getResolution()),(0,r.rotate)(l,s.getRotation()),(0,r.add)(l,s.getCenter()),l=s.constrainCenter(l),s.setCenter(l)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=e.length}function f(t){var e=t.map,i=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),s=i.getCenter(),u=e.getPixelFromCoordinate(s),l=e.getCoordinateFromPixel([u[0]-r*Math.cos(a),u[1]-r*Math.sin(a)]);i.animate({center:i.constrainCenter(l),duration:500,easing:o.easeOut})}return this.panning_&&(this.panning_=!1,i.setHint(n.default.INTERACTING,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}function p(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=u(i(32)),r=i(52),o=i(18),a=u(i(51)),s=u(i(912));function u(t){return t&&t.__esModule?t:{default:t}}var l={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},c=function(t){function e(e,i,n){t.call(this,e),this.coordinate=i,this.mapBrowserEvent=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n.default),h=function(t){function e(e){t.call(this,{handleDownEvent:g,handleDragEvent:p,handleUpEvent:d});var i=e||{};this.box_=new s.default(i.className||"ol-dragbox"),this.minArea_=void 0!==i.minArea?i.minArea:64,this.onBoxEnd_=i.onBoxEnd?i.onBoxEnd:o.VOID,this.startPixel_=null,this.condition_=i.condition?i.condition:r.always,this.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:f}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGeometry=function(){return this.box_.getGeometry()},e}(a.default);function f(t,e,i){var n=i[0]-e[0],r=i[1]-e[1];return n*n+r*r>=this.minArea_}function p(t){(0,r.mouseOnly)(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new c(l.BOXDRAG,t.coordinate,t)))}function d(t){return!(0,r.mouseOnly)(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new c(l.BOXEND,t.coordinate,t))),!1)}function g(t){return!!(0,r.mouseOnly)(t)&&(!(!(0,r.mouseActionButton)(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new c(l.BOXSTART,t.coordinate,t)),!0))}e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(103)),r=i(45);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(e){t.call(this,{handleEvent:s});var i=e||{};this.delta_=i.delta?i.delta:1,this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o(r).default);function s(t){var e=!1,i=t.originalEvent;if(t.type==n.default.DBLCLICK){var o=t.map,a=t.coordinate,s=i.shiftKey?-this.delta_:this.delta_,u=o.getView();(0,r.zoomByDelta)(u,s,a,this.duration_),t.preventDefault(),e=!0}return!e}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=u(i(4)),o=u(i(99)),a=i(84),s=i(86);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),target:i.target});var o=void 0!==i.className?i.className:"ol-zoom",s=void 0!==i.delta?i.delta:1,u=void 0!==i.zoomInLabel?i.zoomInLabel:"+",l=void 0!==i.zoomOutLabel?i.zoomOutLabel:"",c=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",h=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",f=document.createElement("button");f.className=o+"-in",f.setAttribute("type","button"),f.title=c,f.appendChild("string"==typeof u?document.createTextNode(u):u),(0,n.listen)(f,r.default.CLICK,this.handleClick_.bind(this,s));var p=document.createElement("button");p.className=o+"-out",p.setAttribute("type","button"),p.title=h,p.appendChild("string"==typeof l?document.createTextNode(l):l),(0,n.listen)(p,r.default.CLICK,this.handleClick_.bind(this,-s));var d=o+" "+a.CLASS_UNSELECTABLE+" "+a.CLASS_CONTROL,g=this.element;g.className=d,g.appendChild(f),g.appendChild(p),this.duration_=void 0!==i.duration?i.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var i=e.getResolution();if(i){var n=e.constrainResolution(i,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:n,duration:this.duration_,easing:s.easeOut})):e.setResolution(n)}}},e}(o.default);e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(i(22)),r=s(i(472)),o=i(14),a=i(9);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(e){t.call(this);var i=(0,a.assign)({},e);i[r.default.OPACITY]=void 0!==e.opacity?e.opacity:1,i[r.default.VISIBLE]=void 0===e.visible||e.visible,i[r.default.Z_INDEX]=e.zIndex,i[r.default.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,i[r.default.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(i),this.state_={layer:this,managed:!0},this.type}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){return this.state_.opacity=(0,o.clamp)(this.getOpacity(),0,1),this.state_.sourceState=this.getSourceState(),this.state_.visible=this.getVisible(),this.state_.extent=this.getExtent(),this.state_.zIndex=this.getZIndex()||0,this.state_.maxResolution=this.getMaxResolution(),this.state_.minResolution=Math.max(this.getMinResolution(),0),this.state_},e.prototype.getLayersArray=function(t){},e.prototype.getLayerStatesArray=function(t){},e.prototype.getExtent=function(){return this.get(r.default.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(r.default.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(r.default.MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(r.default.OPACITY)},e.prototype.getSourceState=function(){},e.prototype.getVisible=function(){return this.get(r.default.VISIBLE)},e.prototype.getZIndex=function(){return this.get(r.default.Z_INDEX)},e.prototype.setExtent=function(t){this.set(r.default.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(r.default.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(r.default.MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(r.default.OPACITY,t)},e.prototype.setVisible=function(t){this.set(r.default.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(r.default.Z_INDEX,t)},e}(n.default);e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linearRingIsClockwise=r,e.linearRingIsOriented=o,e.linearRingsAreOriented=function(t,e,i,n,r){for(var a=0,s=i.length;a<s;++a)if(!o(t,e,i[a],n,r))return!1;return!0},e.orientLinearRings=a,e.orientLinearRingsArray=function(t,e,i,n,r){for(var o=0,s=i.length;o<s;++o)e=a(t,e,i[o],n,r);return e};var n=i(918);function r(t,e,i,n){for(var r=0,o=t[i-n],a=t[i-n+1];e<i;e+=n){var s=t[e],u=t[e+1];r+=(s-o)*(u+a),o=s,a=u}return r>0}function o(t,e,i,n,o){for(var a=void 0!==o&&o,s=0,u=i.length;s<u;++s){var l=i[s],c=r(t,e,l,n);if(0===s){if(a&&c||!a&&!c)return!1}else if(a&&!c||!a&&c)return!1;e=l}return!0}function a(t,e,i,o,a){for(var s=void 0!==a&&a,u=0,l=i.length;u<l;++u){var c=i[u],h=r(t,e,c,o);(0===u?s&&h||!s&&!h:s&&!h||!s&&h)&&(0,n.coordinates)(t,e,c,o),e=c}return e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=function(t,e,i,n,r,o){for(var a,s=[t[e],t[e+1]],u=[];e+n<i;e+=n){if(u[0]=t[e+n],u[1]=t[e+n+1],a=r.call(o,s,u))return a;s[0]=u[0],s[1]=u[1]}return!1}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getInteriorPointOfArray=o,e.getInteriorPointsOfMultiArray=function(t,e,i,n,r){for(var a=[],s=0,u=i.length;s<u;++s){var l=i[s];a=o(t,e,l,n,r,2*s,a),e=l[l.length-1]}return a};var n=i(17),r=i(218);function o(t,e,i,o,a,s,u){for(var l,c,h,f,p,d,g,v=a[s+1],y=[],_=0,m=i.length;_<m;++_){var b=i[_];for(f=t[b-o],d=t[b-o+1],l=e;l<b;l+=o)p=t[l],g=t[l+1],(v<=d&&g<=v||d<=v&&v<=g)&&(h=(v-d)/(g-d)*(p-f)+f,y.push(h)),f=p,d=g}var x=NaN,S=-1/0;for(y.sort(n.numberSafeCompareFunction),f=y[0],l=1,c=y.length;l<c;++l){p=y[l];var w=Math.abs(p-f);w>S&&(h=(f+p)/2,(0,r.linearRingsContainsXY)(t,e,i,o,h,v)&&(x=h,S=w)),f=p}return isNaN(x)&&(x=a[s]),u?(u.push(x,v,S),u):[x,v,S]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clear=function(){r={}},e.add=function(t,e,i){var n=t.getCode(),o=e.getCode();n in r||(r[n]={});r[n][o]=i},e.remove=function(t,e){var i=t.getCode(),o=e.getCode(),a=r[i][o];delete r[i][o],(0,n.isEmpty)(r[i])&&delete r[i];return a},e.get=function(t,e){var i;t in r&&e in r[t]&&(i=r[t][e]);return i};var n=i(9),r={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_RADIUS=void 0,e.getDistance=a,e.getLength=function t(e,i){var n=i||{};var a=n.radius||o;var u=n.projection||"EPSG:3857";var l=e.getType();l!==r.default.GEOMETRY_COLLECTION&&(e=e.clone().transform(u,"EPSG:4326"));var c=0;var h,f,p,d,g,v;switch(l){case r.default.POINT:case r.default.MULTI_POINT:break;case r.default.LINE_STRING:case r.default.LINEAR_RING:h=e.getCoordinates(),c=s(h,a);break;case r.default.MULTI_LINE_STRING:case r.default.POLYGON:for(h=e.getCoordinates(),p=0,d=h.length;p<d;++p)c+=s(h[p],a);break;case r.default.MULTI_POLYGON:for(h=e.getCoordinates(),p=0,d=h.length;p<d;++p)for(f=h[p],g=0,v=f.length;g<v;++g)c+=s(f[g],a);break;case r.default.GEOMETRY_COLLECTION:var y=e.getGeometries();for(p=0,d=y.length;p<d;++p)c+=t(y[p],i);break;default:throw new Error("Unsupported geometry type: "+l)}return c},e.getArea=function t(e,i){var n=i||{};var a=n.radius||o;var s=n.projection||"EPSG:3857";var l=e.getType();l!==r.default.GEOMETRY_COLLECTION&&(e=e.clone().transform(s,"EPSG:4326"));var c=0;var h,f,p,d,g,v;switch(l){case r.default.POINT:case r.default.MULTI_POINT:case r.default.LINE_STRING:case r.default.MULTI_LINE_STRING:case r.default.LINEAR_RING:break;case r.default.POLYGON:for(h=e.getCoordinates(),c=Math.abs(u(h[0],a)),p=1,d=h.length;p<d;++p)c-=Math.abs(u(h[p],a));break;case r.default.MULTI_POLYGON:for(h=e.getCoordinates(),p=0,d=h.length;p<d;++p)for(f=h[p],c+=Math.abs(u(f[0],a)),g=1,v=f.length;g<v;++g)c-=Math.abs(u(f[g],a));break;case r.default.GEOMETRY_COLLECTION:var y=e.getGeometries();for(p=0,d=y.length;p<d;++p)c+=t(y[p],i);break;default:throw new Error("Unsupported geometry type: "+l)}return c},e.offset=function(t,e,i,r){var a=r||o,s=(0,n.toRadians)(t[1]),u=(0,n.toRadians)(t[0]),l=e/a,c=Math.asin(Math.sin(s)*Math.cos(l)+Math.cos(s)*Math.sin(l)*Math.cos(i)),h=u+Math.atan2(Math.sin(i)*Math.sin(l)*Math.cos(s),Math.cos(l)-Math.sin(s)*Math.sin(c));return[(0,n.toDegrees)(h),(0,n.toDegrees)(c)]};var n=i(14),r=function(t){return t&&t.__esModule?t:{default:t}}
/**
 * @license
 * Latitude/longitude spherical geodesy formulae taken from
 * http://www.movable-type.co.uk/scripts/latlong.html
 * Licensed under CC-BY-3.0.
 */(i(25));var o=e.DEFAULT_RADIUS=6371008.8;function a(t,e,i){var r=i||o,a=(0,n.toRadians)(t[1]),s=(0,n.toRadians)(e[1]),u=(s-a)/2,l=(0,n.toRadians)(e[0]-t[0])/2,c=Math.sin(u)*Math.sin(u)+Math.sin(l)*Math.sin(l)*Math.cos(a)*Math.cos(s);return 2*r*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function s(t,e){for(var i=0,n=0,r=t.length;n<r-1;++n)i+=a(t[n],t[n+1],e);return i}function u(t,e){for(var i=0,r=t.length,o=t[r-1][0],a=t[r-1][1],s=0;s<r;s++){var u=t[s][0],l=t[s][1];i+=(0,n.toRadians)(u-o)*(2+Math.sin((0,n.toRadians)(a))+Math.sin((0,n.toRadians)(l))),o=u,a=l}return i*e*e/2}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DROP=void 0;var n=i(20),r=i(9),o=e.DROP=1/0,a=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};a.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,(0,r.clear)(this.queuedElements_)},a.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var n=this.keyFunction_(i);return delete this.queuedElements_[n],i},a.prototype.enqueue=function(t){(0,n.assert)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=o&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},a.prototype.getCount=function(){return this.elements_.length},a.prototype.getLeftChildIndex_=function(t){return 2*t+1},a.prototype.getRightChildIndex_=function(t){return 2*t+2},a.prototype.getParentIndex_=function(t){return t-1>>1},a.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},a.prototype.isEmpty=function(){return 0===this.elements_.length},a.prototype.isKeyQueued=function(t){return t in this.queuedElements_},a.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},a.prototype.siftUp_=function(t){for(var e=this.elements_,i=this.priorities_,n=e.length,r=e[t],o=i[t],a=t;t<n>>1;){var s=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),l=u<n&&i[u]<i[s]?u:s;e[t]=e[l],i[t]=i[l],t=l}e[t]=r,i[t]=o,this.siftDown_(a,t)},a.prototype.siftDown_=function(t,e){for(var i=this.elements_,n=this.priorities_,r=i[e],o=n[e];e>t;){var a=this.getParentIndex_(e);if(!(n[a]>o))break;i[e]=i[a],n[e]=n[a],e=a}i[e]=r,n[e]=o},a.prototype.reprioritize=function(){var t,e,i,n=this.priorityFunction_,r=this.elements_,a=this.priorities_,s=0,u=r.length;for(e=0;e<u;++e)(i=n(t=r[e]))==o?delete this.queuedElements_[this.keyFunction_(t)]:(a[s]=i,r[s++]=t);r.length=s,a.length=s,this.heapify_()},e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(i(47)),r=i(3),o=a(i(4));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(e,i){t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()}),this.tileChangeCallback_=i,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var i=t.prototype.enqueue.call(this,e);if(i){var n=e[0];(0,r.listen)(n,o.default.CHANGE,this.handleTileChange,this)}return i},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,i=e.getState();if(i===n.default.LOADED||i===n.default.ERROR||i===n.default.EMPTY||i===n.default.ABORT){(0,r.unlisten)(e,o.default.CHANGE,this.handleTileChange,this);var a=e.getKey();a in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[a],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var i,r,o,a=0,s=!1;this.tilesLoading_<t&&a<e&&this.getCount()>0;)o=(r=this.dequeue()[0]).getKey(),(i=r.getState())===n.default.ABORT?s=!0:i!==n.default.IDLE||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++a,r.load());0===a&&s&&this.tileChangeCallback_()},e}(a(i(482)).default);e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=f(i(122)),o=i(68),a=f(i(296)),s=f(i(295)),u=f(i(928)),l=f(i(927)),c=f(i(926)),h=f(i(925));function f(t){return t&&t.__esModule?t:{default:t}}var p=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],d=function(t){function e(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.registerSources=function(){if(o.POINTER)this.registerSource("native",new l.default(this));else if(o.MSPOINTER)this.registerSource("ms",new u.default(this));else{var t=new s.default(this);this.registerSource("mouse",t),o.TOUCH&&this.registerSource("touch",new h.default(this,t))}this.register_()},e.prototype.registerSource=function(t,e){var i=e,n=i.getEvents();n&&(n.forEach(function(t){var e=i.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(i))}.bind(this)),this.eventSourceList_.push(i))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var i=this.eventSourceList_[e];this.addEvents_(i.getEvents())}},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var i=this.eventSourceList_[e];this.removeEvents_(i.getEvents())}},e.prototype.eventHandler_=function(t){var e=t.type,i=this.eventMap_[e];i&&i(t)},e.prototype.addEvents_=function(t){t.forEach(function(t){(0,n.listen)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.removeEvents_=function(t){t.forEach(function(t){(0,n.unlisten)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.cloneEvent=function(t,e){for(var i={},n=0,r=p.length;n<r;n++){var o=p[n][0];i[o]=t[o]||e[o]||p[n][1]}return i},e.prototype.down=function(t,e){this.fireEvent(a.default.POINTERDOWN,t,e)},e.prototype.move=function(t,e){this.fireEvent(a.default.POINTERMOVE,t,e)},e.prototype.up=function(t,e){this.fireEvent(a.default.POINTERUP,t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(a.default.POINTERENTER,t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(a.default.POINTERLEAVE,t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(a.default.POINTEROVER,t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(a.default.POINTEROUT,t,e)},e.prototype.cancel=function(t,e){this.fireEvent(a.default.POINTERCANCEL,t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,i){return new c.default(t,i,e)},e.prototype.fireEvent=function(t,e,i){var n=this.makeEvent(t,e,i);this.dispatchEvent(n)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,s.default.prepareEvent(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(r.default);e.default=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(e,i,n){t.call(this,e),this.map=i,this.frameState=void 0!==n?n:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(function(t){return t&&t.__esModule?t:{default:t}}(i(32)).default);e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(e,i,n,r,o){t.call(this,e,i,o),this.originalEvent=n,this.pixel=i.getEventPixel(n),this.coordinate=i.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(function(t){return t&&t.__esModule?t:{default:t}}(i(486)).default);e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),r=function(t){function e(e){var i="Assertion failed. See https://openlayers.org/en/"+n.VERSION.split("-")[0]+"/doc/errors/#"+e+" for details.";t.call(this,i),this.code=e,this.name="AssertionError",this.message=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=f(i(931)),r=i(917),o=i(914),a=i(9),s=f(i(449)),u=f(i(448)),l=f(i(285)),c=f(i(900)),h=f(i(892));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(e){(e=(0,a.assign)({},e)).controls||(e.controls=(0,r.defaults)()),e.interactions||(e.interactions=(0,o.defaults)()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new u.default(this);return t.registerLayerRenderers([s.default,l.default,c.default,h.default]),t},e}(n.default);e.default=p},function(t,e){t.exports=Math.scale||function(t,e,i,n,r){return 0===arguments.length||t!=t||e!=e||i!=i||n!=n||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-n)/(i-e)+n}},function(t,e,i){var n=i(125);t.exports=function(t,e){var i=[];return n(t,!1,i.push,i,e),i}},function(t,e,i){var n=i(175),r=i(491);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,i){var n=i(131),r=i(57),o=i(176).f;t.exports=function(t){return function(e){for(var i,a=r(e),s=n(a),u=s.length,l=0,c=[];u>l;)o.call(a,i=s[l++])&&c.push(t?[i,a[i]]:a[i]);return c}}},function(t,e,i){var n=i(28),r=i(317),o=i(78);t.exports=function(t,e,i,a){var s=String(o(t)),u=s.length,l=void 0===i?" ":String(i),c=n(e);if(c<=u||""==l)return s;var h=c-u,f=r.call(l,Math.ceil(h/l.length));return f.length>h&&(f=f.slice(0,h)),a?f+s:s+f}},function(t,e,i){"use strict";var n=i(237),r=i(12),o=i(28),a=i(71),s=i(23)("isConcatSpreadable");t.exports=function t(e,i,u,l,c,h,f,p){for(var d,g,v=c,y=0,_=!!f&&a(f,p,3);y<l;){if(y in u){if(d=_?_(u[y],y,i):u[y],g=!1,r(d)&&(g=void 0!==(g=d[s])?!!g:n(d)),g&&h>0)v=t(e,i,d,o(d.length),v,h-1)-1;else{if(v>=9007199254740991)throw TypeError();e[v]=d}v++}y++}return v}},function(t,e,i){var n=i(128),r=i(238),o=i(7),a=i(8).Reflect;t.exports=a&&a.ownKeys||function(t){var e=n.f(o(t)),i=r.f;return i?e.concat(i(t)):e}},function(t,e,i){var n=i(77),r=i(28);t.exports=function(t){if(void 0===t)return 0;var e=n(t),i=r(e);if(e!==i)throw RangeError("Wrong length!");return i}},function(t,e,i){"use strict";var n=i(124),r=i(106).getWeak,o=i(7),a=i(12),s=i(126),u=i(125),l=i(75),c=i(58),h=i(146),f=l(5),p=l(6),d=0,g=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},y=function(t,e){return f(t.a,function(t){return t[0]===e})};v.prototype={get:function(t){var e=y(this,t);if(e)return e[1]},has:function(t){return!!y(this,t)},set:function(t,e){var i=y(this,t);i?i[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,i,o){var l=t(function(t,n){s(t,l,e,"_i"),t._t=e,t._i=d++,t._l=void 0,void 0!=n&&u(n,i,t[o],t)});return n(l.prototype,{delete:function(t){if(!a(t))return!1;var i=r(t);return!0===i?g(h(this,e)).delete(t):i&&c(i,this._i)&&delete i[this._i]},has:function(t){if(!a(t))return!1;var i=r(t);return!0===i?g(h(this,e)).has(t):i&&c(i,this._i)}}),l},def:function(t,e,i){var n=r(o(e),!0);return!0===n?g(t).set(e,i):n[t._i]=i,t},ufstore:g}},function(t,e,i){"use strict";var n,r=i(75)(0),o=i(49),a=i(106),s=i(518),u=i(498),l=i(12),c=i(11),h=i(146),f=a.getWeak,p=Object.isExtensible,d=u.ufstore,g={},v=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(t){if(l(t)){var e=f(t);return!0===e?d(h(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(h(this,"WeakMap"),t,e)}},_=t.exports=i(231)("WeakMap",v,y,u,!0,!0);c(function(){return 7!=(new _).set((Object.freeze||Object)(g),7).get(g)})&&(s((n=u.getConstructor(v,"WeakMap")).prototype,y),a.NEED=!0,r(["delete","has","get","set"],function(t){var e=_.prototype,i=e[t];o(e,t,function(e,r){if(l(e)&&!p(e)){this._f||(this._f=new n);var o=this._f[t](e,r);return"set"==t?this:o}return i.call(this,e,r)})}))},function(t,e,i){"use strict";var n=i(501),r=i(146);t.exports=i(231)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(r(this,"Set"),t=0===t?0:t,t)}},n)},function(t,e,i){"use strict";var n=i(29).f,r=i(129),o=i(124),a=i(71),s=i(126),u=i(125),l=i(313),c=i(506),h=i(127),f=i(30),p=i(106).fastKey,d=i(146),g=f?"_s":"size",v=function(t,e){var i,n=p(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,l){var c=t(function(t,n){s(t,c,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=n&&u(n,i,t[l],t)});return o(c.prototype,{clear:function(){for(var t=d(this,e),i=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var i=d(this,e),n=v(i,t);if(n){var r=n.n,o=n.p;delete i._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),i._f==n&&(i._f=r),i._l==n&&(i._l=o),i[g]--}return!!n},forEach:function(t){d(this,e);for(var i,n=a(t,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(t){return!!v(d(this,e),t)}}),f&&n(c.prototype,"size",{get:function(){return d(this,e)[g]}}),c},def:function(t,e,i){var n,r,o=v(t,e);return o?o.v=i:(t._l=o={i:r=p(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[g]++,"F"!==r&&(t._i[r]=o)),t},getEntry:v,setStrong:function(t,e,i){l(t,e,function(t,i){this._t=d(t,e),this._k=i,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?c(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,c(1))},i?"entries":"values",!i,!0),h(e)}}},function(t,e,i){"use strict";var n=i(501),r=i(146);t.exports=i(231)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=n.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return n.def(r(this,"Map"),0===t?0:t,e)}},n,!0)},function(t,e,i){var n=i(7),r=i(12),o=i(301);t.exports=function(t,e){if(n(t),r(e)&&e.constructor===t)return e;var i=o.f(t);return(0,i.resolve)(e),i.promise}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,i){i(30)&&"g"!=/./g.flags&&i(29).f(RegExp.prototype,"flags",{configurable:!0,get:i(234)})},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){"use strict";var n=i(33),r=i(130),o=i(28);t.exports=[].copyWithin||function(t,e){var i=n(this),a=o(i.length),s=r(t,a),u=r(e,a),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?a:r(l,a))-u,a-s),h=1;for(u<s&&s<u+c&&(h=-1,u+=c-1,s+=c-1);c-- >0;)u in i?i[s]=i[u]:delete i[s],s+=h,u+=h;return i}},function(t,e,i){var n=i(37),r=i(33),o=i(177),a=i(28);t.exports=function(t,e,i,s,u){n(e);var l=r(t),c=o(l),h=a(l.length),f=u?h-1:0,p=u?-1:1;if(i<2)for(;;){if(f in c){s=c[f],f+=p;break}if(f+=p,u?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:h>f;f+=p)f in c&&(s=e(s,c[f],f,l));return s}},function(t,e,i){var n=i(7);t.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},function(t,e,i){var n=i(316),r=Math.pow,o=r(2,-52),a=r(2,-23),s=r(2,127)*(2-a),u=r(2,-126);t.exports=Math.fround||function(t){var e,i,r=Math.abs(t),l=n(t);return r<u?l*function(t){return t+1/o-1/o}(r/u/a)*u*a:(i=(e=(1+a/o)*r)-(e-r))>s||i!=i?l*(1/0):l*i}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,i){var n=i(12),r=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&r(t)===t}},function(t,e,i){var n=i(70);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=n(t))throw TypeError(e);return+t}},function(t,e,i){var n=i(8).parseFloat,r=i(148).trim;t.exports=1/n(i(319)+"-0")!=-1/0?function(t){var e=r(String(t),3),i=n(e);return 0===i&&"-"==e.charAt(0)?-0:i}:n},function(t,e,i){var n=i(8).parseInt,r=i(148).trim,o=i(319),a=/^[-+]?0[xX]/;t.exports=8!==n(o+"08")||22!==n(o+"0x16")?function(t,e){var i=r(String(t),3);return n(i,e>>>0||(a.test(i)?16:10))}:n},function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){"use strict";var n=i(37),r=i(12),o=i(516),a=[].slice,s={};t.exports=Function.bind||function(t){var e=n(this),i=a.call(arguments,1),u=function(){var n=i.concat(a.call(arguments));return this instanceof u?function(t,e,i){if(!(e in s)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";s[e]=Function("F,a","return new F("+n.join(",")+")")}return s[e](t,i)}(e,n.length,n):o(e,n,t)};return r(e.prototype)&&(u.prototype=e.prototype),u}},function(t,e,i){"use strict";var n=i(131),r=i(238),o=i(176),a=i(33),s=i(177),u=Object.assign;t.exports=!u||i(11)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=u({},t)[i]||Object.keys(u({},e)).join("")!=n})?function(t,e){for(var i=a(t),u=arguments.length,l=1,c=r.f,h=o.f;u>l;)for(var f,p=s(arguments[l++]),d=c?n(p).concat(c(p)):n(p),g=d.length,v=0;g>v;)h.call(p,f=d[v++])&&(i[f]=p[f]);return i}:u},function(t,e,i){var n=i(57),r=i(128).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(n(t))}},function(t,e,i){var n=i(29),r=i(7),o=i(131);t.exports=i(30)?Object.defineProperties:function(t,e){r(t);for(var i,a=o(e),s=a.length,u=0;s>u;)n.f(t,i=a[u++],e[i]);return t}},function(t,e,i){var n=i(58),r=i(57),o=i(239)(!1),a=i(323)("IE_PROTO");t.exports=function(t,e){var i,s=r(t),u=0,l=[];for(i in s)i!=a&&n(s,i)&&l.push(i);for(;e.length>u;)n(s,i=e[u++])&&(~o(l,i)||l.push(i));return l}},function(t,e,i){e.f=i(23)},function(t,e,i){t.exports=!i(30)&&!i(11)(function(){return 7!=Object.defineProperty(i(325)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MaximizeButton=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(31),a=i(13),s=i(152);i(1139);e.MaximizeButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-maximize-button",t.element=(0,r.default)("<div>").get(0);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.setTipLabel(i.getTipLabel()||i.getLocaliser().localiseUsingDictionary("MaximizeButton tipLabel")),(0,r.default)("<button>").addClass(a.cssClasses.mainButton).on("click",function(){i.handleClick_()}).appendTo(i.get$Element()),i.parameters_=t.URLParameters,i.baseURL_=s.URL.extractFromConfig(t,"baseURL"),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Control),n(e,[{key:"setMap",value:function(t){t&&this.baseURL_&&this.baseURL_.extractParamsFromMap(t),function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t)}},{key:"handleClick_",value:function(){var t=Object.assign({clsBtn:!0},this.parameters_),e=null!==this.baseURL_?this.baseURL_.finalize():void 0,i=this.getMap().get("urlApi").makeURL({baseURL:e,parameters:t});window.open(i)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CloseWindowButton=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(31);i(1142);e.CloseWindowButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-close-window-button",t.element=(0,r.default)("<div>")[0];var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));i.label_="label"in t?i.getLocaliser().selectL10N(t.label):i.getLocaliser().localiseUsingDictionary("CloseWindowButton label");var n=(0,r.default)("<button>").html(i.label_).on("click",function(){window.close()});return i.get$Element().append(n),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Control),n(e,[{key:"getFloat",value:function(){return this.getMap().get("mobile")?"fixed":function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getFloat",this).call(this)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkGenerator=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(31);e.LinkGenerator=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-minimaptaggenerator",t.element=(0,r.default)("<div>").get(0),t.singleButton=!1;var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.baseURL_=t.hasOwnProperty("baseURL")?t.baseURL:window.location.origin+window.location.pathname,i.type_=t.type||"url","iframe"===i.type_||"url"===i.type_?(i.$textfield_=(0,r.default)("<textarea>"),i.get$Element().append(i.$textfield_)):"link"===i.type_&&(i.get$Element().append(i.getLocaliser().localiseUsingDictionary("LinkGenerator beforeLinkText")),i.$link_=(0,r.default)('<a target="_new">').text(i.getLocaliser().localiseUsingDictionary("LinkGenerator linkText")),i.get$Element().append(i.$link_),i.get$Element().append(i.getLocaliser().localiseUsingDictionary("LinkGenerator afterLinkText"))),i.generateHandler_=i.generate_.bind(i),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Control),n(e,[{key:"setMap",value:function(t){var i=this;this.getMap()&&(this.getMap().un("click",this.generateHandler_),(0,r.default)(document).off("click keydown keyup touch mousewheel wheel DOMMouseScroll",this.generateHandler_)),function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&((0,r.default)(document).on("click keydown keyup touch mousewheel wheel DOMMouseScroll",this.generateHandler_),t.on("click",this.generateHandler_),t.asSoonAs("ready",!0,function(){return i.generate_()}))}},{key:"generate_",value:function(){var t=this.getMap(),e=t.get("urlApi").makeURL({baseURL:this.baseURL_,exclude:["lang"]});if("iframe"===this.type_){var i=t.getSize(),n='<iframe style="border:0;" width="'+i[0]+'" height="'+i[1]+'" src="'+e+'"></iframe>';this.$textfield_.val(n)}else"url"===this.type_?this.$textfield_.val(e):"link"===this.type_&&this.$link_.attr("href",e)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkGeneratorButton=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=h(i(2)),o=i(31),a=i(13),s=i(24);i(1145);var u=i(241),l=h(i(54)),c=h(i(169));function h(t){return t&&t.__esModule?t:{default:t}}e.LinkGeneratorButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-linkgenerator",t.element=(0,r.default)("<div>")[0];var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.active_=!1,i.style_=t.style||"#defaultStyle",i.baseURL_=t.baseURL,i.setTitle(i.getTitle()||i.getLocaliser().localiseUsingDictionary("LinkGeneratorButton title")),i.setTipLabel(i.getTipLabel()||i.getLocaliser().localiseUsingDictionary("LinkGeneratorButton tipLabel")),i.createHTML(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Control),n(e,[{key:"createHTML",value:function(){var t=this,e=this.get$Element();this.getLocaliser().isRtl()&&e.prop("dir","rtl"),e.append((0,r.default)("<h3>").html(this.getTipLabel())),this.$markerCheckbox_=(0,r.default)('<input type="checkbox">');var i=(0,r.default)("<label>").addClass(this.className_+"-setmarker-checkbox").html(this.getLocaliser().localiseUsingDictionary("LinkGeneratorButton setMarkerText")).prepend(this.$markerCheckbox_);e.append(i),this.$markerCheckbox_.on("click",function(){t.$markerCheckbox_.is(":checked")?t.placeMarker():t.hideMarker()}),this.$markerDescriptionTextArea_=(0,r.default)("<textarea>"),this.$markerDescriptionTextArea_.on("input",function(){return t.updateDescription()}),this.$markerDescription_=(0,r.default)("<label>").addClass(this.className_+"-setmarker-textbox").addClass(a.cssClasses.hidden).html(this.getLocaliser().localiseUsingDictionary("LinkGeneratorButton setMarkerTextBoxText")).append(this.$markerDescriptionTextArea_),e.append(this.$markerDescription_),this.$linkDisplay_=(0,r.default)('<input type="text">').prop("readonly",!0),e.append((0,r.default)("<label>").addClass(this.className_+"-input").html(this.getLocaliser().localiseUsingDictionary("LinkGeneratorButton hint")).append(this.$linkDisplay_)),this.$linkDisplay_.on("mousedown click",function(e){1===e.which&&e.preventDefault(),t.$linkDisplay_.focus().select()})}},{key:"placeMarker",value:function(){var t=this;this.enableMap(),this.drawMarkerPoint().then(function(e){t.updateMarker(e),t.disableMap(),t.$markerDescription_.removeClass(a.cssClasses.hidden),t.$linkDisplay_.focus().select(),t.changed()})}},{key:"hideMarker",value:function(){this.marker_.setActive(!1),this.updateURL(),this.$linkDisplay_.focus().select(),this.$markerDescription_.addClass(a.cssClasses.hidden),this.changed()}},{key:"updateDescription",value:function(){var t=(0,u.filterText)(this.$markerDescriptionTextArea_.val());this.marker_.setText(t),t?this.marker_.setPopupVisible(!0):this.marker_.setPopupVisible(!1),this.updateURL()}},{key:"enableMap",value:function(){this.shield_.setActive(!1),(0,r.default)(this.getMap().getViewport()).children(".ol-overlaycontainer-stopevent, .ol-overlaycontainer").addClass(a.cssClasses.hidden)}},{key:"disableMap",value:function(){this.shield_.setActive(!0),(0,r.default)(this.getMap().getViewport()).children(".ol-overlaycontainer-stopevent, .ol-overlaycontainer").removeClass(a.cssClasses.hidden)}},{key:"updateMarker",value:function(t){this.marker_.setPosition(t);var e=this.getLocaliser().localiseUsingDictionary("LinkGeneratorButton markerText");this.marker_.setText(e),this.$markerDescriptionTextArea_.val((0,u.restoreText)(e)),e?this.marker_.setPopupVisible(!0):this.marker_.setPopupVisible(!1),this.marker_.setActive(!0),this.updateURL()}},{key:"setMap",value:function(t){if(t){this.marker_=t.get("marker"),this.shield_=t.get("shield");var i=new l.default;this.drawPoint_=new c.default({features:i,type:"Point",style:t.get("styling").getStyle(this.style_)}),this.drawPoint_.setActive(!1),t.addSupersedingInteraction("singleClick doubleClick mouseMove",this.drawPoint_)}(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t)}},{key:"drawMarkerPoint",value:function(){var t=this;return new Promise(function(e){t.drawPoint_.setActive(!0),(0,r.default)(t.getMap().getViewport()).addClass(a.cssClasses.crosshair),t.drawPoint_.once("drawend",function(i){t.drawPoint_.setActive(!1),(0,r.default)(t.getMap().getViewport()).removeClass(a.cssClasses.crosshair),e(i.feature.getGeometry().getCoordinates())})}).catch(s.Debug.defaultErrorHandler)}},{key:"updateURL",value:function(){var t=this.getMap().get("urlApi");this.$linkDisplay_.val(t.makeURL({baseURL:this.baseURL_}))}},{key:"setActive",value:function(t){var e=this.active_;e!==t&&(this.active_=t,!0===t?(this.marker_.getActive()&&(this.resetMarker_={position:this.marker_.getPosition(),text:this.marker_.getText(),popVis:this.marker_.getPopupVisible()}),this.shield_.setActive(!0),this.shield_.add$OnTop(this.get$Element()),this.updateURL(),this.$linkDisplay_.focus().select(),this.marker_.getActive()&&(this.$markerCheckbox_.prop("checked",!0),this.$markerDescription_.removeClass(a.cssClasses.hidden),this.marker_.getText()&&this.$markerDescriptionTextArea_.val((0,u.restoreText)(this.marker_.getText())),this.marker_.setPopupVisible(!0))):(this.shield_.setActive(!1),this.shield_.remove$OnTop(this.get$Element()),this.$markerDescriptionTextArea_.val(""),this.$markerCheckbox_.prop("checked",!1),this.$markerDescription_.addClass(a.cssClasses.hidden),this.resetMarker_?(this.marker_.setActive(!0),this.marker_.setPosition(this.resetMarker_.position),this.marker_.setText(this.resetMarker_.text),this.marker_.setPopupVisible(this.resetMarker_.popVis),delete this.resetMarker_):this.marker_.setActive(!1)),this.dispatchEvent({type:"change:active",oldValue:e}))}},{key:"getActive",value:function(){return this.active_}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CustomTile=void 0;var n=i(223),r=p(i(405)),o=p(i(47)),a=i(141),s=i(20),u=i(27),l=i(1),c=i(100),h=p(i(91)),f=p(i(190));function p(t){return t&&t.__esModule?t:{default:t}}var d={DEFAULT:"default",TRUNCATED:"truncated"},g=e.CustomTile=function(t){function e(e,i,n,r,o,a,s){t.call(this,i,n,r,o,a,s),this.zoomifyImage_=null,this.tileSize_=(0,c.toSize)(e.getTileSize(i[0]))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var e=t.prototype.getImage.call(this);if(this.state==o.default.LOADED){var i=this.tileSize_;if(e.width==i[0]&&e.height==i[1])return this.zoomifyImage_=e,e;var n=(0,u.createCanvasContext2D)(i[0],i[1]);return n.drawImage(e,0,0),this.zoomifyImage_=n.canvas,n.canvas}return e},e}(r.default),v=function(t){function e(e){var i=e||{},r=i.size,o=void 0!==i.tierSizeCalculation?i.tierSizeCalculation:d.DEFAULT,u=r[0],c=r[1],h=i.extent||[0,-r[1],r[0],0],p=[],v=i.tileSize||n.DEFAULT_TILE_SIZE,y=v;switch(o){case d.DEFAULT:for(;u>y||c>y;)p.push([Math.ceil(u/y),Math.ceil(c/y)]),y+=y;break;case d.TRUNCATED:for(var _=u,m=c;_>y||m>y;)p.push([Math.ceil(_/y),Math.ceil(m/y)]),_>>=1,m>>=1;break;default:(0,s.assert)(!1,53)}p.push([1,1]),p.reverse();for(var b=[1],x=[0],S=1,w=p.length;S<w;S++)b.push(1<<S),x.push(p[S-1][0]*p[S-1][1]+x[S-1]);b.reverse();var E=new f.default({tileSize:v,extent:h,origin:(0,l.getTopLeft)(h),resolutions:b}),M=i.url;M&&-1==M.indexOf("{TileGroup}")&&-1==M.indexOf("{tileIndex}")&&(M+="{TileGroup}/{z}-{x}-{y}.jpg");var O=(0,a.expandUrl)(M);var C=(0,a.createFromTileUrlFunctions)(O.map(function(t){return function(e,i,n){if(e){var r=e[0],o=e[1],a=-e[2]-1,s=o+a*p[r][0],u=E.getTileSize(r),l={z:r,x:o,y:a,tileIndex:s,TileGroup:"TileGroup"+((s+x[r])/u|0)};return t.replace(/\{(\w+?)\}/g,function(t,e){return l[e]})}}})),T=g.bind(null,E);t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:T,tileGrid:E,tileUrlFunction:C,transition:i.transition})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(h.default);e.default=v},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CustomTile=void 0;var n=v(i(192)),r=v(i(47)),o=i(141),a=i(20),s=i(3),u=v(i(4)),l=i(1),c=i(268),h=i(6),f=v(i(65)),p=v(i(153)),d=i(62),g=i(113);function v(t){return t&&t.__esModule?t:{default:t}}var y=e.CustomTile=function(t){function e(e,i,n,r,o,a){t.call(this,e,i),this.src_=n,this.extent_=r,this.preemptive_=o,this.grid_=null,this.keys_=null,this.data_=null,this.jsonp_=a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){return null},e.prototype.getData=function(t){if(!this.grid_||!this.keys_)return null;var e=(t[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),i=(t[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]),n=this.grid_[Math.floor((1-i)*this.grid_.length)];if("string"!=typeof n)return null;var r=n.charCodeAt(Math.floor(e*n.length));r>=93&&r--,r>=35&&r--;var o=null;if((r-=32)in this.keys_){var a=this.keys_[r];o=this.data_&&a in this.data_?this.data_[a]:a}return o},e.prototype.forDataAtCoordinate=function(t,e,i,n){this.state==r.default.IDLE&&!0===n?((0,s.listenOnce)(this,u.default.CHANGE,function(n){e.call(i,this.getData(t))},this),this.loadInternal_()):!0===n?setTimeout(function(){e.call(i,this.getData(t))}.bind(this),0):e.call(i,this.getData(t))},e.prototype.getKey=function(){return this.src_},e.prototype.handleError_=function(){this.state=r.default.ERROR,this.changed()},e.prototype.handleLoad_=function(t){this.grid_=t.grid,this.keys_=t.keys,this.data_=t.data,this.state=r.default.EMPTY,this.changed()},e.prototype.loadInternal_=function(){if(this.state==r.default.IDLE)if(this.state=r.default.LOADING,this.jsonp_)(0,c.jsonp)(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{var t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",this.src_),t.send()}},e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var i;try{i=JSON.parse(e.responseText)}catch(t){return void this.handleError_()}this.handleLoad_(i)}else this.handleError_()},e.prototype.onXHRError_=function(t){this.handleError_()},e.prototype.load=function(){this.preemptive_&&this.loadInternal_()},e}(n.default),_=function(t){function e(e){if(t.call(this,{projection:(0,h.get)("EPSG:3857"),state:f.default.LOADING}),this.preemptive_=void 0===e.preemptive||e.preemptive,this.tileUrlFunction_=o.nullTileUrlFunction,this.template_=void 0,this.jsonp_=e.jsonp||!1,e.url)if(this.jsonp_)(0,c.jsonp)(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{var i=new XMLHttpRequest;i.addEventListener("load",this.onXHRLoad_.bind(this)),i.addEventListener("error",this.onXHRError_.bind(this)),i.open("GET",e.url),i.send()}else e.tileJSON?this.handleTileJSONResponse(e.tileJSON):(0,a.assert)(!1,51)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var i;try{i=JSON.parse(e.responseText)}catch(t){return void this.handleTileJSONError()}this.handleTileJSONResponse(i)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTemplate=function(){return this.template_},e.prototype.forDataAtCoordinateAndResolution=function(t,e,i,n){if(this.tileGrid){var r=this.tileGrid.getTileCoordForCoordAndResolution(t,e);this.getTile(r[0],r[1],r[2],1,this.getProjection()).forDataAtCoordinate(t,i,null,n)}else!0===n?setTimeout(function(){i(null)},0):i(null)},e.prototype.handleTileJSONError=function(){this.setState(f.default.ERROR)},e.prototype.handleTileJSONResponse=function(t){var e,i=(0,h.get)("EPSG:4326"),n=this.getProjection();if(void 0!==t.bounds){var r=(0,h.getTransformFromProjections)(i,n);e=(0,l.applyTransform)(t.bounds,r)}var a=t.minzoom||0,s=t.maxzoom||22,u=(0,g.createXYZ)({extent:(0,g.extentFromProjection)(n),maxZoom:s,minZoom:a});this.tileGrid=u,this.template_=t.template;var c=t.grids;if(c){if(this.tileUrlFunction_=(0,o.createFromTemplates)(c,u),void 0!==t.attribution){var p=void 0!==e?e:i.getExtent();this.setAttributions(function(e){return(0,l.intersects)(p,e.extent)?[t.attribution]:null})}this.setState(f.default.READY)}else this.setState(f.default.ERROR)},e.prototype.getTile=function(t,e,i,n,o){var a=(0,d.getKeyZXY)(t,e,i);if(this.tileCache.containsKey(a))return this.tileCache.get(a);var s=[t,e,i],u=this.getTileCoordForTileUrlFunction(s,o),l=this.tileUrlFunction_(u,n,o),c=new y(s,void 0!==l?r.default.IDLE:r.default.EMPTY,void 0!==l?l:"",this.tileGrid.getTileCoordExtent(s),this.preemptive_,this.jsonp_);return this.tileCache.set(a,c),c},e.prototype.useTile=function(t,e,i){var n=(0,d.getKeyZXY)(t,e,i);this.tileCache.containsKey(n)&&this.tileCache.get(n)},e}(p.default);e.default=_},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(141),r=i(20),o=i(1),a=i(268),s=i(6),u=h(i(65)),l=h(i(91)),c=i(113);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(e){if(t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:(0,s.get)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:u.default.LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.tileJSON_=null,e.url)if(e.jsonp)(0,a.jsonp)(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{var i=new XMLHttpRequest;i.addEventListener("load",this.onXHRLoad_.bind(this)),i.addEventListener("error",this.onXHRError_.bind(this)),i.open("GET",e.url),i.send()}else e.tileJSON?this.handleTileJSONResponse(e.tileJSON):(0,r.assert)(!1,51)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var i;try{i=JSON.parse(e.responseText)}catch(t){return void this.handleTileJSONError()}this.handleTileJSONResponse(i)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTileJSON=function(){return this.tileJSON_},e.prototype.handleTileJSONResponse=function(t){var e,i=(0,s.get)("EPSG:4326"),r=this.getProjection();if(void 0!==t.bounds){var a=(0,s.getTransformFromProjections)(i,r);e=(0,o.applyTransform)(t.bounds,a)}var l=t.minzoom||0,h=t.maxzoom||22,f=(0,c.createXYZ)({extent:(0,c.extentFromProjection)(r),maxZoom:h,minZoom:l});if(this.tileGrid=f,this.tileUrlFunction=(0,n.createFromTemplates)(t.tiles,f),void 0!==t.attribution&&!this.getAttributions()){var p=void 0!==e?e:i.getExtent();this.setAttributions(function(e){return(0,o.intersects)(p,e.extent)?[t.attribution]:null})}this.tileJSON_=t,this.setState(u.default.READY)},e.prototype.handleTileJSONError=function(){this.setState(u.default.ERROR)},e}(l.default);e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=l(i(192)),r=l(i(47)),o=i(27),a=i(100),s=l(i(153)),u=i(62);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(e,i,n){t.call(this,e,r.default.LOADED),this.tileSize_=i,this.text_=n,this.canvas_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var t=this.tileSize_,e=(0,o.createCanvasContext2D)(t[0],t[1]);return e.strokeStyle="black",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="black",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.fillText(this.text_,t[0]/2,t[1]/2),this.canvas_=e.canvas,e.canvas},e.prototype.load=function(){},e}(n.default),h=function(t){function e(e){t.call(this,{opaque:!1,projection:e.projection,tileGrid:e.tileGrid,wrapX:void 0===e.wrapX||e.wrapX})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTile=function(t,e,i){var n=(0,u.getKeyZXY)(t,e,i);if(this.tileCache.containsKey(n))return this.tileCache.get(n);var r=(0,a.toSize)(this.tileGrid.getTileSize(t)),o=[t,e,i],s=this.getTileCoordForTileUrlFunction(o),l=s?this.getTileCoordForTileUrlFunction(s).toString():"",h=new c(o,r,l);return this.tileCache.set(n,h),h},e}(s.default);e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(14),o=i(9),a=i(100),s=function(t){return t&&t.__esModule?t:{default:t}}(i(91)),u=i(62),l=i(138);var c=function(t){function e(e){var i=e||{};t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition}),this.params_=i.params||{},this.tmpExtent_=(0,n.createEmpty)(),this.setKey(this.getKeyForParams_())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,i,n,o,a){var s=this.urls;if(s){var c,h=o.getCode().split(":").pop();if(a.SIZE=e[0]+","+e[1],a.BBOX=i.join(","),a.BBOXSR=h,a.IMAGESR=h,a.DPI=Math.round(a.DPI?a.DPI*n:90*n),1==s.length)c=s[0];else c=s[(0,r.modulo)((0,u.hash)(t),s.length)];var f=c.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return(0,l.appendParams)(f,a)}},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.fixedTileUrlFunction=function(t,e,i){var n=this.getTileGrid();if(n||(n=this.getTileGridForProjection(i)),!(n.getResolutions().length<=t[0])){var r=n.getTileCoordExtent(t,this.tmpExtent_),s=(0,a.toSize)(n.getTileSize(t[0]),this.tmpSize);1!=e&&(s=(0,a.scale)(s,e,this.tmpSize));var u={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return(0,o.assign)(u,this.params_),this.getRequestUrl_(t,s,r,e,i,u)}},e.prototype.updateParams=function(t){(0,o.assign)(this.params_,t),this.setKey(this.getKeyForParams_())},e}(s.default);e.default=c},function(t,e){var i=!0;try{new ImageData(10,10)}catch(t){i=!1}var n=document.createElement("canvas").getContext("2d");e.newImageData=function(t,e,r){if(i)return new ImageData(t,e,r);var o=n.createImageData(e,r);return o.data.set(t),o}},function(t,e,i){var n=i(533).newImageData;function r(t){var e=!0;try{new ImageData(10,10)}catch(t){e=!1}function i(t,i,n){return e?new ImageData(t,i,n):{data:t,width:i,height:n}}return function(e){var n,r,o=e.buffers,a=e.meta,s=e.imageOps,u=e.width,l=e.height,c=o.length,h=o[0].byteLength;if(s){var f=new Array(c);for(r=0;r<c;++r)f[r]=i(new Uint8ClampedArray(o[r]),u,l);n=t(f,a).data}else{n=new Uint8ClampedArray(h);var p=new Array(c),d=new Array(c);for(r=0;r<c;++r)p[r]=new Uint8ClampedArray(o[r]),d[r]=[0,0,0,0];for(var g=0;g<h;g+=4){for(var v=0;v<c;++v){var y=p[v];d[v][0]=y[g],d[v][1]=y[g+1],d[v][2]=y[g+2],d[v][3]=y[g+3]}var _=t(d,a);n[g]=_[0],n[g+1]=_[1],n[g+2]=_[2],n[g+3]=_[3]}}return n.buffer}}function o(t,e){var i=Object.keys(t.lib||{}).map(function(e){return"var "+e+" = "+t.lib[e].toString()+";"}).concat(["var __minion__ = ("+r.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),n=new Blob(i,{type:"text/javascript"}),o=URL.createObjectURL(n),a=new Worker(o);return a.addEventListener("message",e),a}function a(t){var e;this._imageOps=!!t.imageOps;var i=[];if(e=0===t.threads?0:this._imageOps?1:t.threads||1)for(var n=0;n<e;++n)i[n]=o(t,this._onWorkerMessage.bind(this,n));else i[0]=function(t,e){var i=r(t.operation);return{postMessage:function(t){setTimeout(function(){e({data:{buffer:i(t),meta:t.meta}})},0)}}}(t,this._onWorkerMessage.bind(this,0));this._workers=i,this._queue=[],this._maxQueueLength=t.queue||1/0,this._running=0,this._dataLookup={},this._job=null}a.prototype.process=function(t,e,i){this._enqueue({inputs:t,meta:e,callback:i}),this._dispatch()},a.prototype.destroy=function(){for(var t in this)this[t]=null;this._destroyed=!0},a.prototype._enqueue=function(t){for(this._queue.push(t);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)},a.prototype._dispatch=function(){if(0===this._running&&this._queue.length>0){var t=this._job=this._queue.shift(),e=t.inputs[0].width,i=t.inputs[0].height,n=t.inputs.map(function(t){return t.data.buffer}),r=this._workers.length;if(this._running=r,1===r)this._workers[0].postMessage({buffers:n,meta:t.meta,imageOps:this._imageOps,width:e,height:i},n);else for(var o=t.inputs[0].data.length,a=4*Math.ceil(o/4/r),s=0;s<r;++s){for(var u=s*a,l=[],c=0,h=n.length;c<h;++c)l.push(n[s].slice(u,u+a));this._workers[s].postMessage({buffers:l,meta:t.meta,imageOps:this._imageOps,width:e,height:i},l)}}},a.prototype._onWorkerMessage=function(t,e){this._destroyed||(this._dataLookup[t]=e.data,--this._running,0===this._running&&this._resolveJob())},a.prototype._resolveJob=function(){var t,e,i=this._job,r=this._workers.length;if(1===r)t=new Uint8ClampedArray(this._dataLookup[0].buffer),e=this._dataLookup[0].meta;else{var o=i.inputs[0].data.length;t=new Uint8ClampedArray(o),e=new Array(o);for(var a=4*Math.ceil(o/4/r),s=0;s<r;++s){var u=this._dataLookup[s].buffer,l=s*a;t.set(new Uint8ClampedArray(u),l),e[s]=this._dataLookup[s].meta}}this._job=null,this._dataLookup={},i.callback(null,n(t,i.inputs[0].width,i.inputs[0].height),e),this._dispatch()},t.exports=a},function(t,e,i){var n=i(534);e.Processor=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),r=w(i(287)),o=w(i(483)),a=i(27),s=i(3),u=w(i(32)),l=w(i(4)),c=i(535),h=i(1),f=w(i(97)),p=w(i(120)),d=w(i(394)),g=w(i(392)),v=i(9),y=w(i(449)),_=w(i(285)),m=w(i(112)),b=w(i(65)),x=w(i(153)),S=i(40);function w(t){return t&&t.__esModule?t:{default:t}}var E="beforeoperations",M="afteroperations",O={PIXEL:"pixel",IMAGE:"image"},C=function(t){function e(e,i,n){t.call(this,e),this.extent=i.extent,this.resolution=i.viewState.resolution/i.pixelRatio,this.data=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(u.default),T=function(t){function e(e){t.call(this,{}),this.worker_=null,this.operationType_=void 0!==e.operationType?e.operationType:O.PIXEL,this.threads_=void 0!==e.threads?e.threads:1,this.renderers_=function(t){for(var e=t.length,i=new Array(e),n=0;n<e;++n)i[n]=A(t[n]);return i}(e.sources);for(var i=0,r=this.renderers_.length;i<r;++i)(0,s.listen)(this.renderers_[i],l.default.CHANGE,this.changed,this);this.tileQueue_=new o.default(function(){return 1},this.changed.bind(this));for(var a=function(t){return t.map(function(t){return t.getLayer().getLayerState()})}(this.renderers_),u={},c=0,h=a.length;c<h;++c)u[(0,n.getUid)(a[c].layer)]=a[c];this.requestedFrameState_,this.renderedImageCanvas_=null,this.renderedRevision_,this.frameState_={animate:!1,coordinateToPixelTransform:(0,S.create)(),extent:null,focus:null,index:0,layerStates:u,layerStatesArray:a,pixelRatio:1,pixelToCoordinateTransform:(0,S.create)(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},void 0!==e.operation&&this.setOperation(e.operation,e.lib)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setOperation=function(t,e){this.worker_=new c.Processor({operation:t,imageOps:this.operationType_===O.IMAGE,queue:1,lib:e,threads:this.threads_}),this.changed()},e.prototype.updateFrameState_=function(t,e,i){var n=(0,v.assign)({},this.frameState_);n.viewState=(0,v.assign)({},n.viewState);var r=(0,h.getCenter)(t);n.extent=t.slice(),n.focus=r,n.size[0]=Math.round((0,h.getWidth)(t)/e),n.size[1]=Math.round((0,h.getHeight)(t)/e),n.time=Date.now(),n.animate=!1;var o=n.viewState;return o.center=r,o.projection=i,o.resolution=e,n},e.prototype.allSourcesReady_=function(){for(var t=!0,e=0,i=this.renderers_.length;e<i;++e)if(this.renderers_[e].getLayer().getSource().getState()!==b.default.READY){t=!1;break}return t},e.prototype.getImage=function(t,e,i,n){if(!this.allSourcesReady_())return null;var r=this.updateFrameState_(t,e,n);if(this.requestedFrameState_=r,this.renderedImageCanvas_){var o=this.renderedImageCanvas_.getResolution(),a=this.renderedImageCanvas_.getExtent();e===o&&(0,h.equals)(t,a)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),r.tileQueue.loadMoreTiles(16,16),r.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_},e.prototype.processSources_=function(){for(var t=this.requestedFrameState_,e=this.renderers_.length,i=new Array(e),n=0;n<e;++n){var r=L(this.renderers_[n],t,t.layerStatesArray[n]);if(!r)return;i[n]=r}var o={};this.dispatchEvent(new C(E,t,o)),this.worker_.process(i,o,this.onWorkerComplete_.bind(this,t))},e.prototype.onWorkerComplete_=function(t,e,i,n){if(!e&&i){var o=t.extent,s=t.viewState.resolution;if(s===this.requestedFrameState_.viewState.resolution&&(0,h.equals)(o,this.requestedFrameState_.extent)){var u;if(this.renderedImageCanvas_)u=this.renderedImageCanvas_.getImage().getContext("2d");else{var l=Math.round((0,h.getWidth)(o)/s),c=Math.round((0,h.getHeight)(o)/s);u=(0,a.createCanvasContext2D)(l,c),this.renderedImageCanvas_=new r.default(o,s,1,u.canvas)}u.putImageData(i,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new C(M,t,n))}}},e.prototype.getImageInternal=function(){return null},e}(m.default),P=null;function L(t,e,i){if(!t.prepareFrame(e,i))return null;var n=e.size[0],r=e.size[1];if(P){var o=P.canvas;o.width!==n||o.height!==r?P=(0,a.createCanvasContext2D)(n,r):P.clearRect(0,0,n,r)}else P=(0,a.createCanvasContext2D)(n,r);return t.composeFrame(e,i,P),P.getImageData(0,0,n,r)}function A(t){var e=null;return t instanceof x.default?e=function(t){var e=new g.default({source:t});return new _.default(e)}(t):t instanceof m.default?e=function(t){var e=new d.default({source:t});return new y.default(e)}(t):t instanceof g.default?e=new _.default(t):t instanceof p.default&&(t.getType()==f.default.IMAGE||t.getType()==f.default.VECTOR)&&(e=new y.default(t)),e}e.default=T},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(189)),r=h(i(74)),o=i(27),a=i(3),s=h(i(4)),u=i(1),l=i(6),c=i(112);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(e){var i=void 0!==e.crossOrigin?e.crossOrigin:null,r=void 0!==e.imageLoadFunction?e.imageLoadFunction:c.defaultImageLoadFunction;t.call(this,{attributions:e.attributions,projection:(0,l.get)(e.projection)}),this.url_=e.url,this.imageExtent_=e.imageExtent,this.image_=new n.default(this.imageExtent_,void 0,1,this.url_,i,r),this.imageSize_=e.imageSize?e.imageSize:null,(0,a.listen)(this.image_,s.default.CHANGE,this.handleImageChange,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImageExtent=function(){return this.imageExtent_},e.prototype.getImageInternal=function(t,e,i,n){return(0,u.intersects)(t,this.image_.getExtent())?this.image_:null},e.prototype.getUrl=function(){return this.url_},e.prototype.handleImageChange=function(e){if(this.image_.getState()==r.default.LOADED){var i,n,a=this.image_.getExtent(),s=this.image_.getImage();this.imageSize_?(i=this.imageSize_[0],n=this.imageSize_[1]):(i=s.width,n=s.height);var l=(0,u.getHeight)(a)/n,c=Math.ceil((0,u.getWidth)(a)/l);if(c!=i){var h=(0,o.createCanvasContext2D)(c,n),f=h.canvas;h.drawImage(s,0,0,i,n,0,0,f.width,f.height),this.image_.setImage(f)}}t.prototype.handleImageChange.call(this,e)},e}(h(c).default);e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=h(i(189)),r=i(3),o=h(i(4)),a=i(1),s=i(9),u=i(112),l=h(u),c=i(138);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(e){t.call(this,{projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,this.displayDpi_=void 0!==e.displayDpi?e.displayDpi:96,this.params_=e.params||{},this.url_=e.url,this.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:u.defaultImageLoadFunction,this.hidpi_=void 0===e.hidpi||e.hidpi,this.metersPerUnit_=void 0!==e.metersPerUnit?e.metersPerUnit:1,this.ratio_=void 0!==e.ratio?e.ratio:1,this.useOverlay_=void 0!==e.useOverlay&&e.useOverlay,this.image_=null,this.renderedRevision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,i,s){e=this.findNearestResolution(e),i=this.hidpi_?i:1;var u=this.image_;if(u&&this.renderedRevision_==this.getRevision()&&u.getResolution()==e&&u.getPixelRatio()==i&&(0,a.containsExtent)(u.getExtent(),t))return u;1!=this.ratio_&&(t=t.slice(),(0,a.scaleFromCenter)(t,this.ratio_));var l=[(0,a.getWidth)(t)/e*i,(0,a.getHeight)(t)/e*i];if(void 0!==this.url_){var c=this.getUrl(this.url_,this.params_,t,l,s);u=new n.default(t,e,i,c,this.crossOrigin_,this.imageLoadFunction_),(0,r.listen)(u,o.default.CHANGE,this.handleImageChange,this)}else u=null;return this.image_=u,this.renderedRevision_=this.getRevision(),u},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.updateParams=function(t){(0,s.assign)(this.params_,t),this.changed()},e.prototype.getUrl=function(t,e,i,n,r){var o=function(t,e,i,n){var r=(0,a.getWidth)(t),o=(0,a.getHeight)(t),s=e[0],u=e[1],l=.0254/n;return u*r>s*o?r*i/(s*l):o*i/(u*l)}(i,n,this.metersPerUnit_,this.displayDpi_),u=(0,a.getCenter)(i),l={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(n[0]),SETDISPLAYHEIGHT:Math.round(n[1]),SETVIEWSCALE:o,SETVIEWCENTERX:u[0],SETVIEWCENTERY:u[1]};return(0,s.assign)(l,e),(0,c.appendParams)(t,l)},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e}(l.default);e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=f(i(189)),r=i(20),o=i(3),a=f(i(4)),s=i(1),u=i(9),l=i(112),c=f(l),h=i(138);function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(e){var i=e||{};t.call(this,{attributions:i.attributions,projection:i.projection,resolutions:i.resolutions}),this.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null,this.hidpi_=void 0===i.hidpi||i.hidpi,this.url_=i.url,this.imageLoadFunction_=void 0!==i.imageLoadFunction?i.imageLoadFunction:l.defaultImageLoadFunction,this.params_=i.params||{},this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==i.ratio?i.ratio:1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,i,r){if(void 0===this.url_)return null;e=this.findNearestResolution(e),i=this.hidpi_?i:1;var l=this.image_;if(l&&this.renderedRevision_==this.getRevision()&&l.getResolution()==e&&l.getPixelRatio()==i&&(0,s.containsExtent)(l.getExtent(),t))return l;var c={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,u.assign)(c,this.params_);var h=((t=t.slice())[0]+t[2])/2,f=(t[1]+t[3])/2;if(1!=this.ratio_){var p=this.ratio_*(0,s.getWidth)(t)/2,d=this.ratio_*(0,s.getHeight)(t)/2;t[0]=h-p,t[1]=f-d,t[2]=h+p,t[3]=f+d}var g=e/i,v=Math.ceil((0,s.getWidth)(t)/g),y=Math.ceil((0,s.getHeight)(t)/g);t[0]=h-g*v/2,t[2]=h+g*v/2,t[1]=f-g*y/2,t[3]=f+g*y/2,this.imageSize_[0]=v,this.imageSize_[1]=y;var _=this.getRequestUrl_(t,this.imageSize_,i,r,c);return this.image_=new n.default(t,e,i,_,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),(0,o.listen)(this.image_,a.default.CHANGE,this.handleImageChange,this),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,i,n,o){var a=n.getCode().split(":").pop();o.SIZE=e[0]+","+e[1],o.BBOX=t.join(","),o.BBOXSR=a,o.IMAGESR=a,o.DPI=Math.round(90*i);var s=this.url_,u=s.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return u==s&&(0,r.assert)(!1,50),(0,h.appendParams)(u,o)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){(0,u.assign)(this.params_,t),this.image_=null,this.changed()},e}(c.default);e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),r=o(i(65));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,maxZoom:void 0!==e.maxZoom?e.maxZoom:18,minZoom:e.minZoom,projection:e.projection,state:r.default.LOADING,wrapX:e.wrapX}),this.account_=e.account,this.mapId_=e.map||"",this.config_=e.config||{},this.templateCache_={},this.initializeMap_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getConfig=function(){return this.config_},e.prototype.updateConfig=function(t){(0,n.assign)(this.config_,t),this.initializeMap_()},e.prototype.setConfig=function(t){this.config_=t||{},this.initializeMap_()},e.prototype.initializeMap_=function(){var t=JSON.stringify(this.config_);if(this.templateCache_[t])this.applyTemplate_(this.templateCache_[t]);else{var e="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(e+="/named/"+this.mapId_);var i=new XMLHttpRequest;i.addEventListener("load",this.handleInitResponse_.bind(this,t)),i.addEventListener("error",this.handleInitError_.bind(this)),i.open("POST",e),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify(this.config_))}},e.prototype.handleInitResponse_=function(t,e){var i=e.target;if(!i.status||i.status>=200&&i.status<300){var n;try{n=JSON.parse(i.responseText)}catch(t){return void this.setState(r.default.ERROR)}this.applyTemplate_(n),this.templateCache_[t]=n,this.setState(r.default.READY)}else this.setState(r.default.ERROR)},e.prototype.handleInitError_=function(t){this.setState(r.default.ERROR)},e.prototype.applyTemplate_=function(t){var e="https://"+t.cdn_url.https+"/"+this.account_+"/api/v1/map/"+t.layergroupid+"/{z}/{x}/{y}.png";this.setUrl(e)},e}(o(i(154)).default);e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(400);Object.defineProperty(e,"BingMaps",{enumerable:!0,get:function(){return T(n).default}});var r=i(540);Object.defineProperty(e,"CartoDB",{enumerable:!0,get:function(){return T(r).default}});var o=i(386);Object.defineProperty(e,"Cluster",{enumerable:!0,get:function(){return T(o).default}});var a=i(112);Object.defineProperty(e,"Image",{enumerable:!0,get:function(){return T(a).default}});var s=i(539);Object.defineProperty(e,"ImageArcGISRest",{enumerable:!0,get:function(){return T(s).default}});var u=i(264);Object.defineProperty(e,"ImageCanvas",{enumerable:!0,get:function(){return T(u).default}});var l=i(538);Object.defineProperty(e,"ImageMapGuide",{enumerable:!0,get:function(){return T(l).default}});var c=i(537);Object.defineProperty(e,"ImageStatic",{enumerable:!0,get:function(){return T(c).default}});var h=i(390);Object.defineProperty(e,"ImageWMS",{enumerable:!0,get:function(){return T(h).default}});var f=i(269);Object.defineProperty(e,"OSM",{enumerable:!0,get:function(){return T(f).default}});var p=i(536);Object.defineProperty(e,"Raster",{enumerable:!0,get:function(){return T(p).default}});var d=i(212);Object.defineProperty(e,"Source",{enumerable:!0,get:function(){return T(d).default}});var g=i(401);Object.defineProperty(e,"Stamen",{enumerable:!0,get:function(){return T(g).default}});var v=i(153);Object.defineProperty(e,"Tile",{enumerable:!0,get:function(){return T(v).default}});var y=i(532);Object.defineProperty(e,"TileArcGISRest",{enumerable:!0,get:function(){return T(y).default}});var _=i(531);Object.defineProperty(e,"TileDebug",{enumerable:!0,get:function(){return T(_).default}});var m=i(91);Object.defineProperty(e,"TileImage",{enumerable:!0,get:function(){return T(m).default}});var b=i(530);Object.defineProperty(e,"TileJSON",{enumerable:!0,get:function(){return T(b).default}});var x=i(387);Object.defineProperty(e,"TileWMS",{enumerable:!0,get:function(){return T(x).default}});var S=i(402);Object.defineProperty(e,"UrlTile",{enumerable:!0,get:function(){return T(S).default}});var w=i(529);Object.defineProperty(e,"UTFGrid",{enumerable:!0,get:function(){return T(w).default}});var E=i(44);Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return T(E).default}});var M=i(265);Object.defineProperty(e,"WMTS",{enumerable:!0,get:function(){return T(M).default}});var O=i(154);Object.defineProperty(e,"XYZ",{enumerable:!0,get:function(){return T(O).default}});var C=i(528);function T(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Zoomify",{enumerable:!0,get:function(){return T(C).default}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Marker=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(137),o=u(i(64)),a=i(541),s=u(i(36));function u(t){return t&&t.__esModule?t:{default:t}}e.Marker=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.active_=!1,this.style_=e.style||"#defaultStyle",this.popupVisible_=!1}return n(t,[{key:"setMap",value:function(t){var e=this;if(t){if(this.map_=t,this.feature_=new o.default,this.vectorLayer_=new r.VectorLayer({source:new a.Vector({features:[this.feature_]}),visible:!1}),t.addLayer(this.vectorLayer_),this.vectorLayer_.setStyle(t.get("styling").getStyle(this.style_)),t.get("styling").manageLayer(this.vectorLayer_),t.get("featurePopup")){var i=t.get("featurePopup");i.on("change:visible",function(){i.getFeature()===e.feature_&&(e.popupVisible_=i.get("visible"))})}}else this.map_.removeLayer(this.vectorLayer_),this.map_=t}},{key:"getPopupVisible",value:function(){return this.popupVisible_}},{key:"setPopupVisible",value:function(t){this.popupVisible_=t;var e=this.map_.get("featurePopup");e&&(!0===t?(e.setFeature(this.feature_,this.vectorLayer_.getStyle()),e.setVisible(!0)):e.setVisible(!1))}},{key:"setActive",value:function(t){this.active_!==t&&(this.active_=t,this.vectorLayer_.setVisible(t),t||this.setPopupVisible(!1))}},{key:"getActive",value:function(){return this.active_}},{key:"getPosition",value:function(){var t=this.feature_.getGeometry();if(t)return t.getCoordinates()}},{key:"setPosition",value:function(t){var e=new s.default(t);this.feature_.setGeometry(e)}},{key:"getText",value:function(){return this.feature_.get("description")}},{key:"setText",value:function(t){this.feature_.set("description",t)}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.zoomParam={keys:["zoom"],setEvent:"afterConfiguring",setToMap:function(t,e){e.isSet("zoom")&&t.getView().setZoom(parseFloat(e.getSanitizedVal("zoom")))},getFromMap:function(t,e){if(!e.isExcluded("zoom"))return{zoom:t.getView().getZoom()}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.visibleLayersParam=void 0;var n=i(114);e.visibleLayersParam={keys:["vislay"],setEvent:"afterConfiguring",setToMap:function(t,e){if(e.isSet("vislay")){var i=e.getArray("vislay"),r=t.get("baseLayers");r&&r.recursiveForEach(function(t){t instanceof n.GroupLayer||t.setVisible(i.indexOf(t.get("id").toString())>-1)});var o=t.get("featureLayers");o&&o.recursiveForEach(function(t){t instanceof n.GroupLayer||t.setVisible(i.indexOf(t.get("id").toString())>-1)})}},getFromMap:function(t,e){if(!e.isExcluded("vislay")){var i=[],n=function(t){t.getVisible()&&i.push(t.get("id"))};return t.get("baseLayers").recursiveForEach(n),t.get("featureLayers").recursiveForEach(n),{vislay:i.join(",")}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.searchParam={keys:["search"],setEvent:"ready",setToMap:function(t,e){if(e.isSet("search")){var i=t.getControlsByName("searchControl")[0];i&&i.setSearchValue(e.getSanitizedVal("search"))}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.rotationParam={keys:["rot"],setEvent:"afterConfiguring",setToMap:function(t,e){e.isSet("rot")&&t.getView().setRotation(Math.PI*e.getSanitizedVal("rot")/180)},getFromMap:function(t,e){if(!e.isExcluded("rot"))return{rot:180*t.getView().getRotation()/Math.PI}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.responsivenessParam={keys:["responsive"],setEvent:"ready",setToMap:function(t,e){e.isSet("responsive")&&t.set("responsive",JSON.parse(e.getSanitizedVal("responsive")))},getFromMap:function(t){return{responsive:t.get("responsive")}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.markerParam=void 0;var n=i(24),r=i(241),o=i(6);e.markerParam={keys:["marklat","marklon","markx","marky","marktext","markpop","srid"],setEvent:"ready",setToMap:function(t,e){var i=t.get("marker"),r=void 0,a=void 0;i?(e.isSet("markx")&&e.isSet("marky")?(r=[parseFloat(e.getSanitizedVal("markx")),parseFloat(e.getSanitizedVal("marky"))],a=e.isSet("srid")?e.getSanitizedVal("srid"):t.get("interfaceProjection")):e.isSet("marklat")&&e.isSet("marklon")?(r=[parseFloat(e.getSanitizedVal("marklon")),parseFloat(e.getSanitizedVal("marklat"))],a="EPSG:4326"):(r=t.getView().getCenter(),a=t.getView().getProjection()),i.setPosition((0,o.transform)(r,a,t.get("mapProjection"))),(e.isSet("marklat")||e.isSet("marklon")||e.isSet("markx")||e.isSet("marky"))&&i.setActive(!0),e.isSet("marktext")&&(i.setActive(!0),i.setText(e.getSanitizedVal("marktext")),e.isTrue("markpop")||!e.isSet("markpop")?i.setPopupVisible(!0):i.setPopupVisible(!1))):n.Debug.warn("There is no marker configured for the map, but it was tried to set it via the urlapi.")},getFromMap:function(t,e){var i=t.get("marker");if(i&&i.getActive()&&!e.isExcluded("marker")){var n={srid:t.get("interfaceProjection")},a=(0,o.transform)(i.getPosition(),t.get("mapProjection"),t.get("interfaceProjection")),s=(0,r.restoreText)(i.getText()),u=i.getPopupVisible();return n.markx=a[0].toFixed(5),n.marky=a[1].toFixed(5),s&&(n.marktext=s,n.markpop=u),n}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.layerConfigurationFileParam={keys:["layconf"],setEvent:"beforeConfigLoad",setToMap:function(t,e){if(e.isSet("layconf")){var i=e.getInjectUnsafeVal("layconf").trim();if(i.match(/^(?:[a-z]+:)?\/\//i))throw new Error("The provided layconf parameter is absolute. Only relative paths are allowed.");t.set("layerConfigFileName",i)}},getFromMap:function(t){return{layconf:t.get("layerConfigFileName")}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.languageParam={keys:["lang"],setEvent:"afterConfigLoad",setToMap:function(t,e){e.isSet("lang")&&t.get("localiser").setCurrentLang(e.getSanitizedVal("lang"))},getFromMap:function(t){return{lang:t.get("localiser").getCurrentLang()}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fitRectangleParam=void 0;var n=i(24),r=i(6);e.fitRectangleParam={keys:["x0","y0","x1","y1","srid","pad"],setEvent:"afterConfiguring",setToMap:function(t,e){if(e.isSet("x0")&&e.isSet("y0")&&e.isSet("x1")&&e.isSet("y1")){var i=parseFloat(e.getSanitizedVal("x0")),o=parseFloat(e.getSanitizedVal("y0")),a=parseFloat(e.getSanitizedVal("x1")),s=parseFloat(e.getSanitizedVal("y1"));if(!(isNaN(i)||isNaN(o)||isNaN(a)||isNaN(s))){var u={};if(e.isSet("srid")){var l=e.getSanitizedVal("srid");(0,r.get)(l)?u.srId=l:n.Debug.error("Unknown Projection '"+l+"'")}else u.srId=t.get("interfaceProjection");if(e.isSet("pad")){var c=parseFloat(e.getSanitizedVal("pad"));u.padding=[c,c,c,c]}t.get("api").fitRectangle([[i,o],[a,s]],u)}}},getFromMap:function(t,e){var i=t.getView(),n=(0,r.transform)(i.getCenter(),i.getProjection(),t.get("interfaceProjection"));if(!e.isExcluded("center"))return{x:n[0].toFixed(5),y:n[1].toFixed(5),srid:t.get("interfaceProjection")}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.configurationFileParam={keys:["conf"],setEvent:"beforeConfigLoad",setToMap:function(t,e){if(e.isSet("conf")){var i=e.getInjectUnsafeVal("conf").trim();if(i.match(/^(?:[a-z]+:)?\/\//i))throw new Error("The provided conf parameter is absolute. Only relative paths are allowed.");t.set("configFileName",i)}},getFromMap:function(t){return{conf:t.get("configFileName")}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.closeButtonParam={keys:["clsbtn"],setEvent:"ready:ui",setToMap:function(t,e){if(e.isTrue("clsbtn")){t.get("UIConfigurator").controlFactory.addControlTo(t,"closeWindowButton"),t.get("history").setOnLeave(function(){return window.close()});var i=!0,n=!1,r=void 0;try{for(var o,a=t.getControlsByName("maximizeButton")[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var s=o.value;t.removeControl(s)}}catch(t){n=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(n)throw r}}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.centerParam=void 0;var n=i(6);e.centerParam={keys:["lon","lat","x","y","srid"],setEvent:"afterConfiguring",setToMap:function(t,e){if(e.isSet("lon")&&e.isSet("lat")&&Math.abs(parseFloat(e.getSanitizedVal("lat")))<90){var i=parseFloat(e.getSanitizedVal("lon")),r=parseFloat(e.getSanitizedVal("lat"));isNaN(i)||isNaN(r)||(e.setUrlValue("x",i.toString()),e.setUrlValue("y",r.toString()),e.setUrlValue("srid","EPSG:4326"),e.setJsValue("x",i),e.setJsValue("y",r),e.setJsValue("srid","EPSG:4326"))}if(e.isSet("x")&&e.isSet("y")){var o=parseFloat(e.getSanitizedVal("x")),a=parseFloat(e.getSanitizedVal("y")),s=t.get("interfaceProjection");if(e.isSet("srid")&&(s=e.getSanitizedVal("srid")),!isNaN(o)&&!isNaN(a)){var u=t.getView();(0,n.get)(s)?u.setCenter(u.constrainCenter((0,n.transform)([o,a],s,u.getProjection()))):console.error("Unknown Projection '"+s+"'")}}},getFromMap:function(t,e){var i=t.getView(),r=(0,n.transform)(i.getCenter(),i.getProjection(),t.get("interfaceProjection"));if(!e.isExcluded("center"))return{x:r[0].toFixed(5),y:r[1].toFixed(5),srid:t.get("interfaceProjection")}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.availableLayersParam={keys:["avalay"],setEvent:"afterConfiguring",setToMap:function(t,e){if(e.isSet("avalay")){var i=e.getArray("avalay");if(i.length>0){var n=void 0,r=0;t.get("baseLayers").recursiveForEach(function(t){!n&&t.getVisible()&&(n=t);var e=i.indexOf(t.get("id").toString())>-1;t.set("available",e),e&&r++}),0===r&&(n.set("available",!0),n.setVisible(!0)),t.get("featureLayers").recursiveForEach(function(t){t.set("available",i.indexOf(t.get("id").toString())>-1)})}t.get("configurator").configureUI()}},getFromMap:function(t,e){var i=[];function n(t){t.get("available")&&i.push(t.get("id"))}return t.get("baseLayers").recursiveForEach(n),t.get("featureLayers").recursiveForEach(n),{avalay:i.join(",")}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Query=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(241);e.Query=function(){function t(e,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.urlValues_={},this.jsValues_=r,this.parameterKeys_=e,this.excluded_=i;var o=!0,a=!1,s=void 0;try{for(var u,l=this.excluded_[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;this.jsValues_.hasOwnProperty(c)&&(this.jsValues_[c]=void 0)}}catch(t){a=!0,s=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw s}}var h=void 0,f=window.location.search;if(""!==f)for(var p=f.substring(1).split("&"),d=0;d<p.length;d+=1)if(p[d].indexOf("=")>-1){h=p[d].split("=");var g=decodeURIComponent(h[0]).trim().toLowerCase(),v=decodeURIComponent(h[1]).trim();this.parameterKeys_.indexOf(g)>-1&&(this.urlValues_[g]=v)}}return n(t,[{key:"isSet",value:function(t){return this.jsValues_.hasOwnProperty(t)||this.urlValues_.hasOwnProperty(t)}},{key:"getSanitizedVal",value:function(t){return this.urlValues_.hasOwnProperty(t)?(0,r.filterText)(this.urlValues_[t]):this.jsValues_[t]}},{key:"getInjectUnsafeVal",value:function(t){return this.urlValues_.hasOwnProperty(t)?this.urlValues_[t]:this.jsValues_[t]}},{key:"isExcluded",value:function(t){return this.excluded_.indexOf(t)>-1}},{key:"isTrue",value:function(t){return this.urlValues_.hasOwnProperty(t)?JSON.parse(this.urlValues_[t]):this.jsValues_.hasOwnProperty(t)&&this.jsValues_[t]}},{key:"getArray",value:function(t){return this.urlValues_.hasOwnProperty(t)?this.urlValues_[t].split(",").map(r.filterText):this.jsValues_[t]}},{key:"setUrlValue",value:function(t,e){this.urlValues_[t]=e}},{key:"setJsValue",value:function(t,e){this.jsValues_[t]=e}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URLAPI=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),a=i(24),s=i(556),u=i(555),l=i(554),c=i(553),h=i(552),f=i(551),p=i(550),d=i(549),g=i(548),v=i(547),y=i(546),_=i(545),m=i(544),b=i(543);e.URLAPI=function(){function t(e){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map_=e.map,this.initialValues_={},this.parameters_=[u.availableLayersParam,l.centerParam,c.closeButtonParam,h.configurationFileParam,f.fitRectangleParam,p.languageParam,d.layerConfigurationFileParam,g.markerParam,v.responsivenessParam,y.rotationParam,_.searchParam,m.visibleLayersParam,b.zoomParam],e.hasOwnProperty("moduleParameters")&&Array.isArray(e.moduleParameters)&&e.moduleParameters.length&&(this.parameters_=this.parameters_.concat(e.moduleParameters)),this.parameterKeys_=[],this.parameterGetters_=[];var n=function(t){i.parameterKeys_=i.parameterKeys_.concat(t.keys),t.hasOwnProperty("setToMap")&&i.map_.once(t.setEvent,function(){t.hasOwnProperty("getFromMap")&&o.default.extend(i.initialValues_,t.getFromMap(i.map_,i.query_)),t.setToMap(i.map_,i.query_)}),t.hasOwnProperty("getFromMap")&&i.parameterGetters_.push(t.getFromMap)},r=!0,a=!1,x=void 0;try{for(var S,w=this.parameters_[Symbol.iterator]();!(r=(S=w.next()).done);r=!0){n(S.value)}}catch(t){a=!0,x=t}finally{try{!r&&w.return&&w.return()}finally{if(a)throw x}}var E="js"!==e.mode,M="url"!==e.mode?e.init:{};this.query_=new s.Query(this.parameterKeys_,e.excluded||[],E,M)}return r(t,[{key:"addApiLayer",value:function(t,e){if(this.parameterKeys_.indexOf(e)>-1)a.Debug.error("Key is already in use.");else if(e.toLowerCase()!==e)a.Debug.error("Key should be lowercase.");else{var i=window.location.search.match(new RegExp("(\\?|&)"+e+"=(.*?)(&|$)","i"));if(i){var n=i[2];this.query_.setUrlValue(e,n)}var r=function(){var i={};return i[e]=t.getSource().getQueryValues(),i};this.parameterGetters_.push(r),this.initialValues_[e]=r()[e],this.query_.isSet(e)&&(t.getSource().setQueryValues(this.query_.getArray(e)),t.setVisible(!0))}}},{key:"getCurrentParameters",value:function(){var t={};function e(t,e){if((void 0===t?"undefined":n(t))!==(void 0===e?"undefined":n(e)))return!1;if(t instanceof Array){if(t.length!==e.length)return!1;for(var i=0,r=t.length;i<r;i++)if(t[i]!==e[i])return!1;return!0}if("object"===(void 0===t?"undefined":n(t)))throw new Error("object comparsion not supported atm.");return t===e}var i=!0,r=!1,o=void 0;try{for(var a,s=this.parameterGetters_[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var u=(0,a.value)(this.map_,this.query_);if(u)for(var l in u)u.hasOwnProperty(l)&&void 0!==u[l]&&(!this.query_.isSet(l)&&this.initialValues_.hasOwnProperty(l)&&e(this.initialValues_[l],u[l])||(t[l]=u[l].toString()))}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return t}},{key:"makeURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.baseURL||window.location.href.match(/^[^?]*/)[0],i=[],n=this.getCurrentParameters();for(var r in n)i.push(encodeURIComponent(r)+"="+encodeURIComponent(n[r]));if(void 0!==t.parameters)for(var o in t.parameters)i.push(encodeURIComponent(o)+"="+encodeURIComponent(t.parameters[o]));var a=e||"";return 0===i.length?a:a.indexOf("?")>-1?a+"&"+i.join("&"):a+"?"+i.join("&")}},{key:"makeHTMLSnippet",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).baseURL||window.location.href.match(/^[^?]*/)[0],e=Math.random().toString(36).substring(7),i=this.map_.get("configFileName"),n=this.map_.get("layerConfigFileName"),r=this.getCurrentParameters();return delete r.conf,delete r.layconf,'\n      <div>\n        <script src="'+t+'/js/ol.js"><\/script>\n        <script src="'+t+'/js/jquery.min.js"><\/script>\n        <script src="'+t+'/js/g4u.js"><\/script>\n        <link rel="stylesheet" href="'+this.mapUrl+'/css/g4u.css" />\n        <div id="#g4u-'+e+"\"></div>\n          <script>\n            g4u.createMap('#g4u-"+e+"', '"+i+"', '"+n+"', { apiInit: "+JSON.stringify(r)+"})\n        <\/script>\n      </div>\n    "}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.Module=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,[{key:"setMap",value:function(t){this.map_=t}},{key:"getMap",value:function(){return this.map_}},{key:"configureMap",value:function(t){}},{key:"configureUI",value:function(t){}},{key:"createControl",value:function(t,e,i){}},{key:"createLayer",value:function(t,e,i,n){}},{key:"enableUserActionTracking",value:function(){}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URLAPIModule=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(5),o=i(558),a=i(557),s=i(542),u=i(243),l=i(527),c=i(526),h=i(525),f=i(524);e.URLAPIModule=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return t&&t.hasOwnProperty("moduleParameters")?i.moduleParameters_=t.moduleParameters:i.moduleParameters_=[],i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Module),n(e,[{key:"setMap",value:function(t){(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t);var i=t.get("options");t.set("urlApi",new a.URLAPI({map:t,moduleParameters:this.moduleParameters_,mode:i.apiMode,init:i.apiInit}))}},{key:"configureUI",value:function(t){var e=this.getMap().get("marker");e&&e.setMap(null),(0,r.getConfig)(t,"marker")?((e=new s.Marker(t.marker)).setMap(this.getMap()),this.getMap().set("marker",e)):this.getMap().set("marker",void 0)}},{key:"createControl",value:function(t,e,i){switch(t){case"linkGeneratorButton":return new u.WindowDecorator({component:new l.LinkGeneratorButton(e)});case"linkGenerator":return new c.LinkGenerator(e);case"closeWindowButton":return new h.CloseWindowButton(e);case"maximizeButton":return new f.MaximizeButton(e)}}}]),e}()},function(t,e,i){t.exports=i.p+"files/l10n.json"},function(t,e,i){t.exports=i.p+"conf/layers.commented.json"},function(t,e,i){t.exports=i.p+"conf/client.commented.json"},function(t,e,i){t.exports=i.p+"images/g4u-logo.png"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMapInternal=function(t,e,i,a){Array.isArray(a)&&(a={modules:a});return new Promise(function(s,u){(0,n.default)(document).ready(function(){if(n.default){var l=(0,n.default)().jquery.split(".");+l[0]<2&&+l[1]<9&&o.Debug.error("You are using an outdated version of jQuery. Please use version 1.9 or higher.")}else u(new Error("jQuery not available."));(0,n.default)(t).empty(),window.map=new r.G4UMap(t,e,i,a),window.map.asSoonAs("ready",!0,function(){s(window.map)})})})};var n=function(t){return t&&t.__esModule?t:{default:t}}(i(2));i(563),i(118);var r=i(298),o=i(24);window.jQuery=window.jQuery||n.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PopupModifierManager=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(24);e.PopupModifierManager=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.popupModifiers_=new Map}return n(t,[{key:"register",value:function(t,e){this.popupModifiers_.set(t,e)}},{key:"apply",value:function(t,e){var i=this,n=Promise.resolve(t),o=function(t){var e=i.popupModifiers_.get(t);e?n=n.then(function(t){return e.modifyPopupContent(t)}):r.Debug.error("Trying to use unregistered modifier "+t)},a=!0,s=!1,u=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){o(l.value)}}catch(t){s=!0,u=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}return n}}]),t}()},function(t,e,i){"use strict";var n=o(i(2)),r=o(i(22));function o(t){return t&&t.__esModule?t:{default:t}}r.default.prototype.asSoonAs=function(t,e,i){var r=this;if(!n.default.isFunction(i))throw new Error("You need to provide a callback to asSoonAs.");this.get(t)===e?i():this.once("change:"+t,function(){r.asSoonAs(t,e,i)})},r.default.prototype.onAvailable=function(t,e){var i=this;if(!n.default.isFunction(e))throw new Error("You need to provide a callback to asSoonAs.");void 0!==this.get(t)?e():this.once("change:"+t,function(){i.onAvailable(t,e)})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.L10N=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=l(i(2)),o=l(i(104)),a=l(i(284)),s=i(24),u=i(152);function l(t){return t&&t.__esModule?t:{default:t}}e.L10N=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.defaultLang_=t.defaultLanguage||"en",i.currentLang_=t.currentLanguage||i.defaultLang_,i.languageFileUrl_=u.URL.extractFromConfig(t,"languageFile","files/l10n.commented.json"),t.availableLanguages?i.availableLanguages_=t.availableLanguages:(i.availableLanguages_=[i.currentLang_],i.currentLang_!==i.defaultLang_&&i.availableLanguages_.push(i.defaultLang_)),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),n(e,[{key:"getAvailableLanguages",value:function(){return this.availableLanguages_}},{key:"setAvailableLanguages",value:function(t){this.availableLanguages_=t}},{key:"ajaxGetLanguageFile",value:function(){var t=this,e=this.languageFileUrl_.finalize();return r.default.ajax({type:"GET",url:e,dataType:"text",success:function(e){t.dictionary=JSON.parse((0,a.default)(e))},error:function(){s.Debug.error("The language file "+e+" couldn't be loaded or parsed")}})}},{key:"selectL10N",value:function(t){if(t){if("string"==typeof t)return t;if(t[this.currentLang_]||""===t[this.currentLang_])return t[this.currentLang_];if(t[this.defaultLang_]||""===t[this.defaultLang_])return t[this.defaultLang_];if(t["*"]||""===t["*"])return t["*"];s.Debug.error("Unable to obtain localization")}}},{key:"localiseUsingDictionary",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t in this.dictionary)return this.selectL10N(this.dictionary[t]);e||s.Debug.error("Cannot localise '"+t+"': Not in dictionary")}},{key:"setCurrentLang",value:function(t){this.currentLang_=t,this.dispatchEvent("change:language",t)}},{key:"getCurrentLang",value:function(){return this.currentLang_}},{key:"getDefaultLang",value:function(){return this.defaultLang_}},{key:"isRtl",value:function(){return this.dictionary[this.currentLang_].rtl||!1}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.defaults={};n.baselayer={title:{de:"Standardtitel",en:"Default title"},type:"OSM",source:{projection:"EPSG:3857",url:{de:"//{a-c}.tile.openstreetmap.de/tiles/osmde//{z}/{x}/{y}.png",en:"//{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"},attribution:{de:'Karte von <a target="_blank" href="http://www.openstreetmap.org/">OpenStreetMap</a>, Lizenz: <a target="_blank" href="http://opendatacommons.org/licenses/odbl/">ODbL</a>',en:'Map from <a target="_blank" href="http://www.openstreetmap.org/">OpenStreetMap</a>, licence: <a target="_blank" href="http://opendatacommons.org/licenses/odbl/">ODbL</a>'}}},n.config={target:"#g4u-map",interfaceProjection:"EPSG:4326",view:{center:[7.086134,50.714689],zoom:18,minZoom:0,maxZoom:18},layers:{baseLayers:[{id:0,title:n.baselayer.title,type:n.baselayer.type,source:{projection:n.baselayer.source.projection,url:n.baselayer.source.url,attribution:n.baselayer.source.attribution},visible:!0}],featureLayers:[],featureLayersElement:{title:"Default title",type:"KML",source:{loadingStrategy:"ALL"}}},controls:{},move:{animationDuration:2e3,pixelPadding:60,meterMinSize:300},styleMap:{"#defaultStyle":{fill:{color:"rgba(0,0,0,0)"},stroke:{color:"rgba(255,255,255,1)",width:2},circle:{radius:5,fill:{color:"rgba(0,0,0,0)"},stroke:{color:"rgba(255,255,255,1)",width:2}}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.API=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=g(i(2)),o=i(6),a=g(i(22)),s=g(i(54)),u=g(i(169)),l=g(i(454)),c=i(1),h=g(i(398)),f=i(13),p=i(24),d=i(328);function g(t){return t&&t.__esModule?t:{default:t}}e.API=function(t){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.featureManipulationActive_=!1,n.drawStyle_=i.drawStyle||"#drawStyle",n.wktParser_=new h.default,n.map_=t,n.featureManipulationInteraction_=null,n.map_.once("ready",function(){n.layerConfigurator_=n.map_.get("configurator").layerConfigurator_}),(0,r.default)(n.map_.getViewport()).on("keydown",n.onKeyDown_.bind(n)),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),n(e,[{key:"endFeatureManipulationInternal_",value:function(){this.featureManipulationInteraction_&&(this.featureManipulationInteraction_.setActive(!1),this.map_.removeInteraction(this.featureManipulationInteraction_)),(0,r.default)(this.map_.getViewport()).removeClass(f.cssClasses.crosshair),(0,r.default)(this.map_.getViewport()).removeClass(f.cssClasses.arrow),this.featureManipulationActive_=!1,this.dispatchEvent("endManipulation")}},{key:"cancelFeatureManipulation",value:function(){this.featureManipulationActive_&&this.endFeatureManipulationInternal_()}},{key:"drawFeature",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.featureManipulationActive_&&this.endFeatureManipulationInternal_(),this.featureManipulationActive_=!0;var i=new s.default,n=e.style||this.drawStyle_||{},o=this.map_.get("styling").getStyle(n);return this.map_.get("styling").manageFeatureCollection(i),this.featureManipulationInteraction_=new u.default({features:i,type:e.type||"Point",style:o}),this.map_.addSupersedingInteraction("singleclick dblclick pointermove",this.featureManipulationInteraction_),(0,r.default)(this.map_.getViewport()).addClass(f.cssClasses.crosshair),{cancel:function(){t.endFeatureManipulationInternal_()},end:function(){t.featureManipulationInteraction_.finishDrawing(),t.endFeatureManipulationInternal_()},result:new Promise(function(e){t.featureManipulationInteraction_.on("drawend",function(i){e(i.feature),t.endFeatureManipulationInternal_()})})}}},{key:"fitRectangle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.hasOwnProperty("srId")||(e.srId="EPSG:4326"),e.hasOwnProperty("constrainResolution")||(e.constrainResolution=!1),e.hasOwnProperty("padding")||(e.padding=[0,0,0,0]),(0,o.get)(e.srId)?this.map_.getView().fit((0,c.boundingExtent)([(0,o.transform)([parseFloat(t[0][0]),parseFloat(t[0][1])],e.srId,this.map_.get("mapProjection").getCode()),(0,o.transform)([parseFloat(t[1][0]),parseFloat(t[1][1])],e.srId,this.map_.get("mapProjection").getCode())]),e):p.Debug.error("Unknown Projection '"+e.srId+"'")}},{key:"setVisibleBaseLayer",value:function(t){this.map_.get("baseLayers").recursiveForEach(function(e){e.setVisible(e.get("id")===t)})}},{key:"onKeyDown_",value:function(t){this.featureManipulationActive_&&t.which===f.keyCodes.ESCAPE&&this.endFeatureManipulationInternal_()}},{key:"selectFeature",value:function(){var t=this;return this.featureManipulationActive_&&this.endFeatureManipulationInternal_(null),this.featureManipulationActive_=!0,this.featureManipulationInteraction_=new d.FeatureInteraction({type:"singleclick"}),this.map_.addSupersedingInteraction("singleclick",this.featureManipulationInteraction_),(0,r.default)(this.map_.getViewport()).addClass(f.cssClasses.arrow),{cancel:function(){t.endFeatureManipulationInternal_()},end:function(){t.endFeatureManipulationInternal_()},result:new Promise(function(e){t.featureManipulationInteraction_.on("interaction",function(i){i.interacted.length&&(e(i.interacted[0].feature,i.interacted[0].layer),t.endFeatureManipulationInternal_())})})}}},{key:"modifyFeature",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.features=new s.default([t]),this.featureManipulationActive_&&this.endFeatureManipulationInternal_(!1),this.featureManipulationActive_=!0,i.style&&(i.style=this.map_.get("styling").getStyle(i.style)),this.featureManipulationInteraction_=new l.default(i),this.map_.addSupersedingInteraction("singleclick dblclick pointermove",this.featureManipulationInteraction_),(0,r.default)(this.map_.getViewport()).addClass(f.cssClasses.crosshair);var n=!1;return{cancel:function(){e.endFeatureManipulationInternal_()},end:function(){n=!0,e.endFeatureManipulationInternal_()},result:new Promise(function(i){e.featureManipulationInteraction_.on("modifyend",function(){n&&i(t)}),e.featureManipulationInteraction_.once("change:active",function(){n&&i(t)})})}}},{key:"addFeatureLayer",value:function(t){return this.layerConfigurator_.getFactory().addLayer(this.map_.get("featureLayers"),t,"featureLayer",!0)}},{key:"addFixedFeatureLayer",value:function(t){return this.layerConfigurator_.getFactory().addLayer(this.map_.get("fixedFeatureLayers"),t,"featureLayer",!0)}},{key:"addBaseLayer",value:function(t){return this.layerConfigurator_.getFactory().addLayer(this.map_.get("baseLayers"),t,"baseLayer",!0)}},{key:"loadLayerFromServer",value:function(t){var e=this;return(t=t||{}).visible=!0,t.source=t.source||{},new Promise(function(i,n){var r=e.addFeatureLayer(t),o=r.getSource(),a=function(){o.un("vectorloadend",s),i(r)},s=function(){o.un("vectorloaderror",a),n(new Error("vector load error"))};o.once("vectorloadend",a),o.once("vectorloaderror",s)})}},{key:"createFeature",value:function(t){return this.layerConfigurator_.getFactory().createFeature(t)}},{key:"removeLayer",value:function(t){this.map_.getLayerGroup().removeLayer(t)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.History=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.callbacks_=[],"future"!==window.history.state&&(window.history.replaceState("base",""),window.history.pushState("future","")),window.addEventListener("popstate",function(t){if("base"===t.state){var i=e.callbacks_.pop();i?(i.call(),window.history.forward()):(void 0!==e.onLeave_&&e.onLeave_.call(),window.history.back())}})}return n(t,[{key:"setOnLeave",value:function(t){this.onLeave_=t}},{key:"push",value:function(t){this.callbacks_.push(t)}},{key:"pop",value:function(){this.callbacks_.pop()()}},{key:"flush",value:function(){for(;this.callbacks_.length;)this.pop()}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowWMSFeatureInfo=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=p(i(2)),o=p(i(64)),a=p(i(36)),s=i(104),u=p(i(44)),l=i(334),c=i(13),h=i(327),f=i(137);function p(t){return t&&t.__esModule?t:{default:t}}function d(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}e.ShowWMSFeatureInfo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.separator_=e.hasOwnProperty("seperator")?e.seperator:"<br>",this.style_=e.style||"#defaultStyle",this.animated_=e.animated,this.centerOnPopup_=!e.hasOwnProperty("centerOnPopup")||e.centerOnPopup,this.centerIfNoData_=!(!this.centerOnPopup_||!e.hasOwnProperty("centerIfNoData"))&&e.centerIfNoData,this.centerOnPopupInitial_=this.centerOnPopup_,this.popupModifiers_=e.popupModifiers||[]}return n(t,[{key:"handleClickEvent",value:function(t){var e=this,i=this.getMap(),n=i.get("featurePopup"),r=i.getView().getProjection(),s=this.layers_.filter(function(t){return t.getVisible()});i.forEachLayerAtPixel(t.mapEvent.pixel,function(t){return s.indexOf(t)>-1})&&!i.forEachFeatureAtPixel(t.mapEvent.pixel,l.FeaturePopup.canDisplay)&&function(){var u=t.mapEvent.coordinate;e.utilitySource_.clear();var l=void 0,c=function(t){t.getSource().getFeatureInfo(u,i.getView().getResolution(),r).then(function(r){""!==r&&(l?l.set("description",l.get("description")+e.separator_+r):(e.utilitySource_.clear(),l=new o.default({geometry:new a.default(u),description:r,style:i.get("styling").getStyle(e.style_)}),i.get("styling").manageFeature(l),e.utilitySource_.addFeature(l),n.setFeature(l,u,[].concat(d(e.popupModifiers_),d(t.getSource().getFeatureInfoMutators()))),n.setVisible(!0),e.setPointVisible(!0),e.centerOnPopup_&&n.centerMapOnPopup(e.animated_),n.once("change:visible",function(){return e.setPointVisible(!1)}))),t.on("change:visible",function(){n.setVisible(!1)})})},h=!0,f=!1,p=void 0;try{for(var g,v=s[Symbol.iterator]();!(h=(g=v.next()).done);h=!0){c(g.value)}}catch(t){f=!0,p=t}finally{try{!h&&v.return&&v.return()}finally{if(f)throw p}}}()}},{key:"layerQueryable",value:function(t){var e=this;return this.layers_.some(function(i){return i.getVisible()&&e.layers_.indexOf(t)>-1&&t.getSource().getQueryable()})}},{key:"handlePointerMoveEvent",value:function(t){var e=this,i=this.getMap();if(!i.forEachFeatureAtPixel(t.mapEvent.pixel,l.FeaturePopup.canDisplay,{hitTolerance:5})){var n=i.get("featureTooltip");this.lastTooltipPixel_=t.pixel,i.forEachLayerAtPixel(t.mapEvent.pixel,function(t){return e.layerQueryable(t)})?(clearTimeout(this.tooltipTimeout_),(0,r.default)(i.getViewport()).addClass(c.cssClasses.clickable),this.tooltipTimeout_=setTimeout(function(){if(t.pixel===e.lastTooltipPixel_){var r=i.getView().getProjection(),s=t.mapEvent.coordinate,u=void 0;i.forEachLayerAtPixel(t.mapEvent.pixel,function(t){e.layerQueryable(t)&&t.getSource().getFeatureInfo(s,i.getView().getResolution(),r).then(function(i){""!==i&&(u?u.set("description",u.get("description")+e.separator_+i):(u=new o.default({geometry:new a.default(s),description:i}),n.setFeature(u,s,[].concat(d(e.popupModifiers_),d(t.getSource().getFeatureInfoMutators())))),e.shouldHide_=!0),t.on("change:visible",function(){n.setFeature(null)})})})}},200)):(this.shouldHide_&&n.setFeature(null),(0,r.default)(i.getViewport()).removeClass(c.cssClasses.clickable))}}},{key:"setMap",value:function(t){var e=this,i=function(){t.get("mobile")?e.centerOnPopup_=!1:e.centerOnPopup_=e.centerOnPopupInitial_};if(this.getMap()&&(this.getMap().un("change:mobile",i),(0,s.unByKey)(this.listenerKey_)),this.map_=t,t){this.utilitySource_=new u.default,this.utilityLayer_=new f.VectorLayer({visible:!1,source:this.utilitySource_}),t.addLayer(this.utilityLayer_),this.layers_=[];var n=new h.MapEventInteraction({type:"singleclick"});n.on("mapevent",function(t){return e.handleClickEvent(t)}),t.addDefaultInteraction("singleclick",n);var r=new h.MapEventInteraction({type:"pointermove"});r.on("mapevent",function(t){return e.handlePointerMoveEvent(t)}),t.addDefaultInteraction("pointermove",r),i(),t.on("change:mobile",i)}}},{key:"getPointVisible",value:function(){return this.utilityLayer_.getVisible()}},{key:"setPointVisible",value:function(t){this.utilityLayer_.setVisible(t)}},{key:"getMap",value:function(){return this.map_}},{key:"addLayer",value:function(t){this.layers_.push(t)}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SingleDrawButton=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0},o=d(i(2)),a=i(31),s=i(13),u=i(137);i(1150);var l=i(5),c=i(330),h=i(135),f=d(i(169)),p=d(i(44));function d(t){return t&&t.__esModule?t:{default:t}}e.SingleDrawButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.element=(0,o.default)("<div>").get(0),t.className=t.className||"g4u-single-draw",t.singleButton=!1;var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.editStyle_=t.editStyle||"#defaultStyle",i.finishedStyle_=t.finishedStyle||"#defaultStyle",i.setTitle(i.getTitle()||i.getLocaliser().localiseUsingDictionary("SingleDrawButton title")),i.setTipLabel(i.getTipLabel()||i.getLocaliser().localiseUsingDictionary("SingleDrawButton tipLabel")),i.createHTML(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,l.mixin)(a.Control,h.ActivatableMixin)),n(e,[{key:"createHTML",value:function(){var t=this,e=(0,o.default)("<button>").addClass(this.getClassName()+"-button").addClass(s.cssClasses.mainButton).text(this.getTitle()).on("click",function(){t.getActive()?t.setActive(!1):t.dropdown_.slideDown()});this.get$Element().append(e),this.dropdown_=new c.Dropdown,this.dropdown_.setEntries(["Point","LineString","Polygon","Circle","Delete"],[this.getLocaliser().localiseUsingDictionary("SingleDrawButton draw point"),this.getLocaliser().localiseUsingDictionary("SingleDrawButton draw line"),this.getLocaliser().localiseUsingDictionary("SingleDrawButton draw polygon"),this.getLocaliser().localiseUsingDictionary("SingleDrawButton draw circle"),this.getLocaliser().localiseUsingDictionary("SingleDrawButton delete all")]),this.dropdown_.on("select",function(){"Delete"===t.dropdown_.getValue()?t.layer_.getSource().clear():t.setActive(!0)}),this.get$Element().append(this.dropdown_.get$Element())}},{key:"setActive",value:function(t){if(t){var i=this.dropdown_.getValue();this.addInteraction(i),this.dropdown_.slideUp()}else this.interaction_&&this.removeInteraction();r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",this).call(this,t),this.get$Element().toggleClass(s.cssClasses.active,t)}},{key:"addInteraction",value:function(t){var e=this,i=this.getMap();this.interaction_=new f.default({source:this.layer_.getSource(),type:t,style:i.get("styling").getStyle(this.editStyle_)}),(0,o.default)(i.getViewport()).addClass(s.cssClasses.crosshair),i.addSupersedingInteraction("singleclick dblclick pointermove",this.interaction_),this.interaction_.on("drawend",function(){e.setActive(!1)})}},{key:"removeInteraction",value:function(){var t=this.getMap();this.interaction_.setActive(!1),t.removeInteraction(this.interaction_),this.interaction_=void 0,(0,o.default)(t.getViewport()).removeClass(s.cssClasses.crosshair)}},{key:"setMap",value:function(t){var i=this;this.getMap()&&(this.getMap().getLayers().remove(this.layer_),this.interaction_&&this.removeInteraction()),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(this.layer_=new u.VectorLayer({source:new p.default,visible:!0}),this.layer_.setStyle(t.get("styling").getStyle(this.finishedStyle_)),t.get("styling").manageLayer(this.layer_),t.getLayers().insertAt(1,this.layer_),(0,o.default)(t.getViewport()).parent().on("keydown",function(t){t.which===s.keyCodes.ESCAPE&&i.interaction_&&i.removeInteraction()}))}},{key:"getLayer",value:function(){return this.layer_}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.render=x;var n=m(i(54)),r=m(i(489)),o=m(i(225)),a=m(i(484)),s=i(22),u=m(i(174)),l=m(i(245)),c=m(i(333)),h=m(i(481)),f=m(i(99)),p=i(67),d=i(84),g=i(27),v=i(3),y=m(i(4)),_=i(1);function m(t){return t&&t.__esModule?t:{default:t}}var b=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||x,target:i.target}),this.collapsed_=void 0===i.collapsed||i.collapsed,this.collapsible_=void 0===i.collapsible||i.collapsible,this.collapsible_||(this.collapsed_=!1);var o=void 0!==i.className?i.className:"ol-overviewmap",a=void 0!==i.tipLabel?i.tipLabel:"Overview map",s=void 0!==i.collapseLabel?i.collapseLabel:"";"string"==typeof s?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s):this.collapseLabel_=s;var u=void 0!==i.label?i.label:"";"string"==typeof u?(this.label_=document.createElement("span"),this.label_.textContent=u):this.label_=u;var h=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,f=document.createElement("button");f.setAttribute("type","button"),f.title=a,f.appendChild(h),(0,v.listen)(f,y.default.CLICK,this.handleClick_,this),this.ovmapDiv_=document.createElement("div"),this.ovmapDiv_.className="ol-overviewmap-map",this.ovmap_=new r.default({controls:new n.default,interactions:new n.default,view:i.view});var p=this.ovmap_;i.layers&&i.layers.forEach(function(t){p.addLayer(t)}.bind(this));var g=document.createElement("div");g.className="ol-overviewmap-box",g.style.boxSizing="border-box",this.boxOverlay_=new l.default({position:[0,0],positioning:c.default.BOTTOM_LEFT,element:g}),this.ovmap_.addOverlay(this.boxOverlay_);var _=o+" "+d.CLASS_UNSELECTABLE+" "+d.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" "+d.CLASS_COLLAPSED:"")+(this.collapsible_?"":" ol-uncollapsible"),m=this.element;m.className=_,m.appendChild(this.ovmapDiv_),m.appendChild(f);var b=this,S=this.boxOverlay_,w=this.boxOverlay_.getElement(),E=function(t){var e=p.getEventCoordinate(function(t){return{clientX:t.clientX-w.offsetWidth/2,clientY:t.clientY+w.offsetHeight/2}}(t));S.setPosition(e)},M=function t(e){var i=p.getEventCoordinate(e);b.getMap().getView().setCenter(i),window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",t)};w.addEventListener("mousedown",function(){window.addEventListener("mousemove",E),window.addEventListener("mouseup",M)})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMap=function(e){var i=this.getMap();if(e!==i){if(i){var n=i.getView();n&&this.unbindView_(n),this.ovmap_.setTarget(null)}if(t.prototype.setMap.call(this,e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push((0,v.listen)(e,u.default.PROPERTYCHANGE,this.handleMapPropertyChange_,this)),0===this.ovmap_.getLayers().getLength()&&this.ovmap_.setLayerGroup(e.getLayerGroup());var r=e.getView();r&&(this.bindView_(r),r.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},e.prototype.handleMapPropertyChange_=function(t){if(t.key===a.default.VIEW){var e=t.oldValue;e&&this.unbindView_(e);var i=this.getMap().getView();this.bindView_(i)}},e.prototype.bindView_=function(t){(0,v.listen)(t,(0,s.getChangeEventType)(h.default.ROTATION),this.handleRotationChanged_,this)},e.prototype.unbindView_=function(t){(0,v.unlisten)(t,(0,s.getChangeEventType)(h.default.ROTATION),this.handleRotationChanged_,this)},e.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},e.prototype.validateExtent_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var i=t.getSize(),n=t.getView().calculateExtent(i),r=e.getSize(),o=e.getView().calculateExtent(r),a=e.getPixelFromCoordinate((0,_.getTopLeft)(n)),s=e.getPixelFromCoordinate((0,_.getBottomRight)(n)),u=Math.abs(a[0]-s[0]),l=Math.abs(a[1]-s[1]),c=r[0],h=r[1];u<.1*c||l<.1*h||u>.75*c||l>.75*h?this.resetExtent_():(0,_.containsExtent)(o,n)||this.recenter_()}},e.prototype.resetExtent_=function(){var t=this.getMap(),e=this.ovmap_,i=t.getSize(),n=t.getView().calculateExtent(i),r=e.getView(),o=Math.log(7.5)/Math.LN2,a=1/(.1*Math.pow(2,o/2));(0,_.scaleFromCenter)(n,a),r.fit(n)},e.prototype.recenter_=function(){var t=this.getMap(),e=this.ovmap_,i=t.getView();e.getView().setCenter(i.getCenter())},e.prototype.updateBox_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var i=t.getSize(),n=t.getView(),r=e.getView(),o=n.getRotation(),a=this.boxOverlay_,s=this.boxOverlay_.getElement(),u=n.calculateExtent(i),l=r.getResolution(),c=(0,_.getBottomLeft)(u),h=(0,_.getTopRight)(u),f=this.calculateCoordinateRotate_(o,c);a.setPosition(f),s&&(s.style.width=Math.abs((c[0]-h[0])/l)+"px",s.style.height=Math.abs((h[1]-c[1])/l)+"px")}},e.prototype.calculateCoordinateRotate_=function(t,e){var i,n=this.getMap().getView().getCenter();return n&&(i=[e[0]-n[0],e[1]-n[1]],(0,p.rotate)(i,t),(0,p.add)(i,n)),i},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(d.CLASS_COLLAPSED),this.collapsed_?(0,g.replaceNode)(this.collapseLabel_,this.label_):(0,g.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var t=this.ovmap_;this.collapsed_||t.isRendered()||(t.updateSize(),this.resetExtent_(),(0,v.listenOnce)(t,o.default.POSTRENDER,function(t){this.updateBox_()},this))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.getOverviewMap=function(){return this.ovmap_},e}(f.default);function x(t){this.validateExtent_(),this.updateBox_()}e.default=b},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewMap=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(i(573)),o=i(178),a=i(72),s=i(5);i(1154);e.OverviewMap=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.hasOwnProperty("title")?t.tipLabel=t.localiser.selectL10N(t.title):t.tipLabel=t.hasOwnProperty("tipLabel")?t.localiser.selectL10N(t.tipLabel):t.localiser.localiseUsingDictionary("OverviewMap tipLabel"),t.layers=[],function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,s.mixin)((0,s.mixin)(r.default,o.RewireMixin),a.ListenerOrganizerMixin)),n(e,[{key:"setMap",value:function(t){var i=this;if(this.getMap()&&this.detachAllListeners(),function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t){var n=t.getView();this.getOverviewMap().setLayerGroup(t.get("baseLayers"));var r=this.get$Element().find(".ol-overviewmap-map");r=r.add(r.find(".ol-overviewmap-box"));var o=!1;this.listenAt(r).on("click",function(t){o||n.setCenter(n.constrainCenter(i.getOverviewMap().getEventCoordinate(t)))});var a=!1;this.listenAt(r).on("mousedown",function(){o=!1,a=!0}),this.listenAt(r).on("mouseup",function(t){a=!1}),this.listenAt(r).on("mousemove",function(t){a&&n.setCenter(n.constrainCenter(i.getOverviewMap().getEventCoordinate(t)))}),this.getOverviewMap().getView().on("change:center",function(){a=!1,o=!0});var s=this.get$Element().find("button");this.listenAt(s).on("click",function(){return i.dispatchEvent("change:size")})}}},{key:"afterPositioning",value:function(){this.getOverviewMap().updateSize()}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Units=void 0,e.render=g;var n=i(22),r=i(20),o=c(i(99)),a=i(84),s=i(3),u=i(6),l=c(i(85));function c(t){return t&&t.__esModule?t:{default:t}}var h="units",f=e.Units={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},p=[1,2,5],d=function(t){function e(e){var i=e||{},r=void 0!==i.className?i.className:"ol-scale-line";t.call(this,{element:document.createElement("div"),render:i.render||g,target:i.target}),this.innerElement_=document.createElement("div"),this.innerElement_.className=r+"-inner",this.element.className=r+" "+a.CLASS_UNSELECTABLE,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==i.minWidth?i.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",(0,s.listen)(this,(0,n.getChangeEventType)(h),this.handleUnitsChanged_,this),this.setUnits(i.units||f.METRIC)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getUnits=function(){return this.get(h)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(h,t)},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,i=t.projection,n=this.getUnits(),o=n==f.DEGREES?l.default.DEGREES:l.default.METERS,a=(0,u.getPointResolution)(i,t.resolution,e,o);i.getUnits()!=l.default.DEGREES&&i.getMetersPerUnit()&&o==l.default.METERS&&(a*=i.getMetersPerUnit());var s=this.minWidth_*a,c="";if(n==f.DEGREES){var h=u.METERS_PER_UNIT[l.default.DEGREES];i.getUnits()==l.default.DEGREES?s*=h:a/=h,s<h/60?(c="",a*=3600):s<h?(c="",a*=60):c=""}else n==f.IMPERIAL?s<.9144?(c="in",a/=.0254):s<1609.344?(c="ft",a/=.3048):(c="mi",a/=1609.344):n==f.NAUTICAL?(a/=1852,c="nm"):n==f.METRIC?s<.001?(c="m",a*=1e6):s<1?(c="mm",a*=1e3):s<1e3?c="m":(c="km",a/=1e3):n==f.US?s<.9144?(c="in",a*=39.37):s<1609.344?(c="ft",a/=.30480061):(c="mi",a/=1609.3472):(0,r.assert)(!1,33);for(var d,g,v=3*Math.floor(Math.log(this.minWidth_*a)/Math.log(10));;){if(d=p[(v%3+3)%3]*Math.pow(10,Math.floor(v/3)),g=Math.round(d/a),isNaN(g))return this.element.style.display="none",void(this.renderedVisible_=!1);if(g>=this.minWidth_)break;++v}var y=d+" "+c;this.renderedHTML_!=y&&(this.innerElement_.innerHTML=y,this.renderedHTML_=y),this.renderedWidth_!=g&&(this.innerElement_.style.width=g+"px",this.renderedWidth_=g),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e}(o.default);function g(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}e.default=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScaleLine=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(i(575)),o=i(5),a=i(178);i(1156);var s=i(72);e.ScaleLine=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.hasOwnProperty("className")?t.className:"g4u-scale-line",function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,o.mixin)((0,o.mixin)(r.default,a.RewireMixin),s.ListenerOrganizerMixin)),n(e,[{key:"setMap",value:function(t){var i=this;this.getMap()&&this.detachAllListeners(),function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&this.listenAt(t.getView()).on("change:resolution",function(){return i.dispatchEvent("change:size")})}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.render=h;var n=i(3),r=u(i(4)),o=i(22),a=u(i(99)),s=i(6);function u(t){return t&&t.__esModule?t:{default:t}}var l="projection",c=function(t){function e(e){var i=e||{},r=document.createElement("div");r.className=void 0!==i.className?i.className:"ol-mouse-position",t.call(this,{element:r,render:i.render||h,target:i.target}),(0,n.listen)(this,(0,o.getChangeEventType)(l),this.handleProjectionChanged_,this),i.coordinateFormat&&this.setCoordinateFormat(i.coordinateFormat),i.projection&&this.setProjection(i.projection),this.undefinedHTML_="undefinedHTML"in i?i.undefinedHTML:"&#160;",this.renderOnMouseOut_=!!this.undefinedHTML_,this.renderedHTML_=r.innerHTML,this.mapProjection_=null,this.transform_=null,this.lastMouseMovePixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleProjectionChanged_=function(){this.transform_=null},e.prototype.getCoordinateFormat=function(){return this.get("coordinateFormat")},e.prototype.getProjection=function(){return this.get(l)},e.prototype.handleMouseMove=function(t){var e=this.getMap();this.lastMouseMovePixel_=e.getEventPixel(t),this.updateHTML_(this.lastMouseMovePixel_)},e.prototype.handleMouseOut=function(t){this.updateHTML_(null),this.lastMouseMovePixel_=null},e.prototype.setMap=function(e){if(t.prototype.setMap.call(this,e),e){var i=e.getViewport();this.listenerKeys.push((0,n.listen)(i,r.default.MOUSEMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,n.listen)(i,r.default.MOUSEOUT,this.handleMouseOut,this))}},e.prototype.setCoordinateFormat=function(t){this.set("coordinateFormat",t)},e.prototype.setProjection=function(t){this.set(l,(0,s.get)(t))},e.prototype.updateHTML_=function(t){var e=this.undefinedHTML_;if(t&&this.mapProjection_){if(!this.transform_){var i=this.getProjection();this.transform_=i?(0,s.getTransformFromProjections)(this.mapProjection_,i):s.identityTransform}var n=this.getMap().getCoordinateFromPixel(t);if(n){this.transform_(n,n);var r=this.getCoordinateFormat();e=r?r(n):n.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)},e}(a.default);function h(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null,this.updateHTML_(this.lastMouseMovePixel_)}e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MousePosition=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(i(577)),r=i(5),o=i(178);i(1158);e.MousePosition=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.hasOwnProperty("className")?t.className:"g4u-mouseposition";var i=function(t,e){var i=t.toString().match(/^[^.]*/)[0];return i.length>=e?i:t.toFixed(e-i.length)},n=t.digits||8;t.coordinateFormat=function(t){return i(t[0],n)+", "+i(t[1],n)};var r="&ndash;."+"&ndash;".repeat(n-1);return t.undefinedHTML=r+", "+r,function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,r.mixin)(n.default,o.RewireMixin)),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.ActiveGroup=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controls_=e;var i=!0,n=!1,r=void 0;try{for(var o,a=this.controls_[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var s=o.value;this.addControl(s)}}catch(t){n=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(n)throw r}}}return n(t,[{key:"addControl",value:function(t){var e=this;this.controls_.push(t),t.on("change:active",function(){t.getActive()?(e.activeControl_&&e.activeControl_.setActive(!1),e.activeControl_=t):e.activeControl_=null})}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpButton=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0},o=f(i(2)),a=i(31),s=i(5),u=f(i(284)),l=i(24);i(1161),i(118);var c=i(135),h=i(13);function f(t){return t&&t.__esModule?t:{default:t}}e.HelpButton=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.element=(0,o.default)("<div>")[0],t.className=t.className||"g4u-helpbutton";var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.setTitle(i.getTitle()||i.getLocaliser().localiseUsingDictionary("HelpButton title")),i.setTipLabel(i.getTipLabel()||t.localiser.localiseUsingDictionary("HelpButton tipLabel")),i.configControls_=t.configControls||{},i.documentationFileName_=t.fileName,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,s.mixin)(a.Control,c.ActivatableMixin)),n(e,[{key:"createContent_",value:function(){var t=this,e=this.getMap().get("localiser"),i=JSON.parse((0,u.default)(this.contentData_));(0,s.checkFor)(i,e.getCurrentLang())?this.language=e.getCurrentLang():(0,s.checkFor)(i,e.getDefaultLang())?this.language=e.getDefaultLang():this.language="de";this.get$Element().append(function(n,r){var a=(0,o.default)("<table>").addClass(t.className_+"-table");e.isRtl()&&a.prop("dir","rtl");var s=i[r],u=void 0,l=void 0,c=void 0,h=void 0,f=void 0,p=void 0,d=void 0,g=[];if(t.configControls_&&t.configControls_.hasOwnProperty("onMap")){var v=function e(i){g=g.concat(i.map(function(e){return t.configControls_.hasOwnProperty(e)&&t.configControls_[e].hasOwnProperty("controlType")?t.configControls_[e].controlType:e}));var n=!0,r=!1,o=void 0;try{for(var a,s=i[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;t.configControls_.hasOwnProperty(u)&&t.configControls_[u].hasOwnProperty("contains")&&e(t.configControls_[u].contains)}}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}};t.getMap().get("mobile")?t.configControls_.hasOwnProperty("mobileControls")&&t.configControls_.mobileControls.hasOwnProperty("contains")&&v(t.configControls_.mobileControls.contains):v(t.configControls_.onMap.filter(function(t){return"mobileControls"!==t}))}for(u in s.hasOwnProperty("help-header")&&s["help-header"]&&(c=s["help-header"].descr||"",h=s["help-header"].joinWith||"",p=(0,o.default)("<tr>").addClass(t.className_+"-header"),d=(0,o.default)("<td>").addClass(t.className_+"-descr").attr("colspan",2),o.default.isArray(c)?d.append(c.join("<p>")):d.append(c),p.append(d),a.append(p)),s)if(s.hasOwnProperty(u)&&s[u]&&(l=s[u].img,c=s[u].descr||"",h=s[u].joinWith||"",g.includes(u))){if(p=(0,o.default)("<tr>"),f='<td class="'+t.className_+'-img"><div class="'+t.className_+'-imgDiv">',l)if(o.default.isArray(l)){for(var y=0,_=l.length;y<_;y++)l[y]='<img class="'+t.className_+'-docuImg" src="images/'+l[y]+'">';f+=l.join(h)}else f+='<img class="'+t.className_+'-docuImg" src="images/'+l+'">';f+="</div></td>",p.append(f),d=(0,o.default)("<td>").addClass(t.className_+"-descr"),o.default.isArray(c)?d.append(c.join("<p>")):d.append(c),p.append(d),a.append(p)}return a}(0,this.language))}},{key:"setMap",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&this.activateOnMapChange()}},{key:"setActive",value:function(t){var i=this;this.loading_?this.once("loaded",function(){return i.setActive(t)}):t?this.contentData_?r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",this).call(this,t):(this.loading_=!0,o.default.ajax(this.documentationFileName_,{dataType:"text"}).fail(function(){var t="Wasn't able to load the documentation file "+i.documentationFileName_;throw l.Debug.error(t),new Error(t)}).done(function(n){i.contentData_=n,i.createContent_(),(0,s.finishAllImages)(i.get$Element()).then(function(){i.loading_=!1,i.dispatchEvent("loaded"),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",i).call(i,t)})})):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",this).call(this,t),this.get$Element().toggleClass(h.cssClasses.active,t)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Logo=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),r=i(31);i(1163);e.Logo=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-logo",t.element=(0,n.default)("<img>").get(0),t.singleButton=!1;var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.logo_=t.hasOwnProperty("src")?t.src:"images/g4u-logo.png",i.get$Element().on("load",function(){return i.changed}).prop("src",i.logo_).addClass(i.className_),"both"!==t.mode&&"screen"!==t.mode||i.get$Element().addClass(i.className_+"-screen"),"both"!==t.mode&&"print"!==t.mode||i.get$Element().addClass(i.className_+"-print"),t.width&&i.get$Element().width(t.width),t.height&&i.get$Element().height(t.height),t.opacity&&i.get$Element().css("opacity",t.opacity.toString()),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Control),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkButton=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),r=i(31),o=i(59),a=i(13);i(1169);e.LinkButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-link-button",t.singleButton=!0,t.element=(0,n.default)("<a></a>").get(0);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));i.url_=t.hasOwnProperty("url")?t.url:"",i.setTitle(i.getTitle()||i.getLocaliser().localiseUsingDictionary("LinkButton title")),i.setTipLabel(i.getTipLabel()||i.getLocaliser().localiseUsingDictionary("LinkButton tipLabel")),i.get$Element().attr("href",i.url_).addClass(i.className_),t.hasOwnProperty("target")&&i.get$Element().attr("target",t.target);var r=(0,n.default)("<button>").addClass(a.cssClasses.mainButton).html(i.getTitle());return(0,o.addTooltip)(r,i.getTipLabel()),i.get$Element().append(r),t.hasOwnProperty("linkTarget")&&i.get$Element().attr("target",t.linkTarget),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Control),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InfoButton=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0},o=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),a=i(332),s=i(31);i(1171);var u=i(152),l=i(135),c=i(5),h=i(13);e.InfoButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-infobutton",t.element=(0,o.default)("<div>")[0];var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.classNameAttributions_=i.className_+"-attributions",i.classNameContent_=i.className_+"-content",i.getTitle()||i.setTitle(i.getLocaliser().localiseUsingDictionary("InfoPage title")),i.getTipLabel()||i.setTipLabel(i.getLocaliser().localiseUsingDictionary("InfoPage tipLabel")),i.$content_=(0,o.default)("<div>").addClass(i.classNameContent_),i.get$Element().append(i.$content_),i.attribution_=!1!==t.attribution,i.contentURL_=u.URL.extractFromConfig(t,"contentURL"),i.attribution_&&(i.$attributions_=(0,o.default)("<div>"),i.get$Element().append((0,o.default)("<h2>").html(i.getLocaliser().localiseUsingDictionary("InfoPage copyrightTitle"))).append(i.$attributions_),i.attributionControl_=new a.Attribution({target:i.get$Element()[0],localiser:i.getLocaliser(),collapsible:!1,className:i.classNameAttributions_})),i.loaded_=!1,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,c.mixin)(s.Control,l.ActivatableMixin)),n(e,[{key:"setMap",value:function(t){var i=this.getMap();i&&this.attribution_&&i.removeControl(this.attributionControl_),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(this.contentURL_&&this.contentURL_.extractParamsFromMap(t),this.attribution_&&t.addControl(this.attributionControl_),this.activateOnMapChange())}},{key:"setActive",value:function(t){var i=this;t?(this.getMap().get("localiser").isRtl()?this.get$Element().prop("dir","rtl"):this.get$Element().prop("dir",void 0),!this.loaded_&&this.contentURL_?o.default.get(this.contentURL_.finalize(),function(n){i.$content_.html(n),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",i).call(i,t),i.loaded_=!0}):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",this).call(this,t)):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",this).call(this,t),this.get$Element().toggleClass(h.cssClasses.active,t)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftableComposedControl=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(244),a=i(13);e.ShiftableComposedControl=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));i.visibleControls_=t.visibleControls,i.position_=1;var n=(0,r.default)("<div>").addClass(i.className_+"-shift");return i.get$Element().append(n.append(i.get$Container())),i.$moveLeftButton_=(0,r.default)("<button>").addClass(i.className_+"-move-left").addClass(i.classNameItem_).addClass(i.classNameItemFirst_).addClass(a.cssClasses.hidden),i.$moveLeftButton_.on("click",function(){return i.shiftControls(-(i.visibleControls_-2))}),n.prepend(i.$moveLeftButton_),i.$moveLeftButton_.addClass(a.cssClasses.hidden),i.$moveRightButton_=(0,r.default)("<button>").addClass(i.className_+"-move-right").addClass(i.classNameItem_).addClass(i.classNameItemLast_),i.$moveRightButton_.on("click",function(){return i.shiftControls(i.visibleControls_-2)}),n.append(i.$moveRightButton_),i.$moveRightButton_.addClass(a.cssClasses.hidden),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ComposedControl),n(e,[{key:"addControl",value:function(t,i){((function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addControl",this).call(this,t,i),this.controls_.length>this.visibleControls_)&&(this.get$Container().children(":last-child").addClass(a.cssClasses.hidden),(0,r.default)(this.get$Container().children()[this.visibleControls_-1]).addClass(a.cssClasses.hidden),this.$moveRightButton_.removeClass(a.cssClasses.hidden))}},{key:"shiftControls",value:function(t){t<0?this.position_>1&&(this.$moveRightButton_.hasClass(a.cssClasses.hidden)&&(this.get$Container().children(":last-child").addClass(a.cssClasses.hidden),this.$moveRightButton_.removeClass(a.cssClasses.hidden)),this.position_--,(0,r.default)(this.get$Container().children()[this.position_]).removeClass(a.cssClasses.hidden),(0,r.default)(this.get$Container().children()[this.position_+this.visibleControls_-2]).addClass(a.cssClasses.hidden),1===this.position_&&(this.get$Container().children(":first-child").removeClass(a.cssClasses.hidden),this.$moveLeftButton_.addClass(a.cssClasses.hidden)),this.shiftControls(t+1)):t>0&&this.position_+this.visibleControls_<this.controls_.length+1&&(this.$moveLeftButton_.hasClass(a.cssClasses.hidden)&&(this.get$Container().children(":first-child").addClass(a.cssClasses.hidden),this.$moveLeftButton_.removeClass(a.cssClasses.hidden)),this.position_++,(0,r.default)(this.get$Container().children()[this.position_-1]).addClass(a.cssClasses.hidden),(0,r.default)(this.get$Container().children()[this.position_+this.visibleControls_-3]).removeClass(a.cssClasses.hidden),this.position_+this.visibleControls_>=this.controls_.length&&(this.get$Container().children(":last-child").removeClass(a.cssClasses.hidden),this.$moveRightButton_.addClass(a.cssClasses.hidden)),this.shiftControls(t-1))}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MobileControls=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0},o=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),a=i(584),s=i(243);i(1173);e.MobileControls=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-mobilecontrols",t.element=(0,o.default)("<div>").get(0),t.containerClassName=t.className+"-container",t.visibleControls=t.visibleControls||6,function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.ShiftableComposedControl),n(e,[{key:"addControl",value:function(t,i){t.isWindowed()||t.isSingleButton()?r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addControl",this).call(this,t,i):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addControl",this).call(this,new s.WindowDecorator({component:t}),i)}},{key:"setMap",value:function(t){var i=this;this.getMap()&&this.getMap().un("change:mobile",this.handler_),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(this.handler_=function(){if(!t.get("mobile")){var e=!0,n=!1,r=void 0;try{for(var o,a=i.getControls().filter(function(t){return t.setWindowVisible})[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){o.value.setWindowVisible(!1)}}catch(t){n=!0,r=t}finally{try{!e&&a.return&&a.return()}finally{if(n)throw r}}}},t.on("change:mobile",this.handler_))}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageSwitcherMenu=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(330),a=i(59),s=i(31),u=i(13),l=i(24);i(1179);var c=i(72),h=i(5),f=i(135);e.LanguageSwitcherMenu=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-languageswitchermenu",t.element=(0,r.default)("<div>").get(0),t.singleButton=!1;var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));i.showLongLanguage_=t.showLongLanguage||!1,i.setTitle(i.getLocaliser().getCurrentLang()),i.$button_=(0,r.default)("<button>").addClass(i.className_+"-button").addClass(u.cssClasses.mainButton),i.showLongLanguage_&&i.$button_.addClass(i.className_+"-lang-long"),i.get$Element().append(i.$button_);i.dropdown_=new o.Dropdown({className:"g4u-dropdown"}),i.get$Element().append(i.dropdown_.get$Element());var n=i.getLocaliser().getAvailableLanguages();return n.length<2?(l.Debug.info("You do not have any languages to switch between."),l.Debug.info("Could it be that you forgot to disable languageSwitcherMenu?")):2===n.length&&(l.Debug.info("You only have 2 languages to switch between."),l.Debug.info("What about using languageSwitcherButton in place of languageSwitcherMenu?")),i.dropdown_.setEntries(n,n.map(function(t){return t.toUpperCase()+" - "+i.getLocaliser().localiseUsingDictionary(t)})),i.dropdown_.on("select",function(){return i.getLocaliser().setCurrentLang(i.dropdown_.getValue())}),i.dropdown_.on("close",function(){i.setActive(!1),(0,r.default)(i.getMap().getViewport()).focus()}),i.on("change:active",function(){return i.handleActiveChange_()}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,h.mixin)(s.Control,[c.ListenerOrganizerMixin,f.ActivatableMixin])),n(e,[{key:"setMap",value:function(t){var i=this;if(this.getMap()&&(this.detachAllListeners(),this.dropdown_.detach(),this.setActive(!1)),function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t){this.dropdown_.setFastMode(t.get("mobile")),t.on("change:mobile",function(){return i.dropdown_.setFastMode(t.get("mobile"))}),this.listenAt(this.get$Element()).on("click",function(){i.collapse_=!1,i.setActive(!i.getActive())});var n=this.getLocaliser().getCurrentLang();this.showLongLanguage_?this.$button_.html(n.toUpperCase()+" - "+this.getLocaliser().localiseUsingDictionary(n)):this.$button_.html(n.toUpperCase()),(0,a.addTooltip)(this.$button_,this.getLocaliser().localiseUsingDictionary("LanguageSwitcherMenu tipLabel")),this.activateOnMapChange()}}},{key:"handleActiveChange_",value:function(){this.dropdown_.setActivated(this.getLocaliser().getCurrentLang()),this.getActive()?this.dropdown_.slideDown():this.dropdown_.slideUp()}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageSwitcherButton=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(31),a=i(59),s=i(24);i(1179);e.LanguageSwitcherButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.element=(0,r.default)("<button>").get(0),t.singleButton=!0,t.className=t.className||"g4u-languageswitcher";var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));i.$button_=i.get$Element().addClass(i.className_+"-button");var n=i.getLocaliser().getAvailableLanguages();return n.length<2?(s.Debug.info("You do not have any languages to switch between."),s.Debug.info("Could it be that you forgot to disable languageSwitcherButton?")):n.length>2&&(s.Debug.info("You have more than 2 languages to switch between."),s.Debug.info("In this case you need to use languageSwitcherMenu.")),i.$button_.on("click",function(){var t=n[1-n.indexOf(i.getLocaliser().getCurrentLang())];i.getLocaliser().setCurrentLang(t)}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Control),n(e,[{key:"setMap",value:function(t){t&&(this.$button_.html(this.getLocaliser().getCurrentLang()),(0,a.addTooltip)(this.$button_,this.getLocaliser().localiseUsingDictionary("LanguageSwitcherButton tipLabel"))),function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t)}}]),e}()},function(t,e,i){var n,r,o;r=[i(2)],void 0===(o="function"==typeof(n=function(t){var e=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},i="notifyjs",n={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},r=["l","c","r"],o=["t","m","b"],a=["t","b","l","r"],s={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},u={},l={name:"core",html:'<div class="'+i+'-wrapper">\n\t<div class="'+i+'-arrow"></div>\n\t<div class="'+i+'-container"></div>\n</div>',css:"."+i+"-corner {\n\tposition: fixed;\n\tmargin: 5px;\n\tz-index: 1050;\n}\n\n."+i+"-corner ."+i+"-wrapper,\n."+i+"-corner ."+i+"-container {\n\tposition: relative;\n\tdisplay: block;\n\theight: inherit;\n\twidth: inherit;\n\tmargin: 3px;\n}\n\n."+i+"-wrapper {\n\tz-index: 1;\n\tposition: absolute;\n\tdisplay: inline-block;\n\theight: 0;\n\twidth: 0;\n}\n\n."+i+"-container {\n\tdisplay: none;\n\tz-index: 1;\n\tposition: absolute;\n}\n\n."+i+"-hidable {\n\tcursor: pointer;\n}\n\n[data-notify-text],[data-notify-html] {\n\tposition: relative;\n}\n\n."+i+"-arrow {\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 0;\n\theight: 0;\n}"},c={"border-radius":["-webkit-","-moz-"]},h=function(e,n){if(!e)throw"Missing Style name";if(!n)throw"Missing Style definition";if(!n.html)throw"Missing Style HTML";var r=u[e];r&&r.cssElem&&(window.console&&console.warn("notify: overwriting style '"+e+"'"),u[e].cssElem.remove()),n.name=e,u[e]=n;var o="";n.classes&&t.each(n.classes,function(e,r){return o+="."+i+"-"+n.name+"-"+e+" {\n",t.each(r,function(e,i){return c[e]&&t.each(c[e],function(t,n){return o+="\t"+n+e+": "+i+";\n"}),o+="\t"+e+": "+i+";\n"}),o+="}\n"}),n.css&&(o+="/* styles for "+n.name+" */\n"+n.css),o&&(n.cssElem=f(o),n.cssElem.attr("id","notify-"+n.name));var a={},s=t(n.html);p("html",s,a),p("text",s,a),n.fields=a},f=function(e){var i;(i=y("style")).attr("type","text/css"),t("head").append(i);try{i.html(e)}catch(t){i[0].styleSheet.cssText=e}return i},p=function(e,i,n){var r;return"html"!==e&&(e="text"),d(i,"["+(r="data-notify-"+e)+"]").each(function(){var i;(i=t(this).attr(r))||(i="notify!blank"),n[i]=e})},d=function(t,e){return t.is(e)?t:t.find(e)},g={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,breakNewLines:!0,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},v=function(e,i){var n;return(n=function(){}).prototype=e,t.extend(!0,new n,i)},y=function(e){return t("<"+e+"></"+e+">")},_={},m=function(e){var i;return e.is("[type=radio]")&&(i=e.parents("form:first").find("[type=radio]").filter(function(i,n){return t(n).attr("name")===e.attr("name")}),e=i.first()),e},b=function(t,e,i){var r;if("string"==typeof i)i=parseInt(i,10);else if("number"!=typeof i)return;if(!isNaN(i))return r=n[s[e.charAt(0)]],void 0!==t[r]&&(e=n[r.charAt(0)],i=-i),void 0===t[e]?t[e]=i:t[e]+=i,null},x=function(t,e,i){if("l"===t||"t"===t)return 0;if("c"===t||"m"===t)return i/2-e/2;if("r"===t||"b"===t)return i-e;throw"Invalid alignment"},S=function(t){return S.e=S.e||y("div"),S.e.text(t).html()};function w(e,n,r){"string"==typeof r&&(r={className:r}),this.options=v(g,t.isPlainObject(r)?r:{}),this.loadHTML(),this.wrapper=t(l.html),this.options.clickToHide&&this.wrapper.addClass(i+"-hidable"),this.wrapper.data(i,this),this.arrow=this.wrapper.find("."+i+"-arrow"),this.container=this.wrapper.find("."+i+"-container"),this.container.append(this.userContainer),e&&e.length&&(this.elementType=e.attr("type"),this.originalElement=e,this.elem=m(e),this.elem.data(i,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(n)}w.prototype.loadHTML=function(){var e;e=this.getStyle(),this.userContainer=t(e.html),this.userFields=e.fields},w.prototype.show=function(t,e){var i,n,r,o,a;if(n=function(i){return function(){if(t||i.elem||i.destroy(),e)return e()}}(this),a=this.container.parent().parents(":hidden").length>0,r=this.container.add(this.arrow),i=[],a&&t)o="show";else if(a&&!t)o="hide";else if(!a&&t)o=this.options.showAnimation,i.push(this.options.showDuration);else{if(a||t)return n();o=this.options.hideAnimation,i.push(this.options.hideDuration)}return i.push(n),r[o].apply(r,i)},w.prototype.setGlobalPosition=function(){var e=this.getPosition(),r=e[0],o=e[1],a=n[r],s=n[o],u=r+"|"+o,l=_[u];if(!l){l=_[u]=y("div");var c={};c[a]=0,"middle"===s?c.top="45%":"center"===s?c.left="45%":c[s]=0,l.css(c).addClass(i+"-corner"),t("body").append(l)}return l.prepend(this.wrapper)},w.prototype.setElementPosition=function(){var i,u,l,c,h,f,p,d,g,v,y,_,m,S,w,E,M,O,C,T,P,L,A,I,R,k,j,N;for(k=this.getPosition(),A=k[0],L=k[1],k[2],y=this.elem.position(),d=this.elem.outerHeight(),_=this.elem.outerWidth(),g=this.elem.innerHeight(),v=this.elem.innerWidth(),N=this.wrapper.position(),h=this.container.height(),f=this.container.width(),O=n[A],(p={})[P=n[T=s[A]]]="b"===A?d:"r"===A?_:0,b(p,"top",y.top-N.top),b(p,"left",y.left-N.left),S=0,E=(j=["top","left"]).length;S<E;S++)I=j[S],(C=parseInt(this.elem.css("margin-"+I),10))&&b(p,I,C);if(m=Math.max(0,this.options.gap-(this.options.arrowShow?l:0)),b(p,P,m),this.options.arrowShow){for(l=this.options.arrowSize,u=t.extend({},p),i=this.userContainer.css("border-color")||this.userContainer.css("border-top-color")||this.userContainer.css("background-color")||"white",w=0,M=a.length;w<M;w++)R=n[I=a[w]],I!==T&&(c=R===O?i:"transparent",u["border-"+R]=l+"px solid "+c);b(p,n[T],l),e.call(a,L)>=0&&b(u,n[L],2*l)}else this.arrow.hide();if(e.call(o,A)>=0?(b(p,"left",x(L,f,_)),u&&b(u,"left",x(L,l,v))):e.call(r,A)>=0&&(b(p,"top",x(L,h,d)),u&&b(u,"top",x(L,l,g))),this.container.is(":visible")&&(p.display="block"),this.container.removeAttr("style").css(p),u)return this.arrow.removeAttr("style").css(u)},w.prototype.getPosition=function(){var i,s,u,l,c,h,f,p;if(p=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),0===(i=function(e){var i;return i=[],t.each(e.split(/\W+/),function(t,e){var r;if(r=e.toLowerCase().charAt(0),n[r])return i.push(r)}),i}(p)).length&&(i[0]="b"),s=i[0],e.call(a,s)<0)throw"Must be one of ["+a+"]";return(1===i.length||(u=i[0],e.call(o,u)>=0&&(l=i[1],e.call(r,l)<0))||(c=i[0],e.call(r,c)>=0&&(h=i[1],e.call(o,h)<0)))&&(i[1]=(f=i[0],e.call(r,f)>=0?"m":"l")),2===i.length&&(i[2]=i[1]),i},w.prototype.getStyle=function(t){var e;if(t||(t=this.options.style),t||(t="default"),!(e=u[t]))throw"Missing style: "+t;return e},w.prototype.updateClasses=function(){var e,n;return e=["base"],t.isArray(this.options.className)?e=e.concat(this.options.className):this.options.className&&e.push(this.options.className),n=this.getStyle(),e=t.map(e,function(t){return i+"-"+n.name+"-"+t}).join(" "),this.userContainer.attr("class",e)},w.prototype.run=function(e,i){var n,r,o,a,s;if(t.isPlainObject(i)?t.extend(this.options,i):"string"===t.type(i)&&(this.options.className=i),!this.container||e){if(this.container||e){for(o in r={},t.isPlainObject(e)?r=e:r["notify!blank"]=e,r)n=r[o],(a=this.userFields[o])&&("text"===a&&(n=S(n),this.options.breakNewLines&&(n=n.replace(/\n/g,"<br/>"))),s="notify!blank"===o?"":"="+o,d(this.userContainer,"[data-notify-"+a+s+"]").html(n));this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide&&(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(this.show.bind(this,!1),this.options.autoHideDelay))}}else this.show(!1)},w.prototype.destroy=function(){this.wrapper.data(i,null),this.wrapper.remove()},t.notify=function(e,i,n){return e&&e.nodeName||e.jquery?t(e).notify(i,n):(n=i,new w(null,i=e,n)),e},t.fn.notify=function(e,n){return t(this).each(function(){var r=m(t(this)).data(i);r&&r.destroy(),new w(t(this),e,n)}),this},t.extend(t.notify,{defaults:function(e){return t.extend(g,e)},addStyle:h,pluginOptions:g,getStyle:function(t){return u[t]},insertCSS:f}),h("bootstrap",{html:"<div>\n<span data-notify-text></span>\n</div>",classes:{base:{"font-weight":"bold",padding:"8px 15px 8px 14px","text-shadow":"0 1px 0 rgba(255, 255, 255, 0.5)","background-color":"#fcf8e3",border:"1px solid #fbeed5","border-radius":"4px","white-space":"nowrap","padding-left":"25px","background-repeat":"no-repeat","background-position":"3px 7px"},error:{color:"#B94A48","background-color":"#F2DEDE","border-color":"#EED3D7","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=)"},success:{color:"#468847","background-color":"#DFF0D8","border-color":"#D6E9C6","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==)"},info:{color:"#3A87AD","background-color":"#D9EDF7","border-color":"#BCE8F1","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=)"},warn:{color:"#C09853","background-color":"#FCF8E3","border-color":"#FBEED5","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC)"}}}),t(function(){f(l.css).attr("id","core-notify"),t(document).on("click","."+i+"-hidable",function(e){t(this).trigger("notify-hide")}),t(document).on("notify-hide","."+i+"-wrapper",function(e){var n=t(this).data(i);n&&n.show(!1)})})})?n.apply(e,r):n)||(t.exports=o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageDisplay=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();i(1189),i(588);var r=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(5);var a=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("MessageDisplay needs an object to be associated to!");this.$element_=e,r.default.notify.getStyle("benndorf")||r.default.notify.addStyle("benndorf",{html:'<div><div class="text" data-notify-text /></div></div>',classes:{error:{color:"#b94a48","background-color":"#f2dede","border-color":"#b94a48"},success:{color:"#468847","background-color":"#dff0d8","border-color":"#468847"},info:{color:"#3a87a","background-color":"#d9edf7","border-color":"#3a87ad"},warn:{color:"#c09853","background-color":"#fcf8e3","border-color":"#c09853"}}}),this.defaults_=i,this.autoHideTimer_=null,i.hasOwnProperty("arrowShow")||(this.defaults_.arrowShow=!0),i.hasOwnProperty("arrowSize")||(this.defaults_.arrowSize=5),i.hasOwnProperty("autoHide")||(this.defaults_.autoHide=!0),i.hasOwnProperty("autoHideDelay")||(this.defaults_.autoHideDelay=15e3),i.hasOwnProperty("className")||(this.defaults_.className="error"),i.hasOwnProperty("position")||(this.defaults_.position="bottom left"),i.hasOwnProperty("gap")||(this.defaults_.gap=2),i.hasOwnProperty("hideAnimation")||(this.defaults_.hideAnimation="slideUp"),i.hasOwnProperty("hideDuration")||(this.defaults_.hideDuration=200),i.hasOwnProperty("showAnimation")||(this.defaults_.showAnimation="slideDown"),i.hasOwnProperty("showDuration")||(this.defaults_.showDuration=400),i.hasOwnProperty("style")||(this.defaults_.style="benndorf")}return n(t,[{key:"message",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.defaults_;i.hasOwnProperty("autoHide")&&(n.autoHide=i.autoHide),i.hasOwnProperty("autoHideDelay")&&(n.autoHideDelay=i.autoHideDelay),i.hasOwnProperty("className")&&(n.className=i.className),i.hasOwnProperty("position")&&(n.position=i.position),this.$element_.notify((0,o.html2Text)(t),n),(0,r.default)(".notifyjs-wrapper").click(function(){e.hide()})}},{key:"error",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="error",this.message(t,e)}},{key:"info",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="info",this.message(t,e)}},{key:"success",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="success",this.message(t,e)}},{key:"warn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="warn",this.message(t,e)}},{key:"hide",value:function(){(0,r.default)(".notifyjs-wrapper").trigger("notify-hide"),window.clearTimeout(this.autoHideTimer_)}}]),t}();e.MessageDisplay=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=f(i(590)),r=i(22),o=f(r),a=i(3),s=f(i(4)),u=i(53),l=i(68),c=i(14),h=i(6);function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(e){t.call(this);var i=e||{};this.position_=null,this.transform_=h.identityTransform,this.watchId_=void 0,(0,a.listen)(this,(0,r.getChangeEventType)(n.default.PROJECTION),this.handleProjectionChanged_,this),(0,a.listen)(this,(0,r.getChangeEventType)(n.default.TRACKING),this.handleTrackingChanged_,this),void 0!==i.projection&&this.setProjection(i.projection),void 0!==i.trackingOptions&&this.setTrackingOptions(i.trackingOptions),this.setTracking(void 0!==i.tracking&&i.tracking)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setTracking(!1),t.prototype.disposeInternal.call(this)},e.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=(0,h.getTransformFromProjections)((0,h.get)("EPSG:4326"),t),this.position_&&this.set(n.default.POSITION,this.transform_(this.position_)))},e.prototype.handleTrackingChanged_=function(){if(l.GEOLOCATION){var t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},e.prototype.positionChange_=function(t){var e=t.coords;this.set(n.default.ACCURACY,e.accuracy),this.set(n.default.ALTITUDE,null===e.altitude?void 0:e.altitude),this.set(n.default.ALTITUDE_ACCURACY,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(n.default.HEADING,null===e.heading?void 0:(0,c.toRadians)(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var i=this.transform_(this.position_);this.set(n.default.POSITION,i),this.set(n.default.SPEED,null===e.speed?void 0:e.speed);var r=(0,u.circular)(this.position_,e.accuracy);r.applyTransform(this.transform_),this.set(n.default.ACCURACY_GEOMETRY,r),this.changed()},e.prototype.positionError_=function(t){t.type=s.default.ERROR,this.setTracking(!1),this.dispatchEvent(t)},e.prototype.getAccuracy=function(){return this.get(n.default.ACCURACY)},e.prototype.getAccuracyGeometry=function(){return this.get(n.default.ACCURACY_GEOMETRY)||null},e.prototype.getAltitude=function(){return this.get(n.default.ALTITUDE)},e.prototype.getAltitudeAccuracy=function(){return this.get(n.default.ALTITUDE_ACCURACY)},e.prototype.getHeading=function(){return this.get(n.default.HEADING)},e.prototype.getPosition=function(){return this.get(n.default.POSITION)},e.prototype.getProjection=function(){return this.get(n.default.PROJECTION)},e.prototype.getSpeed=function(){return this.get(n.default.SPEED)},e.prototype.getTracking=function(){return this.get(n.default.TRACKING)},e.prototype.getTrackingOptions=function(){return this.get(n.default.TRACKING_OPTIONS)},e.prototype.setProjection=function(t){this.set(n.default.PROJECTION,(0,h.get)(t))},e.prototype.setTracking=function(t){this.set(n.default.TRACKING,t)},e.prototype.setTrackingOptions=function(t){this.set(n.default.TRACKING_OPTIONS,t)},e}(o.default);e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeolocationButton=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=_(i(2)),o=_(i(64)),a=_(i(591)),s=_(i(36)),u=_(i(44)),l=i(31),c=i(59),h=i(137),f=i(589),p=i(13);i(1187);var d=i(135),g=i(72),v=i(5),y=i(68);function _(t){return t&&t.__esModule?t:{default:t}}e.GeolocationButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-geolocation",t.singleButton=!0,t.element=(0,r.default)("<button>").get(0);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));i.classNamePushed_=i.className_+"-pushed",i.animated_=t.animated,i.style_=t.style||"#defaultStyle",i.maxZoom_=t.maxZoom,i.setTitle(i.getTitle()||i.getLocaliser().localiseUsingDictionary("GeolocationButton title")),i.setTipLabel(i.getTipLabel()||i.getLocaliser().localiseUsingDictionary("GeolocationButton tipLabel")),i.get$Element().addClass(i.className_).addClass(p.cssClasses.mainButton).html(i.getTitle()),(0,c.addTooltip)(i.get$Element(),i.getTipLabel()),i.buttonMessageDisplay_=new f.MessageDisplay(i.get$Element()),i.get$Element().on("click touch",function(){y.GEOLOCATION?i.setActive(!i.getActive()):i.buttonMessageDisplay_.error(i.getLocaliser().localiseUsingDictionary("geolocation geolocation-not-possible"),i.getMap().get("mobile")?{position:"top middle"}:{})}),i.layer_=null;var n={tracking:!1};return t.hasOwnProperty("trackingOptions")&&(n.trackingOptions=t.trackingOptions),t.hasOwnProperty("projection")&&(n.projection=t.projection),i.followLocation_=t.followLocation||!1,i.geolocation_=new a.default(n),i.geolocation_.on("error",function(){i.buttonMessageDisplay_.error(i.getLocaliser().localiseUsingDictionary("geolocation geolocation-not-possible"),i.getMap().get("mobile")?{position:"top middle"}:{}),i.setActive(!1)}),i.on("change:active",function(t){return i.activeChangeHandler_(t)}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,v.mixin)(l.Control,[d.ActivatableMixin,g.ListenerOrganizerMixin])),n(e,[{key:"setMap",value:function(t){if(this.getMap()&&this.getMap().getLayers().remove(this.layer_),function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t){var i=t.getView().getProjection();this.geolocation_.setProjection(i);var n={source:new u.default({projection:i}),visible:!0};this.layer_=new h.VectorLayer(n),this.layer_.setStyle(t.get("styling").getStyle(this.style_)),t.get("styling").manageLayer(this.layer_),t.getLayers().insertAt(1,this.layer_),this.activateOnMapChange()}}},{key:"changeHandler_",value:function(t){var e=this.layer_.getSource();e.clear();var i=this.geolocation_.getPosition();e.addFeature(new o.default({geometry:new s.default(i)}));var n=this.geolocation_.getAccuracyGeometry();e.addFeature(new o.default({geometry:n})),t.hasOwnProperty("initialRun")&&t.initialRun?this.getMap().get("move").toExtent(n.getExtent(),{animated:this.animated_,maxZoom:this.maxZoom_}):this.animated_?this.getMap().getView().animate({center:i}):this.getMap().getView().setCenter(i),t.hasOwnProperty("stopTracking")&&this.geolocation_.setTracking(!t.stopTracking)}},{key:"activeChangeHandler_",value:function(){var t=this,e=this.getActive();(this.get$Element().toggleClass(this.classNamePushed_,e),e)?(this.geolocation_.setTracking(!0),this.geolocation_.getPosition()?(this.changeHandler_({stopTracking:!this.followLocation_,initialRun:!0}),this.followLocation_&&this.listenAt(this.geolocation_).on("change",function(e){return t.changeHandler_(e)})):this.listenAt(this.geolocation_).once("change",function(){t.changeHandler_({stopTracking:!t.followLocation_,initialRun:!0}),t.followLocation_&&t.listenAt(t.geolocation_).on("change",function(e){return t.changeHandler_(e)})})):(this.layer_.getSource().clear(),this.detachFrom(this.geolocation_,"change"),this.geolocation_.setTracking(!1))}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.render=v;var n=p(i(46)),r=p(i(99)),o=i(84),a=i(86),s=i(3),u=i(32),l=p(i(4)),c=i(14),h=p(i(296)),f=p(i(485));function p(t){return t&&t.__esModule?t:{default:t}}var d={VERTICAL:0,HORIZONTAL:1},g=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||v}),this.currentResolution_=void 0,this.direction_=d.VERTICAL,this.dragging_,this.heightLimit_=0,this.widthLimit_=0,this.previousX_,this.previousY_,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=void 0!==i.duration?i.duration:200;var n=void 0!==i.className?i.className:"ol-zoomslider",r=document.createElement("button");r.setAttribute("type","button"),r.className=n+"-thumb "+o.CLASS_UNSELECTABLE;var a=this.element;a.className=n+" "+o.CLASS_UNSELECTABLE+" "+o.CLASS_CONTROL,a.appendChild(r),this.dragger_=new f.default(a),(0,s.listen)(this.dragger_,h.default.POINTERDOWN,this.handleDraggerStart_,this),(0,s.listen)(this.dragger_,h.default.POINTERMOVE,this.handleDraggerDrag_,this),(0,s.listen)(this.dragger_,h.default.POINTERUP,this.handleDraggerEnd_,this),(0,s.listen)(a,l.default.CLICK,this.handleContainerClick_,this),(0,s.listen)(r,l.default.CLICK,u.stopPropagation)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.dragger_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&e.render()},e.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,i=t.offsetHeight,n=t.firstElementChild,r=getComputedStyle(n),o=n.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),a=n.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom);this.thumbSize_=[o,a],e>i?(this.direction_=d.HORIZONTAL,this.widthLimit_=e-o):(this.direction_=d.VERTICAL,this.heightLimit_=i-a),this.sliderInitialized_=!0},e.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),i=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),n=this.getResolutionForPosition_(i);e.animate({resolution:e.constrainResolution(n),duration:this.duration_,easing:a.easeOut})},e.prototype.handleDraggerStart_=function(t){this.dragging_||t.originalEvent.target!==this.element.firstElementChild||(this.getMap().getView().setHint(n.default.INTERACTING,1),this.previousX_=t.clientX,this.previousY_=t.clientY,this.dragging_=!0)},e.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=this.element.firstElementChild,i=t.clientX-this.previousX_+parseInt(e.style.left,10),n=t.clientY-this.previousY_+parseInt(e.style.top,10),r=this.getRelativePosition_(i,n);this.currentResolution_=this.getResolutionForPosition_(r),this.getMap().getView().setResolution(this.currentResolution_),this.setThumbPosition_(this.currentResolution_),this.previousX_=t.clientX,this.previousY_=t.clientY}},e.prototype.handleDraggerEnd_=function(t){if(this.dragging_){var e=this.getMap().getView();e.setHint(n.default.INTERACTING,-1),e.animate({resolution:e.constrainResolution(this.currentResolution_),duration:this.duration_,easing:a.easeOut}),this.dragging_=!1,this.previousX_=void 0,this.previousY_=void 0}},e.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),i=this.element.firstElementChild;this.direction_==d.HORIZONTAL?i.style.left=this.widthLimit_*e+"px":i.style.top=this.heightLimit_*e+"px"},e.prototype.getRelativePosition_=function(t,e){var i;return i=this.direction_===d.HORIZONTAL?t/this.widthLimit_:e/this.heightLimit_,(0,c.clamp)(i,0,1)},e.prototype.getResolutionForPosition_=function(t){return this.getMap().getView().getResolutionForValueFunction()(1-t)},e.prototype.getPositionForResolution_=function(t){return 1-this.getMap().getView().getValueForResolutionFunction()(t)},e}(r.default);function v(t){if(t.frameState){this.sliderInitialized_||this.initSlider_();var e=t.frameState.viewState.resolution;e!==this.currentResolution_&&(this.currentResolution_=e,this.setThumbPosition_(e))}}e.default=g},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoomSlider=e.Zoom=e.CombinedZoom=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0},o=p(i(2)),a=p(i(471)),s=p(i(593)),u=i(244),l=i(13),c=i(73);i(1191);var h=i(5),f=i(178);function p(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.CombinedZoom=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,e),t.element=(0,o.default)("<div>").get(0),t.className=t.className||"g4u-zoom",t.singleButton=!1;var i=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return delete t.element,i.hasButtons_=t.buttons||!t.hasOwnProperty("buttons"),i.hasSlider_=t.slider||!t.hasOwnProperty("slider"),i.hasButtons_&&(i.zoomButtonOptions=(0,c.copy)(t),i.zoomButtonOptions.importance=t.buttonImportance||t.importance,i.zoomButtonOptions.zoomInTipLabel=t.hasOwnProperty("zoomInTipLabel")?i.getLocaliser().selectL10N(t.zoomInTipLabel):i.getLocaliser().localiseUsingDictionary("Zoom zoomInTipLabel"),i.zoomButtonOptions.zoomOutTipLabel=t.hasOwnProperty("zoomOutTipLabel")?i.getLocaliser().selectL10N(t.zoomOutTipLabel):i.getLocaliser().localiseUsingDictionary("Zoom zoomOutTipLabel")),i.hasSlider_&&(i.zoomSliderOptions=(0,c.copy)(t),i.zoomSliderOptions.importance=t.sliderImportance,i.zoomSliderOptions.className="g4u-zoomslider"),i}return v(e,u.ComposedControl),n(e,[{key:"setMap",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(this.hasSlider_&&this.addZoomSlider(),this.hasButtons_&&this.addZoomButtons())}},{key:"addZoomButtons",value:function(){this.zoomButtons_=new y(this.zoomButtonOptions),this.addControl(this.zoomButtons_,{wrap:!1});var t=this.zoomButtons_.get$Element().children(".g4u-zoom-in"),e=this.zoomButtons_.get$Element().children(".g4u-zoom-out");this.get$Container().prepend(t),this.get$Container().append(e),this.zoomButtons_.get$Element().remove()}},{key:"addZoomSlider",value:function(){this.zoomSlider_=new _(this.zoomSliderOptions),this.addControl(this.zoomSlider_,{wrap:!1});var t=this.zoomSlider_.get$Element();t.on("mousedown",function(){t.addClass(l.cssClasses.mousedown)}),t.on("mouseup",function(){t.removeClass(l.cssClasses.mousedown)});var e=this.get$Container().filter(".g4u-zoom-in");e.length?t.insertAfter(e):this.get$Container().append(t)}}]),e}();var y=e.Zoom=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(this,e),t.className=t.hasOwnProperty("className")?t.className:"g4u-zoom",t.zoomInTipLabel=t.hasOwnProperty("zoomInTipLabel")?t.localiser.selectL10N(t.zoomInTipLabel):t.localiser.localiseUsingDictionary("Zoom zoomInTipLabel"),t.zoomOutTipLabel=t.hasOwnProperty("zoomOutTipLabel")?t.localiser.selectL10N(t.zoomOutTipLabel):t.localiser.localiseUsingDictionary("Zoom zoomOutTipLabel"),g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return v(e,(0,h.mixin)(a.default,f.RewireMixin)),e}(),_=e.ZoomSlider=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(this,e),t.className=t.hasOwnProperty("className")?t.className:"g4u-zoomslider",g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return v(e,(0,h.mixin)(s.default,f.RewireMixin)),n(e,[{key:"rewire",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rewire",this).call(this),this.get$Element().on("mousedown",function(){(0,o.default)(this).addClass(l.cssClasses.mousedown)}),this.get$Element().on("mouseup",function(){(0,o.default)(this).removeClass(l.cssClasses.mousedown)})}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrowButtons=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(i(2)),o=i(73),a=i(31),s=i(59);i(1198);var u=i(67);e.ArrowButtons=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-arrowbuttons",t.element=(0,r.default)('<div class="ol-unselectable ol-control"></div>')[0],t.singleButton=!1;var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n={left:i.getLocaliser().localiseUsingDictionary("ArrowButtons leftward"),right:i.getLocaliser().localiseUsingDictionary("ArrowButtons rightward"),up:i.getLocaliser().localiseUsingDictionary("ArrowButtons upward"),down:i.getLocaliser().localiseUsingDictionary("ArrowButtons downward"),center:i.getLocaliser().localiseUsingDictionary("ArrowButtons centerward")};i.pixelDelta_=t.pixelDelta||128,i.initExtent_=t.initExtent||void 0,i.animationDuration_=t.animationDuration||100,i.animated_=t.animated||!0,i.directions_=["center","left","up","right","down"],i.vectors_={left:[-1,0],up:[0,1],right:[1,0],down:[0,-1]},i.labels_=(0,o.merge)(t.labels||{},{left:"&#9665;",up:"&#9651;",right:"&#9655;",down:"&#9661;",center:"&#9675;"});var a=function(t){var e=(0,r.default)("<button>").addClass(i.className_+"-"+t).html(i.labels_[t]);(0,s.addTooltip)(e,n[t]),e.on("click",function(){i.onClick_(t),e.blur()}),i.get$Element().append(e)},u=!0,l=!1,c=void 0;try{for(var h,f=i.directions_[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){a(h.value)}}catch(t){l=!0,c=t}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}return i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Control),n(e,[{key:"setMap",value:function(t){(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(this.initExtent_||(this.initExtent_=t.getView().calculateExtent(t.getSize())))}},{key:"onClick_",value:function(t){var e=this.getMap(),i=e.getView();if("center"===t)e.get("move").toExtent(this.initExtent_,{animated:this.animated_});else{var n=i.getResolution(),o=i.getRotation(),a=this.vectors_[t],s=[a[0]*n*this.pixelDelta_,a[1]*n*this.pixelDelta_];(0,u.rotate)(s,o);var l=i.getCenter(),c=i.constrainCenter([l[0]+s[0],l[1]+s[1]]);this.animated_?i.animate({center:c,duration:this.animationDuration_}):i.setCenter(c)}(0,r.default)(e.getViewport()).focus()}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ControlFactory=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(i(224)),o=i(6),a=i(332),s=i(244),u=i(595),l=i(594),c=i(336),h=i(592),f=i(331),p=i(587),d=i(586),g=i(585),v=i(583),y=i(582),_=i(329),m=i(581),b=i(580),x=i(243),S=i(5),w=i(73),E=i(298),M=i(24),O=i(579),C=i(578),T=i(576),P=i(574),L=i(572);e.ControlFactory=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.localiser_=e.localiser,this.map_=e.map,this.activeGroups_=new Map}return n(t,[{key:"getPositioning",value:function(){return this.map_.get("controlPositioning")}},{key:"createControl",value:function(t,e){switch(t){case"mousePosition":return e.projection=e.projection||this.map_.get("interfaceProjection"),new C.MousePosition(e);case"attribution":return new a.Attribution(e);case"zoom":return new l.CombinedZoom(e);case"scaleLine":return new T.ScaleLine(e);case"logo":return new m.Logo(e);case"linkButton":return new y.LinkButton(e);case"mobileControls":return new g.MobileControls(e);case"overviewMap":var i=e.projection||this.map_.get("mapProjection");return e.view=new r.default({projection:i}),new P.OverviewMap(e);case"infoButton":return new x.WindowDecorator({component:new v.InfoButton(e)});case"arrowButtons":var n=this.map_.get("mapConfig");return n.view&&(n.view.center&&(e.initCenter=(0,o.transform)(n.view.center,this.map_.get("interfaceProjection"),this.map_.get("mapProjection"))),n.view.zoom&&(e.initZoom=n.view.zoom)),new u.ArrowButtons(e);case"layerSelector":return new c.LayerSelector(e);case"geolocationButton":return new h.GeolocationButton(e);case"languageSwitcherButton":return new p.LanguageSwitcherButton(e);case"languageSwitcherMenu":return new d.LanguageSwitcherMenu(e);case"printButton":return new _.PrintButton(e);case"distanceMeasurementButton":return e.className=e.className||"g4u-distance-measurement",e.type="LineString",e.dimension=1,new x.WindowDecorator({component:new f.MeasurementButton(e)});case"areaMeasurementButton":return e.className=e.className||"g4u-area-measurement",e.type="Polygon",e.dimension=2,new x.WindowDecorator({component:new f.MeasurementButton(e)});case"helpButton":return e.configControls=this.map_.get("mapConfig").controls,new x.WindowDecorator({component:new b.HelpButton(e)});case"toolbox":return e.className=e.className||"g4u-toolbox",new s.ComposedControl(e);case"layerMenu":return e.className=e.className||"g4u-layermenu",new s.ComposedControl(e);case"singleDrawButton":return new L.SingleDrawButton(e)}}},{key:"addControlTo",value:function(t,e){var i=(0,w.copyDeep)((0,S.asObject)(this.controlsConfig[e])),n=i.controlType||e;i.controlName=e,i.localiser=this.localiser_,!i.hasOwnProperty("importance")&&t.getImportance&&(i.importance=t.getImportance());for(var r=this.createControl(n,i,t),o=this.map_.getModules(),a=0,s=o.length;a<s&&void 0===r;a++)r=o[a].createControl(n,i,t);if(r)i.activeGroup&&(this.activeGroups_.has(i.activeGroup)||this.activeGroups_.set(i.activeGroup,new O.ActiveGroup),this.activeGroups_.get(i.activeGroup).addControl(r)),this.map_.controlsByName[e]?this.map_.controlsByName[e].push(r):this.map_.controlsByName[e]=[r],t.addControl(r),i.contains&&this.addControlMultipleInternal_(r,i.contains),r.rewire&&r.rewire(),t instanceof E.G4UMap&&this.getPositioning().addControl(r);else if(void 0===r)throw new Error("Unrecognized control type "+n+", maybe you did forget to set the property type of the control?")}},{key:"addControlMultipleInternal_",value:function(t,e){var i=this;e.forEach(function(e){M.Debug.tryOrThrow(function(){i.addControlTo(t,e)})})}},{key:"addControls",value:function(){this.controlsConfig=this.map_.get("mapConfig").controls,(0,S.checkFor)(this.controlsConfig,"onMap")&&this.addControlMultipleInternal_(this.map_,this.controlsConfig.onMap)}},{key:"setLocaliser",value:function(t){this.localiser_=t}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Shield=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=u(i(2)),o=u(i(22)),a=i(13),s=i(59);function u(t){return t&&t.__esModule?t:{default:t}}i(1209);e.Shield=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.className_=t.className||"g4u-shield",i.map_=t.map,i.$context_=(0,r.default)(i.map_.getTarget()),i.$element_=(0,r.default)("<div>").addClass(i.className_),i.$context_.append(i.$element_),i.setActive(!!t.hasOwnProperty("active")&&t.active),i.$element_.on("keydown",function(t){t.which===a.keyCodes.ESCAPE&&i.getActive()&&i.setActive(!1)}),i.elementsOnTop_=new Map,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),n(e,[{key:"setActive",value:function(t){var e=this.active_;e!==t&&(t?(this.$element_.removeClass(a.cssClasses.hidden),(0,s.getInFront)(this.$element_,this.$context_)):this.$element_.addClass(a.cssClasses.hidden),this.active_=t,this.dispatchEvent({type:"change:active",oldValue:e,key:"active"}))}},{key:"getActive",value:function(){return this.active_}},{key:"add$OnTop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t;if(!e.hasOwnProperty("findParentWindow")||e.findParentWindow){var n=t.parents().filter(".g4u-window");n.length>0&&(i=n)}var r=i.parent();this.elementsOnTop_.set(t[0],{$actualElement:i,$oldParent:r,oldIndex:r.children().index(i)}),this.$element_.append(i),(0,s.getInFront)(i,this.$element_);var o=!0,a=!1,u=void 0;try{for(var l,c=Array.from(r[0].classList)[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var h=l.value;this.$element_.addClass(h)}}catch(t){a=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(a)throw u}}}},{key:"remove$OnTop",value:function(t){var e=t[0],i=this.elementsOnTop_.get(e),n=i.$actualElement,r=i.$oldParent,o=i.oldIndex;0===o?r.prepend(n):r.children().eq(o-1).after(n);var a=!0,s=!1,u=void 0;try{for(var l,c=Array.from(r[0].classList)[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var h=l.value;this.$element_.removeClass(h)}}catch(t){s=!0,u=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}this.elementsOnTop_.delete(e)}},{key:"get$ElementsInFront",value:function(){return this.$element_.children()}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureTooltip=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=l(i(2)),o=i(1),a=l(i(245)),s=i(13);i(1211);var u=i(5);function l(t){return t&&t.__esModule?t:{default:t}}function c(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}e.FeatureTooltip=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.className_=e.hasOwnProperty("className")?e.className:"g4u-featuretooltip",this.$element_=(0,r.default)("<span></span>").addClass(this.className_).addClass(s.cssClasses.hidden),this.overlay_=new a.default({element:this.$element_.get(0),offset:e.hasOwnProperty("offset")?e.offset:[0,0],positioning:e.hasOwnProperty("positioning")?e.positioning:"center-center",stopEvent:!1}),this.defaultPopupModifiers_=e.popupModifier||[],this.feature_=null,this.$element_.parent().addClass(this.className_+"-container")}return n(t,[{key:"setMap",value:function(e){var i=this;(this.getMap()&&this.getMap().removeOverlay(this.overlay_),e)&&(e.addOverlay(this.overlay_),e.getDefaultInteractions("pointermove")[0].on("interaction",function(e){var n=e.interacted.filter(function(e){var i=e.feature;return t.canDisplay(i)});if(n.length){var r=n[0].feature;r.get("features")&&(r=r.get("features")[0]),i.setFeature(r,e.coordinate)}else i.setFeature(null)}),this.map_=e)}},{key:"getFeature",value:function(){return this.feature_}},{key:"setFeature",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(t){var r=[].concat(c(this.defaultPopupModifiers_),c(n));if(this.getMap().get("popupModifiers").apply({name:t.get("name"),description:t.get("description")},r).then(function(t){t.name&&(e.$element_.html((0,u.html2Text)(t.name)),e.$element_.removeClass(s.cssClasses.hidden))}),!i){var a=t.getGeometry();i=(0,o.getCenter)(a.getExtent())}this.overlay_.setPosition(i)}else this.$element_.addClass(s.cssClasses.hidden);this.feature_=t}},{key:"getMap",value:function(){return this.map_}}],[{key:"canDisplay",value:function(t){return t.get("features")&&1===t.get("features").length&&(t=t.get("features")[0]),!t.get("disabled")&&!t.get("tooltip.disabled")&&t.get("name")}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Move=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(1),o=i(53),a=i(6),s=function(t){return t&&t.__esModule?t:{default:t}}(i(224));e.Move=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map_=e.map,this.pixelPadding_=void 0!==e.meterMinSize?50:e.pixelPadding,this.meterMinSize_=void 0!==e.meterMinSize?e.meterMinSize:500,this.animationDuration_=e.animationDuration||2e3,this.animations_=void 0===e.animations||e.animations,this.bouncing_=!1!==e.bouncing}return n(t,[{key:"setAnimations",value:function(t){this.animations_=t}},{key:"getAnimations",value:function(){return this.animations_}},{key:"toPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new s.default({projection:this.map_.getView().getProjection(),center:t,resolution:this.map_.getView().getResolution()}).calculateExtent(this.map_.getSize().map(function(t){return t-2}));e.padding=[0,0,0,0],this.toExtent(i,e)}},{key:"toExtent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t;this.meterMinSize_&&(i=this.bufferUpToMinSize_(t)),(void 0===e.animated?this.animations_:e.animated)?this.animationZoomToExtent_(i,e):this.fit_(i,e)}},{key:"zoomToPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.toExtent((0,r.boundingExtent)([t]),e)}},{key:"bufferUpToMinSize_",value:function(t){var e=(0,a.transformExtent)(t,this.map_.getView().getProjection(),"EPSG:3857"),i=Math.min((0,r.getWidth)(e),(0,r.getHeight)(e));return i<this.meterMinSize_?(e=(0,r.buffer)(e,this.meterMinSize_-i/2),(0,a.transformExtent)(e,"EPSG:3857",this.map_.getView().getProjection())):t}},{key:"fit_",value:function(t,e){"default"===e.padding&&(e.padding=[this.pixelPadding_,this.pixelPadding_,this.pixelPadding_,this.pixelPadding_]),this.map_.getView().fit((0,o.fromExtent)(t),this.map_.getSize(),e)}},{key:"animationZoomToExtent_",value:function(t,e){var i=this,n=this.map_,o=n.getView(),a=n.getSize(),s=o.calculateExtent(a),u=(0,r.extend)(s.slice(0),t);if(this.bouncing_&&!(0,r.intersects)(s,t)){var l=Object.assign({duration:this.animationDuration_/2},e);o.fit(u,l),setTimeout(function(){var n=Object.assign({duration:i.animationDuration_/2},e);o.fit(t,n)},this.animationDuration_/2)}else{var c=Object.assign({duration:this.animationDuration_/2},e);o.fit(t,c)}}},{key:"earlyFastRiseEasing_",value:function(t){return Math.sqrt(2*t-Math.pow(t,2))}},{key:"lateFastRiseEasing_",value:function(t){return 1-Math.sqrt(1-Math.pow(t,2))}},{key:"earlyFastRiseEasing2_",value:function(t){return 1-Math.pow(t-1,2)}},{key:"lateFastRiseEasing2_",value:function(t){return Math.pow(t,2)}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Positioning=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=l(i(2)),o=l(i(355)),a=i(13),s=i(5),u=i(72);function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function h(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}e.Positioning=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.$viewport_=(0,r.default)(t.viewport),i.padding_=t.padding||5,i.spacing_=t.spacing||10,i.hidden$Elements_=[],i.init(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,s.mixinAsClass)(u.ListenerOrganizerMixin)),n(e,[{key:"init",value:function(){this.detachAllListeners(),this.all_=[],this.corners_={left:{top:{counterclockwise:[],clockwise:[]},bottom:{counterclockwise:[],clockwise:[]}},right:{top:{counterclockwise:[],clockwise:[]},bottom:{counterclockwise:[],clockwise:[]}}},this.order_=0}},{key:"getArray_",value:function(t){var e=void 0,i=void 0,n=void 0;switch(t[0]){case"top":i="top","left"===(e=t[1])?n="clockwise":"right"===e&&(n="counterclockwise");break;case"right":e="right","top"===(i=t[1])?n="clockwise":"bottom"===i&&(n="counterclockwise");break;case"bottom":i="bottom",n="left"===(e=t[1])?"counterclockwise":"clockwise";break;case"left":e="left",n="top"===(i=t[1])?"counterclockwise":"clockwise"}return this.corners_[e][i][n]}},{key:"addControl",value:function(t,e){var i=this;if(t.get$Element().parents().hasClass("ol-viewport")&&(!e||!e.control.isWindowed())){var n={control:t,order:this.order_++,importance:t.getImportance()};if(t.on("change:visible",function(e){var n=i.hidden$Elements_.indexOf(t.get$Element());e.oldValue&&n>-1&&i.hidden$Elements_.splice(n,1),i.positionElements()}),this.listenAt(t).on("change:size",function(){i.positionElements()}),e)e.control.isWindowed()||(n.importance=t.getImportance(),e.hideableChildren.push(n),this.all_.push(n));else{if(n.float=n.control.getFloat()||["top","left"],"fixed"===n.float)return;if(this.getArray_(n.float).push(n),this.all_.push(n),n.control.getControls){n.hideableChildren=[];var r=!0,o=!1,a=void 0;try{for(var s,u=n.control.getControls()[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var l=s.value;this.addControl(l,n)}}catch(t){o=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}}}}}},{key:"getCorner_",value:function(t,i){for(var n=0,r=0,o=this.corners_[t][i].clockwise[n++],a=this.corners_[t][i].counterclockwise[r++];o&&!e.isElemVisible_(o);)o=this.corners_[t][i].clockwise[n++];for(;a&&!e.isElemVisible_(a);)a=this.corners_[t][i].counterclockwise[r++];if(o||a)return o?a?o.order<a.order?o:a:o:a}},{key:"getEdge_",value:function(t){var i=void 0,n=void 0,r=void 0,a=void 0;"top"===t?(i="left",n="right",r=a="top"):"right"===t?(i=n="right",r="top",a="bottom"):"bottom"===t?(i="right",n="left",r=a="bottom"):"left"===t&&(i=n="left",r="bottom",a="top");var s=this.corners_[i][r].clockwise.filter(e.isElemVisible_),u=this.corners_[n][a].counterclockwise.filter(e.isElemVisible_),l=[],c=this.getCorner_(i,r);return c&&l.push(c),l.push.apply(l,h(s)),l.push.apply(l,h(u)),(c=this.getCorner_(n,a))&&l.push(c),(0,o.default)(l)}},{key:"beforePositioning_",value:function(){var t=this,i=new Set(this.all_);this.hidden$Elements_.forEach(function(t){return t.removeClass(a.cssClasses.hidden)}),this.hidden$Elements_=[];var n=function n(r){if(e.isElemVisible_(r)){if(r.control.beforePositioning&&r.control.beforePositioning(),r.hideableChildren){var o=!0,a=!1,s=void 0;try{for(var u,l=r.hideableChildren[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){n(u.value)}}catch(t){a=!0,s=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw s}}}r.control.get$Element().position({top:0,left:0}),r.control.release&&(r.control.release("height"),r.control.release("width")),r.size=t.measureExpandedElement_(r)}i.delete(r)},r=!0,o=!1,s=void 0;try{for(var u,l=i[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){n(u.value)}}catch(t){o=!0,s=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw s}}}},{key:"afterPositioning_",value:function(){var t=new Set(this.all_),e=function e(i){if(i.control.afterPositioning&&i.control.afterPositioning(),i.hideableChildren){var n=!0,r=!1,o=void 0;try{for(var a,s=i.hideableChildren[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){e(a.value)}}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}}t.delete(i)},i=!0,n=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){e(o.value)}}catch(t){n=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(n)throw r}}}},{key:"calculateLength_",value:function(t,e){if(0===t.length)return 0;var i=2*this.padding_,n=!0,r=!0,o=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){i+=s.value.size[e],n?n=!1:i+=this.spacing_}}catch(t){o=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return i}},{key:"calculateSide_",value:function(t,e){for(var i="top"===t||"bottom"===t?"width":"height",n=this.getEdge_(t),r=this.calculateLength_(n,i),o=!1;r>e&&!this.squeezeElements_(n,i,r-e);)this.hideLeastImportant_(n),n=this.getEdge_(t),r=this.calculateLength_(n,i),o=!0;return o}},{key:"positionElementsCorner_",value:function(t,i){var n=this.getCorner_(t,i);if(n){var r,o=this.padding_,s=this.padding_,u=n.control.get$Element();u.removeClass(a.cssClasses.hidden).css((c(r={},t,o),c(r,i,s),r)),o+=u.outerWidth()+this.spacing_,s+=u.outerHeight()+this.spacing_;var l=void 0,h=void 0;"left"===t&&"top"===i?(l="clockwise",h="counterclockwise"):"right"===t&&"top"===i?(l="counterclockwise",h="clockwise"):"right"===t&&"bottom"===i?(l="clockwise",h="counterclockwise"):"left"===t&&"bottom"===i&&(l="counterclockwise",h="clockwise");var f=!0,p=!1,d=void 0;try{for(var g,v=this.corners_[t][i][l].filter(function(t){return e.isElemVisible_(t)&&t!==n})[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var y;(u=g.value.control.get$Element()).css((c(y={},t,o),c(y,i,this.padding_),y)),o+=u.outerWidth()+this.spacing_}}catch(t){p=!0,d=t}finally{try{!f&&v.return&&v.return()}finally{if(p)throw d}}var _=!0,m=!1,b=void 0;try{for(var x,S=this.corners_[t][i][h].filter(function(t){return e.isElemVisible_(t)&&t!==n})[Symbol.iterator]();!(_=(x=S.next()).done);_=!0){var w;(u=x.value.control.get$Element()).css((c(w={},t,this.padding_),c(w,i,s),w)),s+=u.outerHeight()+this.spacing_}}catch(t){m=!0,b=t}finally{try{!_&&S.return&&S.return()}finally{if(m)throw b}}}}},{key:"positionElements",value:function(){var t=this.$viewport_.innerWidth(),e=this.$viewport_.innerHeight();this.beforePositioning_();for(var i=new Set(["top","left","bottom","right"]);i.size;)i.has("top")&&(this.calculateSide_("top",t)&&(i.add("left"),i.add("right")),i.delete("top")),i.has("right")&&(this.calculateSide_("right",e)&&(i.add("top"),i.add("bottom")),i.delete("right")),i.has("bottom")&&(this.calculateSide_("bottom",t)&&(i.add("left"),i.add("right")),i.delete("bottom")),i.has("left")&&(this.calculateSide_("left",e)&&(i.add("top"),i.add("bottom")),i.delete("left"));this.positionElementsCorner_("left","top"),this.positionElementsCorner_("right","top"),this.positionElementsCorner_("right","bottom"),this.positionElementsCorner_("left","bottom"),this.afterPositioning_()}},{key:"squeezeElements_",value:function(t,e,i){var n=[];function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.length;if(i===e)n.splice(e,0,t);else{var o=Math.floor((e+i)/2);t.importance<=n[o].importance?r(t,e,o):r(t,o+1,i)}}!function t(i){var n=!0,o=!1,a=void 0;try{for(var s,u=i[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var l=s.value;l.control.isSqueezable&&l.control.isSqueezable(e)&&r(l),l.hideableChildren&&t(l.hideableChildren)}}catch(t){o=!0,a=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}}(t);var o=!0,a=!1,s=void 0;try{for(var u,l=n[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){if((i-=u.value.control.squeezeBy(e,i))<=0)return!0}}catch(t){a=!0,s=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw s}}var c=!0,h=!1,f=void 0;try{for(var p,d=n[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){p.value.control.release(e)}}catch(t){h=!0,f=t}finally{try{!c&&d.return&&d.return()}finally{if(h)throw f}}return!1}},{key:"expandElement_",value:function(t){var e=[];if(t.hideableChildren){var i=!0,n=!1,r=void 0;try{for(var o,a=t.hideableChildren[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var s=o.value;e.push.apply(e,h(this.expandElement_(s)))}}catch(t){n=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(n)throw r}}}return t.control.getCollapsible&&t.control.getCollapsible()&&t.control.getCollapsed()&&(t.control.setCollapsed(!1,!0),e.push(t.control)),e}},{key:"measureExpandedElement_",value:function(t){var e=t.control.get$Element();return{width:e.outerWidth(),height:e.outerHeight()}}},{key:"hideLeastImportant_",value:function(t){var i=t[0],n=!0,r=!1,o=void 0;try{for(var s,u=t.slice(1)[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var l=s.value;l.importance<i.importance&&(i=l)}}catch(t){r=!0,o=t}finally{try{!n&&u.return&&u.return()}finally{if(r)throw o}}var c=!1;if(i.hideableChildren){var h=i.hideableChildren.filter(e.isElemVisible_);h.length>1&&(this.hideLeastImportant_(h),c=!0)}c?i.size=this.measureExpandedElement_(i):(i.control.get$Element().addClass(a.cssClasses.hidden),this.hidden$Elements_.push(i.control.get$Element()))}}],[{key:"isElemVisible_",value:function(t){return t.control.get$Element().is(":visible")}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UIConfigurator=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=R(i(2)),a=R(i(470)),s=R(i(468)),u=R(i(467)),l=R(i(450)),c=R(i(466)),h=R(i(456)),f=R(i(455)),p=R(i(453)),d=R(i(452)),g=R(i(451)),v=i(600),y=i(599),_=i(334),m=i(598),b=i(597),x=i(596),S=i(24),w=i(73),E=i(5),M=i(331),O=i(329),C=i(13),T=i(328),P=i(434),L=i(571),A=i(570),I=i(352);function R(t){return t&&t.__esModule?t:{default:t}}e.UIConfigurator=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map_=e,this.map_.on("change:mapConfig",this.configureUI.bind(this)),this.initialized_=!1,this.pending_=0}return r(t,[{key:"loadCSS",value:function(e){var i=this;return new Promise(function(n){if(e.hasOwnProperty("cssFile")){var r="g4u-css",a=(0,o.default)("#"+r);0===a.length&&(a=(0,o.default)("<style>",{id:r}),(0,o.default)("head").append(a)),i.cssFile_===e.cssFile?(e.hasOwnProperty("cssTemplate")&&a.html(t.templateCSS(i.map_.get("cssTemplateFile"),e.cssTemplate)),n()):(o.default.ajax(e.cssFile).done(function(r){a.empty(),r=t.fixUrls(r,e.cssFile),e.hasOwnProperty("cssTemplate")?(i.map_.set("cssTemplateFile",r),a.html(t.templateCSS(r,e.cssTemplate))):a.html(r),n()}).fail(function(){S.Debug.error("Failed to load css file."),n()}),i.cssFile_=e.cssFile)}else n()})}},{key:"initialize_",value:function(t){var e=this,i=t.positioning||{};i.viewport=this.map_.getViewport(),this.map_.set("controlPositioning",new v.Positioning(i));var n=(0,I.debounce)(function(){return e.map_.get("controlPositioning").positionElements()});this.map_.on("ready",n),this.map_.asSoonAs("ready",!0,function(){e.map_.on("resize",n),e.map_.on("ready:ui",function(){e.map_.get("ready:ui")&&n()}),e.map_.on("change:mobile",n),e.map_.on("ready:layers",function(){n(),e.map_.getLayerGroup().forEachOn("change:visible",function(){return setTimeout(n,200)})}),e.map_.getLayerGroup().forEachOn("change:visible",function(){return setTimeout(n,200)})}),this.map_.set("mobile",!1),(0,o.default)(this.map_.getTarget()).children().addClass(C.cssClasses.desktop),this.map_.set("scaleIcons",t.scaleIcons);var r=this.getHandleMobileChange_();this.map_.on("change:mobile",r),this.map_.once("ready",function(){e.map_.set("desktopLayout",{animations:e.map_.get("move").getAnimations(),scaleIcons:e.map_.get("scaleIcons"),hitTolerance:e.map_.get("hitTolerance")}),r()});var a=function(){var t=e.map_.get("mobileLayout");t&&t.mediaQueries&&window.matchMedia&&e.map_.set("mobile",t.mediaQueries.some(function(t){return window.matchMedia(t).matches}))},s=void 0,u=function(){e.map_.get("responsive")!==s&&(e.map_.get("responsive")?(a(),e.map_.on("resize",a)):e.map_.un("resize",a),s=e.map_.get("responsive"))};this.map_.once("ready",u),this.map_.on("change:responsive",u),this.map_.on("ready:ui",u),this.initialized_=!0}},{key:"applyLayout",value:function(t){t.hasOwnProperty("animations")&&this.map_.get("move").setAnimations(t.animations),t.hasOwnProperty("scaleIcons")&&(this.map_.set("scaleIcons",t.scaleIcons),this.map_.get("styling").setGlobalIconScale(t.scaleIcons),this.map_.getLayerGroup().recursiveForEach(function(t){t.getVisible()&&t.changed()})),t.hasOwnProperty("hitTolerance")&&this.map_.set("hitTolerance",t.hitTolerance);var e=this.map_.get("featurePopup"),i=this.map_.get("showWMSFeatureInfo"),n=i&&i.getPointVisible();e&&e.getVisible()&&(e.setVisible(!1),setTimeout(function(){e.setVisible(!0),n&&i.setPointVisible(!0)},0))}},{key:"getHandleMobileChange_",value:function(){var t=this;return this.handleMobileChange__||(this.handleMobileChange__=function(){t.map_.get("mobile")?((0,o.default)(t.map_.getTarget()).children().addClass(C.cssClasses.mobile),(0,o.default)(t.map_.getTarget()).children().removeClass(C.cssClasses.desktop),t.applyLayout(t.map_.get("mobileLayout"))):((0,o.default)(t.map_.getTarget()).children().addClass(C.cssClasses.desktop),(0,o.default)(t.map_.getTarget()).children().removeClass(C.cssClasses.mobile),t.applyLayout(t.map_.get("desktopLayout")))}),this.handleMobileChange__}},{key:"configureUI",value:function(){var t=this;this.map_.set("ready:ui",!1),this.pending_++;var e=(0,w.copyDeep)(this.map_.get("mapConfig"));this.initialized_||this.initialize_(e),this.map_.get("history")&&this.map_.get("history").flush();var i=void 0;this.loadCSS(e).then(function(){if(t.pending_--,0===t.pending_){t.map_.removeControls(),t.map_.controlsByName={},t.map_.removeInteractions(),t.map_.get("controlPositioning").init();var r=(0,w.copyDeep)((0,E.getConfig)(e,"move"))||{};r.map=t.map_,t.map_.set("move",new y.Move(r)),t.map_.get("shield")||t.map_.set("shield",new b.Shield({map:t.map_})),t.map_.set("mobileLayout",e.mobileLayout),t.map_.set("responsive",t.map_.get("responsive")||!!t.map_.get("mobileLayout"));var v=!0,S=!1,C=void 0;try{for(var P,I=t.map_.getModules()[Symbol.iterator]();!(v=(P=I.next()).done);v=!0){P.value.configureUI(e)}}catch(t){S=!0,C=t}finally{try{!v&&I.return&&I.return()}finally{if(S)throw C}}t.controlFactory?t.controlFactory.setLocaliser(t.map_.get("localiser")):t.controlFactory=new x.ControlFactory({map:t.map_,localiser:t.map_.get("localiser")}),t.controlFactory.addControls();var R=function t(e){e.setActive&&e.setActive(!1),e.getControls&&e.getControls().forEach(t)};if(t.map_.on("change:mobile",function(){return t.map_.getControls().forEach(R)}),(0,E.checkFor)(e,"interactions")){if((0,E.checkFor)(e.interactions,"doubleClickZoom")&&t.map_.addDefaultInteraction("dblclick",new a.default),(0,E.checkFor)(e.interactions,"dragPan"))if(!1!==e.kinetic){var k=-.002,j=.02,N=100;"object"===n(e.kinetic)&&(k=e.kinetic.decay||k,j=e.kinetic.minVelocity||j,N=e.kinetic.delay||N),t.map_.addDefaultInteraction("drag",new s.default({kinetic:new l.default(k,j,N)}))}else t.map_.addDefaultInteraction("drag",new s.default);(0,E.checkFor)(e.interactions,"dragRotate")&&t.map_.addDefaultInteraction("altShiftDrag",new u.default),(0,E.checkFor)(e.interactions,"dragZoom")&&t.map_.addDefaultInteraction("shiftDrag",new c.default),(0,E.checkFor)(e.interactions,"keyboardPan")&&t.map_.addDefaultInteraction("keyboard",new h.default),(0,E.checkFor)(e.interactions,"keyboardZoom")&&t.map_.addDefaultInteraction("keyboard",new f.default),(0,E.checkFor)(e.interactions,"mouseWheelZoom")&&t.map_.addDefaultInteraction("mouseWheel",new p.default),(0,E.checkFor)(e.interactions,"pinchRotate")&&t.map_.addDefaultInteraction("pinchRotate",new d.default),(0,E.checkFor)(e.interactions,"pinchZoom")&&t.map_.addDefaultInteraction("pinchZoom",new g.default)}t.map_.addDefaultInteraction("singleclick",new T.FeatureInteraction({type:"singleclick",style:null}));var F=new T.FeatureInteraction({type:"pointermove",style:null});t.map_.addDefaultInteraction("pointermove",F),(0,o.default)(t.map_.getViewport()).find("canvas").on("mouseleave",function(t){(0,o.default)(t.relatedTarget).is("canvas")||F.triggerEmptyMapEvent()});var D=function(){var e=t.map_.get("hitTolerance"),i=!0,n=!1,r=void 0;try{for(var o,a=t.map_.getInteractions().getArray()[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var s=o.value;s.setHitTolerance&&s.setHitTolerance(e)}}catch(t){n=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(n)throw r}}};t.map_.set("hitTolerance",e.hitTolerance||0),D(),t.map_.on("change:hitTolerance",D);var G=t.map_.get("featurePopup");G&&G.setMap(null),(i=(0,E.getConfig)(e,"featurePopup"))?((G=new _.FeaturePopup(i)).setMap(t.map_),t.map_.set("featurePopup",G)):t.map_.set("featurePopup",void 0);var U=t.map_.get("featureTooltip");U&&U.setMap(null),(i=(0,E.getConfig)(e,"featureTooltip"))?((U=new m.FeatureTooltip(i)).setMap(t.map_),t.map_.set("featureTooltip",U)):t.map_.set("featureTooltip",void 0);var B=t.map_.get("showWMSFeatureInfo");if(B&&B.setMap(null),(i=(0,E.getConfig)(e,"showWMSFeatureInfo"))?((B=new L.ShowWMSFeatureInfo(i)).setMap(t.map_),t.map_.set("showWMSFeatureInfo",B)):t.map_.set("showWMSFeatureInfo",void 0),t.map_.set("history",new A.History),t.map_.get("userActionTracking")){var V=t.map_;t.map_.on("moveend",function(){V.dispatchEvent({type:"userActionTracking",action:"move"})}),t.map_.get("baseLayers").getLayers().forEach(function(t){t.on("change:visible",function(){t.getVisible()&&V.dispatchEvent({type:"userActionTracking",action:"baseLayerChange",value:t.get("title")})})}),t.map_.get("featureLayers").recursiveForEach(function(t){t.on("change:visible",function(){t.getVisible()&&V.dispatchEvent({type:"userActionTracking",action:"featureLayerChange",value:t.get("title")})})}),t.map_.get("featurePopup")&&t.map_.get("featurePopup").on("change:visible",function(){this.getVisible()&&V.dispatchEvent({type:"userActionTracking",action:"popupOpen",value:this.getFeature().get("name")})});var z=!0,Y=!1,W=void 0;try{for(var X,H=t.map_.getModules()[Symbol.iterator]();!(z=(X=H.next()).done);z=!0){X.value.enableUserActionTracking()}}catch(t){Y=!0,W=t}finally{try{!z&&H.return&&H.return()}finally{if(Y)throw W}}t.map_.getControls().forEach(function(t){t instanceof O.PrintButton&&t.on("click",function(){V.dispatchEvent({type:"userActionTracking",action:"print"})}),t instanceof M.MeasurementButton&&("LineString"===t.getType()?t.on("measurement",function(){V.dispatchEvent({type:"userActionTracking",action:"measureLine"})}):"Polygon"===t.getType()&&t.on("measurement",function(){V.dispatchEvent({type:"userActionTracking",action:"measureArea"})}))})}t.map_.set("ready:ui",!0)}}).catch(function(t){S.Debug.error(t)})}}],[{key:"templateCSS",value:function(t,e){return e=e.map(P.parseCSSColor),t.replace(/(rgba?\([^)]*\))|(#[0-9a-f]{6})/g,function(t){var i=(0,P.parseCSSColor)(t),n=function(t){for(var e=0,i=-1,n=0;n<3;n++)0!==t[n]&&(e++,i=n);return e>1?-1:i}(i);if(n>-1){var r=i[3],o=i[n]/120,a=[e[n][0]*o,e[n][1]*o,e[n][2]*o,e[n][3]*r];return"rgba("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}return t})}},{key:"fixUrls",value:function(t,e){var i=(0,E.urlDirname)(e);return t.replace(/url\("([^"]*)"\)/g,function(t,e){return'url("'+(0,E.urlJoin)(i,e)+'")'})}}]),t}()},function(t,e,i){"use strict";i.r(e);
/*!
 * better-normal-scroll v1.13.2
 * (c) 2016-2018 ustbhuangyi
 * Released under the MIT License.
 */
var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)};var o="undefined"!=typeof window,a=o&&navigator.userAgent.toLowerCase(),s=a&&/wechatdevtools/.test(a),u=a&&a.indexOf("android")>0;function l(){return window.performance&&window.performance.now?window.performance.now()+window.performance.timing.navigationStart:+new Date}function c(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(var r=0;r<i.length;r++){var o=i[r];for(var a in o)t[a]=o[a]}return t}function h(t){return void 0===t||null===t}function f(t,e){return Math.sqrt(t*t+e*e)}var p=o&&document.createElement("div").style,d=function(){if(!o)return!1;var t={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"};for(var e in t)if(void 0!==p[t[e]])return e;return!1}();function g(t){return!1!==d&&("standard"===d?"transitionEnd"===t?"transitionend":t:d+t.charAt(0).toUpperCase()+t.substr(1))}function v(t,e,i,n){t.addEventListener(e,i,{passive:!1,capture:!!n})}function y(t,e,i,n){t.removeEventListener(e,i,{passive:!1,capture:!!n})}function _(t){for(var e=0,i=0;t;)e-=t.offsetLeft,i-=t.offsetTop,t=t.offsetParent;return{left:e,top:i}}function m(t){var e=t.getBoundingClientRect();return{left:-(e.left+window.pageXOffset),top:-(e.top+window.pageYOffset)}}var b=d&&"standard"!==d?"-"+d.toLowerCase()+"-":"",x=g("transform"),S=g("transition"),w=o&&g("perspective")in p,E=o&&("ontouchstart"in window||s),M=!1!==x,O=o&&S in p,C={transform:x,transition:S,transitionTimingFunction:g("transitionTimingFunction"),transitionDuration:g("transitionDuration"),transitionDelay:g("transitionDelay"),transformOrigin:g("transformOrigin"),transitionEnd:g("transitionEnd")},T=1,P={touchstart:T,touchmove:T,touchend:T,mousedown:2,mousemove:2,mouseup:2};function L(t){if(t instanceof window.SVGElement){var e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}return{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}function A(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1}function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click",i=void 0;"mouseup"===t.type||"mousecancel"===t.type?i=t:"touchend"!==t.type&&"touchcancel"!==t.type||(i=t.changedTouches[0]);var n={};i&&(n.screenX=i.screenX||0,n.screenY=i.screenY||0,n.clientX=i.clientX||0,n.clientY=i.clientY||0);var r=void 0,o=!0,a=!0;if("undefined"!=typeof MouseEvent)try{r=new MouseEvent(e,c({bubbles:o,cancelable:a},n))}catch(t){s()}else s();function s(){(r=document.createEvent("Event")).initEvent(e,o,a),c(r,n)}r.forwardedTouchEvent=!0,r._constructed=!0,t.target.dispatchEvent(r)}function R(t,e){t.removeChild(e)}var k={startX:0,startY:0,scrollX:!1,scrollY:!0,freeScroll:!1,directionLockThreshold:5,eventPassthrough:"",click:!1,tap:!1,bounce:!0,bounceTime:800,momentum:!0,momentumLimitTime:300,momentumLimitDistance:15,swipeTime:2500,swipeBounceTime:500,deceleration:.0015,flickLimitTime:200,flickLimitDistance:100,resizePolling:60,probeType:0,preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:!1,disableMouse:E,disableTouch:!E,observeDOM:!0,autoBlur:!0,wheel:!1,snap:!1,scrollbar:!1,pullDownRefresh:!1,pullUpLoad:!1,mouseWheel:!1,stopPropagation:!1,zoom:!1,infinity:!1,dblclick:!1};var j={swipe:{style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(t){return 1+--t*t*t*t*t}},swipeBounce:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},bounce:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(t){return 1- --t*t*t*t}}};function N(t,e,i,n,r,o,a){var s=t-e,u=Math.abs(s)/i,l=a.deceleration,c=a.itemHeight,h=a.swipeBounceTime,f=a.wheel,p=a.swipeTime,d=f?4:15,g=t+u/l*(s<0?-1:1);return f&&c&&(g=Math.round(g/c)*c),g<n?(g=o?Math.max(n-o/4,n-o/d*u):n,p=h):g>r&&(g=o?Math.min(r+o/4,r+o/d*u):r,p=h),{destination:Math.round(g),duration:p}}function F(){}var D=o?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,(t.interval||100/60)/2)}:F,G=o?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(t){window.clearTimeout(t)}:F,U=1,B=-1,V=1,z=-1,Y=1,W=3;function X(t){console.error("[BScroll warn]: "+t)}function H(t,e){if(!t)throw new Error("[BScroll] "+e)}function q(t){var e=document.createElement("div"),i=document.createElement("div");return e.style.cssText="position:absolute;z-index:9999;pointerEvents:none",i.style.cssText="box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px;",i.className="bscroll-indicator","horizontal"===t?(e.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",i.style.height="100%",e.className="bscroll-horizontal-scrollbar"):(e.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",i.style.width="100%",e.className="bscroll-vertical-scrollbar"),e.style.cssText+=";overflow:hidden",e.appendChild(i),e}function K(t,e){this.wrapper=e.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.direction=e.direction,e.fade?(this.visible=0,this.wrapperStyle.opacity="0"):this.visible=1,this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.x=0,this.y=0,e.interactive&&this._addDOMEvents()}K.prototype.handleEvent=function(t){switch(t.type){case"touchstart":case"mousedown":this._start(t);break;case"touchmove":case"mousemove":this._move(t);break;case"touchend":case"mouseup":case"touchcancel":case"mousecancel":this._end(t)}},K.prototype.refresh=function(){this._shouldShow()&&(this.transitionTime(),this._calculate(),this.updatePosition())},K.prototype.fade=function(t,e){var i=this;if(!e||this.visible){var n=t?250:500;t=t?"1":"0",this.wrapperStyle[C.transitionDuration]=n+"ms",clearTimeout(this.fadeTimeout),this.fadeTimeout=setTimeout(function(){i.wrapperStyle.opacity=t,i.visible=+t},0)}},K.prototype.updatePosition=function(){if("vertical"===this.direction){var t=Math.round(this.sizeRatioY*this.scroller.y);if(t<0){this.transitionTime(500);var e=Math.max(this.indicatorHeight+3*t,8);this.indicatorStyle.height=e+"px",t=0}else if(t>this.maxPosY){this.transitionTime(500);var i=Math.max(this.indicatorHeight-3*(t-this.maxPosY),8);this.indicatorStyle.height=i+"px",t=this.maxPosY+this.indicatorHeight-i}else this.indicatorStyle.height=this.indicatorHeight+"px";this.y=t,this.scroller.options.useTransform?this.indicatorStyle[C.transform]="translateY("+t+"px)"+this.scroller.translateZ:this.indicatorStyle.top=t+"px"}else{var n=Math.round(this.sizeRatioX*this.scroller.x);if(n<0){this.transitionTime(500);var r=Math.max(this.indicatorWidth+3*n,8);this.indicatorStyle.width=r+"px",n=0}else if(n>this.maxPosX){this.transitionTime(500);var o=Math.max(this.indicatorWidth-3*(n-this.maxPosX),8);this.indicatorStyle.width=o+"px",n=this.maxPosX+this.indicatorWidth-o}else this.indicatorStyle.width=this.indicatorWidth+"px";this.x=n,this.scroller.options.useTransform?this.indicatorStyle[C.transform]="translateX("+n+"px)"+this.scroller.translateZ:this.indicatorStyle.left=n+"px"}},K.prototype.transitionTime=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.indicatorStyle[C.transitionDuration]=t+"ms"},K.prototype.transitionTimingFunction=function(t){this.indicatorStyle[C.transitionTimingFunction]=t},K.prototype.destroy=function(){this._removeDOMEvents(),this.wrapper.parentNode.removeChild(this.wrapper)},K.prototype._start=function(t){var e=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=e.pageX,this.lastPointY=e.pageY,this.startTime=l(),this._handleMoveEvents(v),this.scroller.trigger("beforeScrollStart")},K.prototype._move=function(t){var e=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.moved||this.scroller.trigger("scrollStart"),this.moved=!0;var i=e.pageX-this.lastPointX;this.lastPointX=e.pageX;var n=e.pageY-this.lastPointY;this.lastPointY=e.pageY;var r=this.x+i,o=this.y+n;this._pos(r,o)},K.prototype._end=function(t){if(this.initiated){this.initiated=!1,t.preventDefault(),t.stopPropagation(),this._handleMoveEvents(y);var e=this.scroller.options.snap;if(e){var i=e.speed,n=e.easing,r=void 0===n?j.bounce:n,o=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),a=i||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-o.x),1e3),Math.min(Math.abs(this.scroller.y-o.y),1e3)),300);this.scroller.x===o.x&&this.scroller.y===o.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=o,this.scroller.scrollTo(o.x,o.y,a,r))}this.moved&&this.scroller.trigger("scrollEnd",{x:this.scroller.x,y:this.scroller.y})}},K.prototype._pos=function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=Math.round(t/this.sizeRatioX),e=Math.round(e/this.sizeRatioY),this.scroller.scrollTo(t,e),this.scroller.trigger("scroll",{x:this.scroller.x,y:this.scroller.y})},K.prototype._shouldShow=function(){return"vertical"===this.direction&&this.scroller.hasVerticalScroll||"horizontal"===this.direction&&this.scroller.hasHorizontalScroll?(this.wrapper.style.display="",!0):(this.wrapper.style.display="none",!1)},K.prototype._calculate=function(){if("vertical"===this.direction){var t=this.wrapper.clientHeight;this.indicatorHeight=Math.max(Math.round(t*t/(this.scroller.scrollerHeight||t||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px",this.maxPosY=t-this.indicatorHeight,this.sizeRatioY=this.maxPosY/this.scroller.maxScrollY}else{var e=this.wrapper.clientWidth;this.indicatorWidth=Math.max(Math.round(e*e/(this.scroller.scrollerWidth||e||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px",this.maxPosX=e-this.indicatorWidth,this.sizeRatioX=this.maxPosX/this.scroller.maxScrollX}},K.prototype._addDOMEvents=function(){var t=v;this._handleDOMEvents(t)},K.prototype._removeDOMEvents=function(){var t=y;this._handleDOMEvents(t),this._handleMoveEvents(t)},K.prototype._handleMoveEvents=function(t){this.scroller.options.disableTouch||t(window,"touchmove",this),this.scroller.options.disableMouse||t(window,"mousemove",this)},K.prototype._handleDOMEvents=function(t){this.scroller.options.disableTouch||(t(this.indicator,"touchstart",this),t(window,"touchend",this)),this.scroller.options.disableMouse||(t(this.indicator,"mousedown",this),t(window,"mouseup",this))};var $=2e3;function Z(t){if(t&&t.classList)return t.classList.contains("tombstone")}function J(t,e){var i=this;this.options=e,H("function"==typeof this.options.createTombstone,"Infinite scroll need createTombstone Function to create tombstone"),H("function"==typeof this.options.fetch,"Infinite scroll need fetch Function to fetch new data."),H("function"==typeof this.options.render,"Infinite scroll need render Function to render each item."),this.firstAttachedItem=0,this.lastAttachedItem=0,this.anchorScrollTop=0,this.anchorItem={index:0,offset:0},this.tombstoneHeight=0,this.tombstoneWidth=0,this.tombstones=[],this.tombstonesAnimationHandlers=[],this.items=[],this.loadedItems=0,this.requestInProgress=!1,this.hasMore=!0,this.scroller=t,this.wrapperEl=this.scroller.wrapper,this.scrollerEl=this.scroller.scroller,this.scroller.on("scroll",function(){i.onScroll()}),this.scroller.on("resize",function(){i.onResize()}),this.scroller.on("destroy",function(){i.destroy()}),this._onResizeHandler=setTimeout(function(){i.onResize()})}function Q(t,e){this.wrapper="string"==typeof t?document.querySelector(t):t,this.wrapper||X("Can not resolve the wrapper DOM."),this.scroller=this.wrapper.children[0],this.scroller||X("The wrapper need at least one child element to be scroller."),this.scrollerStyle=this.scroller.style,this._init(t,e)}J.prototype.destroy=function(){var t=this;clearTimeout(this._onResizeHandler),this.tombstonesAnimationHandlers.forEach(function(t){clearTimeout(t)}),this.tombstonesAnimationHandlers=null,this.items.forEach(function(e){e.node&&(t.scrollerEl.removeChild(e.node),e.node=null)}),this.scroller.infiniteScroller=null,this.scroller=null,this.wrapperEl=null,this.scrollerEl=null,this.items=null,this.tombstones=null},J.prototype.onScroll=function(){var t=-this.scroller.y,e=t-this.anchorScrollTop;this.anchorItem=0===t?{index:0,offset:0}:this._calculateAnchoredItem(this.anchorItem,e),this.anchorScrollTop=t;var i=this._calculateAnchoredItem(this.anchorItem,this.scroller.wrapperHeight),n=this.anchorItem.index,r=i.index;e<0?(n-=30,r+=10):(n-=10,r+=30),this.fill(n,r),this.maybeRequestContent()},J.prototype.onResize=function(){var t=this.options.createTombstone();t.style.position="absolute",this.scrollerEl.appendChild(t),t.style.display="",this.tombstoneHeight=t.offsetHeight,this.tombstoneWidth=t.offsetWidth,this.scrollerEl.removeChild(t);for(var e=0;e<this.items.length;e++)this.items[e].height=this.items[e].width=0;this.onScroll()},J.prototype.fill=function(t,e){this.firstAttachedItem=Math.max(0,t),this.hasMore||(e=Math.min(e,this.items.length)),this.lastAttachedItem=e,this.attachContent()},J.prototype.maybeRequestContent=function(){var t=this;if(!this.requestInProgress&&this.hasMore){var e=this.lastAttachedItem-this.loadedItems;e<=0||(this.requestInProgress=!0,this.options.fetch(e).then(function(e){if(t.requestInProgress=!1,e)t.addContent(e);else{t.hasMore=!1;var i=t._removeTombstones(),n=0;t.anchorItem.index<=t.items.length?(n=t._fixScrollPosition(),t._setupAnimations({},n),t.scroller.resetPosition(t.scroller.options.bounceTime)):(t.anchorItem.index-=i,n=t._fixScrollPosition(),t._setupAnimations({},n),t.scroller.stop(),t.scroller.resetPosition(),t.onScroll())}}))}},J.prototype.addContent=function(t){for(var e=0;e<t.length;e++)this.items.length<=this.loadedItems&&this._addItem(),this.items[this.loadedItems++].data=t[e];this.attachContent(),this.maybeRequestContent()},J.prototype.attachContent=function(){var t=this._collectUnusedNodes(),e=this._createDOMNodes(t);this._cleanupUnusedNodes(t),this._cacheNodeSize();var i=this._fixScrollPosition();this._setupAnimations(e,i)},J.prototype.resetMore=function(){this.hasMore=!0},J.prototype._removeTombstones=function(){for(var t,e=void 0,i=this.items.length,n=0;n<i;n++){var r=this.items[n].node,o=this.items[n].data;r&&!Z(r)||o||(void 0===e&&(e=n),r&&this.scrollerEl.removeChild(r))}return t=i-e,this.items.splice(e),this.lastAttachedItem=Math.min(this.lastAttachedItem,this.items.length),t},J.prototype._collectUnusedNodes=function(){for(var t=[],e=0;e<this.items.length;e++)if(e!==this.firstAttachedItem){var i=this.items[e].node;i&&(Z(i)?(this.tombstones.push(i),this.tombstones[this.tombstones.length-1].style.display="none"):t.push(i)),this.items[e].node=null}else e=this.lastAttachedItem-1;return t},J.prototype._createDOMNodes=function(t){for(var e={},i=this.firstAttachedItem;i<this.lastAttachedItem;i++){for(;this.items.length<=i;)this._addItem();var n=this.items[i].node,r=this.items[i].data;if(n){if(!Z(n)||!r)continue;n.style.zIndex=1,e[i]=[n,this.items[i].top-this.anchorScrollTop],this.items[i].node=null}var o=r?this.options.render(r,t.pop()):this._getTombStone();o.style.position="absolute",this.items[i].top=-1,this.scrollerEl.appendChild(o),this.items[i].node=o}return e},J.prototype._cleanupUnusedNodes=function(t){for(;t.length;)this.scrollerEl.removeChild(t.pop())},J.prototype._cacheNodeSize=function(){for(var t=this.firstAttachedItem;t<this.lastAttachedItem;t++){var e=this.items[t];if(e.data&&!e.height){var i=Z(e.node);e.height=i?this.tombstoneHeight:e.node.offsetHeight,e.width=i?this.tombstoneWidth:e.node.offsetWidth}}},J.prototype._fixScrollPosition=function(){this.anchorScrollTop=0;for(var t=0;t<this.anchorItem.index;t++)this.anchorScrollTop+=this.items[t].height||this.tombstoneHeight;this.anchorScrollTop+=this.anchorItem.offset;for(var e=this.anchorScrollTop-this.anchorItem.offset,i=this.anchorItem.index;i>this.firstAttachedItem;)e-=this.items[i-1].height||this.tombstoneHeight,i--;return e},J.prototype._setupAnimations=function(t,e){var i=this;for(var n in t){var r=t[n];this.items[n].node.style[C.transform]="translateY("+(this.anchorScrollTop+r[1])+"px) scale("+this.tombstoneWidth/this.items[n].width+", "+this.tombstoneHeight/this.items[n].height+")",this.items[n].node.offsetTop,r[0].offsetTop,this.items[n].node.style[C.transition]=b+"transform 200ms"}for(var o=this.firstAttachedItem;o<this.lastAttachedItem;o++){var a=t[o];if(a){var s=a[0];s.style[C.transition]=b+"transform 200ms, opacity 200ms",s.style[C.transform]="translateY("+e+"px) scale("+this.items[o].width/this.tombstoneWidth+", "+this.items[o].height/this.tombstoneHeight+")",s.style.opacity=0}e!==this.items[o].top&&(a||(this.items[o].node.style[C.transition]=""),this.items[o].node.style[C.transform]="translateY("+e+"px)"),this.items[o].top=e,e+=this.items[o].height||this.tombstoneHeight}this.scroller.maxScrollY=-(e-this.scroller.wrapperHeight+(this.hasMore?$:0));var u=setTimeout(function(){for(var e in t){var n=t[e];n[0].style.display="none",i.tombstones.push(n[0])}},200);this.tombstonesAnimationHandlers.push(u)},J.prototype._getTombStone=function(){var t=this.tombstones.pop();return t?(t.style.display="",t.style.opacity=1,t.style[C.transform]="",t.style[C.transition]="",t):this.options.createTombstone()},J.prototype._addItem=function(){this.items.push({data:null,node:null,height:0,width:0,top:0})},J.prototype._calculateAnchoredItem=function(t,e){if(0===e)return t;var i=t.index,n=0;if((e+=t.offset)<0){for(;e<0&&i>0&&this.items[i-1].height;)e+=this.items[i-1].height,i--;n=Math.max(-i,Math.ceil(Math.min(e,0)/this.tombstoneHeight))}else{for(;e>0&&i<this.items.length&&this.items[i].height&&this.items[i].height<e;)e-=this.items[i].height,i++;(i>=this.items.length||!this.items[i].height)&&(n=Math.floor(Math.max(e,0)/this.tombstoneHeight))}return{index:i+=n,offset:e-=n*this.tombstoneHeight}},function(t){t.prototype._init=function(t,e){this._handleOptions(e),this._events={},this.x=0,this.y=0,this.directionX=0,this.directionY=0,this.setScale(1),this._addDOMEvents(),this._initExtFeatures(),this._watchTransition(),this.options.observeDOM&&this._initDOMObserver(),this.options.autoBlur&&this._handleAutoBlur(),this.refresh(),this.options.snap||this.scrollTo(this.options.startX,this.options.startY),this.enable()},t.prototype.setScale=function(t){this.lastScale=h(this.scale)?t:this.scale,this.scale=t},t.prototype._handleOptions=function(t){this.options=c({},k,t),this.translateZ=this.options.HWCompositing&&w?" translateZ(0)":"",this.options.useTransition=this.options.useTransition&&O,this.options.useTransform=this.options.useTransform&&M,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollX="horizontal"!==this.options.eventPassthrough&&this.options.scrollX,this.options.scrollY="vertical"!==this.options.eventPassthrough&&this.options.scrollY,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,!0===this.options.tap&&(this.options.tap="tap")},t.prototype._addDOMEvents=function(){var t=v;this._handleDOMEvents(t)},t.prototype._removeDOMEvents=function(){var t=y;this._handleDOMEvents(t)},t.prototype._handleDOMEvents=function(t){var e=this.options.bindToWrapper?this.wrapper:window;t(window,"orientationchange",this),t(window,"resize",this),this.options.click&&t(this.wrapper,"click",this,!0),this.options.disableMouse||(t(this.wrapper,"mousedown",this),t(e,"mousemove",this),t(e,"mousecancel",this),t(e,"mouseup",this)),E&&!this.options.disableTouch&&(t(this.wrapper,"touchstart",this),t(e,"touchmove",this),t(e,"touchcancel",this),t(e,"touchend",this)),t(this.scroller,C.transitionEnd,this)},t.prototype._initExtFeatures=function(){this.options.snap&&this._initSnap(),this.options.scrollbar&&this._initScrollbar(),this.options.pullUpLoad&&this._initPullUp(),this.options.pullDownRefresh&&this._initPullDown(),this.options.wheel&&this._initWheel(),this.options.mouseWheel&&this._initMouseWheel(),this.options.zoom&&this._initZoom(),this.options.infinity&&this._initInfinite()},t.prototype._watchTransition=function(){if("function"==typeof Object.defineProperty){var t=this,e=!1,i=this.useTransition?"isInTransition":"isAnimating";Object.defineProperty(this,i,{get:function(){return e},set:function(i){e=i;for(var n=t.scroller.children.length?t.scroller.children:[t.scroller],r=e&&!t.pulling?"none":"auto",o=0;o<n.length;o++)n[o].style.pointerEvents=r}})}},t.prototype._handleAutoBlur=function(){this.on("scrollStart",function(){var t=document.activeElement;!t||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||t.blur()})},t.prototype._initDOMObserver=function(){var t=this;if("undefined"!=typeof MutationObserver){var e=void 0,i=new MutationObserver(function(i){if(!t._shouldNotRefresh()){for(var n=!1,r=!1,o=0;o<i.length;o++){var a=i[o];if("attributes"!==a.type){n=!0;break}if(a.target!==t.scroller){r=!0;break}}n?t.refresh():r&&(clearTimeout(e),e=setTimeout(function(){t._shouldNotRefresh()||t.refresh()},60))}});i.observe(this.scroller,{attributes:!0,childList:!0,subtree:!0}),this.on("destroy",function(){i.disconnect()})}else this._checkDOMUpdate()},t.prototype._shouldNotRefresh=function(){var t=this.x>this.minScrollX||this.x<this.maxScrollX||this.y>this.minScrollY||this.y<this.maxScrollY;return this.isInTransition||this.stopFromTransition||t},t.prototype._checkDOMUpdate=function(){var t=L(this.scroller),e=t.width,i=t.height;function n(){var r=this;setTimeout(function(){(function(){if(!this.destroyed){var r=(t=L(this.scroller)).width,o=t.height;e===r&&i===o||this.refresh(),e=r,i=o,n.call(this)}}).call(r)},1e3)}n.call(this)},t.prototype.handleEvent=function(t){switch(t.type){case"touchstart":case"mousedown":this._start(t),this.options.zoom&&t.touches&&t.touches.length>1&&this._zoomStart(t);break;case"touchmove":case"mousemove":this.options.zoom&&t.touches&&t.touches.length>1?this._zoom(t):this._move(t);break;case"touchend":case"mouseup":case"touchcancel":case"mousecancel":this.scaled?this._zoomEnd(t):this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"click":this.enabled&&!t._constructed&&(A(t.target,this.options.preventDefaultException)||(t.preventDefault(),t.stopPropagation()));break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._onMouseWheel(t)}},t.prototype.refresh=function(){var t="static"===window.getComputedStyle(this.wrapper,null).position,e=L(this.wrapper);this.wrapperWidth=e.width,this.wrapperHeight=e.height;var i=L(this.scroller);this.scrollerWidth=Math.round(i.width*this.scale),this.scrollerHeight=Math.round(i.height*this.scale),this.relativeX=i.left,this.relativeY=i.top,t&&(this.relativeX-=e.left,this.relativeY-=e.top),this.minScrollX=0,this.minScrollY=0;var n=this.options.wheel;n?(this.items=this.scroller.children,this.options.itemHeight=this.itemHeight=this.items.length?this.scrollerHeight/this.items.length:0,void 0===this.selectedIndex&&(this.selectedIndex=n.selectedIndex||0),this.options.startY=-this.selectedIndex*this.itemHeight,this.maxScrollX=0,this.maxScrollY=-this.itemHeight*(this.items.length-1)):(this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.options.infinity||(this.maxScrollY=this.wrapperHeight-this.scrollerHeight),this.maxScrollX<0?(this.maxScrollX-=this.relativeX,this.minScrollX=-this.relativeX):this.scale>1&&(this.maxScrollX=this.maxScrollX/2-this.relativeX,this.minScrollX=this.maxScrollX),this.maxScrollY<0?(this.maxScrollY-=this.relativeY,this.minScrollY=-this.relativeY):this.scale>1&&(this.maxScrollY=this.maxScrollY/2-this.relativeY,this.minScrollY=this.maxScrollY)),this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<this.minScrollX,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<this.minScrollY,this.hasHorizontalScroll||(this.maxScrollX=this.minScrollX,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=this.minScrollY,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=_(this.wrapper),this.trigger("refresh"),!this.scaled&&this.resetPosition()},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1}}(Q),function(t){t.prototype._start=function(t){var e=P[t.type];if((e===T||0===t.button)&&!(!this.enabled||this.destroyed||this.initiated&&this.initiated!==e)){this.initiated=e,this.options.preventDefault&&!A(t.target,this.options.preventDefaultException)&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation(),this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.movingDirectionX=0,this.movingDirectionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=l(),this.options.wheel&&(this.target=t.target),this.stop();var i=t.touches?t.touches[0]:t;this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=i.pageX,this.pointY=i.pageY,this.trigger("beforeScrollStart")}},t.prototype._move=function(t){if(this.enabled&&!this.destroyed&&P[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation();var e=t.touches?t.touches[0]:t,i=e.pageX-this.pointX,n=e.pageY-this.pointY;this.pointX=e.pageX,this.pointY=e.pageY,this.distX+=i,this.distY+=n;var r=Math.abs(this.distX),o=Math.abs(this.distY),a=l();if(!(a-this.endTime>this.options.momentumLimitTime&&o<this.options.momentumLimitDistance&&r<this.options.momentumLimitDistance)){if(this.directionLocked||this.options.freeScroll||(r>o+this.options.directionLockThreshold?this.directionLocked="h":o>=r+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"===this.directionLocked){if("vertical"===this.options.eventPassthrough)t.preventDefault();else if("horizontal"===this.options.eventPassthrough)return void(this.initiated=!1);n=0}else if("v"===this.directionLocked){if("horizontal"===this.options.eventPassthrough)t.preventDefault();else if("vertical"===this.options.eventPassthrough)return void(this.initiated=!1);i=0}i=this.hasHorizontalScroll?i:0,n=this.hasVerticalScroll?n:0,this.movingDirectionX=i>0?z:i<0?V:0,this.movingDirectionY=n>0?B:n<0?U:0;var s=this.x+i,u=this.y+n,c=!1,h=!1,f=!1,p=!1,d=this.options.bounce;!1!==d&&(c=void 0===d.top||d.top,h=void 0===d.bottom||d.bottom,f=void 0===d.left||d.left,p=void 0===d.right||d.right),(s>this.minScrollX||s<this.maxScrollX)&&(s=s>this.minScrollX&&f||s<this.maxScrollX&&p?this.x+i/3:s>this.minScrollX?this.minScrollX:this.maxScrollX),(u>this.minScrollY||u<this.maxScrollY)&&(u=u>this.minScrollY&&c||u<this.maxScrollY&&h?this.y+n/3:u>this.minScrollY?this.minScrollY:this.maxScrollY),this.moved||(this.moved=!0,this.trigger("scrollStart")),this._translate(s,u),a-this.startTime>this.options.momentumLimitTime&&(this.startTime=a,this.startX=this.x,this.startY=this.y,this.options.probeType===Y&&this.trigger("scroll",{x:this.x,y:this.y})),this.options.probeType>Y&&this.trigger("scroll",{x:this.x,y:this.y});var g=document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft,v=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,y=this.pointX-g,_=this.pointY-v;(y>document.documentElement.clientWidth-this.options.momentumLimitDistance||y<this.options.momentumLimitDistance||_<this.options.momentumLimitDistance||_>document.documentElement.clientHeight-this.options.momentumLimitDistance)&&this._end(t)}}},t.prototype._end=function(t){if(this.enabled&&!this.destroyed&&P[t.type]===this.initiated){this.initiated=!1,this.options.preventDefault&&!A(t.target,this.options.preventDefaultException)&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation(),this.trigger("touchEnd",{x:this.x,y:this.y}),this.isInTransition=!1;var e=Math.round(this.x),i=Math.round(this.y),n=e-this.absStartX,r=i-this.absStartY;if(this.directionX=n>0?z:n<0?V:0,this.directionY=r>0?B:r<0?U:0,!this.options.pullDownRefresh||!this._checkPullDown())if(this._checkClick(t))this.trigger("scrollCancel");else if(!this.resetPosition(this.options.bounceTime,j.bounce)){this._translate(e,i),this.endTime=l();var o=this.endTime-this.startTime,a=Math.abs(e-this.startX),s=Math.abs(i-this.startY);if(this._events.flick&&o<this.options.flickLimitTime&&a<this.options.flickLimitDistance&&s<this.options.flickLimitDistance)this.trigger("flick");else{var u=0;if(this.options.momentum&&o<this.options.momentumLimitTime&&(s>this.options.momentumLimitDistance||a>this.options.momentumLimitDistance)){var c=!1,h=!1,f=!1,p=!1,d=this.options.bounce;!1!==d&&(c=void 0===d.top||d.top,h=void 0===d.bottom||d.bottom,f=void 0===d.left||d.left,p=void 0===d.right||d.right);var g=this.directionX===z&&f||this.directionX===V&&p?this.wrapperWidth:0,v=this.directionY===B&&c||this.directionY===U&&h?this.wrapperHeight:0,y=this.hasHorizontalScroll?N(this.x,this.startX,o,this.maxScrollX,this.minScrollX,g,this.options):{destination:e,duration:0},_=this.hasVerticalScroll?N(this.y,this.startY,o,this.maxScrollY,this.minScrollY,v,this.options):{destination:i,duration:0};e=y.destination,i=_.destination,u=Math.max(y.duration,_.duration),this.isInTransition=!0}else this.options.wheel&&(i=Math.round(i/this.itemHeight)*this.itemHeight,u=this.options.wheel.adjustTime||400);var m=j.swipe;if(this.options.snap){var b=this._nearestSnap(e,i);this.currentPage=b,u=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(e-b.x),1e3),Math.min(Math.abs(i-b.y),1e3)),300),e=b.x,i=b.y,this.directionX=0,this.directionY=0,m=this.options.snap.easing||j.bounce}if(e!==this.x||i!==this.y)return(e>this.minScrollX||e<this.maxScrollX||i>this.minScrollY||i<this.maxScrollY)&&(m=j.swipeBounce),void this.scrollTo(e,i,u,m);this.options.wheel&&(this.selectedIndex=Math.round(Math.abs(this.y/this.itemHeight))),this.trigger("scrollEnd",{x:this.x,y:this.y})}}}},t.prototype._checkClick=function(t){var e=this.stopFromTransition&&!this.pulling;if(this.stopFromTransition=!1,!this.moved){if(this.options.wheel){if(this.target&&this.target.classList.contains(this.options.wheel.wheelWrapperClass)){var i=Math.abs(Math.round(this.y/this.itemHeight)),n=Math.round((this.pointY+m(this.wrapper).top-this.wrapperHeight/2)/this.itemHeight);this.target=this.items[i+n]}return this.scrollToElement(this.target,this.options.wheel.adjustTime||400,!0,!0,j.swipe),!0}if(!e){var r=this.options.dblclick,o=!1;if(r&&this.lastClickTime){var a=r.delay,s=void 0===a?300:a;l()-this.lastClickTime<s&&(o=!0,function(t){I(t,"dblclick")}(t))}return this.options.tap&&function(t,e){var i=document.createEvent("Event");i.initEvent(e,!0,!0),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i)}(t,this.options.tap),this.options.click&&!A(t.target,this.options.preventDefaultException)&&I(t),this.lastClickTime=o?null:l(),!0}return!1}return!1},t.prototype._resize=function(){var t=this;this.enabled&&(u&&(this.wrapper.scrollTop=0),clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling))},t.prototype._startProbe=function(){G(this.probeTimer),this.probeTimer=D(function e(){var i=t.getComputedPosition();t.trigger("scroll",i),t.isInTransition?t.probeTimer=D(e):t.trigger("scrollEnd",i)});var t=this},t.prototype._transitionTime=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.scrollerStyle[C.transitionDuration]=t+"ms",this.options.wheel)for(var e=0;e<this.items.length;e++)this.items[e].style[C.transitionDuration]=t+"ms";if(this.indicators)for(var i=0;i<this.indicators.length;i++)this.indicators[i].transitionTime(t)},t.prototype._transitionTimingFunction=function(t){if(this.scrollerStyle[C.transitionTimingFunction]=t,this.options.wheel)for(var e=0;e<this.items.length;e++)this.items[e].style[C.transitionTimingFunction]=t;if(this.indicators)for(var i=0;i<this.indicators.length;i++)this.indicators[i].transitionTimingFunction(t)},t.prototype._transitionEnd=function(t){t.target===this.scroller&&this.isInTransition&&(this._transitionTime(),(!this.pulling||this.movingDirectionY===U)&&!this.resetPosition(this.options.bounceTime,j.bounce)&&(this.isInTransition=!1,this.options.probeType!==W&&this.trigger("scrollEnd",{x:this.x,y:this.y})))},t.prototype._translate=function(t,e,i){if(H(!h(t)&&!h(e),"Translate x or y is null or undefined."),h(i)&&(i=this.scale),this.options.useTransform?this.scrollerStyle[C.transform]="translate("+t+"px,"+e+"px) scale("+i+")"+this.translateZ:(t=Math.round(t),e=Math.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.options.wheel)for(var n=this.options.wheel.rotate,r=void 0===n?25:n,o=0;o<this.items.length;o++){var a=r*(e/this.itemHeight+o);this.items[o].style[C.transform]="rotateX("+a+"deg)"}if(this.x=t,this.y=e,this.setScale(i),this.indicators)for(var s=0;s<this.indicators.length;s++)this.indicators[s].updatePosition()},t.prototype._animate=function(t,e,i,n){var r=this,o=this.x,a=this.y,s=this.lastScale,u=this.scale,c=l(),h=c+i;this.isAnimating=!0,G(this.animateTimer),function f(){var p=l();if(p>=h)return r.isAnimating=!1,r._translate(t,e,u),r.trigger("scroll",{x:r.x,y:r.y}),void(r.pulling||r.resetPosition(r.options.bounceTime)||r.trigger("scrollEnd",{x:r.x,y:r.y}));var d=n(p=(p-c)/i),g=(t-o)*d+o,v=(e-a)*d+a,y=(u-s)*d+s;r._translate(g,v,y),r.isAnimating&&(r.animateTimer=D(f)),r.options.probeType===W&&r.trigger("scroll",{x:r.x,y:r.y})}()},t.prototype.scrollBy=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j.bounce;t=this.x+t,e=this.y+e,this.scrollTo(t,e,i,n)},t.prototype.scrollTo=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j.bounce;this.isInTransition=this.options.useTransition&&i>0&&(t!==this.x||e!==this.y),!i||this.options.useTransition?(this._transitionTimingFunction(n.style),this._transitionTime(i),this._translate(t,e),i&&this.options.probeType===W&&this._startProbe(),i||t===this.x&&e===this.y||(this.trigger("scroll",{x:t,y:e}),this._reflow=document.body.offsetHeight,this.resetPosition(this.options.bounceTime,j.bounce)||this.trigger("scrollEnd",{x:t,y:e})),this.options.wheel&&(e>this.minScrollY?this.selectedIndex=0:e<this.maxScrollY?this.selectedIndex=this.items.length-1:this.selectedIndex=Math.round(Math.abs(e/this.itemHeight)))):this._animate(t,e,i,n.fn)},t.prototype.scrollToElement=function(t,e,i,n,r){if(t&&(t=t.nodeType?t:this.scroller.querySelector(t),!this.options.wheel||t.classList.contains(this.options.wheel.wheelItemClass))){var o=_(t);o.left-=this.wrapperOffset.left,o.top-=this.wrapperOffset.top,!0===i&&(i=Math.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===n&&(n=Math.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),o.left-=i||0,o.top-=n||0,o.left=o.left>this.minScrollX?this.minScrollX:o.left<this.maxScrollX?this.maxScrollX:o.left,o.top=o.top>this.minScrollY?this.minScrollY:o.top<this.maxScrollY?this.maxScrollY:o.top,this.options.wheel&&(o.top=Math.round(o.top/this.itemHeight)*this.itemHeight),this.scrollTo(o.left,o.top,e,r)}},t.prototype.resetPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j.bounce,i=this.x,n=Math.round(i);!this.hasHorizontalScroll||n>this.minScrollX?i=this.minScrollX:n<this.maxScrollX&&(i=this.maxScrollX);var r=this.y,o=Math.round(r);return!this.hasVerticalScroll||o>this.minScrollY?r=this.minScrollY:o<this.maxScrollY&&(r=this.maxScrollY),(i!==this.x||r!==this.y)&&(this.scrollTo(i,r,t,e),!0)},t.prototype.getComputedPosition=function(){var t=window.getComputedStyle(this.scroller,null),e=void 0,i=void 0;return this.options.useTransform?(e=+((t=t[C.transform].split(")")[0].split(", "))[12]||t[4]),i=+(t[13]||t[5])):(e=+t.left.replace(/[^-\d.]/g,""),i=+t.top.replace(/[^-\d.]/g,"")),{x:e,y:i}},t.prototype.stop=function(){if(this.options.useTransition&&this.isInTransition){this.isInTransition=!1,G(this.probeTimer);var t=this.getComputedPosition();this._translate(t.x,t.y),this.options.wheel?this.target=this.items[Math.round(-t.y/this.itemHeight)]:this.trigger("scrollEnd",{x:this.x,y:this.y}),this.stopFromTransition=!0}else!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,G(this.animateTimer),this.trigger("scrollEnd",{x:this.x,y:this.y}),this.stopFromTransition=!0)},t.prototype.destroy=function(){this.destroyed=!0,this.trigger("destroy"),this.options.useTransition?G(this.probeTimer):G(this.animateTimer),this._removeDOMEvents(),this._events={}}}(Q),function(t){t.prototype.on=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._events[t]||(this._events[t]=[]),this._events[t].push([e,i])},t.prototype.once=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;function n(){this.off(t,n),e.apply(i,arguments)}n.fn=e,this.on(t,n)},t.prototype.off=function(t,e){var i=this._events[t];if(i)for(var n=i.length;n--;)(i[n][0]===e||i[n][0]&&i[n][0].fn===e)&&(i[n][0]=void 0)},t.prototype.trigger=function(t){var e=this._events[t];if(e)for(var i=e.length,o=[].concat(r(e)),a=0;a<i;a++){var s=o[a],u=n(s,2),l=u[0],c=u[1];l&&l.apply(c,[].slice.call(arguments,1))}}}(Q),function(t){t.prototype._initSnap=function(){var t=this;this.currentPage={};var e=this.options.snap;if(e.loop){var i=this.scroller.children;i.length>1?(function(t,e){e.firstChild?function(t,e){e.parentNode.insertBefore(t,e)}(t,e.firstChild):e.appendChild(t)}(i[i.length-1].cloneNode(!0),this.scroller),this.scroller.appendChild(i[1].cloneNode(!0))):e.loop=!1}var n=e.el;"string"==typeof n&&(n=this.scroller.querySelectorAll(n)),this.on("refresh",function(){if(t.pages=[],t.wrapperWidth&&t.wrapperHeight&&t.scrollerWidth&&t.scrollerHeight){var i=e.stepX||t.wrapperWidth,r=e.stepY||t.wrapperHeight,o=0,a=void 0,s=void 0,u=void 0,l=0,c=void 0,h=0,f=void 0,p=void 0;if(n)for(c=n.length,f=-1;l<c;l++)p=L(n[l]),(0===l||p.left<=L(n[l-1]).left)&&(h=0,f++),t.pages[h]||(t.pages[h]=[]),o=Math.max(-p.left,t.maxScrollX),a=Math.max(-p.top,t.maxScrollY),s=o-Math.round(p.width/2),u=a-Math.round(p.height/2),t.pages[h][f]={x:o,y:a,width:p.width,height:p.height,cx:s,cy:u},o>t.maxScrollX&&h++;else for(s=Math.round(i/2),u=Math.round(r/2);o>-t.scrollerWidth;){for(t.pages[l]=[],c=0,a=0;a>-t.scrollerHeight;)t.pages[l][c]={x:Math.max(o,t.maxScrollX),y:Math.max(a,t.maxScrollY),width:i,height:r,cx:o-s,cy:a-u},a-=r,c++;o-=i,l++}t._checkSnapLoop();var d=e._loopX?1:0,g=e._loopY?1:0;t._goToPage(t.currentPage.pageX||d,t.currentPage.pageY||g,0);var v=e.threshold;v%1==0?(t.snapThresholdX=v,t.snapThresholdY=v):(t.snapThresholdX=Math.round(t.pages[t.currentPage.pageX][t.currentPage.pageY].width*v),t.snapThresholdY=Math.round(t.pages[t.currentPage.pageX][t.currentPage.pageY].height*v))}}),this.on("scrollEnd",function(){e.loop&&(e._loopX?(0===t.currentPage.pageX&&t._goToPage(t.pages.length-2,t.currentPage.pageY,0),t.currentPage.pageX===t.pages.length-1&&t._goToPage(1,t.currentPage.pageY,0)):(0===t.currentPage.pageY&&t._goToPage(t.currentPage.pageX,t.pages[0].length-2,0),t.currentPage.pageY===t.pages[0].length-1&&t._goToPage(t.currentPage.pageX,1,0)))}),!1!==e.listenFlick&&this.on("flick",function(){var i=e.speed||Math.max(Math.max(Math.min(Math.abs(t.x-t.startX),1e3),Math.min(Math.abs(t.y-t.startY),1e3)),300);t._goToPage(t.currentPage.pageX+t.directionX,t.currentPage.pageY+t.directionY,i)}),this.on("destroy",function(){if(e.loop){var i=t.scroller.children;i.length>2&&(R(t.scroller,i[i.length-1]),R(t.scroller,i[0]))}})},t.prototype._checkSnapLoop=function(){var t=this.options.snap;t.loop&&this.pages&&this.pages.length&&(this.pages.length>1&&(t._loopX=!0),this.pages[0]&&this.pages[0].length>1&&(t._loopY=!0),t._loopX&&t._loopY&&X("Loop does not support two direction at the same time."))},t.prototype._nearestSnap=function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var i=0;if(Math.abs(t-this.absStartX)<=this.snapThresholdX&&Math.abs(e-this.absStartY)<=this.snapThresholdY)return this.currentPage;t>this.minScrollX?t=this.minScrollX:t<this.maxScrollX&&(t=this.maxScrollX),e>this.minScrollY?e=this.minScrollY:e<this.maxScrollY&&(e=this.maxScrollY);for(var n=this.pages.length;i<n;i++)if(t>=this.pages[i][0].cx){t=this.pages[i][0].x;break}n=this.pages[i].length;for(var r=0;r<n;r++)if(e>=this.pages[0][r].cy){e=this.pages[0][r].y;break}return i===this.currentPage.pageX&&((i+=this.directionX)<0?i=0:i>=this.pages.length&&(i=this.pages.length-1),t=this.pages[i][0].x),r===this.currentPage.pageY&&((r+=this.directionY)<0?r=0:r>=this.pages[0].length&&(r=this.pages[0].length-1),e=this.pages[0][r].y),{x:t,y:e,pageX:i,pageY:r}},t.prototype._goToPage=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments[2],n=arguments[3],r=this.options.snap;if(r&&this.pages&&this.pages.length&&(n=n||r.easing||j.bounce,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),this.pages[t])){e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var o=this.pages[t][e].x,a=this.pages[t][e].y;i=void 0===i?r.speed||Math.max(Math.max(Math.min(Math.abs(o-this.x),1e3),Math.min(Math.abs(a-this.y),1e3)),300):i,this.currentPage={x:o,y:a,pageX:t,pageY:e},this.scrollTo(o,a,i,n)}},t.prototype.goToPage=function(t,e,i,n){var r=this.options.snap;if(r&&this.pages&&this.pages.length){if(r.loop){var o=void 0;r._loopX?(t>=(o=this.pages.length-2)?t=o-1:t<0&&(t=0),t+=1):(e>=(o=this.pages[0].length-2)?e=o-1:e<0&&(e=0),e+=1)}this._goToPage(t,e,i,n)}},t.prototype.next=function(t,e){if(this.options.snap){var i=this.currentPage.pageX,n=this.currentPage.pageY;++i>=this.pages.length&&this.hasVerticalScroll&&(i=0,n++),this._goToPage(i,n,t,e)}},t.prototype.prev=function(t,e){if(this.options.snap){var i=this.currentPage.pageX,n=this.currentPage.pageY;--i<0&&this.hasVerticalScroll&&(i=0,n--),this._goToPage(i,n,t,e)}},t.prototype.getCurrentPage=function(){var t=this.options.snap;return t?t.loop?t._loopX?c({},this.currentPage,{pageX:this.currentPage.pageX-1}):c({},this.currentPage,{pageY:this.currentPage.pageY-1}):this.currentPage:null}}(Q),function(t){t.prototype.wheelTo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.options.wheel&&(this.y=-t*this.itemHeight,this.scrollTo(0,this.y))},t.prototype.getSelectedIndex=function(){return this.options.wheel&&this.selectedIndex},t.prototype._initWheel=function(){var t=this.options.wheel;t.wheelWrapperClass||(t.wheelWrapperClass="wheel-scroll"),t.wheelItemClass||(t.wheelItemClass="wheel-item"),void 0===t.selectedIndex&&(t.selectedIndex=0,X("wheel option selectedIndex is required!"))}}(Q),function(t){t.prototype._initScrollbar=function(){var t=this,e=this.options.scrollbar,i=e.fade,n=void 0===i||i,r=e.interactive,o=void 0!==r&&r;this.indicators=[];var a=void 0;this.options.scrollX&&(a={el:q("horizontal"),direction:"horizontal",fade:n,interactive:o},this._insertScrollBar(a.el),this.indicators.push(new K(this,a))),this.options.scrollY&&(a={el:q("vertical"),direction:"vertical",fade:n,interactive:o},this._insertScrollBar(a.el),this.indicators.push(new K(this,a))),this.on("refresh",function(){for(var e=0;e<t.indicators.length;e++)t.indicators[e].refresh()}),n&&(this.on("scrollEnd",function(){for(var e=0;e<t.indicators.length;e++)t.indicators[e].fade()}),this.on("scrollCancel",function(){for(var e=0;e<t.indicators.length;e++)t.indicators[e].fade()}),this.on("scrollStart",function(){for(var e=0;e<t.indicators.length;e++)t.indicators[e].fade(!0)}),this.on("beforeScrollStart",function(){for(var e=0;e<t.indicators.length;e++)t.indicators[e].fade(!0,!0)})),this.on("destroy",function(){t._removeScrollBars()})},t.prototype._insertScrollBar=function(t){this.wrapper.appendChild(t)},t.prototype._removeScrollBars=function(){for(var t=0;t<this.indicators.length;t++)this.indicators[t].destroy()}}(Q),function(t){t.prototype._initPullDown=function(){this.options.probeType=W},t.prototype._checkPullDown=function(){var t=this.options.pullDownRefresh,e=t.threshold,i=void 0===e?90:e,n=t.stop,r=void 0===n?40:n;return!(this.directionY!==B||this.y<i)&&(this.pulling||(this.pulling=!0,this.trigger("pullingDown")),this.scrollTo(this.x,r,this.options.bounceTime,j.bounce),this.pulling)},t.prototype.finishPullDown=function(){this.pulling=!1,this.resetPosition(this.options.bounceTime,j.bounce)},t.prototype.openPullDown=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.options.pullDownRefresh=t,this._initPullDown()},t.prototype.closePullDown=function(){this.options.pullDownRefresh=!1}}(Q),function(t){t.prototype._initPullUp=function(){this.options.probeType=W,this.pullupWatching=!1,this._watchPullUp()},t.prototype._watchPullUp=function(){this.pullupWatching||(this.pullupWatching=!0,this.on("scroll",this._checkToEnd))},t.prototype._checkToEnd=function(t){var e=this,i=this.options.pullUpLoad.threshold,n=void 0===i?0:i;this.movingDirectionY===U&&t.y<=this.maxScrollY+n&&(this.once("scrollEnd",function(){e.pullupWatching=!1}),this.trigger("pullingUp"),this.off("scroll",this._checkToEnd))},t.prototype.finishPullUp=function(){var t=this;this.pullupWatching?this.once("scrollEnd",function(){t._watchPullUp()}):this._watchPullUp()},t.prototype.openPullUp=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.options.pullUpLoad=t,this._initPullUp()},t.prototype.closePullUp=function(){this.options.pullUpLoad=!1,this.pullupWatching&&(this.pullupWatching=!1,this.off("scroll",this._checkToEnd))}}(Q),function(t){t.prototype._initMouseWheel=function(){var t=this;this._handleMouseWheelEvent(v),this.on("destroy",function(){clearTimeout(t.mouseWheelTimer),clearTimeout(t.mouseWheelEndTimer),t._handleMouseWheelEvent(y)}),this.firstWheelOpreation=!0},t.prototype._handleMouseWheelEvent=function(t){t(this.wrapper,"wheel",this),t(this.wrapper,"mousewheel",this),t(this.wrapper,"DOMMouseScroll",this)},t.prototype._onMouseWheel=function(t){var e=this;if(this.enabled){t.preventDefault(),this.options.stopPropagation&&t.stopPropagation(),this.firstWheelOpreation&&this.trigger("scrollStart"),this.firstWheelOpreation=!1;var i=this.options.mouseWheel,n=i.speed,r=void 0===n?20:n,o=i.invert,a=void 0!==o&&o,s=i.easeTime,u=void 0===s?300:s;clearTimeout(this.mouseWheelTimer),this.mouseWheelTimer=setTimeout(function(){e.options.snap||u||e.trigger("scrollEnd",{x:e.x,y:e.y}),e.firstWheelOpreation=!0},400);var l=void 0,c=void 0;switch(!0){case"deltaX"in t:1===t.deltaMode?(l=-t.deltaX*r,c=-t.deltaY*r):(l=-t.deltaX,c=-t.deltaY);break;case"wheelDeltaX"in t:l=t.wheelDeltaX/120*r,c=t.wheelDeltaY/120*r;break;case"wheelDelta"in t:l=c=t.wheelDelta/120*r;break;case"detail"in t:l=c=-t.detail/3*r;break;default:return}var h=a?-1:1;l*=h,c*=h,this.hasVerticalScroll||(l=c,c=0);var f=void 0,p=void 0;if(this.options.snap)return f=this.currentPage.pageX,p=this.currentPage.pageY,l>0?f--:l<0&&f++,c>0?p--:c<0&&p++,void this._goToPage(f,p);f=this.x+Math.round(this.hasHorizontalScroll?l:0),p=this.y+Math.round(this.hasVerticalScroll?c:0),this.movingDirectionX=this.directionX=l>0?-1:l<0?1:0,this.movingDirectionY=this.directionY=c>0?-1:c<0?1:0,f>this.minScrollX?f=this.minScrollX:f<this.maxScrollX&&(f=this.maxScrollX),p>this.minScrollY?p=this.minScrollY:p<this.maxScrollY&&(p=this.maxScrollY);var d=this.y===p;this.scrollTo(f,p,u,j.swipe),this.trigger("scroll",{x:this.x,y:this.y}),clearTimeout(this.mouseWheelEndTimer),d&&(this.mouseWheelEndTimer=setTimeout(function(){e.trigger("scrollEnd",{x:e.x,y:e.y})},u))}}}(Q),function(t){t.prototype._initZoom=function(){var t=this.options.zoom,e=t.start,i=void 0===e?1:e,n=t.min,r=void 0===n?1:n,o=t.max,a=void 0===o?4:o;this.scale=Math.min(Math.max(i,r),a),this.setScale(this.scale),this.scrollerStyle[C.transformOrigin]="0 0"},t.prototype._zoomTo=function(t,e,i,n){this.scaled=!0;var r=t/(n||this.scale);this.setScale(t),this.refresh();var o=Math.round(this.startX-(e-this.relativeX)*(r-1)),a=Math.round(this.startY-(i-this.relativeY)*(r-1));o>this.minScrollX?o=this.minScrollX:o<this.maxScrollX&&(o=this.maxScrollX),a>this.minScrollY?a=this.minScrollY:a<this.maxScrollY&&(a=this.maxScrollY),this.x===o&&this.y===a||this.scrollTo(o,a,this.options.bounceTime),this.scaled=!1},t.prototype.zoomTo=function(t,e,i){var n=m(this.wrapper),r=n.left,o=n.top,a=e+r-this.x,s=i+o-this.y;this._zoomTo(t,a,s)},t.prototype._zoomStart=function(t){var e=t.touches[0],i=t.touches[1],n=Math.abs(e.pageX-i.pageX),r=Math.abs(e.pageY-i.pageY);this.startDistance=f(n,r),this.startScale=this.scale;var o=m(this.wrapper),a=o.left,s=o.top;this.originX=Math.abs(e.pageX+i.pageX)/2+a-this.x,this.originY=Math.abs(e.pageY+i.pageY)/2+s-this.y,this.trigger("zoomStart")},t.prototype._zoom=function(t){if(this.enabled&&!this.destroyed&&P[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation();var e=t.touches[0],i=t.touches[1],n=f(Math.abs(e.pageX-i.pageX),Math.abs(e.pageY-i.pageY))/this.startDistance*this.startScale;this.scaled=!0;var r=this.options.zoom,o=r.min,a=void 0===o?1:o,s=r.max,u=void 0===s?4:s;n<a?n=.5*a*Math.pow(2,n/a):n>u&&(n=2*u*Math.pow(.5,u/n));var l=n/this.startScale,c=this.startX-(this.originX-this.relativeX)*(l-1),h=this.startY-(this.originY-this.relativeY)*(l-1);this.setScale(n),this.scrollTo(c,h,0)}},t.prototype._zoomEnd=function(t){if(this.enabled&&!this.destroyed&&P[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation(),this.isInTransition=!1,this.isAnimating=!1,this.initiated=0;var e=this.options.zoom,i=e.min,n=void 0===i?1:i,r=e.max,o=void 0===r?4:r,a=this.scale>o?o:this.scale<n?n:this.scale;this._zoomTo(a,this.originX,this.originY,this.startScale),this.trigger("zoomEnd")}}}(Q),function(t){t.prototype._initInfinite=function(){this.options.probeType=3,this.maxScrollY=-$,this.infiniteScroller=new J(this,this.options.infinity)}}(Q),Q.Version="1.13.2",e.default=Q},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonBox=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=s(i(2)),o=s(i(22)),a=i(13);function s(t){return t&&t.__esModule?t:{default:t}}e.ButtonBox=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(i.className_=t.className||"g4u-menu",i.classNames_={body:i.className_+"-content",collapseButton:i.className_+"-collapsebutton",titleButton:i.className_+"-titlebutton",title:i.className_+"-title",active:i.className_+"-active",collapsed:i.className_+"-collapsed",lastVisible:i.className_+"-last-visible"},i.$element_=(0,r.default)("<div>").addClass(i.className_),t.hasOwnProperty("id")&&i.$element_.attr("id",t.id),t.addClass&&i.$element_.addClass(t.addClass),i.titleButton_=t.titleButton||!1,i.collapsible_=!t.hasOwnProperty("collapsible")||t.collapsible,i.collapsed_=!!t.hasOwnProperty("collapsed")&&t.collapsed,i.$body_=(0,r.default)("<div>").addClass(i.classNames_.body),t.hasOwnProperty("content")&&i.$body_.append(t.content),t.hasOwnProperty("title"))if(i.$title_=(0,r.default)("<div>").addClass(i.classNames_.title),i.$element_.append(i.$title_),i.collapsible_){var n=(0,r.default)("<button>").addClass(i.classNames_.collapseButton);if(n.on("click",function(){i.setCollapsed(!i.collapsed_),n.blur()}),i.titleButton_){var o=(0,r.default)("<button>").addClass(i.classNames_.titleButton).on("click",function(){i.dispatchEvent("title:click"),o.blur()}).html(t.title);t.rtl&&o.prop("dir","rtl"),i.$title_.append(n).append(o)}else n.addClass(i.classNames_.titleButton).html(t.title),t.rtl&&n.prop("dir","rtl"),i.$title_.append(n)}else i.$title_.html(t.title),t.rtl&&i.$title_.prop("dir","rtl");else i.collapsible_=!1,i.collapsed_=!1;return i.$element_.append(i.$body_),i.collapsed_?i.setCollapsed(!0):i.setCollapsed(!1),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),n(e,[{key:"setCollapsed",value:function(t,e){t?(this.$body_.addClass(a.cssClasses.hidden),this.$element_.addClass(this.classNames_.collapsed)):(this.$body_.removeClass(a.cssClasses.hidden),this.$element_.removeClass(this.classNames_.collapsed)),this.collapsed_=t,this.lastVisibleClass_(),e||this.dispatchEvent("change:collapsed")}},{key:"getCollapsed",value:function(){return this.collapsed_}},{key:"lastVisibleClass_",value:function(){this.takeLastVisible(this.$element_)&&this.giveLastVisible(this.$element_)}},{key:"get$Body",value:function(){return this.$body_}},{key:"get$Element",value:function(){return this.$element_}},{key:"get$LastChild_",value:function(t){return t.children("."+this.classNames_.body).children(":last-child")}},{key:"setCollapseButtonActive",value:function(t){this.$title_.children("."+this.classNames_.collapseButton).toggleClass(this.classNames_.active,t)}},{key:"setTitleButtonActive",value:function(t){this.$title_.children("."+this.classNames_.titleButton).toggleClass(this.classNames_.active,t)}},{key:"giveLastVisible",value:function(t){if(t.hasClass(this.classNames_.collapsed))t.addClass(this.classNames_.lastVisible);else if(t.hasClass(this.className_)){var e=this.get$LastChild_(t);e?this.giveLastVisible(e):t.addClass(this.classNames_.lastVisible)}else t.addClass(this.classNames_.lastVisible)}},{key:"takeLastVisible",value:function(t){if(t.hasClass(this.classNames_.lastVisible))return t.removeClass(this.classNames_.lastVisible),!0;if(t.hasClass(this.className_)){var e=this.get$LastChild_(t);return!!e&&this.takeLastVisible(e)}return!1}},{key:"finish",value:function(){this.takeLastVisible(this.$element_),this.giveLastVisible(this.$element_)}}]),e}()},function(t,e,i){var n=i(257),r=i(337);t.exports=function(t,e){return r(n(e),t)}},function(t,e,i){var n=i(351);t.exports=function(t){return n(t,1)}},function(t,e,i){var n=i(339),r=i(43),o="Expected a function";t.exports=function(t,e,i){var a=!0,s=!0;if("function"!=typeof t)throw new TypeError(o);return r(i)&&(a="leading"in i?!!i.leading:a,s="trailing"in i?!!i.trailing:s),n(t,e,{leading:a,maxWait:e,trailing:s})}},function(t,e,i){var n=i(60);t.exports=function(t,e,i){var r=t.length;return i=void 0===i?r:i,!e&&i>=r?t:n(t,e,i)}},function(t,e,i){var n=i(89),r=i(158),o=i(15),a=i(607),s=i(21),u="Expected a function",l=Math.max;t.exports=function(t,e){if("function"!=typeof t)throw new TypeError(u);return e=null==e?0:l(s(e),0),o(function(i){var o=i[e],s=a(i,0,e);return o&&r(s,o),n(t,this,s)})}},function(t,e,i){var n=i(15),r=i(21),o="Expected a function";t.exports=function(t,e){if("function"!=typeof t)throw new TypeError(o);return e=void 0===e?e:r(e),n(t,e)}},function(t,e,i){var n=i(81),r=i(358)(function(t,e){return n(t,256,void 0,void 0,void 0,e)});t.exports=r},function(t,e,i){var n=i(15),r=i(81),o=i(136),a=i(107),s=n(function(t,e){var i=a(e,o(s));return r(t,64,void 0,e,i)});s.placeholder={},t.exports=s},function(t,e,i){var n=i(15);t.exports=n},function(t,e,i){var n=i(89),r=i(38),o=i(34),a=i(16),s=i(15),u=i(63),l=i(612),c=i(10),h=Math.min,f=l(function(t,e){var i=(e=1==e.length&&c(e[0])?r(e[0],u(a)):r(o(e,1),u(a))).length;return s(function(r){for(var o=-1,a=h(r.length,i);++o<a;)r[o]=e[o].call(this,r[o]);return n(t,this,r)})});t.exports=f},function(t,e,i){var n=i(340);t.exports=function(t){return n(2,t)}},function(t,e,i){var n=i(81),r=512;t.exports=function(t){return n(t,r)}},function(t,e,i){var n=i(338),r=i(15),o=i(157),a=r(function(t,e,i){return n(t,o(e)||0,i)});t.exports=a},function(t,e,i){var n=i(338),r=i(15)(function(t,e){return n(t,1,e)});t.exports=r},function(t,e,i){var n=i(35);t.exports=function(){return n.Date.now()}},function(t,e,i){var n=i(81),r=16;function o(t,e,i){var a=n(t,r,void 0,void 0,void 0,void 0,void 0,e=i?void 0:e);return a.placeholder=o.placeholder,a}o.placeholder={},t.exports=o},function(t,e,i){var n=i(81),r=8;function o(t,e,i){var a=n(t,r,void 0,void 0,void 0,void 0,void 0,e=i?void 0:e);return a.placeholder=o.placeholder,a}o.placeholder={},t.exports=o},function(t,e,i){var n=i(15),r=i(81),o=i(136),a=i(107),s=n(function(t,e,i){var n=3;if(i.length){var u=a(i,o(s));n|=32}return r(e,n,t,i,u)});s.placeholder={},t.exports=s},function(t,e,i){var n=i(15),r=i(81),o=i(136),a=i(107),s=n(function(t,e,i){var n=1;if(i.length){var u=a(i,o(s));n|=32}return r(t,n,e,i,u)});s.placeholder={},t.exports=s},function(t,e,i){var n=i(347),r=i(346),o=i(107),a="__lodash_placeholder__",s=1,u=2,l=4,c=8,h=128,f=256,p=Math.min;t.exports=function(t,e){var i=t[1],d=e[1],g=i|d,v=g<(s|u|h),y=d==h&&i==c||d==h&&i==f&&t[7].length<=e[8]||d==(h|f)&&e[7].length<=e[8]&&i==c;if(!v&&!y)return t;d&s&&(t[2]=e[2],g|=i&s?0:l);var _=e[3];if(_){var m=t[3];t[3]=m?n(m,_,e[4]):_,t[4]=m?o(t[3],a):e[4]}return(_=e[5])&&(m=t[5],t[5]=m?r(m,_,e[6]):_,t[6]=m?o(t[5],a):e[6]),(_=e[7])&&(t[7]=_),d&h&&(t[8]=null==t[8]?e[8]:p(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=g,t}},function(t,e,i){var n=i(89),r=i(180),o=i(35),a=1;t.exports=function(t,e,i,s){var u=e&a,l=r(t);return function e(){for(var r=-1,a=arguments.length,c=-1,h=s.length,f=Array(h+a),p=this&&this!==o&&this instanceof e?l:t;++c<h;)f[c]=s[c];for(;a--;)f[c++]=arguments[++r];return n(p,u?i:this,f)}}},function(t,e,i){var n=i(94),r=i(95),o=Math.min;t.exports=function(t,e){for(var i=t.length,a=o(e.length,i),s=n(t);a--;){var u=e[a];t[a]=r(u,i)?s[u]:void 0}return t}},function(t,e,i){var n=i(279),r=i(183),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];t.exports=function(t,e){return n(o,function(i){var n="_."+i[0];e&i[1]&&!r(t,n)&&t.push(n)}),t.sort()}},function(t,e){var i=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(i,"{\n/* [wrapped with "+e+"] */\n")}},function(t,e){var i=/\{\n\/\* \[wrapped with (.+)\] \*/,n=/,? & /;t.exports=function(t){var e=t.match(i);return e?e[1].split(n):[]}},function(t,e,i){var n=i(247),r=i(343),o=i(94);t.exports=function(t){if(t instanceof n)return t.clone();var e=new r(t.__wrapped__,t.__chain__);return e.__actions__=o(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}},function(t,e,i){var n=i(247),r=i(343),o=i(246),a=i(10),s=i(26),u=i(629),l=Object.prototype.hasOwnProperty;function c(t){if(s(t)&&!a(t)&&!(t instanceof n)){if(t instanceof r)return t;if(l.call(t,"__wrapped__"))return u(t)}return new r(t)}c.prototype=o.prototype,c.prototype.constructor=c,t.exports=c},function(t,e){t.exports={}},function(t,e,i){var n=i(631),r=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=t.name+"",i=n[e],o=r.call(n,e)?i.length:0;o--;){var a=i[o],s=a.func;if(null==s||s==t)return a.name}return e}},function(t,e,i){var n=i(247),r=i(344),o=i(632),a=i(630);t.exports=function(t){var e=o(t),i=a[e];if("function"!=typeof i||!(e in n.prototype))return!1;if(t===i)return!0;var s=r(i);return!!s&&t===s[0]}},function(t,e){t.exports=function(t,e){for(var i=t.length,n=0;i--;)t[i]===e&&++n;return n}},function(t,e,i){var n=i(89),r=i(180),o=i(348),a=i(345),s=i(136),u=i(107),l=i(35);t.exports=function(t,e,i){var c=r(t);return function r(){for(var h=arguments.length,f=Array(h),p=h,d=s(r);p--;)f[p]=arguments[p];var g=h<3&&f[0]!==d&&f[h-1]!==d?[]:u(f,d);return(h-=g.length)<i?a(t,e,o,r.placeholder,void 0,f,g,void 0,void 0,i-h):n(this&&this!==l&&this instanceof r?c:t,this,f)}}},function(t,e,i){var n=i(180),r=i(35),o=1;t.exports=function(t,e,i){var a=e&o,s=n(t);return function e(){return(this&&this!==r&&this instanceof e?s:t).apply(a?i:this,arguments)}}},function(t,e,i){var n=i(21),r="Expected a function";t.exports=function(t,e){if("function"!=typeof e)throw new TypeError(r);return t=n(t),function(){if(--t<1)return e.apply(this,arguments)}}},function(t,e,i){var n=i(15),r=i(354),o=n(function(t){var e=t.length,i=e>1?t[e-1]:void 0;return i="function"==typeof i?(t.pop(),i):void 0,r(t,i)});t.exports=o},function(t,e,i){var n=i(204),r=i(151),o=i(95),a=i(43),s=i(111);t.exports=function(t,e,i,u){if(!a(t))return t;for(var l=-1,c=(e=r(e,t)).length,h=c-1,f=t;null!=f&&++l<c;){var p=s(e[l]),d=i;if(l!=h){var g=f[p];void 0===(d=u?u(g,p,f):void 0)&&(d=a(g)?g:o(e[l+1])?[]:{})}n(f,p,d),f=f[p]}return t}},function(t,e,i){var n=i(639),r=i(353);t.exports=function(t,e){return r(t||[],e||[],n)}},function(t,e,i){var n=i(204),r=i(353);t.exports=function(t,e){return r(t||[],e||[],n)}},function(t,e,i){var n=i(15)(i(249));t.exports=n},function(t,e,i){var n=i(115),r=i(15),o=i(248),a=i(41),s=i(61),u=r(function(t){var e=s(t);return e="function"==typeof e?e:void 0,o(n(t,a),void 0,e)});t.exports=u},function(t,e,i){var n=i(115),r=i(16),o=i(15),a=i(248),s=i(41),u=i(61),l=o(function(t){var e=u(t);return s(e)&&(e=void 0),a(n(t,s),r(e,2))});t.exports=l},function(t,e,i){var n=i(115),r=i(15),o=i(248),a=i(41),s=r(function(t){return o(n(t,a))});t.exports=s},function(t,e,i){var n=i(150),r=i(15),o=i(41),a=r(function(t,e){return o(t)?n(t,e):[]});t.exports=a},function(t,e,i){var n=i(108);t.exports=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?n(t,void 0,e):[]}},function(t,e,i){var n=i(16),r=i(108);t.exports=function(t,e){return t&&t.length?r(t,n(e,2)):[]}},function(t,e,i){var n=i(34),r=i(15),o=i(108),a=i(41),s=i(61),u=r(function(t){var e=s(t);return e="function"==typeof e?e:void 0,o(n(t,1,a,!0),void 0,e)});t.exports=u},function(t,e,i){var n=i(34),r=i(16),o=i(15),a=i(108),s=i(41),u=i(61),l=o(function(t){var e=u(t);return s(e)&&(e=void 0),a(n(t,1,s,!0),r(e,2))});t.exports=l},function(t,e,i){var n=i(420),r=i(356),o=i(195),a=n&&1/o(new n([,-0]))[1]==1/0?function(t){return new n(t)}:r;t.exports=a},function(t,e,i){var n=i(34),r=i(15),o=i(108),a=i(41),s=r(function(t){return o(n(t,1,a,!0))});t.exports=s},function(t,e,i){var n=i(16),r=i(182);t.exports=function(t,e){return t&&t.length?r(t,n(e,3)):[]}},function(t,e,i){var n=i(16),r=i(182);t.exports=function(t,e){return t&&t.length?r(t,n(e,3),!1,!0):[]}},function(t,e,i){var n=i(60),r=i(21);t.exports=function(t,e,i){var o=null==t?0:t.length;return o?(e=i||void 0===e?1:r(e),n(t,(e=o-e)<0?0:e,o)):[]}},function(t,e,i){var n=i(60),r=i(21);t.exports=function(t,e,i){return t&&t.length?(e=i||void 0===e?1:r(e),n(t,0,e<0?0:e)):[]}},function(t,e,i){var n=i(60);t.exports=function(t){var e=null==t?0:t.length;return e?n(t,1,e):[]}},function(t,e,i){var n=i(16),r=i(357);t.exports=function(t,e){return t&&t.length?r(t,n(e,2)):[]}},function(t,e,i){var n=i(357);t.exports=function(t){return t&&t.length?n(t):[]}},function(t,e,i){var n=i(181),r=i(96);t.exports=function(t,e){if(null!=t&&t.length){var i=n(t,e,!0)-1;if(r(t[i],e))return i}return-1}},function(t,e,i){var n=i(16),r=i(250);t.exports=function(t,e,i){return r(t,e,n(i,2),!0)}},function(t,e,i){var n=i(181);t.exports=function(t,e){return n(t,e,!0)}},function(t,e,i){var n=i(181),r=i(96);t.exports=function(t,e){var i=null==t?0:t.length;if(i){var o=n(t,e);if(o<i&&r(t[o],e))return o}return-1}},function(t,e,i){var n=i(16),r=i(250);t.exports=function(t,e,i){return r(t,e,n(i,2))}},function(t,e,i){var n=i(181);t.exports=function(t,e){return n(t,e)}},function(t,e,i){var n=i(60),r=i(109),o=i(21);t.exports=function(t,e,i){var a=null==t?0:t.length;return a?(i&&"number"!=typeof i&&r(t,e,i)?(e=0,i=a):(e=null==e?0:o(e),i=void 0===i?a:o(i)),n(t,e,i)):[]}},function(t,e){var i=Array.prototype.reverse;t.exports=function(t){return null==t?t:i.call(t)}},function(t,e,i){var n=i(16),r=i(359);t.exports=function(t,e){var i=[];if(!t||!t.length)return i;var o=-1,a=[],s=t.length;for(e=n(e,3);++o<s;){var u=t[o];e(u,o,t)&&(i.push(u),a.push(o))}return r(t,a),i}},function(t,e,i){var n=i(151),r=i(61),o=i(370),a=i(111);t.exports=function(t,e){return e=n(e,t),null==(t=o(t,e))||delete t[a(r(e))]}},function(t,e,i){var n=i(381);t.exports=function(t,e){for(var i=-1,r=e.length,o=Array(r),a=null==t;++i<r;)o[i]=a?void 0:n(t,e[i]);return o}},function(t,e,i){var n=i(38),r=i(670),o=i(359),a=i(366),s=i(358),u=i(95),l=s(function(t,e){var i=null==t?0:t.length,s=r(t,e);return o(t,n(e,function(t){return u(t,i)?+t:t}).sort(a)),s});t.exports=l},function(t,e,i){var n=i(251);t.exports=function(t,e,i){return t&&t.length&&e&&e.length?n(t,e,void 0,i):t}},function(t,e,i){var n=i(16),r=i(251);t.exports=function(t,e,i){return t&&t.length&&e&&e.length?r(t,e,n(i,2)):t}},function(t,e){t.exports=function(t,e,i,n){for(var r=i-1,o=t.length;++r<o;)if(n(t[r],e))return r;return-1}},function(t,e,i){var n=i(15)(i(360));t.exports=n},function(t,e,i){var n=i(95);t.exports=function(t,e){var i=t.length;if(i)return n(e+=e<0?i:0,i)?t[e]:void 0}},function(t,e,i){var n=i(676),r=i(21);t.exports=function(t,e){return t&&t.length?n(t,r(e)):void 0}},function(t,e){t.exports=function(t,e,i){for(var n=i+1;n--;)if(t[n]===e)return n;return n}},function(t,e,i){var n=i(187),r=i(371),o=i(678),a=i(21),s=Math.max,u=Math.min;t.exports=function(t,e,i){var l=null==t?0:t.length;if(!l)return-1;var c=l;return void 0!==i&&(c=(c=a(i))<0?s(l+c,0):u(c,l-1)),e==e?o(t,e,c):n(t,r,c,!0)}},function(t,e){var i=Array.prototype.join;t.exports=function(t,e){return null==t?"":i.call(t,e)}},function(t,e,i){var n=i(38),r=i(253),o=i(15),a=i(252),s=i(61),u=o(function(t){var e=s(t),i=n(t,a);return(e="function"==typeof e?e:void 0)&&i.pop(),i.length&&i[0]===t[0]?r(i,void 0,e):[]});t.exports=u},function(t,e,i){var n=i(38),r=i(253),o=i(16),a=i(15),s=i(252),u=i(61),l=a(function(t){var e=u(t),i=n(t,s);return e===u(i)?e=void 0:i.pop(),i.length&&i[0]===t[0]?r(i,o(e,2)):[]});t.exports=l},function(t,e,i){var n=i(38),r=i(253),o=i(15),a=i(252),s=o(function(t){var e=n(t,a);return e.length&&e[0]===t[0]?r(e):[]});t.exports=s},function(t,e,i){var n=i(60);t.exports=function(t){return null!=t&&t.length?n(t,0,-1):[]}},function(t,e,i){var n=i(185),r=i(21),o=Math.max;t.exports=function(t,e,i){var a=null==t?0:t.length;if(!a)return-1;var s=null==i?0:r(i);return s<0&&(s=o(a+s,0)),n(t,e,s)}},function(t,e){t.exports=function(t){for(var e=-1,i=null==t?0:t.length,n={};++e<i;){var r=t[e];n[r[0]]=r[1]}return n}},function(t,e,i){var n=i(34),r=i(21);t.exports=function(t,e){return null!=t&&t.length?(e=void 0===e?1:r(e),n(t,e)):[]}},function(t,e,i){var n=i(34),r=1/0;t.exports=function(t){return null!=t&&t.length?n(t,r):[]}},function(t,e,i){t.exports=i(361)},function(t,e,i){var n=i(21),r=i(407);t.exports=function(t,e,i,o){var a=t.length;for((i=n(i))<0&&(i=-i>a?0:a+i),(o=void 0===o||o>a?a:n(o))<0&&(o+=a),o=i>o?0:r(o);i<o;)t[i++]=e;return t}},function(t,e,i){var n=i(690),r=i(109);t.exports=function(t,e,i,o){var a=null==t?0:t.length;return a?(i&&"number"!=typeof i&&r(t,e,i)&&(i=0,o=a),n(t,e,i,o)):[]}},function(t,e,i){var n=i(16),r=i(182);t.exports=function(t,e){return t&&t.length?r(t,n(e,3),!0):[]}},function(t,e,i){var n=i(16),r=i(182);t.exports=function(t,e){return t&&t.length?r(t,n(e,3),!0,!0):[]}},function(t,e,i){var n=i(60),r=i(21);t.exports=function(t,e,i){var o=null==t?0:t.length;return o?(e=i||void 0===e?1:r(e),n(t,0,(e=o-e)<0?0:e)):[]}},function(t,e,i){var n=i(60),r=i(21);t.exports=function(t,e,i){var o=null==t?0:t.length;return o?(e=i||void 0===e?1:r(e),n(t,e<0?0:e,o)):[]}},function(t,e,i){var n=i(150),r=i(34),o=i(15),a=i(41),s=i(61),u=o(function(t,e){var i=s(e);return a(i)&&(i=void 0),a(t)?n(t,r(e,1,a,!0),void 0,i):[]});t.exports=u},function(t,e,i){var n=i(150),r=i(34),o=i(16),a=i(15),s=i(41),u=i(61),l=a(function(t,e){var i=u(e);return s(i)&&(i=void 0),s(t)?n(t,r(e,1,s,!0),o(i,2)):[]});t.exports=l},function(t,e,i){var n=i(150),r=i(34),o=i(15),a=i(41),s=o(function(t,e){return a(t)?n(t,r(e,1,a,!0)):[]});t.exports=s},function(t,e,i){var n=i(158),r=i(34),o=i(94),a=i(10);t.exports=function(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),i=arguments[0],s=t;s--;)e[s-1]=arguments[s];return n(a(i)?o(i):[i],r(e,1))}},function(t,e){t.exports=function(t){for(var e=-1,i=null==t?0:t.length,n=0,r=[];++e<i;){var o=t[e];o&&(r[n++]=o)}return r}},function(t,e,i){var n=i(60),r=i(109),o=i(21),a=Math.ceil,s=Math.max;t.exports=function(t,e,i){e=(i?r(t,e,i):void 0===e)?1:s(o(e),0);var u=null==t?0:t.length;if(!u||e<1)return[];for(var l=0,c=0,h=Array(a(u/e));l<u;)h[c++]=n(t,l,l+=e);return h}},function(t,e,i){t.exports={chunk:i(701),compact:i(700),concat:i(699),difference:i(698),differenceBy:i(697),differenceWith:i(696),drop:i(695),dropRight:i(694),dropRightWhile:i(693),dropWhile:i(692),fill:i(691),findIndex:i(374),findLastIndex:i(373),first:i(689),flatten:i(254),flattenDeep:i(688),flattenDepth:i(687),fromPairs:i(686),head:i(361),indexOf:i(685),initial:i(684),intersection:i(683),intersectionBy:i(682),intersectionWith:i(681),join:i(680),last:i(61),lastIndexOf:i(679),nth:i(677),pull:i(675),pullAll:i(360),pullAllBy:i(673),pullAllWith:i(672),pullAt:i(671),remove:i(668),reverse:i(667),slice:i(666),sortedIndex:i(665),sortedIndexBy:i(664),sortedIndexOf:i(663),sortedLastIndex:i(662),sortedLastIndexBy:i(661),sortedLastIndexOf:i(660),sortedUniq:i(659),sortedUniqBy:i(658),tail:i(657),take:i(656),takeRight:i(655),takeRightWhile:i(654),takeWhile:i(653),union:i(652),unionBy:i(650),unionWith:i(649),uniq:i(355),uniqBy:i(648),uniqWith:i(647),unzip:i(249),unzipWith:i(354),without:i(646),xor:i(645),xorBy:i(644),xorWith:i(643),zip:i(642),zipObject:i(641),zipObjectDeep:i(640),zipWith:i(638)}},function(t,e,i){var n=i(34),r=i(367),o=i(15),a=i(109),s=o(function(t,e){if(null==t)return[];var i=e.length;return i>1&&a(t,e[0],e[1])?e=[]:i>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),r(t,n(e,1),[])});t.exports=s},function(t,e,i){var n=i(90);t.exports=function(t,e){var i;return n(t,function(t,n,r){return!(i=e(t,n,r))}),!!i}},function(t,e,i){var n=i(414),r=i(16),o=i(704),a=i(10),s=i(109);t.exports=function(t,e,i){var u=a(t)?n:o;return i&&s(t,e,i)&&(e=void 0),u(t,r(e,3))}},function(t,e){var i="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+n+"|"+r+")"+"?",l="[\\ufe0e\\ufe0f]?"+u+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*"),c="(?:"+[o+n+"?",n,a,s,i].join("|")+")",h=RegExp(r+"(?="+r+")|"+c+l,"g");t.exports=function(t){for(var e=h.lastIndex=0;h.test(t);)++e;return e}},function(t,e,i){var n=i(258)("length");t.exports=n},function(t,e,i){var n=i(707),r=i(408),o=i(706);t.exports=function(t){return r(t)?o(t):n(t)}},function(t,e,i){var n=i(277),r=i(93),o=i(42),a=i(194),s=i(708),u="[object Map]",l="[object Set]";t.exports=function(t){if(null==t)return 0;if(o(t))return a(t)?s(t):t.length;var e=r(t);return e==u||e==l?t.size:n(t).length}},function(t,e,i){var n=i(184),r=i(156);t.exports=function(t){return n(r(t))}},function(t,e,i){var n=i(94),r=i(184);t.exports=function(t){return r(n(t))}},function(t,e,i){var n=i(711),r=i(710),o=i(10);t.exports=function(t){return(o(t)?n:r)(t)}},function(t,e,i){var n=i(193),r=i(184),o=i(156);t.exports=function(t,e){var i=o(t);return r(i,n(e,0,i.length))}},function(t,e,i){var n=i(193),r=i(94),o=i(184);t.exports=function(t,e){return o(r(t),n(e,0,t.length))}},function(t,e,i){var n=i(714),r=i(713),o=i(10),a=i(109),s=i(21);t.exports=function(t,e,i){return e=(i?a(t,e,i):void 0===e)?1:s(e),(o(t)?n:r)(t,e)}},function(t,e,i){var n=i(363),r=i(156);t.exports=function(t){return n(r(t))}},function(t,e,i){var n=i(363),r=i(716),o=i(10);t.exports=function(t){return(o(t)?n:r)(t)}},function(t,e,i){var n=i(115),r=i(376),o=i(16),a=i(10),s=i(364);t.exports=function(t,e){return(a(t)?n:r)(t,s(o(e,3)))}},function(t,e){t.exports=function(t,e,i,n){var r=null==t?0:t.length;for(n&&r&&(i=t[--r]);r--;)i=e(i,t[r],r,t);return i}},function(t,e,i){var n=i(719),r=i(377),o=i(16),a=i(365),s=i(10);t.exports=function(t,e,i){var u=s(t)?n:a,l=arguments.length<3;return u(t,o(e,4),i,l,r)}},function(t,e){t.exports=function(t,e,i,n){var r=-1,o=null==t?0:t.length;for(n&&o&&(i=t[++r]);++r<o;)i=e(i,t[r],r,t);return i}},function(t,e,i){var n=i(721),r=i(90),o=i(16),a=i(365),s=i(10);t.exports=function(t,e,i){var u=s(t)?n:a,l=arguments.length<3;return u(t,o(e,4),i,l,r)}},function(t,e,i){var n=i(188)(function(t,e,i){t[i?0:1].push(e)},function(){return[[],[]]});t.exports=n},function(t,e,i){var n=i(366);t.exports=function(t,e,i){for(var r=-1,o=t.criteria,a=e.criteria,s=o.length,u=i.length;++r<s;){var l=n(o[r],a[r]);if(l)return r>=u?l:l*("desc"==i[r]?-1:1)}return t.index-e.index}},function(t,e){t.exports=function(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}},function(t,e,i){var n=i(367),r=i(10);t.exports=function(t,e,i,o){return null==t?[]:(r(e)||(e=null==e?[]:[e]),r(i=o?void 0:i)||(i=null==i?[]:[i]),n(t,e,i))}},function(t,e,i){var n=i(162),r=i(188)(function(t,e,i){n(t,i,e)});t.exports=r},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,i){var n=i(728),r=i(429),o=i(110),a=r?function(t,e){return r(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:o;t.exports=a},function(t,e,i){var n=i(89),r=i(151),o=i(61),a=i(370),s=i(111);t.exports=function(t,e,i){e=r(e,t);var u=null==(t=a(t,e))?t:t[s(o(e))];return null==u?void 0:n(u,t,i)}},function(t,e,i){var n=i(89),r=i(90),o=i(730),a=i(15),s=i(42),u=a(function(t,e,i){var a=-1,u="function"==typeof e,l=s(t)?Array(t.length):[];return r(t,function(t){l[++a]=u?n(e,t,i):o(t,e,i)}),l});t.exports=u},function(t,e){t.exports=function(t,e,i){for(var n=i-1,r=t.length;++n<r;)if(t[n]===e)return n;return-1}},function(t,e,i){var n=i(185),r=i(42),o=i(194),a=i(21),s=i(156),u=Math.max;t.exports=function(t,e,i,l){t=r(t)?t:s(t),i=i&&!l?a(i):0;var c=t.length;return i<0&&(i=u(c+i,0)),o(t)?i<=c&&t.indexOf(e,i)>-1:!!c&&n(t,e,i)>-1}},function(t,e,i){var n=i(162),r=i(188),o=Object.prototype.hasOwnProperty,a=r(function(t,e,i){o.call(t,i)?t[i].push(e):n(t,i,[e])});t.exports=a},function(t,e,i){var n=i(34),r=i(186),o=i(21);t.exports=function(t,e,i){return i=void 0===i?1:o(i),n(r(t,e),i)}},function(t,e,i){var n=i(34),r=i(186),o=1/0;t.exports=function(t,e){return n(r(t,e),o)}},function(t,e,i){var n=i(116),r=i(160),o=i(10),a=n?n.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||r(t)||!!(a&&t&&t[a])}},function(t,e,i){var n=i(34),r=i(186);t.exports=function(t,e){return n(r(t,e),1)}},function(t,e,i){var n=i(375)(i(373));t.exports=n},function(t,e,i){var n=i(375)(i(374));t.exports=n},function(t,e,i){var n=i(115),r=i(376),o=i(16),a=i(10);t.exports=function(t,e){return(a(t)?n:r)(t,o(e,3))}},function(t,e,i){var n=i(90);t.exports=function(t,e){var i=!0;return n(t,function(t,n,r){return i=!!e(t,n,r)}),i}},function(t,e){t.exports=function(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(!e(t[i],i,t))return!1;return!0}},function(t,e,i){var n=i(743),r=i(742),o=i(16),a=i(10),s=i(109);t.exports=function(t,e,i){var u=a(t)?n:r;return i&&s(t,e,i)&&(e=void 0),u(t,o(e,3))}},function(t,e,i){var n=i(384)(!0);t.exports=n},function(t,e,i){var n=i(745),r=i(82);t.exports=function(t,e){return t&&n(t,e,r)}},function(t,e){t.exports=function(t,e){for(var i=null==t?0:t.length;i--&&!1!==e(t[i],i,t););return t}},function(t,e,i){t.exports=i(378)},function(t,e,i){t.exports=i(379)},function(t,e,i){var n=i(260);t.exports=function(t){return function(e){return n(e,t)}}},function(t,e,i){var n=i(258),r=i(750),o=i(259),a=i(111);t.exports=function(t){return o(t)?n(a(t)):r(t)}},function(t,e,i){var n=i(151),r=i(160),o=i(10),a=i(95),s=i(202),u=i(111);t.exports=function(t,e,i){for(var l=-1,c=(e=n(e,t)).length,h=!1;++l<c;){var f=u(e[l]);if(!(h=null!=t&&i(t,f)))break;t=t[f]}return h||++l!=c?h:!!(c=null==t?0:t.length)&&s(c)&&a(f,c)&&(o(t)||r(t))}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,i){var n=i(753),r=i(752);t.exports=function(t,e){return null!=t&&r(t,e,n)}},function(t,e,i){var n=i(380),r=500;t.exports=function(t){var e=n(t,function(t){return i.size===r&&i.clear(),t}),i=e.cache;return e}},function(t,e,i){var n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,o=i(755)(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(n,function(t,i,n,o){e.push(n?o.replace(r,"$1"):i||t)}),e});t.exports=o},function(t,e,i){var n=i(198),r=i(381),o=i(754),a=i(259),s=i(410),u=i(382),l=i(111),c=1,h=2;t.exports=function(t,e){return a(t)&&s(e)?u(l(t),e):function(i){var a=r(i,t);return void 0===a&&a===e?o(i,t):n(e,a,c|h)}}},function(t,e,i){var n=i(271),r=i(270),o=i(382);t.exports=function(t){var e=r(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(i){return i===t||n(i,t,e)}}},function(t,e,i){var n=i(384)();t.exports=n},function(t,e,i){var n=i(759),r=i(82);t.exports=function(t,e){return t&&n(t,e,r)}},function(t,e,i){var n=i(90);t.exports=function(t,e,i,r){return n(t,function(t,n,o){e(r,t,i(t),o)}),r}},function(t,e){t.exports=function(t,e,i,n){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(n,a,i(a),t)}return n}},function(t,e,i){var n=i(162),r=i(188),o=Object.prototype.hasOwnProperty,a=r(function(t,e,i){o.call(t,i)?++t[i]:n(t,i,1)});t.exports=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Attributions=void 0;var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(385),a=i(702),s=i(352),u=function(t){return t&&t.__esModule?t:{default:t}}(i(104)),l=i(72),c=i(114),h=i(5);e.Attributions=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.attributions_=[],t.debouncedUpdate=(0,s.debounce)(function(){return t.update()}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,h.mixin)(u.default,l.ListenerOrganizerMixin)),r(e,[{key:"setMap",value:function(t){var e=this;this.map_&&(this.attributions_=[],this.detachAllListeners()),this.map_=t,t&&t.asSoonAs("ready:layers",!0,function(){setTimeout(function(){e.attachListeners(e.map_.getLayerGroup()),e.update()},0)})}},{key:"getArray",value:function(){return this.attributions_}},{key:"scanLayers",value:function(){return this.scanLayer(this.map_.getLayerGroup())}},{key:"scanLayer",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t&&t.getVisible()){if(t.getLayers){var n=!(t instanceof c.GroupLayer);return t.getLayers().getArray().reduce(function(r,o){return i=n?t.get("title"):null,r.concat(e.scanLayer(o,i))},[])}if(t.getVisible()){var r=t.isBaseLayer?this.map_.get("localiser").localiseUsingDictionary("Attribution baseLayerLabel"):i||t.get("title");if(r)return this.extractAttributions(t,this.labelize(r))}}return[]}},{key:"extractAttributions",value:function(t,e){if(t.getSource&&t.getSource()){var i=t.getSource().getAttributions();return i?i().map(function(t){return[e,t]}):[]}}},{key:"labelize",value:function(t){return t.replace(/<[^>]*>/," ").replace(/\s{2,}/," ")}},{key:"update",value:function(){this.attributions_=function t(e){return{groupBy:function(i){return t((0,o.groupBy)(e,i))},forEach:function(i){return t(e.forEach(i))},map:function(i){return t((0,o.map)(e,i))},asArray:function(){return e}}}(this.scanLayers()).groupBy(function(t){var e=n(t,2),i=e[0];e[1];return i}).map(function(t,e){return[e,t.map(function(t){return t[1]})]}).groupBy(function(t){var e=n(t,2),i=(e[0],e[1]);return 1===(i=(0,a.uniq)(i)).length?i[0]:i.join(" & ")}).map(function(t,e){return[t.map(function(t){return t[0]}),e]}).map(function(t){var e=n(t,2),i=e[0],r=e[1],o=void 0;return o=1===i.length?i[0]:i.slice(0,-1).join(", ")+" & "+i[i.length-1],o+=": "+r}).asArray(),this.dispatchEvent("change",this.attributions_)}},{key:"attachListeners",value:function(t){var e=this;t.getLayers&&(t.getLayers().forEach(function(t){return e.attachListeners(t)}),this.listenAt(t.getLayers()).on("add",function(t){e.attachListeners(t.element),e.debouncedUpdate()}).on("remove",function(t){e.detachFrom(t.element),e.debouncedUpdate()})),t instanceof c.GroupLayer||this.listenAt(t).on("change:visible",function(){e.debouncedUpdate()}).on("change:source",function(){t.getVisible()&&e.debouncedUpdate()})}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WMTSSource=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(i(265)),r=i(5),o=i(24);e.WMTSSource=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=t.url;t.url="_",t.tileLoadFunction=function(t,e){(0,r.asyncImageLoad)(t.getImage(),n.originalUrlObject.extend(e.slice(1))).catch(function(t){return o.Debug.error(t)})};var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.originalUrlObject=i,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClusterSource=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=h(i(386)),o=i(24),a=h(i(36)),s=h(i(119)),u=i(1),l=h(i(53)),c=h(i(461));function h(t){return t&&t.__esModule?t:{default:t}}e.ClusterSource=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i.source=t,i.geometryFunction=i.geometryFunction||e.defaultGeometryFunction,function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),n(e,null,[{key:"defaultGeometryFunction",value:function(t){var e=t.getGeometry();return e instanceof a.default?e:e instanceof s.default||e instanceof l.default?new a.default((0,u.getCenter)(e.getExtent())):e instanceof c.default?new a.default(e.getCenter()):(o.Debug.warn("Trying to cluster unsupported geometry type."),null)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryTileWMSSource=e.QueryImageWMSSource=e.QueryWMSMixin=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(5),o=i(391);var a=e.QueryWMSMixin=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,[{key:"initialize",value:function(t){this.setQueryValues(t.queryValues||[])}},{key:"setQueryValues",value:function(t){this.queryValues_=t,this.updateParams(Object.assign({},this.getParams(),{LAYERS:t})),this.changed()}},{key:"getQueryValues",value:function(){return this.queryValues_}}]),t}();e.QueryImageWMSSource=(0,r.mixin)(o.ImageWMSSource,a),e.QueryTileWMSSource=(0,r.mixin)(o.TileWMSSource,a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseSilentGroupLayer=e.SilentGroupLayer=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){return t&&t.__esModule?t:{default:t}}(i(293)),o=i(104),a=i(5),s=i(262),u=i(155);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=e.SilentGroupLayer=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,e);var i=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n=new WeakMap;return i.getLayers().on("add",function(t){var e=t.element;e.provideMap&&e.provideMap(i.getProvidedMap()),n.set(e,e.on(["change:visible","change:childVisible"],function(){i.dispatchEvent({type:"change:childVisible",child:e})}))}),i.getLayers().on("remove",function(t){var e=t.element;e.provideMap&&e.provideMap(null),(0,o.unByKey)(n.get(e)),n.delete(e)}),i}return h(e,(0,a.mixin)(r.default,u.ProvideMapMixin)),n(e,[{key:"provideMap",value:function(t){(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"provideMap",this).call(this,t),this.getLayers().forEach(function(e){e.provideMap&&e.provideMap(t)})}}]),e}();e.BaseSilentGroupLayer=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,(0,a.mixin)(f,s.BaseLayerMixin)),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryVectorSource=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(261);e.QueryVectorSource=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.changedQueryValuesCount_=0,i.setQueryValues(t.queryValues||[]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.SourceServerVector),n(e,[{key:"setQueryValues",value:function(t){this.queryValues_=t,this.urlTemplate.expandTemplate("apiValue",this.queryValues_,!0),this.changedQueryValuesCount_++,this.changed()}},{key:"addFeatures",value:function(t){this.changedQueryValuesCount_>0&&(this.changedQueryValuesCount_--,this.clear()),function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addFeatures",this).call(this,t)}},{key:"getQueryValues",value:function(){return this.queryValues_}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(17),r=s(i(140)),o=s(i(213)),a=i(139);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(){t.call(this),this.xmlSerializer_=new XMLSerializer}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return o.default.XML},e.prototype.readFeature=function(t,e){if((0,a.isDocument)(t))return this.readFeatureFromDocument(t,e);if((0,a.isNode)(t))return this.readFeatureFromNode(t,e);if("string"==typeof t){var i=(0,a.parse)(t);return this.readFeatureFromDocument(i,e)}return null},e.prototype.readFeatureFromDocument=function(t,e){var i=this.readFeaturesFromDocument(t,e);return i.length>0?i[0]:null},e.prototype.readFeatureFromNode=function(t,e){return null},e.prototype.readFeatures=function(t,e){if((0,a.isDocument)(t))return this.readFeaturesFromDocument(t,e);if((0,a.isNode)(t))return this.readFeaturesFromNode(t,e);if("string"==typeof t){var i=(0,a.parse)(t);return this.readFeaturesFromDocument(i,e)}return[]},e.prototype.readFeaturesFromDocument=function(t,e){for(var i=[],r=t.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&(0,n.extend)(i,this.readFeaturesFromNode(r,e));return i},e.prototype.readFeaturesFromNode=function(t,e){},e.prototype.readGeometry=function(t,e){if((0,a.isDocument)(t))return this.readGeometryFromDocument(t,e);if((0,a.isNode)(t))return this.readGeometryFromNode(t,e);if("string"==typeof t){var i=(0,a.parse)(t);return this.readGeometryFromDocument(i,e)}return null},e.prototype.readGeometryFromDocument=function(t,e){return null},e.prototype.readGeometryFromNode=function(t,e){return null},e.prototype.readProjection=function(t){if((0,a.isDocument)(t))return this.readProjectionFromDocument(t);if((0,a.isNode)(t))return this.readProjectionFromNode(t);if("string"==typeof t){var e=(0,a.parse)(t);return this.readProjectionFromDocument(e)}return null},e.prototype.readProjectionFromDocument=function(t){return this.dataProjection},e.prototype.readProjectionFromNode=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){var i=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(i)},e.prototype.writeFeatureNode=function(t,e){return null},e.prototype.writeFeatures=function(t,e){var i=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(i)},e.prototype.writeFeaturesNode=function(t,e){return null},e.prototype.writeGeometry=function(t,e){var i=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(i)},e.prototype.writeGeometryNode=function(t,e){return null},e}(r.default);e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.getDefaultFillStyle=function(){return H},e.getDefaultImageStyle=function(){return K},e.getDefaultStrokeStyle=function(){return Z},e.getDefaultTextStyle=function(){return J},e.getDefaultStyle=function(){return Q},e.getDefaultStyleArray=function(){return tt},e.readFlatCoordinates=rt;var r=L(i(64)),o=i(17),a=i(20),s=i(144),u=i(140),l=L(i(770)),c=i(266),h=L(i(267)),f=L(i(102)),p=L(i(25)),d=L(i(119)),g=L(i(168)),v=L(i(143)),y=L(i(214)),_=L(i(36)),m=L(i(53)),b=i(14),x=i(6),S=L(i(215)),w=L(i(283)),E=L(i(437)),M=L(i(436)),O=L(i(291)),C=L(i(98)),T=L(i(435)),P=i(139);function L(t){return t&&t.__esModule?t:{default:t}}var A,I,R,k,j,N,F,D=["http://www.google.com/kml/ext/2.2"],G=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],U={fraction:E.default.FRACTION,pixels:E.default.PIXELS,insetPixels:E.default.PIXELS},B=(0,P.makeStructureNS)(G,{ExtendedData:kt,Region:jt,MultiGeometry:(0,P.makeObjectPropertySetter)(Mt,"geometry"),LineString:(0,P.makeObjectPropertySetter)(St,"geometry"),LinearRing:(0,P.makeObjectPropertySetter)(wt,"geometry"),Point:(0,P.makeObjectPropertySetter)(Ot,"geometry"),Polygon:(0,P.makeObjectPropertySetter)(Tt,"geometry"),Style:(0,P.makeObjectPropertySetter)(Lt),StyleMap:function(t,e){var i=ut(t,e);if(!i)return;var n=e[e.length-1];Array.isArray(i)?n.Style=i:"string"==typeof i?n.styleUrl=i:(0,a.assert)(!1,38)},address:(0,P.makeObjectPropertySetter)(c.readString),description:(0,P.makeObjectPropertySetter)(c.readString),name:(0,P.makeObjectPropertySetter)(c.readString),open:(0,P.makeObjectPropertySetter)(c.readBoolean),phoneNumber:(0,P.makeObjectPropertySetter)(c.readString),styleUrl:(0,P.makeObjectPropertySetter)(ot),visibility:(0,P.makeObjectPropertySetter)(c.readBoolean)},(0,P.makeStructureNS)(D,{MultiTrack:(0,P.makeObjectPropertySetter)(function(t,e){var i=(0,P.pushParseAndPop)([],gt,t,e);if(!i)return;return new g.default(i)},"geometry"),Track:(0,P.makeObjectPropertySetter)(yt,"geometry")})),V=(0,P.makeStructureNS)(G,{ExtendedData:kt,Region:jt,Link:function(t,e){(0,P.parseNode)(z,t,e)},address:(0,P.makeObjectPropertySetter)(c.readString),description:(0,P.makeObjectPropertySetter)(c.readString),name:(0,P.makeObjectPropertySetter)(c.readString),open:(0,P.makeObjectPropertySetter)(c.readBoolean),phoneNumber:(0,P.makeObjectPropertySetter)(c.readString),visibility:(0,P.makeObjectPropertySetter)(c.readBoolean)}),z=(0,P.makeStructureNS)(G,{href:(0,P.makeObjectPropertySetter)(ot)}),Y=(0,P.makeStructureNS)(G,{LatLonAltBox:function(t,e){var i=(0,P.pushParseAndPop)({},Dt,t,e);if(!i)return;var n=e[e.length-1],r=[parseFloat(i.west),parseFloat(i.south),parseFloat(i.east),parseFloat(i.north)];n.extent=r,n.altitudeMode=i.altitudeMode,n.minAltitude=parseFloat(i.minAltitude),n.maxAltitude=parseFloat(i.maxAltitude)},Lod:function(t,e){var i=(0,P.pushParseAndPop)({},Gt,t,e);if(!i)return;var n=e[e.length-1];n.minLodPixels=parseFloat(i.minLodPixels),n.maxLodPixels=parseFloat(i.maxLodPixels),n.minFadeExtent=parseFloat(i.minFadeExtent),n.maxFadeExtent=parseFloat(i.maxFadeExtent)}}),W=(0,P.makeStructureNS)(G,["Document","Placemark"]),X=(0,P.makeStructureNS)(G,{Document:(0,P.makeChildAppender)(function(t,e,i){var n={node:t};(0,P.pushSerializeAndPop)(n,Yt,Wt,e,i,void 0,this)}),Placemark:(0,P.makeChildAppender)(ge)}),H=null;var q,K=null;var $,Z=null;var J=null;var Q=null;var tt=null;var et=function(t){function e(e){t.call(this);var i=e||{};tt||(A=[255,255,255,1],H=new S.default({color:A}),I=[20,2],R=E.default.PIXELS,k=E.default.PIXELS,j=[64,64],N="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",F=.5,K=new w.default({anchor:I,anchorOrigin:M.default.BOTTOM_LEFT,anchorXUnits:R,anchorYUnits:k,crossOrigin:"anonymous",rotation:0,scale:F,size:j,src:N}),q="NO_IMAGE",Z=new O.default({color:A,width:1}),$=new O.default({color:[51,51,51,1],width:2}),J=new T.default({font:"bold 16px Helvetica",fill:H,stroke:$,scale:.8}),Q=new C.default({fill:H,image:K,text:J,stroke:Z,zIndex:0}),tt=[Q]),this.dataProjection=(0,x.get)("EPSG:4326"),this.defaultStyle_=i.defaultStyle?i.defaultStyle:tt,this.extractStyles_=void 0===i.extractStyles||i.extractStyles,this.writeStyles_=void 0===i.writeStyles||i.writeStyles,this.sharedStyles_={},this.showPointNames_=void 0===i.showPointNames||i.showPointNames}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readDocumentOrFolder_=function(t,e){var i=(0,P.makeStructureNS)(G,{Document:(0,P.makeArrayExtender)(this.readDocumentOrFolder_,this),Folder:(0,P.makeArrayExtender)(this.readDocumentOrFolder_,this),Placemark:(0,P.makeArrayPusher)(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),n=(0,P.pushParseAndPop)([],i,t,e,this);return n||void 0},e.prototype.readPlacemark_=function(t,e){var i=(0,P.pushParseAndPop)({geometry:null},B,t,e);if(i){var n=new r.default,o=t.getAttribute("id");null!==o&&n.setId(o);var a=e[0],s=i.geometry;if(s&&(0,u.transformWithOptions)(s,!1,a),n.setGeometry(s),delete i.geometry,this.extractStyles_){var l=function(t,e,i,n,r){return function(o,a){var s,u=r,l="";if(u){var c=o.getGeometry();c&&(u=c.getType()===p.default.POINT)}if(u&&(l=o.get("name"),u=u&&l),t)return u?(s=it(t[0],l),t.concat(s)):t;if(e){var h=function t(e,i,n){return Array.isArray(e)?e:"string"==typeof e?(!(e in n)&&"#"+e in n&&(e="#"+e),t(n[e],i,n)):i}(e,i,n);return u?(s=it(h[0],l),h.concat(s)):h}return u?(s=it(i[0],l),i.concat(s)):i}}(i.Style,i.styleUrl,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);n.setStyle(l)}return delete i.Style,n.setProperties(i),n}},e.prototype.readSharedStyle_=function(t,e){var i=t.getAttribute("id");if(null!==i){var n=Lt(t,e);if(n){var r,o=t.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o)r=new URL("#"+i,o).href;else r="#"+i;this.sharedStyles_[r]=n}}},e.prototype.readSharedStyleMap_=function(t,e){var i=t.getAttribute("id");if(null!==i){var n=ut(t,e);if(n){var r,o=t.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o)r=new URL("#"+i,o).href;else r="#"+i;this.sharedStyles_[r]=n}}},e.prototype.readFeatureFromNode=function(t,e){if(!(0,o.includes)(G,t.namespaceURI))return null;var i=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return i||null},e.prototype.readFeaturesFromNode=function(t,e){var i;if(!(0,o.includes)(G,t.namespaceURI))return[];var n=t.localName;if("Document"==n||"Folder"==n)return(i=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]))||[];if("Placemark"==n){var r=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return r?[r]:[]}if("kml"==n){i=[];for(var a=t.firstElementChild;a;a=a.nextElementSibling){var s=this.readFeaturesFromNode(a,e);s&&(0,o.extend)(i,s)}return i}return[]},e.prototype.readName=function(t){if((0,P.isDocument)(t))return this.readNameFromDocument(t);if((0,P.isNode)(t))return this.readNameFromNode(t);if("string"==typeof t){var e=(0,P.parse)(t);return this.readNameFromDocument(e)}},e.prototype.readNameFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var i=this.readNameFromNode(e);if(i)return i}},e.prototype.readNameFromNode=function(t){for(var e=t.firstElementChild;e;e=e.nextElementSibling)if((0,o.includes)(G,e.namespaceURI)&&"name"==e.localName)return(0,c.readString)(e);for(var i=t.firstElementChild;i;i=i.nextElementSibling){var n=i.localName;if((0,o.includes)(G,i.namespaceURI)&&("Document"==n||"Folder"==n||"Placemark"==n||"kml"==n)){var r=this.readNameFromNode(i);if(r)return r}}},e.prototype.readNetworkLinks=function(t){var e=[];if((0,P.isDocument)(t))(0,o.extend)(e,this.readNetworkLinksFromDocument(t));else if((0,P.isNode)(t))(0,o.extend)(e,this.readNetworkLinksFromNode(t));else if("string"==typeof t){var i=(0,P.parse)(t);(0,o.extend)(e,this.readNetworkLinksFromDocument(i))}return e},e.prototype.readNetworkLinksFromDocument=function(t){for(var e=[],i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&(0,o.extend)(e,this.readNetworkLinksFromNode(i));return e},e.prototype.readNetworkLinksFromNode=function(t){for(var e=[],i=t.firstElementChild;i;i=i.nextElementSibling)if((0,o.includes)(G,i.namespaceURI)&&"NetworkLink"==i.localName){var n=(0,P.pushParseAndPop)({},V,i,[]);e.push(n)}for(var r=t.firstElementChild;r;r=r.nextElementSibling){var a=r.localName;!(0,o.includes)(G,r.namespaceURI)||"Document"!=a&&"Folder"!=a&&"kml"!=a||(0,o.extend)(e,this.readNetworkLinksFromNode(r))}return e},e.prototype.readRegion=function(t){var e=[];if((0,P.isDocument)(t))(0,o.extend)(e,this.readRegionFromDocument(t));else if((0,P.isNode)(t))(0,o.extend)(e,this.readRegionFromNode(t));else if("string"==typeof t){var i=(0,P.parse)(t);(0,o.extend)(e,this.readRegionFromDocument(i))}return e},e.prototype.readRegionFromDocument=function(t){for(var e=[],i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&(0,o.extend)(e,this.readRegionFromNode(i));return e},e.prototype.readRegionFromNode=function(t){for(var e=[],i=t.firstElementChild;i;i=i.nextElementSibling)if((0,o.includes)(G,i.namespaceURI)&&"Region"==i.localName){var n=(0,P.pushParseAndPop)({},Y,i,[]);e.push(n)}for(var r=t.firstElementChild;r;r=r.nextElementSibling){var a=r.localName;!(0,o.includes)(G,r.namespaceURI)||"Document"!=a&&"Folder"!=a&&"kml"!=a||(0,o.extend)(e,this.readRegionFromNode(r))}return e},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var i=(0,P.createElementNS)(G[4],"kml"),n="http://www.w3.org/2000/xmlns/";i.setAttributeNS(n,"xmlns:gx",D[0]),i.setAttributeNS(n,"xmlns:xsi",P.XML_SCHEMA_INSTANCE_URI),i.setAttributeNS(P.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var r={node:i},o={};t.length>1?o.Document=t:1==t.length&&(o.Placemark=t[0]);var a=W[i.namespaceURI],s=(0,P.makeSequence)(o,a);return(0,P.pushSerializeAndPop)(r,X,P.OBJECT_PROPERTY_NODE_FACTORY,s,[e],a,this),i},e}(l.default);function it(t,e){var i=null,n=[0,0],r="start";if(t.getImage()){var o=t.getImage().getImageSize();if(null===o&&(o=j),2==o.length){var a=t.getImage().getScale();n[0]=a*o[0]/2,n[1]=-a*o[1]/2,r="left"}}if(null!==t.getText()){var s=t.getText();(i=s.clone()).setFont(s.getFont()||J.getFont()),i.setScale(s.getScale()||J.getScale()),i.setFill(s.getFill()||J.getFill()),i.setStroke(s.getStroke()||$)}else i=J.clone();return i.setText(e),i.setOffsetX(n[0]),i.setOffsetY(n[1]),i.setTextAlign(r),new C.default({text:i})}function nt(t){var e=(0,P.getAllTextContent)(t,!1),i=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(i){var n=i[1];return[parseInt(n.substr(6,2),16),parseInt(n.substr(4,2),16),parseInt(n.substr(2,2),16),parseInt(n.substr(0,2),16)/255]}}function rt(t){for(var e,i=(0,P.getAllTextContent)(t,!1),n=[],r=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=r.exec(i);){var o=parseFloat(e[1]),a=parseFloat(e[2]),s=e[3]?parseFloat(e[3]):0;n.push(o,a,s),i=i.substr(e[0].length)}if(""===i)return n}function ot(t){var e=(0,P.getAllTextContent)(t,!1).trim(),i=t.baseURI;return i&&"about:blank"!=i||(i=window.location.href),i?new URL(e,i).href:e}function at(t){return(0,c.readDecimal)(t)}var st=(0,P.makeStructureNS)(G,{Pair:function(t,e){var i=(0,P.pushParseAndPop)({},Nt,t,e);if(!i)return;var n=i.key;if(n&&"normal"==n){var r=i.styleUrl;r&&(e[e.length-1]=r);var o=i.Style;o&&(e[e.length-1]=o)}}});function ut(t,e){return(0,P.pushParseAndPop)(void 0,st,t,e)}var lt=(0,P.makeStructureNS)(G,{Icon:(0,P.makeObjectPropertySetter)(function(t,e){var i=(0,P.pushParseAndPop)({},_t,t,e);return i||null}),heading:(0,P.makeObjectPropertySetter)(c.readDecimal),hotSpot:(0,P.makeObjectPropertySetter)(function(t){var e,i=t.getAttribute("xunits"),n=t.getAttribute("yunits");return e="insetPixels"!==i?"insetPixels"!==n?M.default.BOTTOM_LEFT:M.default.TOP_LEFT:"insetPixels"!==n?M.default.BOTTOM_RIGHT:M.default.TOP_RIGHT,{x:parseFloat(t.getAttribute("x")),xunits:U[i],y:parseFloat(t.getAttribute("y")),yunits:U[n],origin:e}}),scale:(0,P.makeObjectPropertySetter)(at)});var ct=(0,P.makeStructureNS)(G,{color:(0,P.makeObjectPropertySetter)(nt),scale:(0,P.makeObjectPropertySetter)(at)});var ht=(0,P.makeStructureNS)(G,{color:(0,P.makeObjectPropertySetter)(nt),width:(0,P.makeObjectPropertySetter)(c.readDecimal)});var ft=(0,P.makeStructureNS)(G,{color:(0,P.makeObjectPropertySetter)(nt),fill:(0,P.makeObjectPropertySetter)(c.readBoolean),outline:(0,P.makeObjectPropertySetter)(c.readBoolean)});var pt=(0,P.makeStructureNS)(G,{coordinates:(0,P.makeReplacer)(rt)});function dt(t,e){return(0,P.pushParseAndPop)(null,pt,t,e)}var gt=(0,P.makeStructureNS)(D,{Track:(0,P.makeArrayPusher)(yt)});var vt=(0,P.makeStructureNS)(G,{when:function(t,e){var i=e[e.length-1].whens,n=(0,P.getAllTextContent)(t,!1),r=Date.parse(n);i.push(isNaN(r)?0:r)}},(0,P.makeStructureNS)(D,{coord:function(t,e){var i=e[e.length-1].flatCoordinates,n=(0,P.getAllTextContent)(t,!1),r=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(n);if(r){var o=parseFloat(r[1]),a=parseFloat(r[2]),s=parseFloat(r[3]);i.push(o,a,s,0)}else i.push(0,0,0,0)}}));function yt(t,e){var i=(0,P.pushParseAndPop)({flatCoordinates:[],whens:[]},vt,t,e);if(i){for(var n=i.flatCoordinates,r=i.whens,o=0,a=Math.min(n.length,r.length);o<a;++o)n[4*o+3]=r[o];return new d.default(n,f.default.XYZM)}}var _t=(0,P.makeStructureNS)(G,{href:(0,P.makeObjectPropertySetter)(ot)},(0,P.makeStructureNS)(D,{x:(0,P.makeObjectPropertySetter)(c.readDecimal),y:(0,P.makeObjectPropertySetter)(c.readDecimal),w:(0,P.makeObjectPropertySetter)(c.readDecimal),h:(0,P.makeObjectPropertySetter)(c.readDecimal)}));var mt=(0,P.makeStructureNS)(G,{coordinates:(0,P.makeReplacer)(rt)});function bt(t,e){return(0,P.pushParseAndPop)(null,mt,t,e)}var xt=(0,P.makeStructureNS)(G,{extrude:(0,P.makeObjectPropertySetter)(c.readBoolean),tessellate:(0,P.makeObjectPropertySetter)(c.readBoolean),altitudeMode:(0,P.makeObjectPropertySetter)(c.readString)});function St(t,e){var i=(0,P.pushParseAndPop)({},xt,t,e),n=bt(t,e);if(n){var r=new d.default(n,f.default.XYZ);return r.setProperties(i),r}}function wt(t,e){var i=(0,P.pushParseAndPop)({},xt,t,e),n=bt(t,e);if(n){var r=new m.default(n,f.default.XYZ,[n.length]);return r.setProperties(i),r}}var Et=(0,P.makeStructureNS)(G,{LineString:(0,P.makeArrayPusher)(St),LinearRing:(0,P.makeArrayPusher)(wt),MultiGeometry:(0,P.makeArrayPusher)(Mt),Point:(0,P.makeArrayPusher)(Ot),Polygon:(0,P.makeArrayPusher)(Tt)});function Mt(t,e){var i,n=(0,P.pushParseAndPop)([],Et,t,e);if(!n)return null;if(0===n.length)return new h.default(n);for(var r,s,u,l=!0,c=n[0].getType(),f=1,d=n.length;f<d;++f)if((r=n[f]).getType()!=c){l=!1;break}if(l)if(c==p.default.POINT){var _=n[0];s=_.getLayout(),u=_.getFlatCoordinates();for(var m=1,b=n.length;m<b;++m)r=n[m],(0,o.extend)(u,r.getFlatCoordinates());At(i=new v.default(u,s),n)}else c==p.default.LINE_STRING?At(i=new g.default(n),n):c==p.default.POLYGON?At(i=new y.default(n),n):c==p.default.GEOMETRY_COLLECTION?i=new h.default(n):(0,a.assert)(!1,37);else i=new h.default(n);return i}function Ot(t,e){var i=(0,P.pushParseAndPop)({},xt,t,e),n=bt(t,e);if(n){var r=new _.default(n,f.default.XYZ);return r.setProperties(i),r}}var Ct=(0,P.makeStructureNS)(G,{innerBoundaryIs:function(t,e){var i=(0,P.pushParseAndPop)(void 0,Ut,t,e);if(i){var n=e[e.length-1];n.push(i)}},outerBoundaryIs:function(t,e){var i=(0,P.pushParseAndPop)(void 0,Bt,t,e);if(i){var n=e[e.length-1];n[0]=i}}});function Tt(t,e){var i=(0,P.pushParseAndPop)({},xt,t,e),n=(0,P.pushParseAndPop)([null],Ct,t,e);if(n&&n[0]){for(var r=n[0],a=[r.length],s=1,u=n.length;s<u;++s)(0,o.extend)(r,n[s]),a.push(r.length);var l=new m.default(r,f.default.XYZ,a);return l.setProperties(i),l}}var Pt=(0,P.makeStructureNS)(G,{IconStyle:function(t,e){var i=(0,P.pushParseAndPop)({},lt,t,e);if(i){var n,r,o,a,s=e[e.length-1],u="Icon"in i?i.Icon:{},l=!("Icon"in i)||Object.keys(u).length>0,c=u.href;c?n=c:l&&(n=N);var h,f=M.default.BOTTOM_LEFT,p=i.hotSpot;p?(r=[p.x,p.y],o=p.xunits,a=p.yunits,f=p.origin):n===N?(r=I,o=R,a=k):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(n)&&(r=[.5,0],o=E.default.FRACTION,a=E.default.FRACTION);var d,g=u.x,v=u.y;void 0!==g&&void 0!==v&&(h=[g,v]);var y,_=u.w,m=u.h;void 0!==_&&void 0!==m&&(d=[_,m]);var x=i.heading;void 0!==x&&(y=(0,b.toRadians)(x));var S=i.scale;if(l){n==N&&(d=j,void 0===S&&(S=F));var O=new w.default({anchor:r,anchorOrigin:f,anchorXUnits:o,anchorYUnits:a,crossOrigin:"anonymous",offset:h,offsetOrigin:M.default.BOTTOM_LEFT,rotation:y,scale:S,size:d,src:n});s.imageStyle=O}else s.imageStyle=q}},LabelStyle:function(t,e){var i=(0,P.pushParseAndPop)({},ct,t,e);if(i){var n=e[e.length-1],r=new T.default({fill:new S.default({color:"color"in i?i.color:A}),scale:i.scale});n.textStyle=r}},LineStyle:function(t,e){var i=(0,P.pushParseAndPop)({},ht,t,e);if(i){var n=e[e.length-1],r=new O.default({color:"color"in i?i.color:A,width:"width"in i?i.width:1});n.strokeStyle=r}},PolyStyle:function(t,e){var i=(0,P.pushParseAndPop)({},ft,t,e);if(i){var n=e[e.length-1],r=new S.default({color:"color"in i?i.color:A});n.fillStyle=r;var o=i.fill;void 0!==o&&(n.fill=o);var a=i.outline;void 0!==a&&(n.outline=a)}}});function Lt(t,e){var i=(0,P.pushParseAndPop)({},Pt,t,e);if(!i)return null;var n="fillStyle"in i?i.fillStyle:H,r=i.fill;void 0===r||r||(n=null);var o="imageStyle"in i?i.imageStyle:K;o==q&&(o=void 0);var a="textStyle"in i?i.textStyle:J,s="strokeStyle"in i?i.strokeStyle:Z,u=i.outline;return void 0===u||u||(s=null),[new C.default({fill:n,image:o,stroke:s,text:a,zIndex:void 0})]}function At(t,e){var i,n,r,o=e.length,a=new Array(e.length),s=new Array(e.length),u=new Array(e.length);i=n=r=!1;for(var l=0;l<o;++l){var c=e[l];a[l]=c.get("extrude"),s[l]=c.get("tessellate"),u[l]=c.get("altitudeMode"),i=i||void 0!==a[l],n=n||void 0!==s[l],r=r||u[l]}i&&t.set("extrude",a),n&&t.set("tessellate",s),r&&t.set("altitudeMode",u)}var It=(0,P.makeStructureNS)(G,{displayName:(0,P.makeObjectPropertySetter)(c.readString),value:(0,P.makeObjectPropertySetter)(c.readString)});var Rt=(0,P.makeStructureNS)(G,{Data:function(t,e){var i=t.getAttribute("name");(0,P.parseNode)(It,t,e);var n=e[e.length-1];null!==i?n[i]=n.value:null!==n.displayName&&(n[n.displayName]=n.value),delete n.value},SchemaData:function(t,e){(0,P.parseNode)(Ft,t,e)}});function kt(t,e){(0,P.parseNode)(Rt,t,e)}function jt(t,e){(0,P.parseNode)(Y,t,e)}var Nt=(0,P.makeStructureNS)(G,{Style:(0,P.makeObjectPropertySetter)(Lt),key:(0,P.makeObjectPropertySetter)(c.readString),styleUrl:(0,P.makeObjectPropertySetter)(ot)});var Ft=(0,P.makeStructureNS)(G,{SimpleData:function(t,e){var i=t.getAttribute("name");if(null!==i){var n=(0,c.readString)(t),r=e[e.length-1];r[i]=n}}});var Dt=(0,P.makeStructureNS)(G,{altitudeMode:(0,P.makeObjectPropertySetter)(c.readString),minAltitude:(0,P.makeObjectPropertySetter)(c.readDecimal),maxAltitude:(0,P.makeObjectPropertySetter)(c.readDecimal),north:(0,P.makeObjectPropertySetter)(c.readDecimal),south:(0,P.makeObjectPropertySetter)(c.readDecimal),east:(0,P.makeObjectPropertySetter)(c.readDecimal),west:(0,P.makeObjectPropertySetter)(c.readDecimal)});var Gt=(0,P.makeStructureNS)(G,{minLodPixels:(0,P.makeObjectPropertySetter)(c.readDecimal),maxLodPixels:(0,P.makeObjectPropertySetter)(c.readDecimal),minFadeExtent:(0,P.makeObjectPropertySetter)(c.readDecimal),maxFadeExtent:(0,P.makeObjectPropertySetter)(c.readDecimal)});var Ut=(0,P.makeStructureNS)(G,{LinearRing:(0,P.makeReplacer)(dt)});var Bt=(0,P.makeStructureNS)(G,{LinearRing:(0,P.makeReplacer)(dt)});function Vt(t,e){for(var i=(0,s.asArray)(e),n=[255*(4==i.length?i[3]:1),i[2],i[1],i[0]],r=0;r<4;++r){var o=parseInt(n[r],10).toString(16);n[r]=1==o.length?"0"+o:o}(0,c.writeStringTextNode)(t,n.join(""))}var zt=(0,P.makeStructureNS)(G,{Data:(0,P.makeChildAppender)(function(t,e,i){t.setAttribute("name",e.name);var r={node:t},o=e.value;"object"==(void 0===o?"undefined":n(o))?(null!==o&&o.displayName&&(0,P.pushSerializeAndPop)(r,zt,P.OBJECT_PROPERTY_NODE_FACTORY,[o.displayName],i,["displayName"]),null!==o&&o.value&&(0,P.pushSerializeAndPop)(r,zt,P.OBJECT_PROPERTY_NODE_FACTORY,[o.value],i,["value"])):(0,P.pushSerializeAndPop)(r,zt,P.OBJECT_PROPERTY_NODE_FACTORY,[o],i,["value"])}),value:(0,P.makeChildAppender)(function(t,e){(0,c.writeStringTextNode)(t,e)}),displayName:(0,P.makeChildAppender)(function(t,e){(0,c.writeCDATASection)(t,e)})});var Yt=(0,P.makeStructureNS)(G,{Placemark:(0,P.makeChildAppender)(ge)}),Wt=function(t,e,i){var n=e[e.length-1].node;return(0,P.createElementNS)(n.namespaceURI,"Placemark")};var Xt=(0,P.makeSimpleNodeFactory)("Data");var Ht=(0,P.makeStructureNS)(G,["href"],(0,P.makeStructureNS)(D,["x","y","w","h"])),qt=(0,P.makeStructureNS)(G,{href:(0,P.makeChildAppender)(c.writeStringTextNode)},(0,P.makeStructureNS)(D,{x:(0,P.makeChildAppender)(c.writeDecimalTextNode),y:(0,P.makeChildAppender)(c.writeDecimalTextNode),w:(0,P.makeChildAppender)(c.writeDecimalTextNode),h:(0,P.makeChildAppender)(c.writeDecimalTextNode)})),Kt=function(t,e,i){return(0,P.createElementNS)(D[0],"gx:"+i)};var $t=(0,P.makeStructureNS)(G,["scale","heading","Icon","hotSpot"]),Zt=(0,P.makeStructureNS)(G,{Icon:(0,P.makeChildAppender)(function(t,e,i){var n={node:t},r=i[i.length-1].node,o=Ht[r.namespaceURI],a=(0,P.makeSequence)(e,o);(0,P.pushSerializeAndPop)(n,qt,P.OBJECT_PROPERTY_NODE_FACTORY,a,i,o),o=Ht[D[0]],a=(0,P.makeSequence)(e,o),(0,P.pushSerializeAndPop)(n,qt,Kt,a,i,o)}),heading:(0,P.makeChildAppender)(c.writeDecimalTextNode),hotSpot:(0,P.makeChildAppender)(function(t,e){t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("xunits",e.xunits),t.setAttribute("yunits",e.yunits)}),scale:(0,P.makeChildAppender)(Me)});var Jt=(0,P.makeStructureNS)(G,["color","scale"]),Qt=(0,P.makeStructureNS)(G,{color:(0,P.makeChildAppender)(Vt),scale:(0,P.makeChildAppender)(Me)});var te=(0,P.makeStructureNS)(G,["color","width"]),ee=(0,P.makeStructureNS)(G,{color:(0,P.makeChildAppender)(Vt),width:(0,P.makeChildAppender)(c.writeDecimalTextNode)});var ie={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},ne=function(t,e,i){if(t){var n=e[e.length-1].node;return(0,P.createElementNS)(n.namespaceURI,ie[t.getType()])}},re=(0,P.makeSimpleNodeFactory)("Point"),oe=(0,P.makeSimpleNodeFactory)("LineString"),ae=(0,P.makeSimpleNodeFactory)("LinearRing"),se=(0,P.makeSimpleNodeFactory)("Polygon"),ue=(0,P.makeStructureNS)(G,{LineString:(0,P.makeChildAppender)(_e),Point:(0,P.makeChildAppender)(_e),Polygon:(0,P.makeChildAppender)(Se),GeometryCollection:(0,P.makeChildAppender)(le)});function le(t,e,i){var n,r,o={node:t},s=e.getType();s==p.default.GEOMETRY_COLLECTION?(n=e.getGeometries(),r=ne):s==p.default.MULTI_POINT?(n=e.getPoints(),r=re):s==p.default.MULTI_LINE_STRING?(n=e.getLineStrings(),r=oe):s==p.default.MULTI_POLYGON?(n=e.getPolygons(),r=se):(0,a.assert)(!1,39),(0,P.pushSerializeAndPop)(o,ue,r,n,i)}var ce=(0,P.makeStructureNS)(G,{LinearRing:(0,P.makeChildAppender)(_e)});function he(t,e,i){var n={node:t};(0,P.pushSerializeAndPop)(n,ce,ae,[e],i)}var fe=(0,P.makeStructureNS)(G,{ExtendedData:(0,P.makeChildAppender)(function(t,e,i){for(var n={node:t},r=e.names,o=e.values,a=r.length,s=0;s<a;s++)(0,P.pushSerializeAndPop)(n,zt,Xt,[{name:r[s],value:o[s]}],i)}),MultiGeometry:(0,P.makeChildAppender)(le),LineString:(0,P.makeChildAppender)(_e),LinearRing:(0,P.makeChildAppender)(_e),Point:(0,P.makeChildAppender)(_e),Polygon:(0,P.makeChildAppender)(Se),Style:(0,P.makeChildAppender)(function(t,e,i){var n={node:t},r={},o=e.getFill(),a=e.getStroke(),s=e.getImage(),u=e.getText();s instanceof w.default&&(r.IconStyle=s);u&&(r.LabelStyle=u);a&&(r.LineStyle=a);o&&(r.PolyStyle=o);var l=i[i.length-1].node,c=Oe[l.namespaceURI],h=(0,P.makeSequence)(r,c);(0,P.pushSerializeAndPop)(n,Ce,P.OBJECT_PROPERTY_NODE_FACTORY,h,i,c)}),address:(0,P.makeChildAppender)(c.writeStringTextNode),description:(0,P.makeChildAppender)(c.writeStringTextNode),name:(0,P.makeChildAppender)(c.writeStringTextNode),open:(0,P.makeChildAppender)(c.writeBooleanTextNode),phoneNumber:(0,P.makeChildAppender)(c.writeStringTextNode),styleUrl:(0,P.makeChildAppender)(c.writeStringTextNode),visibility:(0,P.makeChildAppender)(c.writeBooleanTextNode)}),pe=(0,P.makeStructureNS)(G,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),de=(0,P.makeSimpleNodeFactory)("ExtendedData");function ge(t,e,i){var n={node:t};e.getId()&&t.setAttribute("id",e.getId());var r=e.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[e.getGeometryName()]=1;var a=Object.keys(r||{}).sort().filter(function(t){return!o[t]});if(a.length>0){var s={names:a,values:(0,P.makeSequence)(r,a)};(0,P.pushSerializeAndPop)(n,fe,de,[s],i)}var l=e.getStyleFunction();if(l){var c=l(e,0);if(c){var h=Array.isArray(c)?c[0]:c;this.writeStyles_&&(r.Style=h);var f=h.getText();f&&(r.name=f.getText())}}var p=i[i.length-1].node,d=pe[p.namespaceURI],g=(0,P.makeSequence)(r,d);(0,P.pushSerializeAndPop)(n,fe,P.OBJECT_PROPERTY_NODE_FACTORY,g,i,d);var v=i[0],y=e.getGeometry();y&&(y=(0,u.transformWithOptions)(y,!0,v)),(0,P.pushSerializeAndPop)(n,fe,ne,[y],i)}var ve=(0,P.makeStructureNS)(G,["extrude","tessellate","altitudeMode","coordinates"]),ye=(0,P.makeStructureNS)(G,{extrude:(0,P.makeChildAppender)(c.writeBooleanTextNode),tessellate:(0,P.makeChildAppender)(c.writeBooleanTextNode),altitudeMode:(0,P.makeChildAppender)(c.writeStringTextNode),coordinates:(0,P.makeChildAppender)(function(t,e,i){var n,r=i[i.length-1],o=r.layout,s=r.stride;o==f.default.XY||o==f.default.XYM?n=2:o==f.default.XYZ||o==f.default.XYZM?n=3:(0,a.assert)(!1,34);var u=e.length,l="";if(u>0){l+=e[0];for(var h=1;h<n;++h)l+=","+e[h];for(var p=s;p<u;p+=s){l+=" "+e[p];for(var d=1;d<n;++d)l+=","+e[p+d]}}(0,c.writeStringTextNode)(t,l)})});function _e(t,e,i){var n=e.getFlatCoordinates(),r={node:t};r.layout=e.getLayout(),r.stride=e.getStride();var o=e.getProperties();o.coordinates=n;var a=i[i.length-1].node,s=ve[a.namespaceURI],u=(0,P.makeSequence)(o,s);(0,P.pushSerializeAndPop)(r,ye,P.OBJECT_PROPERTY_NODE_FACTORY,u,i,s)}var me=(0,P.makeStructureNS)(G,{outerBoundaryIs:(0,P.makeChildAppender)(he),innerBoundaryIs:(0,P.makeChildAppender)(he)}),be=(0,P.makeSimpleNodeFactory)("innerBoundaryIs"),xe=(0,P.makeSimpleNodeFactory)("outerBoundaryIs");function Se(t,e,i){var n=e.getLinearRings(),r=n.shift(),o={node:t};(0,P.pushSerializeAndPop)(o,me,be,n,i),(0,P.pushSerializeAndPop)(o,me,xe,[r],i)}var we=(0,P.makeStructureNS)(G,{color:(0,P.makeChildAppender)(Vt)}),Ee=(0,P.makeSimpleNodeFactory)("color");function Me(t,e){(0,c.writeDecimalTextNode)(t,Math.round(1e6*e)/1e6)}var Oe=(0,P.makeStructureNS)(G,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Ce=(0,P.makeStructureNS)(G,{IconStyle:(0,P.makeChildAppender)(function(t,e,i){var n={node:t},r={},o=e.getSrc(),a=e.getSize(),s=e.getImageSize(),u={href:o};if(a){u.w=a[0],u.h=a[1];var l=e.getAnchor(),c=e.getOrigin();if(c&&s&&0!==c[0]&&c[1]!==a[1]&&(u.x=c[0],u.y=s[1]-(c[1]+a[1])),l&&(l[0]!==a[0]/2||l[1]!==a[1]/2)){var h={x:l[0],xunits:E.default.PIXELS,y:a[1]-l[1],yunits:E.default.PIXELS};r.hotSpot=h}}r.Icon=u;var f=e.getScale();1!==f&&(r.scale=f);var p=e.getRotation();0!==p&&(r.heading=p);var d=i[i.length-1].node,g=$t[d.namespaceURI],v=(0,P.makeSequence)(r,g);(0,P.pushSerializeAndPop)(n,Zt,P.OBJECT_PROPERTY_NODE_FACTORY,v,i,g)}),LabelStyle:(0,P.makeChildAppender)(function(t,e,i){var n={node:t},r={},o=e.getFill();o&&(r.color=o.getColor());var a=e.getScale();a&&1!==a&&(r.scale=a);var s=i[i.length-1].node,u=Jt[s.namespaceURI],l=(0,P.makeSequence)(r,u);(0,P.pushSerializeAndPop)(n,Qt,P.OBJECT_PROPERTY_NODE_FACTORY,l,i,u)}),LineStyle:(0,P.makeChildAppender)(function(t,e,i){var n={node:t},r={color:e.getColor(),width:e.getWidth()},o=i[i.length-1].node,a=te[o.namespaceURI],s=(0,P.makeSequence)(r,a);(0,P.pushSerializeAndPop)(n,ee,P.OBJECT_PROPERTY_NODE_FACTORY,s,i,a)}),PolyStyle:(0,P.makeChildAppender)(function(t,e,i){var n={node:t};(0,P.pushSerializeAndPop)(n,we,Ee,[e.getColor()],i)})});e.default=et},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(140)),r=o(i(213));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return r.default.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(s(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(s(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){},e.prototype.readFeaturesFromObject=function(t,e){},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(s(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){},e.prototype.readProjection=function(t){return this.readProjectionFromObject(s(t))},e.prototype.readProjectionFromObject=function(t){},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){},e}(n.default);function s(t){if("string"==typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(20),r=v(i(64)),o=i(140),a=v(i(772)),s=v(i(267)),u=v(i(119)),l=v(i(168)),c=v(i(143)),h=v(i(214)),f=v(i(36)),p=v(i(53)),d=i(9),g=i(6);function v(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function e(e){var i=e||{};t.call(this),this.dataProjection=(0,g.get)(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(this.defaultFeatureProjection=(0,g.get)(i.featureProjection)),this.geometryName_=i.geometryName,this.extractGeometryName_=i.extractGeometryName}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeatureFromObject=function(t,e){var i=null,n=b((i="Feature"===t.type?t:{type:"Feature",geometry:t}).geometry,e),o=new r.default;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&void 0!==i.geometry_name&&o.setGeometryName(i.geometry_name),o.setGeometry(n),void 0!==i.id&&o.setId(i.id),i.properties&&o.setProperties(i.properties),o},e.prototype.readFeaturesFromObject=function(t,e){var i=null;if("FeatureCollection"===t.type){i=[];for(var n=t.features,r=0,o=n.length;r<o;++r)i.push(this.readFeatureFromObject(n[r],e))}else i=[this.readFeatureFromObject(t,e)];return i},e.prototype.readGeometryFromObject=function(t,e){return b(t,e)},e.prototype.readProjectionFromObject=function(t){var e,i=t.crs;return i?"name"==i.type?e=(0,g.get)(i.properties.name):(0,n.assert)(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var i={type:"Feature"},n=t.getId();void 0!==n&&(i.id=n);var r=t.getGeometry();i.geometry=r?x(r,e):null;var o=t.getProperties();return delete o[t.getGeometryName()],(0,d.isEmpty)(o)?i.properties=null:i.properties=o,i},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var i=[],n=0,r=t.length;n<r;++n)i.push(this.writeFeatureObject(t[n],e));return{type:"FeatureCollection",features:i}},e.prototype.writeGeometryObject=function(t,e){return x(t,this.adaptOptions(e))},e}(a.default),_={Point:function(t){return new f.default(t.coordinates)},LineString:function(t){return new u.default(t.coordinates)},Polygon:function(t){return new p.default(t.coordinates)},MultiPoint:function(t){return new c.default(t.coordinates)},MultiLineString:function(t){return new l.default(t.coordinates)},MultiPolygon:function(t){return new h.default(t.coordinates)},GeometryCollection:function(t,e){var i=t.geometries.map(function(t){return b(t,e)});return new s.default(i)}},m={Point:function(t,e){return{type:"Point",coordinates:t.getCoordinates()}},LineString:function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}},Polygon:function(t,e){var i;e&&(i=e.rightHanded);return{type:"Polygon",coordinates:t.getCoordinates(i)}},MultiPoint:function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}},MultiLineString:function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}},MultiPolygon:function(t,e){var i;e&&(i=e.rightHanded);return{type:"MultiPolygon",coordinates:t.getCoordinates(i)}},GeometryCollection:function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(t){var i=(0,d.assign)({},e);return delete i.featureProjection,x(t,i)})}},Circle:function(t){return{type:"GeometryCollection",geometries:[]}}};function b(t,e){if(!t)return null;var i=_[t.type];return(0,o.transformWithOptions)(i(t),!1,e)}function x(t,e){return(0,m[t.getType()])((0,o.transformWithOptions)(t,!0,e),e)}e.default=y},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseTileLayer=void 0;var n=i(393),r=i(262),o=i(5);e.BaseTileLayer=(0,o.mixin)(n.TileLayer,r.BaseLayerMixin)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptyBaseLayer=void 0;var n=function(t){return t&&t.__esModule?t:{default:t}}(i(264)),r=i(395);e.EmptyBaseLayer=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.source=new n.default({state:"ready",canvasFunction:function(){}}),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.BaseLayerImage),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(166),r=h(i(286)),o=h(i(74)),a=i(3),s=h(i(4)),u=i(1),l=i(191),c=h(i(403));function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(e,i,r,a,s,h){var f=e.getExtent(),p=i.getExtent(),d=p?(0,u.getIntersection)(r,p):r,g=(0,u.getCenter)(d),v=(0,l.calculateSourceResolution)(e,i,g,a),y=n.ERROR_THRESHOLD,_=new c.default(e,i,d,f,v*y),m=h(_.calculateSourceExtent(),v,s),b=o.default.LOADED;m&&(b=o.default.IDLE);var x=m?m.getPixelRatio():1;t.call(this,r,a,x,b),this.targetProj_=i,this.maxSourceExtent_=f,this.triangulation_=_,this.targetResolution_=a,this.targetExtent_=r,this.sourceImage_=m,this.sourcePixelRatio_=x,this.canvas_=null,this.sourceListenerKey_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==o.default.LOADING&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==o.default.LOADED){var e=(0,u.getWidth)(this.targetExtent_)/this.targetResolution_,i=(0,u.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,l.render)(e,i,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},e.prototype.load=function(){if(this.state==o.default.IDLE){this.state=o.default.LOADING,this.changed();var t=this.sourceImage_.getState();t==o.default.LOADED||t==o.default.ERROR?this.reproject_():(this.sourceListenerKey_=(0,a.listen)(this.sourceImage_,s.default.CHANGE,function(t){var e=this.sourceImage_.getState();e!=o.default.LOADED&&e!=o.default.ERROR||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){(0,a.unlistenByKey)(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(r.default);e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={KVP:"KVP",REST:"REST"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(397),r=function(t){return t&&t.__esModule?t:{default:t}}(i(396)),o=i(266),a=i(139);var s=[null,"http://www.opengis.net/ows/1.1"],u=(0,a.makeStructureNS)(s,{ServiceIdentification:(0,a.makeObjectPropertySetter)(function(t,e){return(0,a.pushParseAndPop)({},x,t,e)}),ServiceProvider:(0,a.makeObjectPropertySetter)(function(t,e){return(0,a.pushParseAndPop)({},S,t,e)}),OperationsMetadata:(0,a.makeObjectPropertySetter)(function(t,e){return(0,a.pushParseAndPop)({},y,t,e)})}),l=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},e.prototype.readFromNode=function(t){var e=(0,a.pushParseAndPop)({},u,t,[]);return e||null},e}(r.default),c=(0,a.makeStructureNS)(s,{DeliveryPoint:(0,a.makeObjectPropertySetter)(o.readString),City:(0,a.makeObjectPropertySetter)(o.readString),AdministrativeArea:(0,a.makeObjectPropertySetter)(o.readString),PostalCode:(0,a.makeObjectPropertySetter)(o.readString),Country:(0,a.makeObjectPropertySetter)(o.readString),ElectronicMailAddress:(0,a.makeObjectPropertySetter)(o.readString)}),h=(0,a.makeStructureNS)(s,{Value:(0,a.makeObjectPropertyPusher)(function(t,e){return(0,o.readString)(t)})}),f=(0,a.makeStructureNS)(s,{AllowedValues:(0,a.makeObjectPropertySetter)(function(t,e){return(0,a.pushParseAndPop)({},h,t,e)})}),p=(0,a.makeStructureNS)(s,{Phone:(0,a.makeObjectPropertySetter)(function(t,e){return(0,a.pushParseAndPop)({},_,t,e)}),Address:(0,a.makeObjectPropertySetter)(function(t,e){return(0,a.pushParseAndPop)({},c,t,e)})}),d=(0,a.makeStructureNS)(s,{HTTP:(0,a.makeObjectPropertySetter)(function(t,e){return(0,a.pushParseAndPop)({},g,t,e)})}),g=(0,a.makeStructureNS)(s,{Get:(0,a.makeObjectPropertyPusher)(function(t,e){var i=(0,n.readHref)(t);if(!i)return;return(0,a.pushParseAndPop)({href:i},m,t,e)}),Post:void 0}),v=(0,a.makeStructureNS)(s,{DCP:(0,a.makeObjectPropertySetter)(function(t,e){return(0,a.pushParseAndPop)({},d,t,e)})}),y=(0,a.makeStructureNS)(s,{Operation:function(t,e){var i=t.getAttribute("name"),n=(0,a.pushParseAndPop)({},v,t,e);if(!n)return;e[e.length-1][i]=n}}),_=(0,a.makeStructureNS)(s,{Voice:(0,a.makeObjectPropertySetter)(o.readString),Facsimile:(0,a.makeObjectPropertySetter)(o.readString)}),m=(0,a.makeStructureNS)(s,{Constraint:(0,a.makeObjectPropertyPusher)(function(t,e){var i=t.getAttribute("name");if(!i)return;return(0,a.pushParseAndPop)({name:i},f,t,e)})}),b=(0,a.makeStructureNS)(s,{IndividualName:(0,a.makeObjectPropertySetter)(o.readString),PositionName:(0,a.makeObjectPropertySetter)(o.readString),ContactInfo:(0,a.makeObjectPropertySetter)(function(t,e){return(0,a.pushParseAndPop)({},p,t,e)})}),x=(0,a.makeStructureNS)(s,{Abstract:(0,a.makeObjectPropertySetter)(o.readString),AccessConstraints:(0,a.makeObjectPropertySetter)(o.readString),Fees:(0,a.makeObjectPropertySetter)(o.readString),Title:(0,a.makeObjectPropertySetter)(o.readString),ServiceTypeVersion:(0,a.makeObjectPropertySetter)(o.readString),ServiceType:(0,a.makeObjectPropertySetter)(o.readString)}),S=(0,a.makeStructureNS)(s,{ProviderName:(0,a.makeObjectPropertySetter)(o.readString),ProviderSite:(0,a.makeObjectPropertySetter)(n.readHref),ServiceContact:(0,a.makeObjectPropertySetter)(function(t,e){return(0,a.pushParseAndPop)({},b,t,e)})});e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=l(i(779)),o=i(397),a=l(i(396)),s=i(266),u=i(139);function l(t){return t&&t.__esModule?t:{default:t}}var c=[null,"http://www.opengis.net/wmts/1.0"],h=[null,"http://www.opengis.net/ows/1.1"],f=(0,u.makeStructureNS)(c,{Contents:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},d,t,e)})}),p=function(t){function e(){t.call(this),this.owsParser_=new r.default}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},e.prototype.readFromNode=function(t){var e=t.getAttribute("version").trim(),i=this.owsParser_.readFromNode(t);return i?(i.version=e,(i=(0,u.pushParseAndPop)(i,f,t,[]))||null):null},e}(a.default),d=(0,u.makeStructureNS)(c,{Layer:(0,u.makeObjectPropertyPusher)(function(t,e){return(0,u.pushParseAndPop)({},g,t,e)}),TileMatrixSet:(0,u.makeObjectPropertyPusher)(function(t,e){return(0,u.pushParseAndPop)({},S,t,e)})}),g=(0,u.makeStructureNS)(c,{Style:(0,u.makeObjectPropertyPusher)(function(t,e){var i=(0,u.pushParseAndPop)({},v,t,e);if(!i)return;var n="true"===t.getAttribute("isDefault");return i.isDefault=n,i}),Format:(0,u.makeObjectPropertyPusher)(s.readString),TileMatrixSetLink:(0,u.makeObjectPropertyPusher)(function(t,e){return(0,u.pushParseAndPop)({},y,t,e)}),Dimension:(0,u.makeObjectPropertyPusher)(function(t,e){return(0,u.pushParseAndPop)({},b,t,e)}),ResourceURL:(0,u.makeObjectPropertyPusher)(function(t,e){var i=t.getAttribute("format"),n=t.getAttribute("template"),r=t.getAttribute("resourceType"),o={};i&&(o.format=i);n&&(o.template=n);r&&(o.resourceType=r);return o})},(0,u.makeStructureNS)(h,{Title:(0,u.makeObjectPropertySetter)(s.readString),Abstract:(0,u.makeObjectPropertySetter)(s.readString),WGS84BoundingBox:(0,u.makeObjectPropertySetter)(function(t,e){var i=(0,u.pushParseAndPop)([],x,t,e);if(2!=i.length)return;return(0,n.boundingExtent)(i)}),Identifier:(0,u.makeObjectPropertySetter)(s.readString)})),v=(0,u.makeStructureNS)(c,{LegendURL:(0,u.makeObjectPropertyPusher)(function(t,e){var i={};return i.format=t.getAttribute("format"),i.href=(0,o.readHref)(t),i})},(0,u.makeStructureNS)(h,{Title:(0,u.makeObjectPropertySetter)(s.readString),Identifier:(0,u.makeObjectPropertySetter)(s.readString)})),y=(0,u.makeStructureNS)(c,{TileMatrixSet:(0,u.makeObjectPropertySetter)(s.readString),TileMatrixSetLimits:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)([],_,t,e)})}),_=(0,u.makeStructureNS)(c,{TileMatrixLimits:(0,u.makeArrayPusher)(function(t,e){return(0,u.pushParseAndPop)({},m,t,e)})}),m=(0,u.makeStructureNS)(c,{TileMatrix:(0,u.makeObjectPropertySetter)(s.readString),MinTileRow:(0,u.makeObjectPropertySetter)(s.readNonNegativeInteger),MaxTileRow:(0,u.makeObjectPropertySetter)(s.readNonNegativeInteger),MinTileCol:(0,u.makeObjectPropertySetter)(s.readNonNegativeInteger),MaxTileCol:(0,u.makeObjectPropertySetter)(s.readNonNegativeInteger)}),b=(0,u.makeStructureNS)(c,{Default:(0,u.makeObjectPropertySetter)(s.readString),Value:(0,u.makeObjectPropertyPusher)(s.readString)},(0,u.makeStructureNS)(h,{Identifier:(0,u.makeObjectPropertySetter)(s.readString)})),x=(0,u.makeStructureNS)(h,{LowerCorner:(0,u.makeArrayPusher)(E),UpperCorner:(0,u.makeArrayPusher)(E)}),S=(0,u.makeStructureNS)(c,{WellKnownScaleSet:(0,u.makeObjectPropertySetter)(s.readString),TileMatrix:(0,u.makeObjectPropertyPusher)(function(t,e){return(0,u.pushParseAndPop)({},w,t,e)})},(0,u.makeStructureNS)(h,{SupportedCRS:(0,u.makeObjectPropertySetter)(s.readString),Identifier:(0,u.makeObjectPropertySetter)(s.readString)})),w=(0,u.makeStructureNS)(c,{TopLeftCorner:(0,u.makeObjectPropertySetter)(E),ScaleDenominator:(0,u.makeObjectPropertySetter)(s.readDecimal),TileWidth:(0,u.makeObjectPropertySetter)(s.readNonNegativeInteger),TileHeight:(0,u.makeObjectPropertySetter)(s.readNonNegativeInteger),MatrixWidth:(0,u.makeObjectPropertySetter)(s.readNonNegativeInteger),MatrixHeight:(0,u.makeObjectPropertySetter)(s.readNonNegativeInteger)},(0,u.makeStructureNS)(h,{Identifier:(0,u.makeObjectPropertySetter)(s.readString)}));function E(t,e){var i=(0,s.readString)(t).split(/\s+/);if(i&&2==i.length){var n=+i[0],r=+i[1];if(!isNaN(n)&&!isNaN(r))return[n,r]}}e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(140)),r=o(i(213));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return r.default.TEXT},e.prototype.readFeature=function(t,e){return this.readFeatureFromText(s(t),this.adaptOptions(e))},e.prototype.readFeatureFromText=function(t,e){},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromText(s(t),this.adaptOptions(e))},e.prototype.readFeaturesFromText=function(t,e){},e.prototype.readGeometry=function(t,e){return this.readGeometryFromText(s(t),this.adaptOptions(e))},e.prototype.readGeometryFromText=function(t,e){},e.prototype.readProjection=function(t){return this.readProjectionFromText(s(t))},e.prototype.readProjectionFromText=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){return this.writeFeatureText(t,this.adaptOptions(e))},e.prototype.writeFeatureText=function(t,e){},e.prototype.writeFeatures=function(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))},e.prototype.writeFeaturesText=function(t,e){},e.prototype.writeGeometry=function(t,e){return this.writeGeometryText(t,this.adaptOptions(e))},e.prototype.writeGeometryText=function(t,e){},e}(n.default);function s(t){return"string"==typeof t?t:""}e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(166),r=f(i(192)),o=f(i(47)),a=i(3),s=f(i(4)),u=i(1),l=i(14),c=i(191),h=f(i(403));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(e,i,r,a,s,f,p,d,g,v,y){t.call(this,s,o.default.IDLE),this.renderEdges_=void 0!==y&&y,this.pixelRatio_=p,this.gutter_=d,this.canvas_=null,this.sourceTileGrid_=i,this.targetTileGrid_=a,this.wrappedTileCoord_=f||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var _=a.getTileCoordExtent(this.wrappedTileCoord_),m=this.targetTileGrid_.getExtent(),b=this.sourceTileGrid_.getExtent(),x=m?(0,u.getIntersection)(_,m):_;if(0!==(0,u.getArea)(x)){var S=e.getExtent();S&&(b=b?(0,u.getIntersection)(b,S):S);var w=a.getResolution(this.wrappedTileCoord_[0]),E=(0,u.getCenter)(x),M=(0,c.calculateSourceResolution)(e,r,E,w);if(!isFinite(M)||M<=0)this.state=o.default.EMPTY;else{var O=void 0!==v?v:n.ERROR_THRESHOLD;if(this.triangulation_=new h.default(e,r,x,b,M*O),0!==this.triangulation_.getTriangles().length){this.sourceZ_=i.getZForResolution(M);var C=this.triangulation_.calculateSourceExtent();if(b&&(e.canWrapX()?(C[1]=(0,l.clamp)(C[1],b[1],b[3]),C[3]=(0,l.clamp)(C[3],b[1],b[3])):C=(0,u.getIntersection)(C,b)),(0,u.getArea)(C)){for(var T=i.getTileRangeForExtentAndZ(C,this.sourceZ_),P=T.minX;P<=T.maxX;P++)for(var L=T.minY;L<=T.maxY;L++){var A=g(this.sourceZ_,P,L,p);A&&this.sourceTiles_.push(A)}0===this.sourceTiles_.length&&(this.state=o.default.EMPTY)}else this.state=o.default.EMPTY}else this.state=o.default.EMPTY}}else this.state=o.default.EMPTY}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==o.default.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,i,n){e&&e.getState()==o.default.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=o.default.ERROR;else{var e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),n="number"==typeof i?i:i[0],r="number"==typeof i?i:i[1],a=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,c.render)(n,r,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),a,u,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=o.default.LOADED}this.changed()},e.prototype.load=function(){if(this.state==o.default.IDLE){this.state=o.default.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,i,n){var r=e.getState();if(r==o.default.IDLE||r==o.default.LOADING){t++;var u=(0,a.listen)(e,s.default.CHANGE,function(i){var n=e.getState();n!=o.default.LOADED&&n!=o.default.ERROR&&n!=o.default.EMPTY||((0,a.unlistenByKey)(u),0===--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(u)}}.bind(this)),this.sourceTiles_.forEach(function(t,e,i){t.getState()==o.default.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(a.unlistenByKey),this.sourcesListenerKeys_=null},e}(r.default);e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayerFactory=e.LayerType=e.SuperType=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=N(i(2)),o=N(i(54)),a=N(i(44)),s=N(i(154)),u=N(i(269)),l=N(i(401)),c=N(i(400)),h=i(113),f=N(i(190)),p=N(i(399)),d=N(i(398)),g=N(i(64)),v=N(i(780)),y=N(i(265)),_=N(i(264)),m=i(395),b=i(776),x=i(775),S=i(393),w=i(114),E=i(137),M=i(261),O=i(769),C=i(73),T=i(5),P=i(24),L=i(391),A=i(768),I=i(152),R=i(767),k=i(766),j=i(765);function N(t){return t&&t.__esModule?t:{default:t}}var F=e.SuperType={BASELAYER:"baseLayer",FEATURELAYER:"featureLayer",QUERYLAYER:"queryLayer"},D=e.LayerType={CATEGORY:"Category",SILENTGROUP:"SilentGroup",GEOJSON:"GeoJSON",KML:"KML",WMS:"WMS",TILEWMS:"TileWMS",WMTS:"WMTS",OSM:"OSM",STAMEN:"Stamen",INTERN:"Intern",EMPTY:"Empty",XYZ:"XYZ",BING:"Bing"};e.LayerFactory=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map_=e}return n(t,[{key:"setMapConfigProjection",value:function(t){this.mapProjection=t}},{key:"getMapProjection",value:function(){return this.mapProjection}},{key:"addLayers",value:function(t,e,i,n){var r=this;return e.map(function(e){return r.addLayer(t,e,i,n)})}},{key:"addLayer",value:function(t,e,i,n){var r=void 0,a=(0,C.copyDeep)(e);if(n||this.configureLayerIsIdOk_(a.id)){if(!a.type)throw new Error("Layer needs a type. Layer id: "+a.id+". Layer title: "+a.title+".");this.configureLayerAvailability_(a),this.configureLayerTitle_(a),i===F.BASELAYER&&(a.groupLayer=this.map_.get("layerConfigurator").getBaseLayerGroup()),a.source&&this.configureLayerSourceAttribution_(a.source),this.configureLayerVisibility_(a);var s=function(e){t.getLayers().push(e)};(r=this.createLayer(a.type,a,i,n))instanceof o.default?r.forEach(s):s(r)}return r}},{key:"superTypeNotSupported",value:function(t,e){throw new Error(t+" is not configured for superType '"+e+"'")}},{key:"createLayer",value:function(t,e,i,n){var r=this;i===F.QUERYLAYER&&(e.hasOwnProperty("apiKey")||P.Debug.error("Each query layer needs to have an apiKey."),e.source.projection=this.mapProjection),e.source&&(e.source.localiser=this.map_.get("localiser"));var o=void 0,d=void 0,g=void 0,v=!1;e.source&&(e.source.localiser=this.map_.get("localiser"),v=e.source.localised);var y=(0,C.take)(e,"style");switch(t){case D.SILENTGROUP:d=(0,C.take)(e,"layers"),o=i===F.BASELAYER?new A.BaseSilentGroupLayer(e):new A.SilentGroupLayer(e),this.addLayers(o,d,i,!0),o.getLayers().forEach(function(t){t.setVisible(!0)});break;case D.CATEGORY:d=(0,C.take)(e,"layers"),o=new w.GroupLayer(e),this.addLayers(o,d,i,n);var _=!1;o.getLayers().forEach(function(t){t.set("category",o),_=_||t.get("available")});var N=o.getLayers().getLength();if(!1!==_){if(!1!==o.get("available")&&N>0)return!0===_&&o.set("available",!0),o.setVisible(!0),i===F.BASELAYER&&o.set("activateChildren",!1),o;if(!0===_)return o.getLayers()}break;case D.EMPTY:i===F.BASELAYER?o=new b.EmptyBaseLayer(e):(e.source=new a.default,o=new E.VectorLayer(e));break;case D.XYZ:e.source.url=I.URL.extractFromConfig(e.source,"url",void 0,this.map_).finalize(),e.source=new s.default(e.source),o=i===F.BASELAYER?new x.BaseTileLayer(e):new S.TileLayer(e);break;case D.OSM:e.source.url=I.URL.extractFromConfig(e.source,"url",void 0,this.map_).finalize(),e.source=new u.default(e.source),o=i===F.BASELAYER?new x.BaseTileLayer(e):new S.TileLayer(e);break;case D.STAMEN:e.source=new l.default(e.source),o=i===F.BASELAYER?new x.BaseTileLayer(e):new S.TileLayer(e);break;case D.BING:e.source=new c.default(e.source),o=i===F.BASELAYER?new x.BaseTileLayer(e):new S.TileLayer(e);break;case D.WMS:e.categoryButtons&&(e.source.params.LAYERS=[]),e.source.url=I.URL.extractFromConfig(e.source,"url",void 0,this.map_),i===F.BASELAYER?(e.source=new L.ImageWMSSource(e.source),o=new m.BaseLayerImage(e)):i===F.QUERYLAYER?(e.visible=!1,e.source=new R.QueryImageWMSSource(e.source),o=new m.ImageLayer(e)):(e.source=new L.ImageWMSSource(e.source),o=new m.ImageLayer(e)),o.getSource().hasFeatureInfo()&&this.map_.asSoonAs("ready:ui",!0,function(){r.map_.get("showWMSFeatureInfo")&&r.map_.get("showWMSFeatureInfo").addLayer(o)});break;case D.TILEWMS:e.source.tileSize?(e.source.tileGrid=(0,h.createXYZ)({tileSize:e.source.tileSize}),delete e.source.tileSize):e.source.tileGrid&&(e.source.tileGrid=new f.default(e.source.tileGrid)),e.source.url=I.URL.extractFromConfig(e.source,"url",void 0,this.map_),i===F.BASELAYER?(e.source=new L.TileWMSSource(e.source),o=new x.BaseTileLayer(e)):i===F.QUERYLAYER?(e.visible=!1,e.source=new R.QueryTileWMSSource(e.source),o=new S.TileLayer(e)):(e.source=new L.TileWMSSource(e.source),o=new S.TileLayer(e)),o.getSource().hasFeatureInfo()&&this.map_.asSoonAs("ready:ui",!0,function(){r.map_.get("showWMSFeatureInfo")&&r.map_.get("showWMSFeatureInfo").addLayer(o)});break;case D.WMTS:var G=(0,C.take)(e,"source");if(!G.autoConfig){if(!G.tileGrid)throw new Error("You have to provide either a tileGrid or use autoConfig for WMTS Source");G.tileGrid=new p.default(G.tileGrid),G.url=I.URL.extractFromConfig(G,"url",void 0,this.map_),e.source=new j.WMTSSource(G)}o=i===F.BASELAYER?new x.BaseTileLayer(e):new S.TileLayer(e),G.autoConfig&&this.setWMTSSourceFromCapabilities(o,G);break;case D.GEOJSON:this.configureLayerSourceLoadingStrategy_(e.source),e.source.url=I.URL.extractFromConfig(e.source,"url",void 0,this.map_),e.source.defaultStyle=this.map_.get("styling").getStyle(y||"#defaultStyle"),e.source.type="GeoJSON",e.source.bboxProjection=e.source.bboxProjection||this.map_.get("interfaceProjection"),e.source.styling=this.map_.get("styling"),g=(0,C.take)(e.source,"cluster"),i===F.QUERYLAYER?(e.visible=!1,e.source=new O.QueryVectorSource(e.source)):e.source=new M.SourceServerVector(e.source),g&&(g=(0,T.asObject)(g),e.source=new k.ClusterSource(e.source,g)),o=new E.VectorLayer(e);break;case D.KML:this.configureLayerSourceLoadingStrategy_(e.source),e.source.url=I.URL.extractFromConfig(e.source,"url",void 0,this.map_),e.source.defaultStyle=this.map_.get("styling").getStyle(y||"#defaultStyle"),e.source.type="KML",e.source.bboxProjection=e.source.bboxProjection||this.map_.get("interfaceProjection"),e.source.styling=this.map_.get("styling"),g=(0,C.take)(e.source,"cluster"),i===F.QUERYLAYER?(e.visible=!1,e.source=new O.QueryVectorSource(e.source)):e.source=new M.SourceServerVector(e.source),g&&(e.source=new k.ClusterSource(e.source,(0,T.asObject)(g))),o=new E.VectorLayer(e);break;case D.INTERN:if(e.source.hasOwnProperty("features"))for(var U=0;U<e.source.features.length;U++)e.source.features[U]=this.createFeature(e.source.features[U]);e.source=new a.default(e.source),i===F.QUERYLAYER?this.superTypeNotSupported(t,i):o=new E.VectorLayer(e)}var B=!0,V=!1,z=void 0;try{for(var Y,W=this.map_.getModules()[Symbol.iterator]();!(B=(Y=W.next()).done);B=!0){var X=Y.value;if(o)break;o=X.createLayer(e.type,e,i,n)}}catch(t){V=!0,z=t}finally{try{!B&&W.return&&W.return()}finally{if(V)throw z}}if(!o)throw new Error("layer with type '"+e.type+"' could not be created.");return o.setStyle&&(o.setStyle(this.map_.get("styling").getStyle(y)),this.map_.get("styling").manageLayer(o)),i===F.BASELAYER&&e.source?o.getSource().getProjection()&&(this.mapProjection?this.mapProjection&&this.mapProjection!==o.getSource().getProjection()&&P.Debug.warn("The baseLayers are not in mapProjection or a baseLayers has a different projection than another! This might cause reprojection issues."):this.mapProjection=o.getSource().getProjection()):i===F.QUERYLAYER&&this.map_.get("urlApi").addApiLayer(o,e.apiKey),v&&this.map_.get("localiser").on("change:language",function(){return o.getSource().refresh()}),o}},{key:"configureLayerIsIdOk_",value:function(t){var e=this.map_.get("layerIds");if(0===t||t&&("string"==typeof t||!isNaN(t))){for(var i=0,n=e.length;i<n;i++)if(t===e[i])return P.Debug.error("Each layer needs a unique id! Otherwise the layer won't be shown. Layer id: "+t),!1;return e.push(t),this.map_.set("layerIds",e),!0}return P.Debug.error("Each layer needs a unique id! Otherwise the layer won't be shown. Layer id: "+t),!1}},{key:"configureLayerAvailability_",value:function(t){return t.available=!1!==t.available,t.alwaysVisible||(t.available=t.hasOwnProperty("availableMobile")?t.availableMobile:t.available,this.map_.get("ignoreLayerAvailability")&&(t.available=!0)),t}},{key:"configureLayerSourceAttribution_",value:function(t){return(0,T.checkFor)(t,"attribution")&&(t.attributions=[this.map_.get("localiser").selectL10N(t.attribution)]),t}},{key:"configureLayerSourceLoadingStrategy_",value:function(t){return t.loadingStrategy=t.hasOwnProperty("loadingStrategy")?t.loadingStrategy:this.map_.get("loadingStrategy"),t}},{key:"configureLayerTitle_",value:function(t){return t.hasOwnProperty("title")?t.title=this.map_.get("localiser").selectL10N(t.title):t.title="No title given",t}},{key:"configureLayerVisibility_",value:function(t){return!0===t.alwaysVisible?t.visible=!0:t.visible=!0===t.visible,t}},{key:"createFeature",value:function(t){var e=(0,C.copyDeep)(t),i=(0,C.take)(e,"id"),n=(0,C.take)(e,"style"),r=new d.default,o=(0,C.take)(e,"geometryWKT")||(0,C.take)(e,"geographyWKT");e.geometry=r.readGeometry(o).transform(this.map_.get("interfaceProjection"),this.map_.get("mapProjection"));var a=new g.default(e);return n&&this.map_.get("styling").styleFeature(a,n),i&&a.setId(i),a}},{key:"setWMTSSourceFromCapabilities",value:function(t,e){var i=I.URL.extractFromConfig(e,"url",void 0,this.map_),n=i.clone().addParam("Service=WMTS").addParam("Request=GetCapabilities");r.default.ajax({url:n.finalize(),dataType:"text xml",crossDomain:!0,success:function(n){var r=(new v.default).read(n),o=y.default.optionsFromCapabilities(r,(0,C.take)(e,"config"));null===o?P.Debug.error('wmts layer not found or not set for layer with id "'+t.get("id")+'"'):(o.urls=o.urls.map(function(t){var e=i.clone();return e.url=t,e.finalize()}),e=(0,C.mergeDeep)(e,o),t.setSource(new y.default(e)))}}),t.setSource(new _.default({state:"ready",canvasFunction:function(){}}))}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayerConfigurator=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(6),o=i(114),a=i(73),s=i(5),u=i(24),l=i(784),c=i(764),h=i(336);e.LayerConfigurator=function(){function t(e){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map_=e,this.map_.on("change:layerConfig",this.configureLayers.bind(this)),this.layerFactory_=new l.LayerFactory(e),this.map_.on("ready",function(){i.onResolutionChange(),i.map_.getView().on("change:resolution",function(){return i.onResolutionChange()})})}return n(t,[{key:"onResolutionChange",value:function(){var t=this.map_.getView().getZoom(),e=function(e){return!(e.get("minZoom")&&t<e.get("minZoom"))&&!(e.get("maxZoom")&&t>e.get("maxZoom"))},i=!1;this.map_.get("baseLayers").recursiveForEach(function(t){t instanceof o.GroupLayer||(e(t)?(t.set("disabled",!1),i&&(t.setVisible(!0),i=!1)):(t.set("disabled",!0),t.getVisible()&&(i=!0)))}),i&&this.map_.get("baseLayers").recursiveForEach(function(t){t instanceof o.GroupLayer||e(t)&&i&&(t.setVisible(!0),i=!1)});var n=function(t){t instanceof o.GroupLayer||(e(t)?t.set("disabled",!1):(t.set("disabled",!0),t.getVisible()&&t.setVisible(!1)))};this.map_.get("featureLayers").recursiveForEach(n),this.map_.get("fixedFeatureLayers")&&this.map_.get("fixedFeatureLayers").recursiveForEach(n),this.map_.get("queryLayers")&&this.map_.get("queryLayers").recursiveForEach(n);var r=!0,a=!1,s=void 0;try{for(var u,l=this.map_.getControlsByType(h.LayerSelector)[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){u.value.updateDisabledButtons()}}catch(t){a=!0,s=t}finally{try{!r&&l.return&&l.return()}finally{if(a)throw s}}}},{key:"configureLayers",value:function(){var t=this;this.map_.set("ready:layers",!1),this.map_.getLayerGroup()instanceof o.GroupLayer||this.map_.setLayerGroup(new o.GroupLayer);var e=this.map_.getLayerGroup();e.getLayers().clear();var i=(0,a.copyDeep)(this.map_.get("layerConfig")),n=this.map_.get("mapConfig");if(this.map_.set("layerIds",[]),this.layerFactory_.setMapConfigProjection(n.hasOwnProperty("mapProjection")?(0,r.get)(n.mapProjection):null),this.map_.set("loadingStrategy",n.hasOwnProperty("loadingStrategy")?n.loadingStrategy:"ALL"),this.map_.set("ignoreLayerAvailability",!!n.hasOwnProperty("ignoreLayerAvailability")&&n.ignoreLayerAvailability),this.baseLayerGroup_=this.map_.get("baseLayers")||new o.GroupLayer,this.baseLayerGroup_.getLayers().clear(),i.hasOwnProperty("baseLayers")&&i.baseLayers instanceof Array){if(u.Debug.tryOrThrow(function(){t.layerFactory_.addLayers(t.baseLayerGroup_,i.baseLayers,"baseLayer")}),0===this.baseLayerGroup_.getLayers().getLength())if(0!==i.baseLayers.length){var l=(0,a.copyDeep)(i.baseLayers[0]);l.alwaysVisible=!0,this.layerFactory_.addLayers(this.baseLayerGroup_,l,"baseLayer",!0)}else u.Debug.warn("There is no baselayer available!");var h=void 0;if(this.baseLayerGroup_.recursiveForEach(function(t){t instanceof o.GroupLayer||(h=h||t.getVisible())}),!h&&this.baseLayerGroup_.getLayers().getLength()){!function t(e){e instanceof o.GroupLayer?t(e.getLayersArray()[0]):e.setVisible(!0)}(this.baseLayerGroup_)}this.map_.get("baseLayers")||this.baseLayerGroup_.getLayers().on("remove",function(e){t.baseLayerGroup_.getLayers().getLength()>0&&e.element.getVisible()&&t.baseLayerGroup_.getLayers().item(0).setVisible(!0)}),this.map_.set("baseLayers",this.baseLayerGroup_),e.getLayers().push(this.baseLayerGroup_)}else u.Debug.warn("The mapConfig option 'baseLayers' is not set or not an Array!");this.map_.set("mapProjection",this.layerFactory_.getMapProjection()||(0,r.get)("EPSG:3857"));var f=this.map_.get("featureLayers")||new o.GroupLayer;f.getLayers().clear(),this.layerFactory_.addLayers(f,i.featureLayers||[],"featureLayer"),this.map_.set("featureLayers",f),e.getLayers().push(f);var p=this.map_.get("fixedFeatureLayers")||new o.GroupLayer;p.getLayers().clear(),(0,s.checkFor)(i,"fixedFeatureLayers")&&(this.layerFactory_.addLayers(p,i.fixedFeatureLayers,"featureLayer"),this.map_.set("fixedFeatureLayers",p),e.getLayers().push(p));var d=this.map_.get("queryLayers")||new o.GroupLayer;d.getLayers().clear(),i.hasOwnProperty("queryLayers")&&i.queryLayers instanceof Array&&(this.layerFactory_.addLayers(d,i.queryLayers,"queryLayer",!0),this.map_.set("queryLayers",d),e.getLayers().push(d));var g=[],v=!1,y=!1;!function e(i){i.getLayers&&(i.getLayers().on("add",function(t){e(t.element)}),i.getLayers().forEach(e)),i.isLoading&&i.isLoading()&&(v||(v=!0,t.map_.dispatchEvent("layersloadstart"),t.map_.set("allLayersLoaded",!1)),y=!0,g.push(i)),i.on("loadcountstart",function(){v||(v=!0,t.map_.dispatchEvent("layersloadstart"),t.map_.set("allLayersLoaded",!1)),y=!0,g.push(i)}),i.on("loadcountend",function(){g.splice(g.indexOf(i),1),0===g.length&&(y=!1,t.map_.afterPostrender(function(){y||(t.map_.dispatchEvent("layersloadend"),v=!1,t.map_.set("allLayersLoaded",!0))}),t.map_.render())})}(this.map_.getLayerGroup()),this.map_.set("allLayersLoaded",!1);var _=!1;this.map_.once("layersloadstart",function(){_=!0}),this.map_.once("postrender",function(){t.map_.once("postrender",function(){_||t.map_.set("allLayersLoaded",!0)})});var m=this.map_.get("attributions");m||(m=new c.Attributions,this.map_.set("attributions",m)),m.setMap(this.map_),this.map_.set("ready:layers",!0)}},{key:"getBaseLayerGroup",value:function(){return this.baseLayerGroup_}},{key:"getFactory",value:function(){return this.layerFactory_}}]),t}()},function(t,e,i){var n=i(116),r=i(38),o=i(10),a=i(92),s=1/0,u=n?n.prototype:void 0,l=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return r(e,t)+"";if(a(e))return l?l.call(e):"";var i=e+"";return"0"==i&&1/e==-s?"-0":i}},function(t,e,i){var n=i(193),r=i(21),o=9007199254740991;t.exports=function(t){return t?n(r(t),-o,o):0===t?t:0}},function(t,e,i){var n=i(161),r=i(276);t.exports=function(t){return n(t,r(t))}},function(t,e,i){var n=i(38);t.exports=function(t,e){return n(e,function(e){return t[e]})}},function(t,e){var i="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+n+"|"+r+")"+"?",l="[\\ufe0e\\ufe0f]?"+u+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*"),c="(?:"+[o+n+"?",n,a,s,i].join("|")+")",h=RegExp(r+"(?="+r+")|"+c+l,"g");t.exports=function(t){return t.match(h)||[]}},function(t,e){t.exports=function(t){return t.split("")}},function(t,e,i){var n=i(791),r=i(408),o=i(790);t.exports=function(t){return r(t)?o(t):n(t)}},function(t,e){t.exports=function(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}},function(t,e,i){var n=i(116),r=i(94),o=i(93),a=i(42),s=i(194),u=i(793),l=i(413),c=i(195),h=i(792),f=i(156),p="[object Map]",d="[object Set]",g=n?n.iterator:void 0;t.exports=function(t){if(!t)return[];if(a(t))return s(t)?h(t):r(t);if(g&&t[g])return u(t[g]());var e=o(t);return(e==p?l:e==d?c:f)(t)}},function(t,e,i){var n=i(199)(function(t,e){return t<=e});t.exports=n},function(t,e){t.exports=function(t,e){return t<e}},function(t,e,i){var n=i(796),r=i(199)(n);t.exports=r},function(t,e,i){var n=i(39),r=i(26),o="[object WeakSet]";t.exports=function(t){return r(t)&&n(t)==o}},function(t,e,i){var n=i(93),r=i(26),o="[object WeakMap]";t.exports=function(t){return r(t)&&n(t)==o}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,i){var n=i(412),r=9007199254740991;t.exports=function(t){return n(t)&&t>=-r&&t<=r}},function(t,e,i){var n=i(39),r=i(26),o="[object RegExp]";t.exports=function(t){return r(t)&&n(t)==o}},function(t,e,i){var n=i(802),r=i(63),o=i(142),a=o&&o.isRegExp,s=a?r(a):n;t.exports=s},function(t,e){t.exports=function(t){return null===t}},function(t,e){t.exports=function(t){return null==t}},function(t,e,i){var n=i(431),r=i(163),o=i(426),a=n?r:o;t.exports=a},function(t,e,i){var n=i(433),r=i(806),o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";t.exports=function(t){if(r(t))throw new Error(o);return n(t)}},function(t,e,i){var n=i(409);t.exports=function(t){return n(t)&&t!=+t}},function(t,e,i){var n=i(271),r=i(270);t.exports=function(t,e,i){return i="function"==typeof i?i:void 0,n(t,e,r(e),i)}},function(t,e,i){var n=i(271),r=i(270);t.exports=function(t,e){return t===e||n(t,e,r(e))}},function(t,e,i){var n=i(35).isFinite;t.exports=function(t){return"number"==typeof t&&n(t)}},function(t,e,i){var n=i(39),r=i(26),o=i(272),a="[object DOMException]",s="[object Error]";t.exports=function(t){if(!r(t))return!1;var e=n(t);return e==s||e==a||"string"==typeof t.message&&"string"==typeof t.name&&!o(t)}},function(t,e,i){var n=i(198);t.exports=function(t,e,i){var r=(i="function"==typeof i?i:void 0)?i(t,e):void 0;return void 0===r?n(t,e,void 0,i):!!r}},function(t,e,i){var n=i(422),r=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,i,a,s,u){var l=i&r,c=n(t),h=c.length;if(h!=n(e).length&&!l)return!1;for(var f=h;f--;){var p=c[f];if(!(l?p in e:o.call(e,p)))return!1}var d=u.get(t);if(d&&u.get(e))return d==e;var g=!0;u.set(t,e),u.set(e,t);for(var v=l;++f<h;){var y=t[p=c[f]],_=e[p];if(a)var m=l?a(_,y,p,e,t,u):a(y,_,p,t,e,u);if(!(void 0===m?y===_||s(y,_,i,a,u):m)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var b=t.constructor,x=e.constructor;b!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x)&&(g=!1)}return u.delete(t),u.delete(e),g}},function(t,e,i){var n=i(116),r=i(418),o=i(96),a=i(415),s=i(413),u=i(195),l=1,c=2,h="[object Boolean]",f="[object Date]",p="[object Error]",d="[object Map]",g="[object Number]",v="[object RegExp]",y="[object Set]",_="[object String]",m="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",S=n?n.prototype:void 0,w=S?S.valueOf:void 0;t.exports=function(t,e,i,n,S,E,M){switch(i){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case b:return!(t.byteLength!=e.byteLength||!E(new r(t),new r(e)));case h:case f:case g:return o(+t,+e);case p:return t.name==e.name&&t.message==e.message;case v:case _:return t==e+"";case d:var O=s;case y:var C=n&l;if(O||(O=u),t.size!=e.size&&!C)return!1;var T=M.get(t);if(T)return T==e;n|=c,M.set(t,e);var P=a(O(t),O(e),n,S,E,M);return M.delete(t),P;case m:if(w)return w.call(t)==w.call(e)}return!1}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){var i="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,i),this}},function(t,e,i){var n=i(282),r=i(415),o=i(815),a=i(814),s=i(93),u=i(10),l=i(159),c=i(203),h=1,f="[object Arguments]",p="[object Array]",d="[object Object]",g=Object.prototype.hasOwnProperty;t.exports=function(t,e,i,v,y,_){var m=u(t),b=u(e),x=m?p:s(t),S=b?p:s(e),w=(x=x==f?d:x)==d,E=(S=S==f?d:S)==d,M=x==S;if(M&&l(t)){if(!l(e))return!1;m=!0,w=!1}if(M&&!w)return _||(_=new n),m||c(t)?r(t,e,i,v,y,_):o(t,e,x,i,v,y,_);if(!(i&h)){var O=w&&g.call(t,"__wrapped__"),C=E&&g.call(e,"__wrapped__");if(O||C){var T=O?t.value():t,P=C?e.value():e;return _||(_=new n),y(T,P,i,v,_)}}return!!M&&(_||(_=new n),a(t,e,i,v,y,_))}},function(t,e,i){var n=i(198);t.exports=function(t,e){return n(t,e)}},function(t,e,i){var n=i(277),r=i(93),o=i(160),a=i(10),s=i(42),u=i(159),l=i(201),c=i(203),h="[object Map]",f="[object Set]",p=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||c(t)||o(t)))return!t.length;var e=r(t);if(e==h||e==f)return!t.size;if(l(t))return!n(t).length;for(var i in t)if(p.call(t,i))return!1;return!0}},function(t,e,i){var n=i(26),r=i(272);t.exports=function(t){return n(t)&&1===t.nodeType&&!r(t)}},function(t,e,i){var n=i(39),r=i(26),o="[object Date]";t.exports=function(t){return r(t)&&n(t)==o}},function(t,e,i){var n=i(822),r=i(63),o=i(142),a=o&&o.isDate,s=a?r(a):n;t.exports=s},function(t,e,i){var n=i(39),r=i(26),o="[object Boolean]";t.exports=function(t){return!0===t||!1===t||r(t)&&n(t)==o}},function(t,e,i){var n=i(39),r=i(26),o="[object ArrayBuffer]";t.exports=function(t){return r(t)&&n(t)==o}},function(t,e,i){var n=i(825),r=i(63),o=i(142),a=o&&o.isArrayBuffer,s=a?r(a):n;t.exports=s},function(t,e,i){var n=i(199)(function(t,e){return t>=e});t.exports=n},function(t,e){t.exports=function(t,e){return t>e}},function(t,e,i){var n=i(828),r=i(199)(n);t.exports=r},function(t,e){t.exports=function(t,e,i){var n=i.length;if(null==t)return!n;for(t=Object(t);n--;){var r=i[n],o=e[r],a=t[r];if(void 0===a&&!(r in t)||!o(a))return!1}return!0}},function(t,e,i){var n=i(830),r=i(82);t.exports=function(t,e){return null==e||n(t,e,r(e))}},function(t,e,i){var n=i(209),r=4;t.exports=function(t,e){return n(t,r,e="function"==typeof e?e:void 0)}},function(t,e,i){var n=i(209),r=1,o=4;t.exports=function(t,e){return n(t,r|o,e="function"==typeof e?e:void 0)}},function(t,e,i){var n=i(209),r=1,o=4;t.exports=function(t){return n(t,r|o)}},function(t,e,i){var n=i(93),r=i(26),o="[object Set]";t.exports=function(t){return r(t)&&n(t)==o}},function(t,e,i){var n=i(93),r=i(26),o="[object Map]";t.exports=function(t){return r(t)&&n(t)==o}},function(t,e,i){var n=i(200),r=i(274),o=i(201);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:n(r(t))}},function(t,e,i){var n=i(273);t.exports=function(t,e){var i=e?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}},function(t,e,i){var n=i(116),r=n?n.prototype:void 0,o=r?r.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},function(t,e){var i=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,i.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,i){var n=i(273);t.exports=function(t,e){var i=e?n(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}},function(t,e,i){var n=i(273),r=i(841),o=i(840),a=i(839),s=i(838),u="[object Boolean]",l="[object Date]",c="[object Map]",h="[object Number]",f="[object RegExp]",p="[object Set]",d="[object String]",g="[object Symbol]",v="[object ArrayBuffer]",y="[object DataView]",_="[object Float32Array]",m="[object Float64Array]",b="[object Int8Array]",x="[object Int16Array]",S="[object Int32Array]",w="[object Uint8Array]",E="[object Uint8ClampedArray]",M="[object Uint16Array]",O="[object Uint32Array]";t.exports=function(t,e,i){var C=t.constructor;switch(e){case v:return n(t);case u:case l:return new C(+t);case y:return r(t,i);case _:case m:case b:case x:case S:case w:case E:case M:case O:return s(t,i);case c:return new C;case h:case d:return new C(t);case f:return o(t);case p:return new C;case g:return a(t)}}},function(t,e){var i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&i.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},function(t,e,i){var n=i(117)(i(35),"Promise");t.exports=n},function(t,e,i){var n=i(117)(i(35),"DataView");t.exports=n},function(t,e,i){var n=i(421),r=i(423),o=i(276);t.exports=function(t){return n(t,o,r)}},function(t,e,i){var n=i(161),r=i(423);t.exports=function(t,e){return n(t,r(t),e)}},function(t,e,i){var n=i(161),r=i(275);t.exports=function(t,e){return n(t,r(t),e)}},function(t,e,i){(function(t){var n=i(35),r="object"==typeof e&&e&&!e.nodeType&&e,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===r?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var i=t.length,n=s?s(i):new t.constructor(i);return t.copy(n),n}}).call(this,i(278)(t))},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var i in Object(t))e.push(i);return e}},function(t,e,i){var n=i(43),r=i(201),o=i(850),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=r(t),i=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&i.push(s);return i}},function(t,e,i){var n=i(161),r=i(276);t.exports=function(t,e){return t&&n(e,r(e),t)}},function(t,e,i){var n=i(425)(Object.keys,Object);t.exports=n},function(t,e,i){var n=i(39),r=i(202),o=i(26),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&r(t.length)&&!!a[n(t)]}},function(t,e,i){var n=i(39),r=i(26),o="[object Arguments]";t.exports=function(t){return r(t)&&n(t)==o}},function(t,e,i){var n=i(161),r=i(82);t.exports=function(t,e){return t&&n(e,r(e),t)}},function(t,e,i){var n=i(205);t.exports=function(t,e){var i=n(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this}},function(t,e,i){var n=i(205);t.exports=function(t){return n(this,t).has(t)}},function(t,e,i){var n=i(205);t.exports=function(t){return n(this,t).get(t)}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,i){var n=i(205);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e,i){var n=i(206),r="__lodash_hash_undefined__";t.exports=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=n&&void 0===e?r:e,this}},function(t,e,i){var n=i(206),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:r.call(e,t)}},function(t,e,i){var n=i(206),r="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var i=e[t];return i===r?void 0:i}return o.call(e,t)?e[t]:void 0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,i){var n=i(206);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(t,e,i){var n=i(866),r=i(865),o=i(864),a=i(863),s=i(862);function u(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=r,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,i){var n=i(867),r=i(208),o=i(281);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||r),string:new n}}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,i){var n=i(431),r=function(){var t=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!r&&r in t}},function(t,e){var i=Object.prototype.toString;t.exports=function(t){return i.call(t)}},function(t,e,i){var n=i(116),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=n?n.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),i=t[s];try{t[s]=void 0;var n=!0}catch(t){}var r=a.call(t);return n&&(e?t[s]=i:delete t[s]),r}},function(t,e,i){var n=i(208),r=i(281),o=i(280),a=200;t.exports=function(t,e){var i=this.__data__;if(i instanceof n){var s=i.__data__;if(!r||s.length<a-1)return s.push([t,e]),this.size=++i.size,this;i=this.__data__=new o(s)}return i.set(t,e),this.size=i.size,this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}},function(t,e,i){var n=i(208);t.exports=function(){this.__data__=new n,this.size=0}},function(t,e,i){var n=i(207);t.exports=function(t,e){var i=this.__data__,r=n(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this}},function(t,e,i){var n=i(207);t.exports=function(t){return n(this.__data__,t)>-1}},function(t,e,i){var n=i(207);t.exports=function(t){var e=this.__data__,i=n(e,t);return i<0?void 0:e[i][1]}},function(t,e,i){var n=i(207),r=Array.prototype.splice;t.exports=function(t){var e=this.__data__,i=n(e,t);return!(i<0||(i==e.length-1?e.pop():r.call(e,i,1),--this.size,0))}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,i){var n=i(209),r=4;t.exports=function(t){return n(t,r)}},function(t,e,i){var n=i(10);t.exports=function(){if(!arguments.length)return[];var t=arguments[0];return n(t)?t:[t]}},function(t,e,i){t.exports={castArray:i(884),clone:i(883),cloneDeep:i(834),cloneDeepWith:i(833),cloneWith:i(832),conformsTo:i(831),eq:i(96),gt:i(829),gte:i(827),isArguments:i(160),isArray:i(10),isArrayBuffer:i(826),isArrayLike:i(42),isArrayLikeObject:i(41),isBoolean:i(824),isBuffer:i(159),isDate:i(823),isElement:i(821),isEmpty:i(820),isEqual:i(819),isEqualWith:i(813),isError:i(812),isFinite:i(811),isFunction:i(163),isInteger:i(412),isLength:i(202),isMap:i(417),isMatch:i(810),isMatchWith:i(809),isNaN:i(808),isNative:i(807),isNil:i(805),isNull:i(804),isNumber:i(409),isObject:i(43),isObjectLike:i(26),isPlainObject:i(272),isRegExp:i(803),isSafeInteger:i(801),isSet:i(416),isString:i(194),isSymbol:i(92),isTypedArray:i(203),isUndefined:i(800),isWeakMap:i(799),isWeakSet:i(798),lt:i(797),lte:i(795),toArray:i(794),toFinite:i(411),toInteger:i(21),toLength:i(407),toNumber:i(157),toPlainObject:i(788),toSafeInteger:i(787),toString:i(406)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.get=function(t,e,i,n,r,o){var a=u.shared.get(e,n,o);a||(a=new c(t,e,i,n,r,o),u.shared.set(e,n,o,a));return a};var n=i(27),r=i(3),o=l(i(122)),a=l(i(4)),s=l(i(74)),u=i(444);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(e,i,n,r,o,a){t.call(this),this.hitDetectionImage_=null,this.image_=e||new Image,null!==r&&(this.image_.crossOrigin=r),this.canvas_=a?document.createElement("canvas"):null,this.color_=a,this.imageListenerKeys_=null,this.imageState_=o,this.size_=n,this.src_=i,this.tainting_=!1,this.imageState_==s.default.LOADED&&this.determineTainting_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.determineTainting_=function(){var t=(0,n.createCanvasContext2D)(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainting_=!0}},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(a.default.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=s.default.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=s.default.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.determineTainting_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.tainting_){var e=this.size_[0],i=this.size_[1],r=(0,n.createCanvasContext2D)(e,i);r.fillRect(0,0,e,i),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==s.default.IDLE){this.imageState_=s.default.LOADING,this.imageListenerKeys_=[(0,r.listenOnce)(this.image_,a.default.ERROR,this.handleImageError_,this),(0,r.listenOnce)(this.image_,a.default.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},e.prototype.replaceColor_=function(){if(!this.tainting_&&null!==this.color_){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),i=e.data,n=this.color_[0]/255,r=this.color_[1]/255,o=this.color_[2]/255,a=0,s=i.length;a<s;a+=4)i[a]*=n,i[a+1]*=r,i[a+2]*=o;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(r.unlistenByKey),this.imageListenerKeys_=null},e}(o.default);e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Styling=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=_(i(2)),a=_(i(465)),s=_(i(215)),u=_(i(283)),l=_(i(464)),c=_(i(291)),h=_(i(98)),f=_(i(435)),p=i(73),d=i(5),g=i(24),v=i(434),y=i(885);function _(t){return t&&t.__esModule?t:{default:t}}function m(t,e){var i=(0,p.copyDeep)(t);if(e){var n=!0,o=!1,a=void 0;try{for(var s,u=Object.keys(e)[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var l=s.value,c=e[l];if(t.hasOwnProperty(l)){var h=t[l];if("object"===(void 0===h?"undefined":r(h))&&!(h instanceof Array)){var f=t[l];f.hasOwnProperty("type")?c.hasOwnProperty("type")&&t[l].type===c.type&&(i[l]=m(f,c)):i[l]=m(f,c)}}else"object"!==(void 0===c?"undefined":r(c))||c instanceof Array?i[l]=c:i[l]=(0,p.copyDeep)(c)}}catch(t){o=!0,a=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}}return i}e.Styling=function(){function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.styleConfigMap_=new Map,this.styleConfigMap_.has("#defaultStyle")||this.styleConfigMap_.set("#defaultStyle",{stroke:{color:"rgba(0,0,0,0.9)",width:2},fill:{color:"rgba(0,0,0,0.3)"},image:{type:"circle",stroke:{color:"rgba(0,0,0,0.9)",width:2},fill:{color:"rgba(0,0,0,0.3)"}}}),i.styleConfigMap){var n=!0,r=!1,a=void 0;try{for(var s,u=Object.keys(i.styleConfigMap)[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var l=s.value;this.styleConfigMap_.set(l,i.styleConfigMap[l])}}catch(t){r=!0,a=t}finally{try{!n&&u.return&&u.return()}finally{if(r)throw a}}}this.styleMap_=new Map,this.allStyles_=new Set,i.scaleIcons&&this.setGlobalIconScale(i.scaleIcons),this.managingFeatureStyle_=function(t,i){var n=t.get("managedStyle");return o.default.isFunction(n)&&(n=n(t,i)),n||(n=e.getStyle("#defaultStyle")),(0,y.isArray)(n)?n.map(function(i){return e.adjustStyle_(t,i)}):e.adjustStyle_(t,n)},this.nullStyle_=new h.default({image:null}),this.manageStyles_=!1!==i.manageStyles}return n(t,[{key:"setGlobalIconScale",value:function(t){this.globalIconScale_=t}},{key:"getGlobalIconScale",value:function(){return this.globalIconScale_||1}},{key:"getStyleFromConfig",value:function(t){var e=m(t,this.styleConfigMap_.get("#default"));function i(t){t=t||{};var i=(0,p.copy)(t);return(0,d.checkFor)(t,"fill")?i.fill=new s.default(m(t.fill,e.fill)):i.fill=new s.default(e.fill),(0,d.checkFor)(t,"stroke")?i.stroke=new c.default(m(t.stroke,e.stroke)):i.stroke=new c.default(e.stroke),i}var n=i(e);n.text=new f.default(i(e.text));var r=!1;return e.hasOwnProperty("image")&&("icon"===e.image.type&&e.image.hasOwnProperty("src")&&e.image.src?(n.image=new u.default(e.image),r=!0):"circle"===e.image.type?(n.image=new a.default(i(e.image)),r=!0):"regularShape"===e.image.type&&(n.image=new l.default(i(e.image)),r=!0),r&&n.image.setScale((n.image.getScale()||1)*this.getGlobalIconScale())),new h.default(n)}},{key:"getConfigFromStyle",value:function(t){throw new Error("Not implemented yet")}},{key:"getStyleById",value:function(t){if(!this.styleMap_.has(t)){if(!this.styleConfigMap_.has(t))return g.Debug.error("No style found for id "+t+". Using default style."),this.styleMap_.get("#defaultStyle");this.styleMap_.set(t,this.getStyleFromConfig(this.getConfigById(t)))}return this.styleMap_.get(t)}},{key:"getConfigById",value:function(t){return this.styleConfigMap_.has(t)?this.styleConfigMap_.get(t):(g.Debug.error("No style config found for id "+t+". Using default style."),this.styleConfigMap_.get("#defaultStyle"))}},{key:"getStyle",value:function(t){var e=this;return void 0===t?this.getStyleById("#defaultStyle"):t instanceof h.default||(0,y.isFunction)(t)?t:(0,y.isArray)(t)?t.map(function(t){return e.getStyle(t)}):(0,y.isObject)(t)?t.hasOwnProperty("conditional")?this.getConditionalStyleFromConfig(t.conditional):this.getStyleFromConfig(t):this.getStyleById(t)}},{key:"adjustStyle_",value:function(t,e){if(t.get("hidden"))return this.nullStyle_;var i=e.clone();return this.scaleStyle_(i),void 0!==t.get("opacity")&&this.changeColorOpacity_(i,t.get("opacity")),i}},{key:"scaleStyle_",value:function(t){var e=t.getImage();if(e){var i=t.getImage().getScale()||1;e.setScale(i*this.getGlobalIconScale())}}},{key:"changeColorOpacity_",value:function(t,e){var i=function(t,e){var i=t.getColor();if(null!==i){if(!(i instanceof Array)){if("string"!=typeof i)throw new Error("Type not supported");i=(0,v.parseCSSColor)(i)}i[3]=i[3]*e}t.setColor(i)};t.getImage()&&t.getImage().setOpacity(e),t.getFill()&&i(t.getFill(),e),t.getStroke()&&i(t.getStroke(),e),t.getText()&&(t.getText().getFill()&&i(t.getText().getFill(),e),t.getText().getStroke()&&i(t.getText().getStroke(),e))}},{key:"manageFeature",value:function(t){if(this.manageStyles_){var e=t.getStyle();e&&!t.get("managedStyle")&&(t.set("managedStyle",e),t.setStyle(this.managingFeatureStyle_))}}},{key:"manageFeatureCollection",value:function(t){var e=this;this.manageStyles_&&(t.forEach(function(t){e.manageFeature(t)}),t.on("add",function(t){e.manageFeature(t.element)}))}},{key:"manageLayer",value:function(t){var e=this;this.manageStyles_&&(t.getStyle()&&!t.get("managedStyle")&&(t.set("managedStyle",t.getStyle()),t.setStyle(function(i,n){var r=t.get("managedStyle");return o.default.isFunction(r)&&(r=r(i,n)),r||(r=e.getStyle("#defaultStyle")),(0,y.isArray)(r)?r.map(function(t){return e.adjustStyle_(i,t)}):e.adjustStyle_(i,r)})),t.getSource().getFeatures().forEach(function(t){e.manageFeature(t)}),t.getSource().on("addfeature",function(t){e.manageFeature(t.feature)}))}},{key:"getConditionalStyleFromConfig",value:function(t){var e=this,i=t.map(function(t){return e.getStyle(t.style)});return function(e,n){for(var r=0;r<t.length;r++){if(!t[r].condition)return i[r];var o=t[r].condition;switch(o[1]){case"=":if(e.get(o[0])===o[2])return i[r];break;case"!=":if(e.get(o[0])!==o[2])return i[r];break;case"<":if(e.get(o[0])<o[2])return i[r];break;case">":if(e.get(o[0])>o[2])return i[r];break;case"<=":if(e.get(o[0])<=o[2])return i[r];break;case">=":if(e.get(o[0])>=o[2])return i[r]}}}}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.register=function(t){var e,i,a=Object.keys(t.defs),s=a.length;for(e=0;e<s;++e){var u=a[e];if(!(0,n.get)(u)){var l=t.defs(u);(0,n.addProjection)(new o.default({code:u,axisOrientation:l.axis,metersPerUnit:l.to_meter,units:l.units}))}}for(e=0;e<s;++e){var c=a[e],h=(0,n.get)(c);for(i=0;i<s;++i){var f=a[i],p=(0,n.get)(f);if(!(0,r.get)(c,f))if(t.defs[c]===t.defs[f])(0,n.addEquivalentProjections)([h,p]);else{var d=t(c,f);(0,n.addCoordinateTransforms)(h,p,d.forward,d.inverse)}}}};var n=i(6),r=i(477),o=function(t){return t&&t.__esModule?t:{default:t}}(i(219))},function(t,e,i){t.exports=function(){"use strict";function t(t,e){if(t[e])return t[e];for(var i,n=Object.keys(t),r=e.toLowerCase().replace(q,""),o=-1;++o<n.length;)if((i=n[o]).toLowerCase().replace(q,"")===r)return t[i]}function e(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=$}function i(t){return new e(t).output()}function n(t,e,i){Array.isArray(e)&&(i.unshift(e),e=null);var n=e?{}:t,o=i.reduce(function(t,e){return r(e,t),t},n);e&&(t[e]=o)}function r(t,e){if(Array.isArray(t)){var i=t.shift();if("PARAMETER"===i&&(i=t.shift()),1===t.length)return Array.isArray(t[0])?(e[i]={},void r(t[0],e[i])):void(e[i]=t[0]);if(t.length)if("TOWGS84"!==i){var o;switch(Array.isArray(i)||(e[i]={}),i){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[i]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&r(t[2],e[i]));case"SPHEROID":case"ELLIPSOID":return e[i]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&r(t[3],e[i]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void n(e,i,t);default:for(o=-1;++o<t.length;)if(!Array.isArray(t[o]))return r(t,e[i]);return n(e,i,t)}}else e[i]=t;else e[i]=!0}else e[t]=!0}function o(t){return t*it}function a(t){function e(e){return e*(t.to_meter||1)}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var i=t.GEOGCS;"GEOGCS"===t.type&&(i=t),i&&(i.DATUM?t.datumCode=i.DATUM.name.toLowerCase():t.datumCode=i.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),i.DATUM&&i.DATUM.SPHEROID&&(t.ellps=i.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=i.DATUM.SPHEROID.a,t.rf=parseFloat(i.DATUM.SPHEROID.rf,10)),i.DATUM&&i.DATUM.TOWGS84&&(t.datum_params=i.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",o],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",o],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",o],["lat0","latitude_of_origin",o],["lat0","standard_parallel_1",o],["lat1","standard_parallel_1",o],["lat2","standard_parallel_2",o],["azimuth","Azimuth"],["alpha","azimuth",o],["srsCode","name"]].forEach(function(e){return function(t,e){var i=e[0],n=e[1];!(i in t)&&n in t&&(t[i]=t[n],3===e.length&&(t[i]=e[2](t[i])))}(t,e)}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=o(t.lat1>0?90:-90),t.lat_ts=t.lat1)}function s(t){var e=this;if(2===arguments.length){var i=arguments[1];"string"==typeof i?"+"===i.charAt(0)?s[t]=K(arguments[1]):s[t]=nt(arguments[1]):s[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?s.apply(e,t):s(t)});if("string"==typeof t){if(t in s)return s[t]}else"EPSG"in t?s["EPSG:"+t.EPSG]=t:"ESRI"in t?s["ESRI:"+t.ESRI]=t:"IAU2000"in t?s["IAU2000:"+t.IAU2000]=t:console.log(t);return}}function u(e){var i=t(e,"authority");if(i){var n=t(i,"epsg");return n&&ot.indexOf(n)>-1}}function l(e){var i=t(e,"extension");if(i)return t(i,"proj4")}function c(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in s}(t))return s[t];if(function(t){return rt.some(function(e){return t.indexOf(e)>-1})}(t)){var e=nt(t);if(u(e))return s["EPSG:3857"];var i=l(e);return i?K(i):e}return function(t){return"+"===t[0]}(t)?K(t):void 0}function h(t){return t}function f(t,e){var i=dt.length;return t.names?(dt[i]=t,t.names.forEach(function(t){pt[t.toLowerCase()]=i}),this):(console.log(e),!0)}function p(e,i){if(!(this instanceof p))return new p(e);i=i||function(t){if(t)throw t};var n=c(e);if("object"==typeof n){var r=p.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var o=t(_t,n.datumCode);o&&(n.datum_params=o.towgs84?o.towgs84.split(","):null,n.ellps=o.ellipse,n.datumName=o.datumName?o.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var a=function(e,i,n,r,o){if(!e){var a=t(vt,r);a||(a=yt),e=a.a,i=a.b,n=a.rf}return n&&!i&&(i=(1-1/n)*e),(0===n||Math.abs(e-i)<U)&&(o=!0,i=e),{a:e,b:i,rf:n,sphere:o}}(n.a,n.b,n.rf,n.ellps,n.sphere),s=function(t,e,i,n){var r=t*t,o=e*e,a=(r-o)/r,s=0;return n?(r=(t*=1-a*(F+a*(D+a*G)))*t,a=0):s=Math.sqrt(a),{es:a,e:s,ep2:(r-o)/o}}(a.a,a.b,a.rf,n.R_A),u=n.datum||function(t,e,i,n,r,o){var a={};return a.datum_type=void 0===t||"none"===t?k:R,e&&(a.datum_params=e.map(parseFloat),0===a.datum_params[0]&&0===a.datum_params[1]&&0===a.datum_params[2]||(a.datum_type=A),a.datum_params.length>3&&(0===a.datum_params[3]&&0===a.datum_params[4]&&0===a.datum_params[5]&&0===a.datum_params[6]||(a.datum_type=I,a.datum_params[3]*=j,a.datum_params[4]*=j,a.datum_params[5]*=j,a.datum_params[6]=a.datum_params[6]/1e6+1))),a.a=i,a.b=n,a.es=r,a.ep2=o,a}(n.datumCode,n.datum_params,a.a,a.b,s.es,s.ep2);at(this,n),at(this,r),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=u,this.init(),i(null,this)}else i(e)}else i(e)}function d(t){return t===A||t===I}function g(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function v(t,e,i){var n;return Array.isArray(i)&&(i=xt(i)),St(i),t.datum&&e.datum&&function(t,e){return(t.datum.datum_type===A||t.datum.datum_type===I)&&"WGS84"!==e.datumCode||(e.datum.datum_type===A||e.datum.datum_type===I)&&"WGS84"!==t.datumCode}(t,e)&&(i=v(t,n=new p("WGS84"),i),t=n),"enu"!==t.axis&&(i=bt(t,!1,i)),"longlat"===t.projName?i={x:i.x*B,y:i.y*B}:(t.to_meter&&(i={x:i.x*t.to_meter,y:i.y*t.to_meter}),i=t.inverse(i)),t.from_greenwich&&(i.x+=t.from_greenwich),i=mt(t.datum,e.datum,i),e.from_greenwich&&(i={x:i.x-e.from_greenwich,y:i.y}),"longlat"===e.projName?i={x:i.x*V,y:i.y*V}:(i=e.forward(i),e.to_meter&&(i={x:i.x/e.to_meter,y:i.y/e.to_meter})),"enu"!==e.axis?bt(e,!0,i):i}function y(t,e,i){var n,r,o;return Array.isArray(i)?(n=v(t,e,i),3===i.length?[n.x,n.y,n.z]:[n.x,n.y]):(r=v(t,e,i),2===(o=Object.keys(i)).length?r:(o.forEach(function(t){"x"!==t&&"y"!==t&&(r[t]=i[t])}),r))}function _(t){return t instanceof p?t:t.oProj?t.oProj:p(t)}function m(t,e,i){t=_(t);var n,r=!1;return void 0===e?(e=t,t=wt,r=!0):(void 0!==e.x||Array.isArray(e))&&(i=e,e=t,t=wt,r=!0),e=_(e),i?y(t,e,i):(n={forward:function(i){return y(t,e,i)},inverse:function(i){return y(e,t,i)}},r&&(n.oProj=e),n)}function b(t,e){return e=e||5,function(t,e){var i="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+function(t,e,i){var n=M(i);return function(t,e,i){var n=i-1,r=Mt.charCodeAt(n),o=Ot.charCodeAt(n),a=r+t-1,s=o+e,u=!1;return a>At&&(a=a-At+Ct-1,u=!0),(a===Tt||r<Tt&&a>Tt||(a>Tt||r<Tt)&&u)&&a++,(a===Pt||r<Pt&&a>Pt||(a>Pt||r<Pt)&&u)&&++a===Tt&&a++,a>At&&(a=a-At+Ct-1),s>Lt?(s=s-Lt+Ct-1,u=!0):u=!1,(s===Tt||o<Tt&&s>Tt||(s>Tt||o<Tt)&&u)&&s++,(s===Pt||o<Pt&&s>Pt||(s>Pt||o<Pt)&&u)&&++s===Tt&&s++,s>Lt&&(s=s-Lt+Ct-1),String.fromCharCode(a)+String.fromCharCode(s)}(Math.floor(t/1e5),Math.floor(e/1e5)%20,n)}(t.easting,t.northing,t.zoneNumber)+i.substr(i.length-5,e)+n.substr(n.length-5,e)}(function(t){var e,i,n,r,o,a,s=t.lat,u=t.lon,l=6378137,c=S(s),h=S(u);a=Math.floor((u+180)/6)+1,180===u&&(a=60),s>=56&&s<64&&u>=3&&u<12&&(a=32),s>=72&&s<84&&(u>=0&&u<9?a=31:u>=9&&u<21?a=33:u>=21&&u<33?a=35:u>=33&&u<42&&(a=37)),o=S(6*(a-1)-180+3),e=l/Math.sqrt(1-.00669438*Math.sin(c)*Math.sin(c)),i=Math.tan(c)*Math.tan(c),n=.006739496752268451*Math.cos(c)*Math.cos(c);var f=.9996*e*((r=Math.cos(c)*(h-o))+(1-i+n)*r*r*r/6+(5-18*i+i*i+72*n-.39089081163157013)*r*r*r*r*r/120)+5e5,p=.9996*(l*(.9983242984503243*c-.002514607064228144*Math.sin(2*c)+2639046602129982e-21*Math.sin(4*c)-3.418046101696858e-9*Math.sin(6*c))+e*Math.tan(c)*(r*r/2+(5-i+9*n+4*n*n)*r*r*r*r/24+(61-58*i+i*i+600*n-2.2240339282485886)*r*r*r*r*r*r/720));return s<0&&(p+=1e7),{northing:Math.round(p),easting:Math.round(f),zoneNumber:a,zoneLetter:function(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}(s)}}({lat:t[1],lon:t[0]}),e)}function x(t){var e=E(O(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function S(t){return t*(Math.PI/180)}function w(t){return t/Math.PI*180}function E(t){var e=t.northing,i=t.easting,n=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var o,a,s,u,l,c,h,f,p=6378137,d=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),g=i-5e5,v=e;n<"N"&&(v-=1e7),c=6*(r-1)-180+3,f=(h=v/.9996/6367449.145945056)+(3*d/2-27*d*d*d/32)*Math.sin(2*h)+(21*d*d/16-55*d*d*d*d/32)*Math.sin(4*h)+151*d*d*d/96*Math.sin(6*h),o=p/Math.sqrt(1-.00669438*Math.sin(f)*Math.sin(f)),a=Math.tan(f)*Math.tan(f),s=.006739496752268451*Math.cos(f)*Math.cos(f),u=.99330562*p/Math.pow(1-.00669438*Math.sin(f)*Math.sin(f),1.5),l=g/(.9996*o);var y=f-o*Math.tan(f)/u*(l*l/2-(5+3*a+10*s-4*s*s-.06065547077041606)*l*l*l*l/24+(61+90*a+298*s+45*a*a-1.6983531815716497-3*s*s)*l*l*l*l*l*l/720);y=w(y);var _,m=(l-(1+2*a+s)*l*l*l/6+(5-2*s+28*a-3*s*s+.05391597401814761+24*a*a)*l*l*l*l*l/120)/Math.cos(f);if(m=c+w(m),t.accuracy){var b=E({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});_={top:b.lat,right:b.lon,bottom:y,left:m}}else _={lat:y,lon:m};return _}function M(t){var e=t%Et;return 0===e&&(e=Et),e}function O(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i=t.length,n=null,r="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,o++}var a=parseInt(r,10);if(0===o||o+3>i)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(o++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;n=t.substring(o,o+=2);for(var u=M(a),l=function(t,e){for(var i=Mt.charCodeAt(e-1),n=1e5,r=!1;i!==t.charCodeAt(0);){if(++i===Tt&&i++,i===Pt&&i++,i>At){if(r)throw"Bad character: "+t;i=Ct,r=!0}n+=1e5}return n}(n.charAt(0),u),c=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var i=Ot.charCodeAt(e-1),n=0,r=!1;i!==t.charCodeAt(0);){if(++i===Tt&&i++,i===Pt&&i++,i>Lt){if(r)throw"Bad character: "+t;i=Ct,r=!0}n+=1e5}return n}(n.charAt(1),u);c<C(s);)c+=2e6;var h=i-o;if(h%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,p,d,g=h/2,v=0,y=0;return g>0&&(f=1e5/Math.pow(10,g),p=t.substring(o,o+g),v=parseFloat(p)*f,d=t.substring(o+g),y=parseFloat(d)*f),{easting:v+l,northing:y+c,zoneLetter:s,zoneNumber:a,accuracy:f}}function C(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function T(t,e,i){if(!(this instanceof T))return new T(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var n=t.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}function P(t,e,i,n){var r;return t<U?(n.value=Ae.AREA_0,r=0):(r=Math.atan2(e,i),Math.abs(r)<=z?n.value=Ae.AREA_0:r>z&&r<=N+z?(n.value=Ae.AREA_1,r-=N):r>N+z||r<=-(N+z)?(n.value=Ae.AREA_2,r=r>=0?r-W:r+W):(n.value=Ae.AREA_3,r+=N)),r}function L(t,e){var i=t+e;return i<-W?i+=Y:i>+W&&(i-=Y),i}var A=1,I=2,R=4,k=5,j=484813681109536e-20,N=Math.PI/2,F=.16666666666666666,D=.04722222222222222,G=.022156084656084655,U=1e-10,B=.017453292519943295,V=57.29577951308232,z=Math.PI/4,Y=2*Math.PI,W=3.14159265359,X={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},H={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},q=/[\s_\-\/\(\)]/g,K=function(e){var i,n,r,o={},a=e.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var i=e.split("=");return i.push(!0),t[i[0].toLowerCase()]=i[1],t},{}),s={proj:"projName",datum:"datumCode",rf:function(t){o.rf=parseFloat(t)},lat_0:function(t){o.lat0=t*B},lat_1:function(t){o.lat1=t*B},lat_2:function(t){o.lat2=t*B},lat_ts:function(t){o.lat_ts=t*B},lon_0:function(t){o.long0=t*B},lon_1:function(t){o.long1=t*B},lon_2:function(t){o.long2=t*B},alpha:function(t){o.alpha=parseFloat(t)*B},lonc:function(t){o.longc=t*B},x_0:function(t){o.x0=parseFloat(t)},y_0:function(t){o.y0=parseFloat(t)},k_0:function(t){o.k0=parseFloat(t)},k:function(t){o.k0=parseFloat(t)},a:function(t){o.a=parseFloat(t)},b:function(t){o.b=parseFloat(t)},r_a:function(){o.R_A=!0},zone:function(t){o.zone=parseInt(t,10)},south:function(){o.utmSouth=!0},towgs84:function(t){o.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){o.to_meter=parseFloat(t)},units:function(e){o.units=e;var i=t(H,e);i&&(o.to_meter=i.to_meter)},from_greenwich:function(t){o.from_greenwich=t*B},pm:function(e){var i=t(X,e);o.from_greenwich=(i||parseFloat(e))*B},nadgrids:function(t){"@null"===t?o.datumCode="none":o.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(o.axis=t)}};for(i in a)n=a[i],i in s?"function"==typeof(r=s[i])?r(n):o[r]=n:o[i]=n;return"string"==typeof o.datumCode&&"WGS84"!==o.datumCode&&(o.datumCode=o.datumCode.toLowerCase()),o},$=1,Z=/\s/,J=/[A-Za-z]/,Q=/[A-Za-z84]/,tt=/[,\]]/,et=/[\d\.E\-\+]/;e.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;Z.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case $:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},e.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(tt.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},e.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=$)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=$,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},e.prototype.number=function(t){if(!et.test(t)){if(tt.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},e.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},e.prototype.keyword=function(t){if(Q.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=$)}if(!tt.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},e.prototype.neutral=function(t){if(J.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(et.test(t))return this.word=t,void(this.state=3);if(!tt.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},e.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var it=.017453292519943295,nt=function(t){var e=i(t),n=e.shift(),o=e.shift();e.unshift(["name",o]),e.unshift(["type",n]);var s={};return r(e,s),a(s),s};!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(s);var rt=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],ot=["3857","900913","3785","102113"],at=function(t,e){var i,n;if(t=t||{},!e)return t;for(n in e)void 0!==(i=e[n])&&(t[n]=i);return t},st=function(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)},ut=function(t){return t<0?-1:1},lt=function(t){return Math.abs(t)<=W?t:t-ut(t)*Y},ct=function(t,e,i){var n=t*i,r=.5*t;return n=Math.pow((1-n)/(1+n),r),Math.tan(.5*(N-e))/n},ht=function(t,e){for(var i,n,r=.5*t,o=N-2*Math.atan(e),a=0;a<=15;a++)if(i=t*Math.sin(o),n=N-2*Math.atan(e*Math.pow((1-i)/(1+i),r))-o,o+=n,Math.abs(n)<=1e-10)return o;return-9999},ft=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=st(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,i,n=t.x,r=t.y;if(r*V>90&&r*V<-90&&n*V>180&&n*V<-180)return null;if(Math.abs(Math.abs(r)-N)<=U)return null;if(this.sphere)e=this.x0+this.a*this.k0*lt(n-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(z+.5*r));else{var o=Math.sin(r),a=ct(this.e,r,o);e=this.x0+this.a*this.k0*lt(n-this.long0),i=this.y0-this.a*this.k0*Math.log(a)}return t.x=e,t.y=i,t},inverse:function(t){var e,i,n=t.x-this.x0,r=t.y-this.y0;if(this.sphere)i=N-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var o=Math.exp(-r/(this.a*this.k0));if(-9999===(i=ht(this.e,o)))return null}return e=lt(this.long0+n/(this.a*this.k0)),t.x=e,t.y=i,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:h,inverse:h,names:["longlat","identity"]}],pt={},dt=[],gt={start:function(){ft.forEach(f)},add:f,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==pt[e]&&dt[pt[e]]?dt[pt[e]]:void 0}},vt={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},yt=vt.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};vt.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var _t={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};p.projections=gt,p.projections.start();var mt=function(t,e,i){return function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===A?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==I||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e)?i:t.datum_type===k||e.datum_type===k?i:t.es!==e.es||t.a!==e.a||d(t.datum_type)||d(e.datum_type)?(i=function(t,e,i){var n,r,o,a,s=t.x,u=t.y,l=t.z?t.z:0;if(u<-N&&u>-1.001*N)u=-N;else if(u>N&&u<1.001*N)u=N;else{if(u<-N)return{x:-1/0,y:-1/0,z:t.z};if(u>N)return{x:1/0,y:1/0,z:t.z}}return s>Math.PI&&(s-=2*Math.PI),r=Math.sin(u),a=Math.cos(u),o=r*r,{x:((n=i/Math.sqrt(1-e*o))+l)*a*Math.cos(s),y:(n+l)*a*Math.sin(s),z:(n*(1-e)+l)*r}}(i,t.es,t.a),d(t.datum_type)&&(i=function(t,e,i){if(e===A)return{x:t.x+i[0],y:t.y+i[1],z:t.z+i[2]};if(e===I){var n=i[0],r=i[1],o=i[2],a=i[3],s=i[4],u=i[5],l=i[6];return{x:l*(t.x-u*t.y+s*t.z)+n,y:l*(u*t.x+t.y-a*t.z)+r,z:l*(-s*t.x+a*t.y+t.z)+o}}}(i,t.datum_type,t.datum_params)),d(e.datum_type)&&(i=function(t,e,i){if(e===A)return{x:t.x-i[0],y:t.y-i[1],z:t.z-i[2]};if(e===I){var n=i[0],r=i[1],o=i[2],a=i[3],s=i[4],u=i[5],l=i[6],c=(t.x-n)/l,h=(t.y-r)/l,f=(t.z-o)/l;return{x:c+u*h-s*f,y:-u*c+h+a*f,z:s*c-a*h+f}}}(i,e.datum_type,e.datum_params)),function(t,e,i,n){var r,o,a,s,u,l,c,h,f,p,d,g,v,y,_,m,b=t.x,x=t.y,S=t.z?t.z:0;if(r=Math.sqrt(b*b+x*x),o=Math.sqrt(b*b+x*x+S*S),r/i<1e-12){if(y=0,o/i<1e-12)return _=N,m=-n,{x:t.x,y:t.y,z:t.z}}else y=Math.atan2(x,b);a=S/o,h=(s=r/o)*(1-e)*(u=1/Math.sqrt(1-e*(2-e)*s*s)),f=a*u,v=0;do{v++,l=e*(c=i/Math.sqrt(1-e*f*f))/(c+(m=r*h+S*f-c*(1-e*f*f))),g=(d=a*(u=1/Math.sqrt(1-l*(2-l)*s*s)))*h-(p=s*(1-l)*u)*f,h=p,f=d}while(g*g>1e-24&&v<30);return _=Math.atan(d/Math.abs(p)),{x:y,y:_,z:m}}(i,e.es,e.a,e.b)):i},bt=function(t,e,i){var n,r,o,a=i.x,s=i.y,u=i.z||0,l={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==i.z)switch(0===o?(n=a,r="x"):1===o?(n=s,r="y"):(n=u,r="z"),t.axis[o]){case"e":l[r]=n;break;case"w":l[r]=-n;break;case"n":l[r]=n;break;case"s":l[r]=-n;break;case"u":void 0!==i[r]&&(l.z=n);break;case"d":void 0!==i[r]&&(l.z=-n);break;default:return null}return l},xt=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},St=function(t){g(t.x),g(t.y)},wt=p("WGS84"),Et=6,Mt="AJSAJS",Ot="AFAFAF",Ct=65,Tt=73,Pt=79,Lt=86,At=90,It={forward:b,inverse:function(t){var e=E(O(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:x};T.fromMGRS=function(t){return new T(x(t))},T.prototype.toMGRS=function(t){return b([this.x,this.y],t)};var Rt=.01068115234375,kt=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*Rt))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*Rt)));var i=t*t;return e[2]=i*(.46875-t*(.013020833333333334+.007120768229166667*t)),i*=t,e[3]=i*(.3645833333333333-.005696614583333333*t),e[4]=i*t*.3076171875,e},jt=function(t,e,i,n){return i*=e,e*=e,n[0]*t-i*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))},Nt=function(t,e,i){for(var n=1/(1-e),r=t,o=20;o;--o){var a=Math.sin(r),s=1-e*a*a;if(s=(jt(r,a,Math.cos(r),i)-t)*(s*Math.sqrt(s))*n,r-=s,Math.abs(s)<U)return r}return r},Ft={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=kt(this.es),this.ml0=jt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,i,n,r=t.x,o=t.y,a=lt(r-this.long0),s=Math.sin(o),u=Math.cos(o);if(this.es){var l=u*a,c=Math.pow(l,2),h=this.ep2*Math.pow(u,2),f=Math.pow(h,2),p=Math.abs(u)>U?Math.tan(o):0,d=Math.pow(p,2),g=Math.pow(d,2);e=1-this.es*Math.pow(s,2),l/=Math.sqrt(e);var v=jt(o,s,u,this.en);i=this.a*(this.k0*l*(1+c/6*(1-d+h+c/20*(5-18*d+g+14*h-58*d*h+c/42*(61+179*g-g*d-479*d)))))+this.x0,n=this.a*(this.k0*(v-this.ml0+s*a*l/2*(1+c/12*(5-d+9*h+4*f+c/30*(61+g-58*d+270*h-330*d*h+c/56*(1385+543*g-g*d-3111*d))))))+this.y0}else{var y=u*Math.sin(a);if(Math.abs(Math.abs(y)-1)<U)return 93;if(i=.5*this.a*this.k0*Math.log((1+y)/(1-y))+this.x0,n=u*Math.cos(a)/Math.sqrt(1-Math.pow(y,2)),(y=Math.abs(n))>=1){if(y-1>U)return 93;n=0}else n=Math.acos(n);o<0&&(n=-n),n=this.a*this.k0*(n-this.lat0)+this.y0}return t.x=i,t.y=n,t},inverse:function(t){var e,i,n,r,o=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,i=Nt(e,this.es,this.en),Math.abs(i)<N){var s=Math.sin(i),u=Math.cos(i),l=Math.abs(u)>U?Math.tan(i):0,c=this.ep2*Math.pow(u,2),h=Math.pow(c,2),f=Math.pow(l,2),p=Math.pow(f,2);e=1-this.es*Math.pow(s,2);var d=o*Math.sqrt(e)/this.k0,g=Math.pow(d,2);n=i-(e*=l)*g/(1-this.es)*.5*(1-g/12*(5+3*f-9*c*f+c-4*h-g/30*(61+90*f-252*c*f+45*p+46*c-g/56*(1385+3633*f+4095*p+1574*p*f)))),r=lt(this.long0+d*(1-g/6*(1+2*f+c-g/20*(5+28*f+24*p+8*c*f+6*c-g/42*(61+662*f+1320*p+720*p*f))))/u)}else n=N*ut(a),r=0;else{var v=Math.exp(o/this.k0),y=.5*(v-1/v),_=this.lat0+a/this.k0,m=Math.cos(_);e=Math.sqrt((1-Math.pow(m,2))/(1+Math.pow(y,2))),n=Math.asin(e),a<0&&(n=-n),r=0===y&&0===m?0:lt(Math.atan2(y,m)+this.long0)}return t.x=r,t.y=n,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},Dt=function(t){var e=Math.exp(t);return e=(e-1/e)/2},Gt=function(t,e){t=Math.abs(t),e=Math.abs(e);var i=Math.max(t,e),n=Math.min(t,e)/(i||1);return i*Math.sqrt(1+Math.pow(n,2))},Ut=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,i=e-1;return 0===i?t:t*Math.log(e)/i}(e*(1+e/(Gt(1,e)+1))),t<0?-e:e},Bt=function(t,e){for(var i,n=2*Math.cos(2*e),r=t.length-1,o=t[r],a=0;--r>=0;)i=n*o-a+t[r],a=o,o=i;return e+i*Math.sin(2*e)},Vt=function(t,e,i){for(var n,r,o=Math.sin(e),a=Math.cos(e),s=Dt(i),u=function(t){var e=Math.exp(t);return e=(e+1/e)/2}(i),l=2*a*u,c=-2*o*s,h=t.length-1,f=t[h],p=0,d=0,g=0;--h>=0;)n=d,r=p,f=l*(d=f)-n-c*(p=g)+t[h],g=c*d-r+l*p;return[(l=o*u)*f-(c=a*s)*g,l*g+c*f]},zt={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),i=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),i*=e,this.cgb[1]=i*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=i*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),i*=e,this.cgb[2]=i*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=i*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),i*=e,this.cgb[3]=i*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=i*(1237/630+e*(e*(-24832/14175)-2.4)),i*=e,this.cgb[4]=i*(4174/315+e*(-144838/6237)),this.cbg[4]=i*(-734/315+e*(109598/31185)),i*=e,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+i*(.25+i*(1/64+i/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=i*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=i*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),i*=e,this.utg[2]=i*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=i*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),i*=e,this.utg[3]=i*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=i*(49561/161280+e*(-179/168+e*(6601661/7257600))),i*=e,this.utg[4]=i*(-4583/161280+e*(108847/3991680)),this.gtu[4]=i*(34729/80640+e*(-3418889/1995840)),i*=e,this.utg[5]=-.03233083094085698*i,this.gtu[5]=.6650675310896665*i;var n=Bt(this.cbg,this.lat0);this.Zb=-this.Qn*(n+function(t,e){for(var i,n=2*Math.cos(e),r=t.length-1,o=t[r],a=0;--r>=0;)i=n*o-a+t[r],a=o,o=i;return Math.sin(e)*i}(this.gtu,2*n))},forward:function(t){var e=lt(t.x-this.long0),i=t.y;i=Bt(this.cbg,i);var n=Math.sin(i),r=Math.cos(i),o=Math.sin(e),a=Math.cos(e);i=Math.atan2(n,a*r),e=Math.atan2(o*r,Gt(n,r*a)),e=Ut(Math.tan(e));var s,u,l=Vt(this.gtu,2*i,2*e);return i+=l[0],e+=l[1],Math.abs(e)<=2.623395162778?(s=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*i+this.Zb)+this.y0):(s=1/0,u=1/0),t.x=s,t.y=u,t},inverse:function(t){var e,i,n=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);if(r=(r-this.Zb)/this.Qn,n/=this.Qn,Math.abs(n)<=2.623395162778){var o=Vt(this.utg,2*r,2*n);r+=o[0],n+=o[1],n=Math.atan(Dt(n));var a=Math.sin(r),s=Math.cos(r),u=Math.sin(n),l=Math.cos(n);r=Math.atan2(a*l,Gt(u,l*s)),n=Math.atan2(u,l*s),e=lt(n+this.long0),i=Bt(this.cgb,r)}else e=1/0,i=1/0;return t.x=e,t.y=i,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]},Yt={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(lt(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*B,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,zt.init.apply(this),this.forward=zt.forward,this.inverse=zt.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},Wt=function(t,e){return Math.pow((1-t)/(1+t),e)},Xt={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+z)/(Math.pow(Math.tan(.5*this.lat0+z),this.C)*Wt(this.e*t,this.ratexp))},forward:function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+z),this.C)*Wt(this.e*Math.sin(i),this.ratexp))-N,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,i=t.y,n=Math.pow(Math.tan(.5*i+z)/this.K,1/this.C),r=20;r>0&&(i=2*Math.atan(n*Wt(this.e*Math.sin(t.y),-.5*this.e))-N,!(Math.abs(i-t.y)<1e-14));--r)t.y=i;return r?(t.x=e,t.y=i,t):null},names:["gauss"]},Ht={init:function(){Xt.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,i,n,r;return t.x=lt(t.x-this.long0),Xt.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),n=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*n),t.x=r*i*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*i*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,i,n,r,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var a=2*Math.atan2(o,this.R2);e=Math.sin(a),i=Math.cos(a),r=Math.asin(i*this.sinc0+t.y*e*this.cosc0/o),n=Math.atan2(t.x*e,o*this.cosc0*i-t.y*this.sinc0*e)}else r=this.phic0,n=0;return t.x=n,t.y=r,Xt.inverse.apply(this,[t]),t.x=lt(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},qt={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=U&&(this.k0=.5*(1+ut(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=U&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=U&&(this.k0=.5*this.cons*st(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/ct(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=st(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-N,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,i,n,r,o,a,s=t.x,u=t.y,l=Math.sin(u),c=Math.cos(u),h=lt(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=U&&Math.abs(u+this.lat0)<=U?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*l+this.coslat0*c*Math.cos(h)),t.x=this.a*e*c*Math.sin(h)+this.x0,t.y=this.a*e*(this.coslat0*l-this.sinlat0*c*Math.cos(h))+this.y0,t):(i=2*Math.atan(this.ssfn_(u,l,this.e))-N,r=Math.cos(i),n=Math.sin(i),Math.abs(this.coslat0)<=U?(o=ct(this.e,u*this.con,this.con*l),a=2*this.a*this.k0*o/this.cons,t.x=this.x0+a*Math.sin(s-this.long0),t.y=this.y0-this.con*a*Math.cos(s-this.long0),t):(Math.abs(this.sinlat0)<U?(e=2*this.a*this.k0/(1+r*Math.cos(h)),t.y=e*n):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*n+this.cosX0*r*Math.cos(h))),t.y=e*(this.cosX0*n-this.sinX0*r*Math.cos(h))+this.y0),t.x=e*r*Math.sin(h)+this.x0,t))},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n,r,o,a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,i=this.lat0,a<=U?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/a),e=lt(Math.abs(this.coslat0)<U?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(s),a*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=U){if(a<=U)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,n=a*this.cons/(2*this.a*this.k0),i=this.con*ht(this.e,n),e=this.con*lt(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=U?o=this.X0:(o=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/a),e=lt(this.long0+Math.atan2(t.x*Math.sin(r),a*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),i=-1*ht(this.e,Math.tan(.5*(N+o)));return t.x=e,t.y=i,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,i){return e*=i,Math.tan(.5*(N+t))*Math.pow((1-e)/(1+e),.5*i)}},Kt={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,n=1/this.rf,r=2*n-Math.pow(n,2),o=this.e=Math.sqrt(r);this.R=this.k0*i*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*s+this.alpha*o/2*u},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+i)+this.K,r=2*(Math.atan(Math.exp(n))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*a+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,i=t.y-this.y0,n=e/this.R,r=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(n)),a=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(r))),s=this.lambda0+a/this.alpha,u=0,l=o,c=-1e3,h=0;Math.abs(l-c)>1e-7;){if(++h>20)return;u=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),c=l,l=2*Math.atan(Math.exp(u))-Math.PI/2}return t.x=s,t.y=l,t},names:["somerc"]},$t={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),i=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var n,r,o=ct(this.e,this.lat0,t),a=this.bl/e*Math.sqrt((1-this.es)/(1-i*i));if(a*a<1&&(a=1),isNaN(this.longc)){var s=ct(this.e,this.lat1,Math.sin(this.lat1)),u=ct(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(a+Math.sqrt(a*a-1))*Math.pow(o,this.bl):this.el=(a-Math.sqrt(a*a-1))*Math.pow(o,this.bl);var l=Math.pow(s,this.bl),c=Math.pow(u,this.bl);r=.5*((n=this.el/l)-1/n);var h=(this.el*this.el-c*l)/(this.el*this.el+c*l),f=(c-l)/(c+l),p=lt(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(h*Math.tan(.5*this.bl*p)/f)/this.bl,this.long0=lt(this.long0);var d=lt(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*d)/r),this.alpha=Math.asin(a*Math.sin(this.gamma0))}else n=this.lat0>=0?a+Math.sqrt(a*a-1):a-Math.sqrt(a*a-1),this.el=n*Math.pow(o,this.bl),r=.5*(n-1/n),this.gamma0=Math.asin(Math.sin(this.alpha)/a),this.long0=this.longc-Math.asin(r*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha))},forward:function(t){var e,i,n,r=t.x,o=t.y,a=lt(r-this.long0);if(Math.abs(Math.abs(o)-N)<=U)n=o>0?-1:1,i=this.al/this.bl*Math.log(Math.tan(z+n*this.gamma0*.5)),e=-1*n*N*this.al/this.bl;else{var s=ct(this.e,o,Math.sin(o)),u=this.el/Math.pow(s,this.bl),l=.5*(u-1/u),c=.5*(u+1/u),h=Math.sin(this.bl*a),f=(l*Math.sin(this.gamma0)-h*Math.cos(this.gamma0))/c;i=Math.abs(Math.abs(f)-1)<=U?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-f)/(1+f))/this.bl,e=Math.abs(Math.cos(this.bl*a))<=U?this.al*this.bl*a:this.al*Math.atan2(l*Math.cos(this.gamma0)+h*Math.sin(this.gamma0),Math.cos(this.bl*a))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+i):(e-=this.uc,t.x=this.x0+i*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-i*Math.sin(this.alpha)),t},inverse:function(t){var e,i;this.no_rot?(i=t.y-this.y0,e=t.x-this.x0):(i=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var n=Math.exp(-1*this.bl*i/this.al),r=.5*(n-1/n),o=.5*(n+1/n),a=Math.sin(this.bl*e/this.al),s=(a*Math.cos(this.gamma0)+r*Math.sin(this.gamma0))/o,u=Math.pow(this.el/Math.sqrt((1+s)/(1-s)),1/this.bl);return Math.abs(s-1)<U?(t.x=this.long0,t.y=N):Math.abs(s+1)<U?(t.x=this.long0,t.y=-1*N):(t.y=ht(this.e,u),t.x=lt(this.long0-Math.atan2(r*Math.cos(this.gamma0)-a*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},Zt={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<U)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),n=st(this.e,e,i),r=ct(this.e,this.lat1,e),o=Math.sin(this.lat2),a=Math.cos(this.lat2),s=st(this.e,o,a),u=ct(this.e,this.lat2,o),l=ct(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>U?this.ns=Math.log(n/s)/Math.log(r/u):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(l,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=U&&(i=ut(i)*(N-2*U));var n,r,o=Math.abs(Math.abs(i)-N);if(o>U)n=ct(this.e,i,Math.sin(i)),r=this.a*this.f0*Math.pow(n,this.ns);else{if((o=i*this.ns)<=0)return null;r=0}var a=this.ns*lt(e-this.long0);return t.x=this.k0*(r*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(a))+this.y0,t},inverse:function(t){var e,i,n,r,o,a=(t.x-this.x0)/this.k0,s=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+s*s),i=1):(e=-Math.sqrt(a*a+s*s),i=-1);var u=0;if(0!==e&&(u=Math.atan2(i*a,i*s)),0!==e||this.ns>0){if(i=1/this.ns,n=Math.pow(e/(this.a*this.f0),i),-9999===(r=ht(this.e,n)))return null}else r=-N;return o=lt(u/this.ns+this.long0),t.x=o,t.y=r,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},Jt={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,i,n,r,o,a,s,u=t.x,l=t.y,c=lt(u-this.long0);return e=Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(l/2+this.s45),this.alfa)/e)-this.s45),n=-c*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(n)),o=Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(r)),a=this.n*o,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=s*Math.cos(a)/1,t.x=s*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,i,n,r,o,a,s,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x)/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),i=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(e)),t.x=this.long0-i/this.alfa,a=e,s=0;var l=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(s=1),a=t.y,l+=1}while(0===s&&l<15);return l>=15?null:t},names:["Krovak","krovak"]},Qt=function(t,e,i,n,r){return t*r-e*Math.sin(2*r)+i*Math.sin(4*r)-n*Math.sin(6*r)},te=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},ee=function(t){return.375*t*(1+.25*t*(1+.46875*t))},ie=function(t){return.05859375*t*t*(1+.75*t)},ne=function(t){return t*t*t*(35/3072)},re=function(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)},oe=function(t){return Math.abs(t)<N?t:t-ut(t)*Math.PI},ae=function(t,e,i,n,r){var o,a;o=t/e;for(var s=0;s<15;s++)if(a=(t-(e*o-i*Math.sin(2*o)+n*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*i*Math.cos(2*o)+4*n*Math.cos(4*o)-6*r*Math.cos(6*o)),o+=a,Math.abs(a)<=1e-10)return o;return NaN},se={init:function(){this.sphere||(this.e0=te(this.es),this.e1=ee(this.es),this.e2=ie(this.es),this.e3=ne(this.es),this.ml0=this.a*Qt(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,i,n=t.x,r=t.y;if(n=lt(n-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(n)),i=this.a*(Math.atan2(Math.tan(r),Math.cos(n))-this.lat0);else{var o=Math.sin(r),a=Math.cos(r),s=re(this.a,this.e,o),u=Math.tan(r)*Math.tan(r),l=n*Math.cos(r),c=l*l,h=this.es*a*a/(1-this.es);e=s*l*(1-c*u*(1/6-(8-u+8*h)*c/120)),i=this.a*Qt(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+s*o/a*c*(.5+(5-u+6*h)*c/24)}return t.x=e+this.x0,t.y=i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(o))}else{var a=this.ml0/this.a+r,s=ae(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-N)<=U)return t.x=this.long0,t.y=N,r<0&&(t.y*=-1),t;var u=re(this.a,this.e,Math.sin(s)),l=u*u*u/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),h=n*this.a/u,f=h*h;e=s-u*Math.tan(s)/l*h*h*(.5-(1+3*c)*h*h/24),i=h*(1-f*(c/3+(1+3*c)*c*f/15))/Math.cos(s)}return t.x=lt(i+this.long0),t.y=oe(e),t},names:["Cassini","Cassini_Soldner","cass"]},ue=function(t,e){var i;return t>1e-7?(1-t*t)*(e/(1-(i=t*e)*i)-.5/t*Math.log((1-i)/(1+i))):2*e},le=.3333333333333333,ce=.17222222222222222,he=.10257936507936508,fe=.06388888888888888,pe=.0664021164021164,de=.016415012942191543,ge={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-N)<U?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<U?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=ue(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,i=[];return i[0]=t*le,e=t*t,i[0]+=e*ce,i[1]=e*fe,e*=t,i[0]+=e*he,i[1]+=e*pe,i[2]=e*de,i}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=ue(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,i,n,r,o,a,s,u,l,c,h=t.x,f=t.y;if(h=lt(h-this.long0),this.sphere){if(o=Math.sin(f),c=Math.cos(f),n=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((i=this.mode===this.EQUIT?1+c*n:1+this.sinph0*o+this.cosph0*c*n)<=U)return null;e=(i=Math.sqrt(2/i))*c*Math.sin(h),i*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*c*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(f+this.phi0)<U)return null;i=z-.5*f,e=(i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)))*Math.sin(h),i*=n}}else{switch(s=0,u=0,l=0,n=Math.cos(h),r=Math.sin(h),o=Math.sin(f),a=ue(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=a/this.qp,u=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:l=1+this.sinb1*s+this.cosb1*u*n;break;case this.EQUIT:l=1+u*n;break;case this.N_POLE:l=N+f,a=this.qp-a;break;case this.S_POLE:l=f-N,a=this.qp+a}if(Math.abs(l)<U)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:l=Math.sqrt(2/l),i=this.mode===this.OBLIQ?this.ymf*l*(this.cosb1*s-this.sinb1*u*n):(l=Math.sqrt(2/(1+u*n)))*s*this.ymf,e=this.xmf*l*u*r;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(l=Math.sqrt(a))*r,i=n*(this.mode===this.S_POLE?l:-l)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n,r,o,a,s,u=t.x/this.a,l=t.y/this.a;if(this.sphere){var c,h=0,f=0;if(c=Math.sqrt(u*u+l*l),(i=.5*c)>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=Math.sin(i),h=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(c)<=U?0:Math.asin(l*f/c),u*=f,l=h*c;break;case this.OBLIQ:i=Math.abs(c)<=U?this.phi0:Math.asin(h*this.sinph0+l*f*this.cosph0/c),u*=f*this.cosph0,l=(h-Math.sin(i)*this.sinph0)*c;break;case this.N_POLE:l=-l,i=N-i;break;case this.S_POLE:i-=N}e=0!==l||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(u,l):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(u/=this.dd,l*=this.dd,(a=Math.sqrt(u*u+l*l))<U)return t.x=0,t.y=this.phi0,t;r=2*Math.asin(.5*a/this.rq),n=Math.cos(r),u*=r=Math.sin(r),this.mode===this.OBLIQ?(s=n*this.sinb1+l*r*this.cosb1/a,o=this.qp*s,l=a*this.cosb1*n-l*this.sinb1*r):(s=l*r/a,o=this.qp*s,l=a*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),!(o=u*u+l*l))return t.x=0,t.y=this.phi0,t;s=1-o/this.qp,this.mode===this.S_POLE&&(s=-s)}e=Math.atan2(u,l),i=function(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)}(Math.asin(s),this.apa)}return t.x=lt(this.long0+e),t.y=i,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},ve=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)},ye={init:function(){Math.abs(this.lat1+this.lat2)<U||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=st(this.e3,this.sin_po,this.cos_po),this.qs1=ue(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=st(this.e3,this.sin_po,this.cos_po),this.qs2=ue(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=ue(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>U?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=ue(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,o=this.ns0*lt(e-this.long0),a=r*Math.sin(o)+this.x0,s=this.rh-r*Math.cos(o)+this.y0;return t.x=a,t.y=s,t},inverse:function(t){var e,i,n,r,o,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),r=0,0!==e&&(r=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-n*n)/(2*this.ns0)):(i=(this.c-n*n)/this.ns0,a=this.phi1z(this.e3,i)),o=lt(r/this.ns0+this.long0),t.x=o,t.y=a,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var i,n,r,o,a,s=ve(.5*e);if(t<U)return s;for(var u=t*t,l=1;l<=25;l++)if(i=Math.sin(s),n=Math.cos(s),a=.5*(o=1-(r=t*i)*r)*o/n*(e/(1-u)-i/o+.5/t*Math.log((1-r)/(1+r))),s+=a,Math.abs(a)<=1e-7)return s;return null}},_e={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,i,n,r,o,a,s,u=t.x,l=t.y;return n=lt(u-this.long0),e=Math.sin(l),i=Math.cos(l),r=Math.cos(n),(o=this.sin_p14*e+this.cos_p14*i*r)>0||Math.abs(o)<=U?(a=this.x0+1*this.a*i*Math.sin(n)/o,s=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*r)/o):(a=this.x0+this.infinity_dist*i*Math.sin(n),s=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*r)),t.x=a,t.y=s,t},inverse:function(t){var e,i,n,r,o,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),i=Math.sin(r),n=Math.cos(r),a=ve(n*this.sin_p14+t.y*i*this.cos_p14/e),o=Math.atan2(t.x*i,e*this.cos_p14*n-t.y*this.sin_p14*i),o=lt(this.long0+o)):(a=this.phic0,o=0),t.x=o,t.y=a,t},names:["gnom"]},me={init:function(){this.sphere||(this.k0=st(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,i,n=t.x,r=t.y,o=lt(n-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var a=ue(this.e,Math.sin(r));e=this.x0+this.a*this.k0*o,i=this.y0+this.a*a*.5/this.k0}return t.x=e,t.y=i,t},inverse:function(t){var e,i;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=lt(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return e<0?-1*N:N;for(var n,r,o,a,s=Math.asin(.5*e),u=0;u<30;u++)if(r=Math.sin(s),o=Math.cos(s),a=t*r,n=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-r/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),s+=n,Math.abs(n)<=1e-10)return s;return NaN}(this.e,2*t.y*this.k0/this.a),e=lt(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t},names:["cea"]},be={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,i=t.y,n=lt(e-this.long0),r=oe(i-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*r,t},inverse:function(t){var e=t.x,i=t.y;return t.x=lt(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=oe(this.lat0+(i-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},xe={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=te(this.es),this.e1=ee(this.es),this.e2=ie(this.es),this.e3=ne(this.es),this.ml0=this.a*Qt(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,i,n,r=t.x,o=t.y,a=lt(r-this.long0);if(n=a*Math.sin(o),this.sphere)Math.abs(o)<=U?(e=this.a*a,i=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(o),i=this.a*(oe(o-this.lat0)+(1-Math.cos(n))/Math.tan(o)));else if(Math.abs(o)<=U)e=this.a*a,i=-1*this.ml0;else{var s=re(this.a,this.e,Math.sin(o))/Math.tan(o);e=s*Math.sin(n),i=this.a*Qt(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+s*(1-Math.cos(n))}return t.x=e+this.x0,t.y=i+this.y0,t},inverse:function(t){var e,i,n,r,o,a,s,u,l;if(n=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=U)e=lt(n/this.a+this.long0),i=0;else{var c;for(a=this.lat0+r/this.a,s=n*n/this.a/this.a+a*a,u=a,o=20;o;--o)if(c=Math.tan(u),u+=l=-1*(a*(u*c+1)-u-.5*(u*u+s)*c)/((u-a)/c-1),Math.abs(l)<=U){i=u;break}e=lt(this.long0+Math.asin(n*Math.tan(u)/this.a)/Math.sin(i))}else if(Math.abs(r+this.ml0)<=U)i=0,e=lt(this.long0+n/this.a);else{var h,f,p,d,g;for(a=(this.ml0+r)/this.a,s=n*n/this.a/this.a+a*a,u=a,o=20;o;--o)if(g=this.e*Math.sin(u),h=Math.sqrt(1-g*g)*Math.tan(u),f=this.a*Qt(this.e0,this.e1,this.e2,this.e3,u),p=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),d=f/this.a,l=(a*(h*d+1)-d-.5*h*(d*d+s))/(this.es*Math.sin(2*u)*(d*d+s-2*a*d)/(4*h)+(a-d)*(h*p-2/Math.sin(2*u))-p),u-=l,Math.abs(l)<=U){i=u;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=lt(this.long0+Math.asin(n*h/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},names:["Polyconic","poly"]},Se={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,i=t.x,n=t.y-this.lat0,r=i-this.long0,o=n/j*1e-5,a=r,s=1,u=0;for(e=1;e<=10;e++)s*=o,u+=this.A[e]*s;var l,c=u,h=a,f=1,p=0,d=0,g=0;for(e=1;e<=6;e++)l=p*c+f*h,f=f*c-p*h,p=l,d=d+this.B_re[e]*f-this.B_im[e]*p,g=g+this.B_im[e]*f+this.B_re[e]*p;return t.x=g*this.a+this.x0,t.y=d*this.a+this.y0,t},inverse:function(t){var e,i,n=t.x,r=t.y,o=n-this.x0,a=(r-this.y0)/this.a,s=o/this.a,u=1,l=0,c=0,h=0;for(e=1;e<=6;e++)i=l*a+u*s,u=u*a-l*s,l=i,c=c+this.C_re[e]*u-this.C_im[e]*l,h=h+this.C_im[e]*u+this.C_re[e]*l;for(var f=0;f<this.iterations;f++){var p,d=c,g=h,v=a,y=s;for(e=2;e<=6;e++)p=g*c+d*h,d=d*c-g*h,g=p,v+=(e-1)*(this.B_re[e]*d-this.B_im[e]*g),y+=(e-1)*(this.B_im[e]*d+this.B_re[e]*g);d=1,g=0;var _=this.B_re[1],m=this.B_im[1];for(e=2;e<=6;e++)p=g*c+d*h,d=d*c-g*h,g=p,_+=e*(this.B_re[e]*d-this.B_im[e]*g),m+=e*(this.B_im[e]*d+this.B_re[e]*g);var b=_*_+m*m;c=(v*_+y*m)/b,h=(y*_-v*m)/b}var x=c,S=h,w=1,E=0;for(e=1;e<=9;e++)w*=x,E+=this.D[e]*w;var M=this.lat0+E*j*1e5,O=this.long0+S;return t.x=O,t.y=M,t},names:["New_Zealand_Map_Grid","nzmg"]},we={init:function(){},forward:function(t){var e=t.x,i=t.y,n=lt(e-this.long0),r=this.x0+this.a*n,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=r,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=lt(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},names:["Miller_Cylindrical","mill"]},Ee={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=kt(this.es)},forward:function(t){var e,i,n=t.x,r=t.y;if(n=lt(n-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(r),a=20;a;--a){var s=(this.m*r+Math.sin(r)-o)/(this.m+Math.cos(r));if(r-=s,Math.abs(s)<U)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*n*(this.m+Math.cos(r)),i=this.a*this.C_y*r}else{var u=Math.sin(r),l=Math.cos(r);i=this.a*jt(r,u,l,this.en),e=this.a*n*l/Math.sqrt(1-this.es*u*u)}return t.x=e,t.y=i,t},inverse:function(t){var e,i,n,r;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n/=this.C_x*(this.m+Math.cos(e)),this.m?e=ve((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=ve(Math.sin(e)/this.n)),n=lt(n+this.long0),e=oe(e)):(e=Nt(t.y/this.a,this.es,this.en),(r=Math.abs(e))<N?(r=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),n=lt(i)):r-U<N&&(n=this.long0)),t.x=n,t.y=e,t},names:["Sinusoidal","sinu"]},Me={init:function(){},forward:function(t){for(var e=t.x,i=t.y,n=lt(e-this.long0),r=i,o=Math.PI*Math.sin(i);;){var a=-(r+Math.sin(r)-o)/(1+Math.cos(r));if(r+=a,Math.abs(a)<U)break}r/=2,Math.PI/2-Math.abs(i)<U&&(n=0);var s=.900316316158*this.a*n*Math.cos(r)+this.x0,u=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=s,t.y=u,t},inverse:function(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var n=lt(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var r=Math.asin(i);return t.x=n,t.y=r,t},names:["Mollweide","moll"]},Oe={init:function(){Math.abs(this.lat1+this.lat2)<U||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=te(this.es),this.e1=ee(this.es),this.e2=ie(this.es),this.e3=ne(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=st(this.e,this.sinphi,this.cosphi),this.ml1=Qt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<U?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=st(this.e,this.sinphi,this.cosphi),this.ml2=Qt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Qt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,i=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var r=Qt(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-r)}var o=this.ns*lt(i-this.long0),a=this.x0+e*Math.sin(o),s=this.y0+this.rh-e*Math.cos(o);return t.x=a,t.y=s,t},inverse:function(t){var e,i,n,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==i&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=lt(this.long0+o/this.ns),n=oe(this.g-i/this.a),t.x=r,t.y=n,t;var a=this.g-i/this.a;return n=ae(a,this.e0,this.e1,this.e2,this.e3),r=lt(this.long0+o/this.ns),t.x=r,t.y=n,t},names:["Equidistant_Conic","eqdc"]},Ce={init:function(){this.R=this.a},forward:function(t){var e,i,n=t.x,r=t.y,o=lt(n-this.long0);Math.abs(r)<=U&&(e=this.x0+this.R*o,i=this.y0);var a=ve(2*Math.abs(r/Math.PI));(Math.abs(o)<=U||Math.abs(Math.abs(r)-N)<=U)&&(e=this.x0,i=r>=0?this.y0+Math.PI*this.R*Math.tan(.5*a):this.y0+Math.PI*this.R*-Math.tan(.5*a));var s=.5*Math.abs(Math.PI/o-o/Math.PI),u=s*s,l=Math.sin(a),c=Math.cos(a),h=c/(l+c-1),f=h*h,p=h*(2/l-1),d=p*p,g=Math.PI*this.R*(s*(h-d)+Math.sqrt(u*(h-d)*(h-d)-(d+u)*(f-d)))/(d+u);o<0&&(g=-g),e=this.x0+g;var v=u+h;return g=Math.PI*this.R*(p*v-s*Math.sqrt((d+u)*(u+1)-v*v))/(d+u),i=r>=0?this.y0+g:this.y0-g,t.x=e,t.y=i,t},inverse:function(t){var e,i,n,r,o,a,s,u,l,c,h,f,p;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,n=t.x/h,r=t.y/h,o=n*n+r*r,a=-Math.abs(r)*(1+o),p=r*r/(u=-2*a+1+2*r*r+o*o)+(2*(s=a-2*r*r+n*n)*s*s/u/u/u-9*a*s/u/u)/27,l=(a-s*s/3/u)/u,c=2*Math.sqrt(-l/3),h=3*p/l/c,Math.abs(h)>1&&(h=h>=0?1:-1),f=Math.acos(h)/3,i=t.y>=0?(-c*Math.cos(f+Math.PI/3)-s/3/u)*Math.PI:-(-c*Math.cos(f+Math.PI/3)-s/3/u)*Math.PI,e=Math.abs(n)<U?this.long0:lt(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(n*n-r*r)+o*o))/2/n),t.x=e,t.y=i,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},Te={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,i,n,r,o,a,s,u,l,c,h,f,p,d,g,v,y,_,m,b,x,S,w=t.x,E=t.y,M=Math.sin(t.y),O=Math.cos(t.y),C=lt(w-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=U?(t.x=this.x0+this.a*(N-E)*Math.sin(C),t.y=this.y0-this.a*(N-E)*Math.cos(C),t):Math.abs(this.sin_p12+1)<=U?(t.x=this.x0+this.a*(N+E)*Math.sin(C),t.y=this.y0+this.a*(N+E)*Math.cos(C),t):(_=this.sin_p12*M+this.cos_p12*O*Math.cos(C),v=Math.acos(_),y=v/Math.sin(v),t.x=this.x0+this.a*y*O*Math.sin(C),t.y=this.y0+this.a*y*(this.cos_p12*M-this.sin_p12*O*Math.cos(C)),t):(e=te(this.es),i=ee(this.es),n=ie(this.es),r=ne(this.es),Math.abs(this.sin_p12-1)<=U?(o=this.a*Qt(e,i,n,r,N),a=this.a*Qt(e,i,n,r,E),t.x=this.x0+(o-a)*Math.sin(C),t.y=this.y0-(o-a)*Math.cos(C),t):Math.abs(this.sin_p12+1)<=U?(o=this.a*Qt(e,i,n,r,N),a=this.a*Qt(e,i,n,r,E),t.x=this.x0+(o+a)*Math.sin(C),t.y=this.y0+(o+a)*Math.cos(C),t):(s=M/O,u=re(this.a,this.e,this.sin_p12),l=re(this.a,this.e,M),c=Math.atan((1-this.es)*s+this.es*u*this.sin_p12/(l*O)),h=Math.atan2(Math.sin(C),this.cos_p12*Math.tan(c)-this.sin_p12*Math.cos(C)),m=0===h?Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.abs(Math.abs(h)-Math.PI)<=U?-Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.asin(Math.sin(C)*Math.cos(c)/Math.sin(h)),f=this.e*this.sin_p12/Math.sqrt(1-this.es),p=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es),v=u*m*(1-(b=m*m)*(g=p*p)*(1-g)/6+(x=b*m)/8*(d=f*p)*(1-2*g)+(S=x*m)/120*(g*(4-7*g)-3*f*f*(1-7*g))-S*m/48*d),t.x=this.x0+v*Math.sin(h),t.y=this.y0+v*Math.cos(h),t))},inverse:function(t){var e,i,n,r,o,a,s,u,l,c,h,f,p,d,g,v,y,_,m,b,x,S;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*N*this.a)return;return i=e/this.a,n=Math.sin(i),r=Math.cos(i),o=this.long0,Math.abs(e)<=U?a=this.lat0:(a=ve(r*this.sin_p12+t.y*n*this.cos_p12/e),s=Math.abs(this.lat0)-N,o=lt(Math.abs(s)<=U?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*n,e*this.cos_p12*r-t.y*this.sin_p12*n))),t.x=o,t.y=a,t}return u=te(this.es),l=ee(this.es),c=ie(this.es),h=ne(this.es),Math.abs(this.sin_p12-1)<=U?(f=this.a*Qt(u,l,c,h,N),e=Math.sqrt(t.x*t.x+t.y*t.y),a=ae((f-e)/this.a,u,l,c,h),o=lt(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=a,t):Math.abs(this.sin_p12+1)<=U?(f=this.a*Qt(u,l,c,h,N),e=Math.sqrt(t.x*t.x+t.y*t.y),a=ae((e-f)/this.a,u,l,c,h),o=lt(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),p=re(this.a,this.e,this.sin_p12),v=Math.cos(g),y=this.e*this.cos_p12*v,_=-y*y/(1-this.es),m=3*this.es*(1-_)*this.sin_p12*this.cos_p12*v/(1-this.es),x=(b=e/p)-_*(1+_)*Math.pow(b,3)/6-m*(1+3*_)*Math.pow(b,4)/24,S=1-_*x*x/2-b*x*x*x/6,d=Math.asin(this.sin_p12*Math.cos(x)+this.cos_p12*Math.sin(x)*v),o=lt(this.long0+Math.asin(Math.sin(g)*Math.sin(x)/Math.cos(d))),a=Math.atan((1-this.es*S*this.sin_p12/Math.sin(d))*Math.tan(d)/(1-this.es)),t.x=o,t.y=a,t)},names:["Azimuthal_Equidistant","aeqd"]},Pe={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,i,n,r,o,a,s,u=t.x,l=t.y;return n=lt(u-this.long0),e=Math.sin(l),i=Math.cos(l),r=Math.cos(n),((o=this.sin_p14*e+this.cos_p14*i*r)>0||Math.abs(o)<=U)&&(a=1*this.a*i*Math.sin(n),s=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*r)),t.x=a,t.y=s,t},inverse:function(t){var e,i,n,r,o,a,s;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),i=ve(e/this.a),n=Math.sin(i),r=Math.cos(i),a=this.long0,Math.abs(e)<=U?(s=this.lat0,t.x=a,t.y=s,t):(s=ve(r*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.abs(this.lat0)-N,Math.abs(o)<=U?(a=lt(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=s,t):(a=lt(this.long0+Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n)),t.x=a,t.y=s,t))},names:["ortho"]},Le={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Ae={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4},Ie={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=N-z/2?this.face=Le.TOP:this.lat0<=-(N-z/2)?this.face=Le.BOTTOM:Math.abs(this.long0)<=z?this.face=Le.FRONT:Math.abs(this.long0)<=N+z?this.face=this.long0>0?Le.RIGHT:Le.LEFT:this.face=Le.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,i,n,r,o,a,s={x:0,y:0},u={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,i=t.x,this.face===Le.TOP)r=N-e,i>=z&&i<=N+z?(u.value=Ae.AREA_0,n=i-N):i>N+z||i<=-(N+z)?(u.value=Ae.AREA_1,n=i>0?i-W:i+W):i>-(N+z)&&i<=-z?(u.value=Ae.AREA_2,n=i+N):(u.value=Ae.AREA_3,n=i);else if(this.face===Le.BOTTOM)r=N+e,i>=z&&i<=N+z?(u.value=Ae.AREA_0,n=-i+N):i<z&&i>=-z?(u.value=Ae.AREA_1,n=-i):i<-z&&i>=-(N+z)?(u.value=Ae.AREA_2,n=-i-N):(u.value=Ae.AREA_3,n=i>0?-i+W:-i-W);else{var l,c,h,f,p,d;this.face===Le.RIGHT?i=L(i,+N):this.face===Le.BACK?i=L(i,+W):this.face===Le.LEFT&&(i=L(i,-N)),f=Math.sin(e),p=Math.cos(e),d=Math.sin(i),l=p*Math.cos(i),c=p*d,h=f,this.face===Le.FRONT?n=P(r=Math.acos(l),h,c,u):this.face===Le.RIGHT?n=P(r=Math.acos(c),h,-l,u):this.face===Le.BACK?n=P(r=Math.acos(-l),h,-c,u):this.face===Le.LEFT?n=P(r=Math.acos(-c),h,l,u):(r=n=0,u.value=Ae.AREA_0)}return a=Math.atan(12/W*(n+Math.acos(Math.sin(n)*Math.cos(z))-N)),o=Math.sqrt((1-Math.cos(r))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(n))))),u.value===Ae.AREA_1?a+=N:u.value===Ae.AREA_2?a+=W:u.value===Ae.AREA_3&&(a+=1.5*W),s.x=o*Math.cos(a),s.y=o*Math.sin(a),s.x=s.x*this.a+this.x0,s.y=s.y*this.a+this.y0,t.x=s.x,t.y=s.y,t},inverse:function(t){var e,i,n,r,o,a,s,u,l,c,h,f,p={lam:0,phi:0},d={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?d.value=Ae.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(d.value=Ae.AREA_1,e-=N):t.x<0&&-t.x>=Math.abs(t.y)?(d.value=Ae.AREA_2,e=e<0?e+W:e-W):(d.value=Ae.AREA_3,e+=N),l=W/12*Math.tan(e),o=Math.sin(l)/(Math.cos(l)-1/Math.sqrt(2)),a=Math.atan(o),n=Math.cos(e),r=Math.tan(i),(s=1-n*n*r*r*(1-Math.cos(Math.atan(1/Math.cos(a)))))<-1?s=-1:s>1&&(s=1),this.face===Le.TOP)u=Math.acos(s),p.phi=N-u,d.value===Ae.AREA_0?p.lam=a+N:d.value===Ae.AREA_1?p.lam=a<0?a+W:a-W:d.value===Ae.AREA_2?p.lam=a-N:p.lam=a;else if(this.face===Le.BOTTOM)u=Math.acos(s),p.phi=u-N,d.value===Ae.AREA_0?p.lam=-a+N:d.value===Ae.AREA_1?p.lam=-a:d.value===Ae.AREA_2?p.lam=-a-N:p.lam=a<0?-a-W:-a+W;else{var g,v,y;l=(g=s)*g,v=(l+=(y=l>=1?0:Math.sqrt(1-l)*Math.sin(a))*y)>=1?0:Math.sqrt(1-l),d.value===Ae.AREA_1?(l=v,v=-y,y=l):d.value===Ae.AREA_2?(v=-v,y=-y):d.value===Ae.AREA_3&&(l=v,v=y,y=-l),this.face===Le.RIGHT?(l=g,g=-v,v=l):this.face===Le.BACK?(g=-g,v=-v):this.face===Le.LEFT&&(l=g,g=v,v=-l),p.phi=Math.acos(-y)-N,p.lam=Math.atan2(v,g),this.face===Le.RIGHT?p.lam=L(p.lam,-N):this.face===Le.BACK?p.lam=L(p.lam,-W):this.face===Le.LEFT&&(p.lam=L(p.lam,+N))}return 0!==this.es&&(c=p.phi<0?1:0,h=Math.tan(p.phi),f=this.b/Math.sqrt(h*h+this.one_minus_f_squared),p.phi=Math.atan(Math.sqrt(this.a*this.a-f*f)/(this.one_minus_f*f)),c&&(p.phi=-p.phi)),p.lam+=this.long0,t.x=p.lam,t.y=p.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},Re=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],ke=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],je=V/5,Ne=1/je,Fe=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},De={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=lt(t.x-this.long0),i=Math.abs(t.y),n=Math.floor(i*je);n<0?n=0:n>=18&&(n=17);var r={x:Fe(Re[n],i=V*(i-Ne*n))*e,y:Fe(ke[n],i)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*.8487+this.x0,r.y=r.y*this.a*1.3523+this.y0,r},inverse:function(t){var e={x:(t.x-this.x0)/(.8487*this.a),y:Math.abs(t.y-this.y0)/(1.3523*this.a)};if(e.y>=1)e.x/=Re[18][0],e.y=t.y<0?-N:N;else{var i=Math.floor(18*e.y);for(i<0?i=0:i>=18&&(i=17);;)if(ke[i][0]>e.y)--i;else{if(!(ke[i+1][0]<=e.y))break;++i}var n=ke[i],r=5*(e.y-n[0])/(ke[i+1][0]-n[0]);r=function(t,e,i,n){for(var r=e;n;--n){var o=t(r);if(r-=o,Math.abs(o)<i)break}return r}(function(t){return(Fe(n,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(n,t)},r,U,100),e.x/=Fe(Re[i],r),e.y=(5*i+r)*B,t.y<0&&(e.y=-e.y)}return e.x=lt(e.x+this.long0),e},names:["Robinson","robin"]};return m.defaultDatum="WGS84",m.Proj=p,m.WGS84=new m.Proj("WGS84"),m.Point=T,m.toPoint=xt,m.defs=s,m.transform=v,m.mgrs=It,m.version="2.5.0",function(t){t.Proj.projections.add(Ft),t.Proj.projections.add(zt),t.Proj.projections.add(Yt),t.Proj.projections.add(Ht),t.Proj.projections.add(qt),t.Proj.projections.add(Kt),t.Proj.projections.add($t),t.Proj.projections.add(Zt),t.Proj.projections.add(Jt),t.Proj.projections.add(se),t.Proj.projections.add(ge),t.Proj.projections.add(ye),t.Proj.projections.add(_e),t.Proj.projections.add(me),t.Proj.projections.add(be),t.Proj.projections.add(xe),t.Proj.projections.add(Se),t.Proj.projections.add(we),t.Proj.projections.add(Ee),t.Proj.projections.add(Me),t.Proj.projections.add(Oe),t.Proj.projections.add(Ce),t.Proj.projections.add(Te),t.Proj.projections.add(Pe),t.Proj.projections.add(Ie),t.Proj.projections.add(De)}(m),m}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapConfigurator=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=y(i(2)),o=y(i(889)),a=i(888),s=i(6),u=i(1),l=y(i(224)),c=i(887),h=i(785),f=i(601),p=i(73),d=i(5),g=i(569),v=i(24);function y(t){return t&&t.__esModule?t:{default:t}}e.MapConfigurator=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map_=e,this.layerConfigurator_=new h.LayerConfigurator(e),this.UIConfigurator_=new f.UIConfigurator(e),e.set("layerConfigurator",this.layerConfigurator_),e.set("UIConfigurator",this.UIConfigurator_),this.configureMap(),this.firstRun_=!1}return n(t,[{key:"configureLayers",value:function(){this.layerConfigurator_.configureLayers()}},{key:"configureUI",value:function(){this.UIConfigurator_.configureUI()}},{key:"configureMap",value:function(){var t=this;if(this.firstRun_)throw v.Debug.error("configureMap is supposed to be called only once"),v.Debug.warn('If you would like to change that, please think about something because of the asynchronous nature of "ready", "ready:ui" and "ready:layers"'),new Error;var e=(0,p.copyDeep)(this.map_.get("mapConfig"));e.enableContextMenu||(0,r.default)(this.map_.getTarget()).on("contextmenu",function(t){(0,r.default)(t.target).is("input[type=text]")||(0,r.default)(t.target).is("textarea")||t.preventDefault()}),this.map_.set("userActionTracking",e.userActionTracking);var i=e.hasOwnProperty("interfaceProjection")?e.interfaceProjection:"EPSG:4326";this.map_.set("interfaceProjection",i);var n={};e.hasOwnProperty("manageStyles")&&(n.manageStyles=e.manageStyles),e.hasOwnProperty("styleMap")&&(n.styleConfigMap=e.styleMap);var h=e.hasOwnProperty("scaleIcons")?e.scaleIcons:1;n.scaleIcons=h,this.map_.set("scaleIcons",h),this.map_.set("styling",new c.Styling(n));for(var f=e.hasOwnProperty("additionalProjections")?e.additionalProjections:[],y=0,_=f.length;y<_;y++)o.default.defs(f[y].code,f[y].definition);if(f.length>0&&(0,a.register)(o.default),(0,d.checkFor)(e,"measurementProjection"))try{this.map_.set("measurementProjection",(0,s.get)(e.measurementProjection))}catch(t){throw new Error("measurementProjection is not available, check for spelling or try to add it to additionalProjections with a proj4 definition.")}this.configureLayers();var m=this.map_.get("mapProjection"),b=e.view||{};b.projection=m,(0,d.checkFor)(e.view,"center")&&(b.center=(0,s.transform)(e.view.center,i,m)),(0,d.checkFor)(e.view,"extent")&&(b.extent=(0,u.applyTransform)(e.view.extent,(0,s.getTransform)(i,m)));var x=this.map_.getView();x&&(b.center=x.getCenter()||e.view.center,b.resolution=x.getResolution()||e.view.resolution,b.rotation=x.getRotation()||e.view.rotation);var S=new l.default(b);!x&&(0,d.checkFor)(e.view,"fit")&&S.fit((0,s.transformExtent)(e.view.fit,i,m),{size:this.map_.getSize()}),this.map_.setView(S),(0,r.default)(window).on("resize",function(){t.map_.dispatchEvent("resize")});var w=(0,r.default)(this.map_.getViewport());w.on("mousedown",function(){w.addClass("mousedown")}),w.on("mouseup",function(){w.removeClass("mousedown")}),w.focus(),w.on("click",function(){w.focus()}),v.Debug.tryOrThrow(function(){t.configureUI()}),this.map_.set("api",new g.API(this.map_,e.api));var E=!0,M=!1,O=void 0;try{for(var C,T=this.map_.getModules()[Symbol.iterator]();!(E=(C=T.next()).done);E=!0){C.value.configureMap(e)}}catch(t){M=!0,O=t}finally{try{!E&&T.return&&T.return()}finally{if(M)throw O}}}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),r=w(i(97)),o=w(i(47)),a=w(i(46)),s=i(27),u=i(3),l=w(i(4)),c=w(i(288)),h=i(1),f=w(i(891)),p=i(6),d=w(i(85)),g=w(i(211)),v=i(83),y=i(440),_=w(y),m=i(210),b=w(i(285)),x=i(438),S=i(40);function w(t){return t&&t.__esModule?t:{default:t}}var E={image:[g.default.POLYGON,g.default.CIRCLE,g.default.LINE_STRING,g.default.IMAGE,g.default.TEXT],hybrid:[g.default.POLYGON,g.default.LINE_STRING]},M={image:[g.default.DEFAULT],hybrid:[g.default.IMAGE,g.default.TEXT,g.default.DEFAULT],vector:m.ORDER},O=function(t){function e(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?(0,c.default)(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=(0,S.create)(),this.zDirection=e.getRenderMode()==f.default.VECTOR?1:0,(0,u.listen)(v.labelCache,l.default.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){(0,u.unlisten)(v.labelCache,l.default.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.getTile=function(e,i,n,r,a){var s=t.prototype.getTile.call(this,e,i,n,r,a);return s.getState()===o.default.LOADED&&(this.createReplayGroup_(s,r,a),this.context&&this.renderTileImage_(s,r,a)),s},e.prototype.prepareFrame=function(e,i){var n=this.getLayer(),r=n.getRevision();if(this.renderedLayerRevision_!=r){this.renderedTiles.length=0;var o=n.getRenderMode();this.context||o==f.default.VECTOR||(this.context=(0,s.createCanvasContext2D)()),this.context&&o==f.default.VECTOR&&(this.context=null)}return this.renderedLayerRevision_=r,t.prototype.prepareFrame.call(this,e,i)},e.prototype.createReplayGroup_=function(t,e,i){var n=this,r=this.getLayer(),a=r.getRevision(),s=r.getRenderOrder()||null,u=t.getReplayState(r);if(u.dirty||u.renderedRevision!=a||u.renderedRenderOrder!=s){for(var l=r.getSource(),c=l.getTileGrid(),f=l.getTileGridForProjection(i).getResolution(t.tileCoord[0]),g=t.extent,v={},y=function(a,y){var m=t.getTile(t.tileKeys[a]);if(m.getState()==o.default.LOADED){var b=m.tileCoord,S=c.getTileCoordExtent(b),w=(0,h.getIntersection)(g,S),E=(0,h.equals)(S,w)?null:(0,h.buffer)(w,r.getRenderBuffer()*f,n.tmpExtent),M=m.getProjection(),O=!1;(0,p.equivalent)(i,M)||(O=!0,m.setProjection(i)),u.dirty=!1;var C=new _.default(0,w,f,e,l.getOverlaps(),n.declutterTree_,r.getRenderBuffer()),T=(0,x.getSquaredTolerance)(f,e),P=function(t){var e,i=t.getStyleFunction()||r.getStyleFunction();if(i&&(e=i(t,f)),e){var n=this.renderFeature(t,T,e,C);this.dirty_=this.dirty_||n,u.dirty=u.dirty||n}},L=m.getFeatures();s&&s!==u.renderedRenderOrder&&L.sort(s);for(var A=0,I=L.length;A<I;++A){var R=L[A];O&&(M.getUnits()==d.default.TILE_PIXELS&&(M.setWorldExtent(S),M.setExtent(m.getExtent())),R.getGeometry().transform(M,i)),E&&!(0,h.intersects)(E,R.getGeometry().getExtent())||P.call(n,R)}for(var k in C.finish(),C.getReplays())v[k]=!0;m.setReplayGroup(r,t.tileCoord.toString(),C)}},m=0,b=t.tileKeys.length;m<b;++m)y(m);u.renderedRevision=a,u.renderedRenderOrder=s}},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,a){var s=e.viewState.resolution,u=e.viewState.rotation;i=void 0==i?0:i;var l,c,f,p,d,g=this.getLayer(),v={},y=this.renderedTiles;for(f=0,p=y.length;f<p;++f){var _=y[f];if(l=(0,h.buffer)(_.extent,i*s,l),(0,h.containsCoordinate)(l,t))for(var m=0,b=_.tileKeys.length;m<b;++m){var x=_.getTile(_.tileKeys[m]);x.getState()==o.default.LOADED&&(d=x.getReplayGroup(g,_.tileCoord.toString()),c=c||d.forEachFeatureAtCoordinate(t,s,u,i,{},function(t){var e=(0,n.getUid)(t).toString();if(!(e in v))return v[e]=!0,r.call(a,t,g)},null))}}return c},e.prototype.getReplayTransform_=function(t,e){var i=this.getLayer().getSource().getTileGrid(),n=t.tileCoord,r=i.getResolution(n[0]),o=e.viewState,a=e.pixelRatio,s=o.resolution/a,u=i.getTileCoordExtent(n,this.tmpExtent),l=o.center,c=(0,h.getTopLeft)(u),f=e.size,p=Math.round(a*f[0]/2),d=Math.round(a*f[1]/2);return(0,S.compose)(this.tmpTransform_,p,d,r/s,r/s,o.rotation,(c[0]-l[0])/r,(l[1]-c[1])/r)},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.postCompose=function(e,i,n){var r=this.getLayer(),s=r.getRenderMode();if(s!=f.default.IMAGE){var u,l,c=r.getDeclutter()?{}:null,h=r.getSource(),p=M[s],d=i.pixelRatio,g=i.viewState.rotation,_=i.size;g&&(u=Math.round(d*_[0]/2),l=Math.round(d*_[1]/2),(0,v.rotateAtOffset)(e,-g,u,l)),c&&this.declutterTree_.clear();for(var m=i.viewHints,b=!(m[a.default.ANIMATING]||m[a.default.INTERACTING]),x=this.renderedTiles,S=h.getTileGridForProjection(i.viewState.projection),w=[],E=[],O=x.length-1;O>=0;--O){var C=x[O];if(C.getState()!=o.default.ABORT)for(var T=C.tileCoord,P=S.getTileCoordExtent(T,this.tmpExtent)[0]-C.extent[0],L=void 0,A=0,I=C.tileKeys.length;A<I;++A){var R=C.getTile(C.tileKeys[A]);if(R.getState()==o.default.LOADED){var k=R.getReplayGroup(r,T.toString());if(k&&k.hasReplays(p)){L||(L=this.getTransform(i,P));var j=R.tileCoord[0],N=k.getClipCoords(L);e.save(),e.globalAlpha=n.opacity;for(var F=0,D=w.length;F<D;++F){var G=w[F];j<E[F]&&(e.beginPath(),e.moveTo(N[0],N[1]),e.lineTo(N[2],N[3]),e.lineTo(N[4],N[5]),e.lineTo(N[6],N[7]),e.moveTo(G[6],G[7]),e.lineTo(G[4],G[5]),e.lineTo(G[2],G[3]),e.lineTo(G[0],G[1]),e.clip())}k.replay(e,L,g,{},b,p,c),e.restore(),w.push(N),E.push(j)}}}}c&&(0,y.replayDeclutter)(c,e,g,b),g&&(0,v.rotateAtOffset)(e,g,u,l)}t.prototype.postCompose.call(this,e,i,n)},e.prototype.renderFeature=function(t,e,i,n){if(!i)return!1;var r=!1;if(Array.isArray(i))for(var o=0,a=i.length;o<a;++o)r=(0,x.renderFeature)(n,t,i[o],e,this.handleStyleImageChange_,this)||r;else r=(0,x.renderFeature)(n,t,i,e,this.handleStyleImageChange_,this);return r},e.prototype.renderTileImage_=function(t,e,i){var n=this.getLayer(),r=t.getReplayState(n),a=n.getRevision(),s=E[n.getRenderMode()];if(s&&r.renderedTileRevision!==a){r.renderedTileRevision=a;var u=t.wrappedTileCoord,l=u[0],c=n.getSource(),h=c.getTileGridForProjection(i),f=h.getResolution(l),p=t.getContext(n),d=c.getTilePixelSize(l,e,i);p.canvas.width=d[0],p.canvas.height=d[1];for(var g=h.getTileCoordExtent(u,this.tmpExtent),v=0,y=t.tileKeys.length;v<y;++v){var _=t.getTile(t.tileKeys[v]);if(_.getState()==o.default.LOADED){var m=e/f,b=(0,S.reset)(this.tmpTransform_);(0,S.scale)(b,m,-m),(0,S.translate)(b,-g[0],-g[3]),_.getReplayGroup(n,t.tileCoord.toString()).replay(p,b,0,{},!0,s)}}}},e}(b.default);O.handles=function(t){return t.getType()===r.default.VECTOR_TILE},O.create=function(t,e){return new O(e)},e.default=O},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchingChunk=function(t,e,i,n,r){var o,a,s,u,l,c,h,f,p,d=i,g=i,v=0,y=0,_=i;for(o=i;o<n;o+=r){var m=e[o],b=e[o+1];void 0!==u&&(f=m-u,p=b-l,s=Math.sqrt(f*f+p*p),void 0!==c&&(y+=a,Math.acos((c*f+h*p)/(a*s))>t&&(y>v&&(v=y,d=_,g=o),y=0,_=o-r)),a=s,c=f,h=p),u=m,l=b}return(y+=s)>v?[_,o]:[d,g]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.measureTextWidths=y;var n=i(19),r=i(216),o=i(27),a=i(1),s=i(893),u=g(i(25)),l=i(68),c=i(83),h=g(i(164)),f=g(i(165)),p=i(210),d=g(i(439));function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(e,i,n,r,o,a){t.call(this,e,i,n,r,o,a),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},c.labelCache.prune()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){var i=this.textFillState_,n=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(i||n)){var o,l,c=this.coordinates.length,h=t.getType(),f=null,p=2,g=2;if(r.placement===d.default.LINE){if(!(0,a.intersects)(this.getBufferedMaxExtent(),t.getExtent()))return;var v;if(f=t.getFlatCoordinates(),g=t.getStride(),h==u.default.LINE_STRING)v=[f.length];else if(h==u.default.MULTI_LINE_STRING)v=t.getEnds();else if(h==u.default.POLYGON)v=t.getEnds().slice(0,1);else if(h==u.default.MULTI_POLYGON){var y=t.getEndss();for(v=[],o=0,l=y.length;o<l;++o)v.push(y[o][0])}this.beginGeometry(t,e);for(var _,m=r.textAlign,b=0,x=0,S=v.length;x<S;++x){if(void 0==m){var w=(0,s.matchingChunk)(r.maxAngle,f,b,v[x],g);b=w[0],_=w[1]}else _=v[x];for(o=b;o<_;o+=g)this.coordinates.push(f[o],f[o+1]);p=this.coordinates.length,b=v[x],this.drawChars_(c,p,this.declutterGroup_),c=p}this.endGeometry(t,e)}else{var E=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),M=E.width/this.pixelRatio;switch(h){case u.default.POINT:case u.default.MULTI_POINT:p=(f=t.getFlatCoordinates()).length;break;case u.default.LINE_STRING:f=t.getFlatMidpoint();break;case u.default.CIRCLE:f=t.getCenter();break;case u.default.MULTI_LINE_STRING:p=(f=t.getFlatMidpoints()).length;break;case u.default.POLYGON:if(f=t.getFlatInteriorPoint(),!r.overflow&&f[2]/this.resolution<M)return;g=3;break;case u.default.MULTI_POLYGON:var O=t.getFlatInteriorPoints();for(f=[],o=0,l=O.length;o<l;o+=3)(r.overflow||O[o+2]/this.resolution>=M)&&f.push(O[o],O[o+1]);if(0==(p=f.length))return}p=this.appendFlatCoordinates(f,0,p,g,!1,!1),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(E,c,p),this.endGeometry(t,e)}}},e.prototype.getImage=function(t,e,i,n){var r,a=n+e+t+i+this.pixelRatio;if(!c.labelCache.containsKey(a)){var s=n?this.strokeStates[n]||this.textStrokeState_:null,u=i?this.fillStates[i]||this.textFillState_:null,h=this.textStates[e]||this.textState_,f=this.pixelRatio,d=h.scale*f,g=p.TEXT_ALIGN[h.textAlign||c.defaultTextAlign],v=n&&s.lineWidth?s.lineWidth:0,_=t.split("\n"),m=_.length,b=[],x=y(h.font,_,b),S=(0,c.measureTextHeight)(h.font),w=S*m,E=x+v,M=(0,o.createCanvasContext2D)(Math.ceil(E*d),Math.ceil((w+v)*d));r=M.canvas,c.labelCache.set(a,r),1!=d&&M.scale(d,d),M.font=h.font,n&&(M.strokeStyle=s.strokeStyle,M.lineWidth=v,M.lineCap=s.lineCap,M.lineJoin=s.lineJoin,M.miterLimit=s.miterLimit,l.CANVAS_LINE_DASH&&s.lineDash.length&&(M.setLineDash(s.lineDash),M.lineDashOffset=s.lineDashOffset)),i&&(M.fillStyle=u.fillStyle),M.textBaseline="middle",M.textAlign="center";var O,C=.5-g,T=g*r.width/d+C*v;if(n)for(O=0;O<m;++O)M.strokeText(_[O],T+C*b[O],.5*(v+S)+O*S);if(i)for(O=0;O<m;++O)M.fillText(_[O],T+C*b[O],.5*(v+S)+O*S)}return c.labelCache.get(a)},e.prototype.drawTextImage_=function(t,e,i){var n=this.textState_,r=this.textStrokeState_,o=this.pixelRatio,a=p.TEXT_ALIGN[n.textAlign||c.defaultTextAlign],s=p.TEXT_ALIGN[n.textBaseline],u=r&&r.lineWidth?r.lineWidth:0,l=a*t.width/o+2*(.5-a)*u,f=s*t.height/o+2*(.5-s)*u;this.instructions.push([h.default.DRAW_IMAGE,e,i,t,(l-this.textOffsetX_)*o,(f-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,n.padding==c.defaultPadding?c.defaultPadding:n.padding.map(function(t){return t*o}),!!n.backgroundFill,!!n.backgroundStroke]),this.hitDetectionInstructions.push([h.default.DRAW_IMAGE,e,i,t,(l-this.textOffsetX_)*o,(f-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,t.width,n.padding,!!n.backgroundFill,!!n.backgroundStroke])},e.prototype.drawChars_=function(t,e,i){var n=this.textStrokeState_,r=this.textState_,o=this.textFillState_,a=this.strokeKey_;n&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:n.strokeStyle,lineCap:n.lineCap,lineDashOffset:n.lineDashOffset,lineWidth:n.lineWidth,lineJoin:n.lineJoin,miterLimit:n.miterLimit,lineDash:n.lineDash}));var s=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:r.font,textAlign:r.textAlign||c.defaultTextAlign,scale:r.scale});var u=this.fillKey_;o&&(u in this.fillStates||(this.fillStates[u]={fillStyle:o.fillStyle}));var l=this.pixelRatio,f=p.TEXT_ALIGN[r.textBaseline],d=this.textOffsetY_*l,g=this.text_,v=r.font,y=r.scale,_=n?n.lineWidth*y/2:0,m=this.widths_[v];m||(this.widths_[v]=m={}),this.instructions.push([h.default.DRAW_CHARS,t,e,f,i,r.overflow,u,r.maxAngle,function(t){var e=m[t];return e||(e=m[t]=(0,c.measureTextWidth)(v,t)),e*y*l},d,a,_*l,g,s,1]),this.hitDetectionInstructions.push([h.default.DRAW_CHARS,t,e,f,i,r.overflow,u,r.maxAngle,function(t){var e=m[t];return e||(e=m[t]=(0,c.measureTextWidth)(v,t)),e*y},d,a,_,g,s,1/l])},e.prototype.setTextStyle=function(t,e){var i,o,a;if(t){this.declutterGroup_=e;var s=t.getFill();s?((o=this.textFillState_)||(o=this.textFillState_={}),o.fillStyle=(0,r.asColorLike)(s.getColor()||c.defaultFillStyle)):o=this.textFillState_=null;var u=t.getStroke();if(u){(a=this.textStrokeState_)||(a=this.textStrokeState_={});var l=u.getLineDash(),h=u.getLineDashOffset(),f=u.getWidth(),p=u.getMiterLimit();a.lineCap=u.getLineCap()||c.defaultLineCap,a.lineDash=l?l.slice():c.defaultLineDash,a.lineDashOffset=void 0===h?c.defaultLineDashOffset:h,a.lineJoin=u.getLineJoin()||c.defaultLineJoin,a.lineWidth=void 0===f?c.defaultLineWidth:f,a.miterLimit=void 0===p?c.defaultMiterLimit:p,a.strokeStyle=(0,r.asColorLike)(u.getColor()||c.defaultStrokeStyle)}else a=this.textStrokeState_=null;i=this.textState_;var d=t.getFont()||c.defaultFont;(0,c.checkFont)(d);var g=t.getScale();i.overflow=t.getOverflow(),i.font=d,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.textBaseline=t.getTextBaseline()||c.defaultTextBaseline,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||c.defaultPadding,i.scale=void 0===g?1:g;var v=t.getOffsetX(),y=t.getOffsetY(),_=t.getRotateWithView(),m=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===v?0:v,this.textOffsetY_=void 0===y?0:y,this.textRotateWithView_=void 0!==_&&_,this.textRotation_=void 0===m?0:m,this.strokeKey_=a?("string"==typeof a.strokeStyle?a.strokeStyle:(0,n.getUid)(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?"),this.fillKey_=o?"string"==typeof o.fillStyle?o.fillStyle:"|"+(0,n.getUid)(o.fillStyle):""}else this.text_=""},e}(f.default);function y(t,e,i){for(var n=e.length,r=0,o=0;o<n;++o){var a=(0,c.measureTextWidth)(t,e[o]);r=Math.max(r,a),i.push(a)}return r}e.default=v},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(144),r=i(145),o=i(83),a=i(164),s=u(a);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(e,i,n,r,o,a){t.call(this,e,i,n,r,o,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinatess_=function(t,e,i,n){var r=this.state,o=void 0!==r.fillStyle,u=void 0!=r.strokeStyle,l=i.length;this.instructions.push(a.beginPathInstruction),this.hitDetectionInstructions.push(a.beginPathInstruction);for(var c=0;c<l;++c){var h=i[c],f=this.coordinates.length,p=this.appendFlatCoordinates(t,e,h,n,!0,!u),d=[s.default.MOVE_TO_LINE_TO,f,p];this.instructions.push(d),this.hitDetectionInstructions.push(d),u&&(this.instructions.push(a.closePathInstruction),this.hitDetectionInstructions.push(a.closePathInstruction)),e=h}return o&&(this.instructions.push(a.fillInstruction),this.hitDetectionInstructions.push(a.fillInstruction)),u&&(this.instructions.push(a.strokeInstruction),this.hitDetectionInstructions.push(a.strokeInstruction)),e},e.prototype.drawCircle=function(t,e){var i=this.state,r=i.fillStyle,u=i.strokeStyle;if(void 0!==r||void 0!==u){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([s.default.SET_FILL_STYLE,(0,n.asString)(o.defaultFillStyle)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([s.default.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var l=t.getFlatCoordinates(),c=t.getStride(),h=this.coordinates.length;this.appendFlatCoordinates(l,0,l.length,c,!1,!1);var f=[s.default.CIRCLE,h];this.instructions.push(a.beginPathInstruction,f),this.hitDetectionInstructions.push(a.beginPathInstruction,f),this.hitDetectionInstructions.push(a.fillInstruction),void 0!==i.fillStyle&&this.instructions.push(a.fillInstruction),void 0!==i.strokeStyle&&(this.instructions.push(a.strokeInstruction),this.hitDetectionInstructions.push(a.strokeInstruction)),this.endGeometry(t,e)}},e.prototype.drawPolygon=function(t,e){var i=this.state,r=i.fillStyle,a=i.strokeStyle;if(void 0!==r||void 0!==a){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([s.default.SET_FILL_STYLE,(0,n.asString)(o.defaultFillStyle)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([s.default.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var u=t.getEnds(),l=t.getOrientedFlatCoordinates(),c=t.getStride();this.drawFlatCoordinatess_(l,0,u,c),this.endGeometry(t,e)}},e.prototype.drawMultiPolygon=function(t,e){var i=this.state,r=i.fillStyle,a=i.strokeStyle;if(void 0!==r||void 0!==a){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([s.default.SET_FILL_STYLE,(0,n.asString)(o.defaultFillStyle)]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([s.default.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var u=t.getEndss(),l=t.getOrientedFlatCoordinates(),c=t.getStride(),h=0,f=0,p=u.length;f<p;++f)h=this.drawFlatCoordinatess_(l,h,u[f],c);this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,i=0,n=e.length;i<n;++i)e[i]=(0,r.snap)(e[i],t)},e.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},e}(u(i(165)).default);e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(164),r=o(n);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(e,i,n,r,o,a){t.call(this,e,i,n,r,o,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinates_=function(t,e,i,n){var o=this.coordinates.length,a=this.appendFlatCoordinates(t,e,i,n,!1,!1),s=[r.default.MOVE_TO_LINE_TO,o,a];return this.instructions.push(s),this.hitDetectionInstructions.push(s),i},e.prototype.drawLineString=function(t,e){var i=this.state,o=i.strokeStyle,a=i.lineWidth;if(void 0!==o&&void 0!==a){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([r.default.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],n.beginPathInstruction);var s=t.getFlatCoordinates(),u=t.getStride();this.drawFlatCoordinates_(s,0,s.length,u),this.hitDetectionInstructions.push(n.strokeInstruction),this.endGeometry(t,e)}},e.prototype.drawMultiLineString=function(t,e){var i=this.state,o=i.strokeStyle,a=i.lineWidth;if(void 0!==o&&void 0!==a){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([r.default.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],n.beginPathInstruction);for(var s=t.getEnds(),u=t.getFlatCoordinates(),l=t.getStride(),c=0,h=0,f=s.length;h<f;++h)c=this.drawFlatCoordinates_(u,c,s[h],l);this.hitDetectionInstructions.push(n.strokeInstruction),this.endGeometry(t,e)}},e.prototype.finish=function(){var t=this.state;void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(n.strokeInstruction),this.reverseHitDetectionInstructions(),this.state=null},e.prototype.applyStroke=function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(n.strokeInstruction),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(n.beginPathInstruction)},e}(o(i(165)).default);e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(164));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(e,i,n,r,o,a){t.call(this,e,i,n,r,o,a),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,i,n){return this.appendFlatCoordinates(t,e,i,n,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length,a=this.drawCoordinates_(i,0,i.length,r);this.instructions.push([n.default.DRAW_IMAGE,o,a,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([n.default.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var i=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length,a=this.drawCoordinates_(i,0,i.length,r);this.instructions.push([n.default.DRAW_IMAGE,o,a,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([n.default.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},e.prototype.setImageStyle=function(t,e){var i=t.getAnchor(),n=t.getSize(),r=t.getHitDetectionImage(1),o=t.getImage(1),a=t.getOrigin();this.anchorX_=i[0],this.anchorY_=i[1],this.declutterGroup_=e,this.hitDetectionImage_=r,this.image_=o,this.height_=n[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=n[0]},e}(r(i(165)).default);e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawTextOnPath=function(t,e,i,r,o,a,s,u){for(var l,c,h,f=[],p=t[e]>t[i-r],d=o.length,g=t[e],v=t[e+1],y=t[e+=r],_=t[e+1],m=0,b=Math.sqrt(Math.pow(y-g,2)+Math.pow(_-v,2)),x="",S=0,w=0;w<d;++w){c=p?d-w-1:w;var E=o.charAt(c),M=a(x=p?E+x:x+E)-S;S+=M;for(var O=s+M/2;e<i-r&&m+b<O;)g=y,v=_,y=t[e+=r],_=t[e+1],m+=b,b=Math.sqrt(Math.pow(y-g,2)+Math.pow(_-v,2));var C=O-m,T=Math.atan2(_-v,y-g);if(p&&(T+=T>0?-Math.PI:Math.PI),void 0!==h){var P=T-h;if(P+=P>Math.PI?-2*Math.PI:P<-Math.PI?2*Math.PI:0,Math.abs(P)>u)return null}var L=C/b,A=(0,n.lerp)(g,y,L),I=(0,n.lerp)(v,_,L);h==T?(p&&(l[0]=A,l[1]=I,l[2]=M/2),l[4]=x):(S=M,l=[A,I,M/2,T,x=E],p?f.unshift(l):f.push(l),h=T),s+=M}return f};var n=i(14)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){};n.prototype.getReplay=function(t,e){},n.prototype.isEmpty=function(){},e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),r=v(i(97)),o=v(i(46)),a=i(27),s=i(3),u=v(i(4)),l=v(i(288)),c=i(1),h=v(i(172)),f=i(83),p=v(i(440)),d=v(i(442)),g=i(438);function v(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function e(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?(0,l.default)(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,c.createEmpty)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=(0,a.createCanvasContext2D)(),(0,s.listen)(f.labelCache,u.default.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){(0,s.unlisten)(f.labelCache,u.default.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.compose=function(t,e,i){var n=e.extent,r=e.pixelRatio,a=i.managed?e.skippedFeatureUids:{},s=e.viewState,u=s.projection,l=s.rotation,p=u.getExtent(),d=this.getLayer().getSource(),g=this.getTransform(e,0),v=i.extent,y=void 0!==v;y&&this.clip(t,e,v);var _=this.replayGroup_;if(_&&!_.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var m,b=this.getLayer(),x=0,S=0,w=1!==i.opacity,E=b.hasListener(h.default.RENDER);if(w||E){var M=t.canvas.width,O=t.canvas.height;if(l){var C=Math.round(Math.sqrt(M*M+O*O));x=(C-M)/2,S=(C-O)/2,M=O=C}this.context.canvas.width=M,this.context.canvas.height=O,m=this.context}else m=t;var T=m.globalAlpha;w||(m.globalAlpha=i.opacity),m!=t&&m.translate(x,S);var P=e.viewHints,L=!(P[o.default.ANIMATING]||P[o.default.INTERACTING]),A=e.size[0]*r,I=e.size[1]*r;if((0,f.rotateAtOffset)(m,-l,A/2,I/2),_.replay(m,g,l,a,L),d.getWrapX()&&u.canWrapX()&&!(0,c.containsExtent)(p,n)){for(var R,k=n[0],j=(0,c.getWidth)(p),N=0;k<p[0];)R=j*--N,g=this.getTransform(e,R),_.replay(m,g,l,a,L),k+=j;for(N=0,k=n[2];k>p[2];)R=j*++N,g=this.getTransform(e,R),_.replay(m,g,l,a,L),k-=j}if((0,f.rotateAtOffset)(m,l,A/2,I/2),E&&this.dispatchRenderEvent(m,e,g),m!=t){if(w){var F=t.globalAlpha;t.globalAlpha=i.opacity,t.drawImage(m.canvas,-x,-S),t.globalAlpha=F}else t.drawImage(m.canvas,-x,-S);m.translate(-x,-S)}w||(m.globalAlpha=T)}y&&t.restore()},e.prototype.composeFrame=function(t,e,i){var n=this.getTransform(t,0);this.preCompose(i,t,n),this.compose(i,t,e),this.postCompose(i,t,e,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,o){if(this.replayGroup_){var a=e.viewState.resolution,s=e.viewState.rotation,u=this.getLayer(),l={};return this.replayGroup_.forEachFeatureAtCoordinate(t,a,s,i,{},function(t){var e=(0,n.getUid)(t).toString();if(!(e in l))return l[e]=!0,r.call(o,t,u)},null)}},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e){var i=this.getLayer(),n=i.getSource(),r=t.viewHints[o.default.ANIMATING],a=t.viewHints[o.default.INTERACTING],s=i.getUpdateWhileAnimating(),u=i.getUpdateWhileInteracting();if(!this.dirty_&&!s&&r||!u&&a)return!0;var l=t.extent,h=t.viewState,f=h.projection,d=h.resolution,v=t.pixelRatio,y=i.getRevision(),_=i.getRenderBuffer(),m=i.getRenderOrder();void 0===m&&(m=g.defaultOrder);var b=(0,c.buffer)(l,_*d),x=h.projection.getExtent();if(n.getWrapX()&&h.projection.canWrapX()&&!(0,c.containsExtent)(x,t.extent)){var S=(0,c.getWidth)(x),w=Math.max((0,c.getWidth)(b)/2,S);b[0]=x[0]-w,b[2]=x[2]+w}if(!this.dirty_&&this.renderedResolution_==d&&this.renderedRevision_==y&&this.renderedRenderOrder_==m&&(0,c.containsExtent)(this.renderedExtent_,b))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var E=new p.default((0,g.getTolerance)(d,v),b,d,v,n.getOverlaps(),this.declutterTree_,i.getRenderBuffer());n.loadFeatures(b,d,f);var M=function(t){var e,n=t.getStyleFunction()||i.getStyleFunction();if(n&&(e=n(t,d)),e){var r=this.renderFeature(t,d,v,e,E);this.dirty_=this.dirty_||r}}.bind(this);if(m){var O=[];n.forEachFeatureInExtent(b,function(t){O.push(t)},this),O.sort(m);for(var C=0,T=O.length;C<T;++C)M(O[C])}else n.forEachFeatureInExtent(b,M,this);return E.finish(),this.renderedResolution_=d,this.renderedRevision_=y,this.renderedRenderOrder_=m,this.renderedExtent_=b,this.replayGroup_=E,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,i,n,r){if(!n)return!1;var o=!1;if(Array.isArray(n))for(var a=0,s=n.length;a<s;++a)o=(0,g.renderFeature)(r,t,n[a],(0,g.getSquaredTolerance)(e,i),this.handleStyleImageChange_,this)||o;else o=(0,g.renderFeature)(r,t,n,(0,g.getSquaredTolerance)(e,i),this.handleStyleImageChange_,this);return o},e}(d.default);y.handles=function(t){return t.getType()===r.default.VECTOR},y.create=function(t,e){return new y(e)},e.default=y},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),r=h(i(74)),o=h(i(104)),a=h(i(47)),s=i(3),u=h(i(4)),l=i(18),c=h(i(65));function h(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLoadedTileFinder=function(t,e,i){return function(n,r){return t.forEachLoadedTile(e,n,r,function(t){i[n]||(i[n]={}),i[n][t.tileCoord.toString()]=t})}},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){t.target.getState()===r.default.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=r.default.LOADED&&e!=r.default.ERROR&&(0,s.listen)(t,u.default.CHANGE,this.handleImageChange_,this),e==r.default.IDLE&&(t.load(),e=t.getState()),e==r.default.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==c.default.READY&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var i=function(t,e,i){var r=(0,n.getUid)(t).toString();r in i.usedTiles&&t.expireCache(i.viewState.projection,i.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(i)}},e.prototype.updateUsedTiles=function(t,e,i,r){var o=(0,n.getUid)(e).toString(),a=i.toString();o in t?a in t[o]?t[o][a].extend(r):t[o][a]=r:(t[o]={},t[o][a]=r)},e.prototype.manageTilePyramid=function(t,e,i,r,o,s,u,l,c,h){var f=(0,n.getUid)(e).toString();f in t.wantedTiles||(t.wantedTiles[f]={});var p,d,g,v,y,_,m=t.wantedTiles[f],b=t.tileQueue;for(_=i.getMinZoom();_<=u;++_)for(d=i.getTileRangeForExtentAndZ(s,_,d),g=i.getResolution(_),v=d.minX;v<=d.maxX;++v)for(y=d.minY;y<=d.maxY;++y)u-_<=l?((p=e.getTile(_,v,y,r,o)).getState()==a.default.IDLE&&(m[p.getKey()]=!0,b.isKeyQueued(p.getKey())||b.enqueue([p,f,i.getTileCoordCenter(p.tileCoord),g])),void 0!==c&&c.call(h,p)):e.useTile(_,v,y,o)},e}(o.default);f.prototype.forEachFeatureAtCoordinate=l.VOID,f.prototype.hasFeatureAtCoordinate=l.FALSE,e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sortByZIndex=function(t,e){return t.zIndex-e.zIndex};var n=i(19),r=f(i(297)),o=i(3),a=f(i(4)),s=i(1),u=i(18),l=i(120),c=i(444),h=i(40);function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.getLayerRendererConstructors=function(){return this.layerRendererConstructors_},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,i=t.coordinateToPixelTransform,n=t.pixelToCoordinateTransform;(0,h.compose)(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,h.invert)((0,h.setFromArray)(n,i))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,i,r,o,a,u){var c,h=e.viewState,f=h.resolution;function p(t,i){var a=(0,n.getUid)(t).toString(),s=e.layerStates[(0,n.getUid)(i)].managed;if(!(a in e.skippedFeatureUids)||s)return r.call(o,t,s?i:null)}var d=h.projection,g=t;if(d.canWrapX()){var v=d.getExtent(),y=(0,s.getWidth)(v),_=t[0];if(_<v[0]||_>v[2])g=[_+y*Math.ceil((v[0]-_)/y),t[1]]}var m,b=e.layerStatesArray;for(m=b.length-1;m>=0;--m){var x=b[m],S=x.layer;if((0,l.visibleAtResolution)(x,f)&&a.call(u,S)){var w=this.getLayerRenderer(S);if(S.getSource()&&(c=w.forEachFeatureAtCoordinate(S.getSource().getWrapX()?g:t,e,i,p,o)),c)return c}}},e.prototype.forEachLayerAtPixel=function(t,e,i,n,r,o,a){},e.prototype.hasFeatureAtCoordinate=function(t,e,i,n,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,i,u.TRUE,this,n,r)},e.prototype.getLayerRenderer=function(t){var e=(0,n.getUid)(t).toString();if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var i,r=0,s=this.layerRendererConstructors_.length;r<s;++r){var u=this.layerRendererConstructors_[r];if(u.handles(t)){i=u.create(this,t);break}}if(!i)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=i,this.layerRendererListeners_[e]=(0,o.listen)(i,a.default.CHANGE,this.handleLayerRendererChange_,this),i},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],(0,o.unlistenByKey)(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var i in this.layerRenderers_)e&&i in e.layerStates||this.removeLayerRendererByKey_(i).dispose()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(d)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(r.default);function d(t,e){c.shared.expire()}p.prototype.renderFrame=u.VOID,p.prototype.dispatchRenderEvent=u.VOID,e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TranslateEvent=void 0;var n=h(i(54)),r=i(22),o=i(3),a=h(i(32)),s=i(18),u=i(17),l=h(i(51)),c=h(i(292));function h(t){return t&&t.__esModule?t:{default:t}}var f={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"},p=e.TranslateEvent=function(t){function e(e,i,n){t.call(this,e),this.features=i,this.coordinate=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.default),d=function(t){function e(e){t.call(this,{handleDownEvent:g,handleDragEvent:y,handleMoveEvent:_,handleUpEvent:v});var i,n=e||{};if(this.lastCoordinate_=null,this.features_=void 0!==n.features?n.features:null,n.layers)if("function"==typeof n.layers)i=n.layers;else{var a=n.layers;i=function(t){return(0,u.includes)(a,t)}}else i=s.TRUE;this.layerFilter_=i,this.hitTolerance_=n.hitTolerance?n.hitTolerance:0,this.lastFeature_=null,(0,o.listen)(this,(0,r.getChangeEventType)(c.default.ACTIVE),this.handleActiveChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.featuresAtPixel_=function(t,e){return e.forEachFeatureAtPixel(t,function(t){if(!this.features_||(0,u.includes)(this.features_.getArray(),t))return t}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var i=this.getMap();t.prototype.setMap.call(this,e),this.updateState_(i)},e.prototype.handleActiveChanged_=function(){this.updateState_(null)},e.prototype.updateState_=function(t){var e=this.getMap(),i=this.getActive();e&&i||(e=e||t)&&e.getViewport().classList.remove("ol-grab","ol-grabbing")},e}(l.default);function g(t){if(this.lastFeature_=this.featuresAtPixel_(t.pixel,t.map),!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=t.coordinate,_.call(this,t);var e=this.features_||new n.default([this.lastFeature_]);return this.dispatchEvent(new p(f.TRANSLATESTART,e,t.coordinate)),!0}return!1}function v(t){if(this.lastCoordinate_){this.lastCoordinate_=null,_.call(this,t);var e=this.features_||new n.default([this.lastFeature_]);return this.dispatchEvent(new p(f.TRANSLATEEND,e,t.coordinate)),!0}return!1}function y(t){if(this.lastCoordinate_){var e=t.coordinate,i=e[0]-this.lastCoordinate_[0],r=e[1]-this.lastCoordinate_[1],o=this.features_||new n.default([this.lastFeature_]);o.forEach(function(t){var e=t.getGeometry();e.translate(i,r),t.setGeometry(e)}),this.lastCoordinate_=e,this.dispatchEvent(new p(f.TRANSLATING,o,e))}}function _(t){var e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")}e.default=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.handleEvent=x;var n=i(19),r=i(54),o=m(i(123)),a=i(67),s=i(3),u=m(i(4)),l=i(1),c=i(18),h=m(i(25)),f=i(53),p=i(51),d=m(p),g=i(9),v=i(44),y=m(i(290)),_=m(i(289));function m(t){return t&&t.__esModule?t:{default:t}}var b=function(t){function e(e){t.call(this,{handleEvent:x,handleDownEvent:c.TRUE,handleUpEvent:S,stopDown:c.FALSE});var i=e||{};this.source_=i.source?i.source:null,this.vertex_=void 0===i.vertex||i.vertex,this.edge_=void 0===i.edge||i.edge,this.features_=i.features?i.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelCoordinate_=null,this.pixelTolerance_=void 0!==i.pixelTolerance?i.pixelTolerance:10,this.sortByDistance_=function(t,e){var i=(0,a.squaredDistanceToSegment)(this.pixelCoordinate_,t.segment),n=(0,a.squaredDistanceToSegment)(this.pixelCoordinate_,e.segment);return i-n}.bind(this),this.rBush_=new _.default,this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_,Circle:this.writeCircleGeometry_}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t,e){var i=void 0===e||e,r=(0,n.getUid)(t),o=t.getGeometry();if(o){var a=this.SEGMENT_WRITERS_[o.getType()];a&&(this.indexedFeaturesExtents_[r]=o.getExtent((0,l.createEmpty)()),a.call(this,t,o))}i&&(this.featureChangeListenerKeys_[r]=(0,s.listen)(t,u.default.CHANGE,this.handleFeatureChange_,this))},e.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},e.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},e.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},e.prototype.handleFeatureAdd_=function(t){var e;t instanceof v.VectorSourceEvent?e=t.feature:t instanceof r.CollectionEvent&&(e=t.element),this.addFeature(e)},e.prototype.handleFeatureRemove_=function(t){var e;t instanceof v.VectorSourceEvent?e=t.feature:t instanceof r.CollectionEvent&&(e=t.element),this.removeFeature(e)},e.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var i=(0,n.getUid)(e);i in this.pendingFeatures_||(this.pendingFeatures_[i]=e)}else this.updateFeature_(e)},e.prototype.removeFeature=function(t,e){var i=void 0===e||e,r=(0,n.getUid)(t),o=this.indexedFeaturesExtents_[r];if(o){var a=this.rBush_,u=[];a.forEachInExtent(o,function(e){t===e.feature&&u.push(e)});for(var l=u.length-1;l>=0;--l)a.remove(u[l])}i&&((0,s.unlistenByKey)(this.featureChangeListenerKeys_[r]),delete this.featureChangeListenerKeys_[r])},e.prototype.setMap=function(e){var i=this.getMap(),n=this.featuresListenerKeys_,r=this.getFeatures_();i&&(n.forEach(s.unlistenByKey),n.length=0,r.forEach(this.forEachFeatureRemove_.bind(this))),t.prototype.setMap.call(this,e),e&&(this.features_?n.push((0,s.listen)(this.features_,o.default.ADD,this.handleFeatureAdd_,this),(0,s.listen)(this.features_,o.default.REMOVE,this.handleFeatureRemove_,this)):this.source_&&n.push((0,s.listen)(this.source_,y.default.ADDFEATURE,this.handleFeatureAdd_,this),(0,s.listen)(this.source_,y.default.REMOVEFEATURE,this.handleFeatureRemove_,this)),r.forEach(this.forEachFeatureAdd_.bind(this)))},e.prototype.snapTo=function(t,e,i){var n=i.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),r=i.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),o=(0,l.boundingExtent)([n,r]),s=this.rBush_.getInExtent(o);this.vertex_&&!this.edge_&&(s=s.filter(function(t){return t.feature.getGeometry().getType()!==h.default.CIRCLE}));var u,c,f,p,d=!1,g=null,v=null;if(s.length>0){this.pixelCoordinate_=e,s.sort(this.sortByDistance_);var y=s[0].segment,_=s[0].feature.getGeometry().getType()===h.default.CIRCLE;this.vertex_&&!this.edge_?(u=i.getPixelFromCoordinate(y[0]),c=i.getPixelFromCoordinate(y[1]),f=(0,a.squaredDistance)(t,u),p=(0,a.squaredDistance)(t,c),Math.sqrt(Math.min(f,p))<=this.pixelTolerance_&&(d=!0,g=f>p?y[1]:y[0],v=i.getPixelFromCoordinate(g))):this.edge_&&(g=_?(0,a.closestOnCircle)(e,s[0].feature.getGeometry()):(0,a.closestOnSegment)(e,y),v=i.getPixelFromCoordinate(g),(0,a.distance)(t,v)<=this.pixelTolerance_&&(d=!0,this.vertex_&&!_&&(u=i.getPixelFromCoordinate(y[0]),c=i.getPixelFromCoordinate(y[1]),f=(0,a.squaredDistance)(v,u),p=(0,a.squaredDistance)(v,c),Math.sqrt(Math.min(f,p))<=this.pixelTolerance_&&(g=f>p?y[1]:y[0],v=i.getPixelFromCoordinate(g))))),d&&(v=[Math.round(v[0]),Math.round(v[1])])}return{snapped:d,vertex:g,vertexPixel:v}},e.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},e.prototype.writeCircleGeometry_=function(t,e){for(var i=(0,f.fromCircle)(e).getCoordinates()[0],n=0,r=i.length-1;n<r;++n){var o=i.slice(n,n+2),a={feature:t,segment:o};this.rBush_.insert((0,l.boundingExtent)(o),a)}},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var i=e.getGeometriesArray(),n=0;n<i.length;++n){var r=this.SEGMENT_WRITERS_[i[n].getType()];r&&r.call(this,t,i[n])}},e.prototype.writeLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,r=i.length-1;n<r;++n){var o=i.slice(n,n+2),a={feature:t,segment:o};this.rBush_.insert((0,l.boundingExtent)(o),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,r=i.length;n<r;++n)for(var o=i[n],a=0,s=o.length-1;a<s;++a){var u=o.slice(a,a+2),c={feature:t,segment:u};this.rBush_.insert((0,l.boundingExtent)(u),c)}},e.prototype.writeMultiPointGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,r=i.length;n<r;++n){var o=i[n],a={feature:t,segment:[o,o]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,r=i.length;n<r;++n)for(var o=i[n],a=0,s=o.length;a<s;++a)for(var u=o[a],c=0,h=u.length-1;c<h;++c){var f=u.slice(c,c+2),p={feature:t,segment:f};this.rBush_.insert((0,l.boundingExtent)(f),p)}},e.prototype.writePointGeometry_=function(t,e){var i=e.getCoordinates(),n={feature:t,segment:[i,i]};this.rBush_.insert(e.getExtent(),n)},e.prototype.writePolygonGeometry_=function(t,e){for(var i=e.getCoordinates(),n=0,r=i.length;n<r;++n)for(var o=i[n],a=0,s=o.length-1;a<s;++a){var u=o.slice(a,a+2),c={feature:t,segment:u};this.rBush_.insert((0,l.boundingExtent)(u),c)}},e}(d.default);function x(t){var e=this.snapTo(t.pixel,t.coordinate,t.map);return e.snapped&&(t.coordinate=e.vertex.slice(0,2),t.pixel=e.vertexPixel),p.handleEvent.call(this,t)}function S(t){var e=(0,g.getValues)(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1}e.default=b},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),r=v(i(123)),o=i(17),a=i(3),s=v(i(32)),u=i(52),l=i(18),c=v(i(25)),h=v(i(45)),f=v(i(167)),p=i(9),d=v(i(44)),g=i(98);function v(t){return t&&t.__esModule?t:{default:t}}var y={SELECT:"select"},_=function(t){function e(e,i,n,r){t.call(this,e),this.selected=i,this.deselected=n,this.mapBrowserEvent=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.default),m=function(t){function e(e){t.call(this,{handleEvent:b});var i=e||{};this.condition_=i.condition?i.condition:u.singleClick,this.addCondition_=i.addCondition?i.addCondition:u.never,this.removeCondition_=i.removeCondition?i.removeCondition:u.never,this.toggleCondition_=i.toggleCondition?i.toggleCondition:u.shiftKeyOnly,this.multi_=!!i.multi&&i.multi,this.filter_=i.filter?i.filter:l.TRUE,this.hitTolerance_=i.hitTolerance?i.hitTolerance:0;var n,s=new f.default({source:new d.default({useSpatialIndex:!1,features:i.features,wrapX:i.wrapX}),style:i.style?i.style:function(){var t=(0,g.createEditingStyle)();return(0,o.extend)(t[c.default.POLYGON],t[c.default.LINE_STRING]),(0,o.extend)(t[c.default.GEOMETRY_COLLECTION],t[c.default.LINE_STRING]),function(e,i){return e.getGeometry()?t[e.getGeometry().getType()]:null}}(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(this.featureOverlay_=s,i.layers)if("function"==typeof i.layers)n=i.layers;else{var h=i.layers;n=function(t){return(0,o.includes)(h,t)}}else n=l.TRUE;this.layerFilter_=n,this.featureLayerAssociation_={};var p=this.featureOverlay_.getSource().getFeaturesCollection();(0,a.listen)(p,r.default.ADD,this.addFeature_,this),(0,a.listen)(p,r.default.REMOVE,this.removeFeature_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeatureLayerAssociation_=function(t,e){var i=(0,n.getUid)(t);this.featureLayerAssociation_[i]=e},e.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){var e=(0,n.getUid)(t);return this.featureLayerAssociation_[e]},e.prototype.getOverlay=function(){return this.featureOverlay_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var i=this.getMap(),n=this.featureOverlay_.getSource().getFeaturesCollection();i&&n.forEach(i.unskipFeature.bind(i)),t.prototype.setMap.call(this,e),this.featureOverlay_.setMap(e),e&&n.forEach(e.skipFeature.bind(e))},e.prototype.addFeature_=function(t){var e=this.getMap();e&&e.skipFeature(t.element)},e.prototype.removeFeature_=function(t){var e=this.getMap();e&&e.unskipFeature(t.element)},e.prototype.removeFeatureLayerAssociation_=function(t){var e=(0,n.getUid)(t);delete this.featureLayerAssociation_[e]},e}(h.default);function b(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),i=this.removeCondition_(t),n=this.toggleCondition_(t),r=!e&&!i&&!n,a=t.map,s=this.featureOverlay_.getSource().getFeaturesCollection(),l=[],c=[];if(r){(0,p.clear)(this.featureLayerAssociation_),a.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e))return c.push(t),this.addFeatureLayerAssociation_(t,e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var h=s.getLength()-1;h>=0;--h){var f=s.item(h),d=c.indexOf(f);d>-1?c.splice(d,1):(s.remove(f),l.push(f))}0!==c.length&&s.extend(c)}else{a.forEachFeatureAtPixel(t.pixel,function(t,r){if(this.filter_(t,r))return!e&&!n||(0,o.includes)(s.getArray(),t)?(i||n)&&(0,o.includes)(s.getArray(),t)&&(l.push(t),this.removeFeatureLayerAssociation_(t)):(c.push(t),this.addFeatureLayerAssociation_(t,r)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var g=l.length-1;g>=0;--g)s.remove(l[g]);s.extend(c)}return(c.length>0||l.length>0)&&this.dispatchEvent(new _(y.SELECT,c,l,t)),(0,u.pointerMove)(t)}e.default=m},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={LEFT:37,UP:38,RIGHT:39,DOWN:40}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=y(i(64)),r=y(i(103)),o=y(i(173)),a=i(67),s=y(i(32)),u=i(1),l=y(i(25)),c=y(i(36)),h=i(53),f=i(51),p=y(f),d=y(i(167)),g=y(i(44)),v=i(98);function y(t){return t&&t.__esModule?t:{default:t}}var _={EXTENTCHANGED:"extentchanged"},m=function(t){function e(e){t.call(this,_.EXTENTCHANGED),this.extent=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.default),b=function(t){function e(e){t.call(this,{handleDownEvent:S,handleDragEvent:w,handleEvent:x,handleUpEvent:E});var i=e||{};this.extent_=null,this.pointerHandler_=null,this.pixelTolerance_=void 0!==i.pixelTolerance?i.pixelTolerance:10,this.snappedToVertex_=!1,this.extentFeature_=null,this.vertexFeature_=null,e||(e={}),this.extentOverlay_=new d.default({source:new g.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:function(){var t=(0,v.createEditingStyle)();return function(e,i){return t[l.default.POLYGON]}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.vertexOverlay_=new d.default({source:new g.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:function(){var t=(0,v.createEditingStyle)();return function(e,i){return t[l.default.POINT]}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&this.setExtent(e.extent)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapToVertex_=function(t,e){var i=e.getCoordinateFromPixel(t),n=this.getExtent();if(n){var r=function(t){return[[[t[0],t[1]],[t[0],t[3]]],[[t[0],t[3]],[t[2],t[3]]],[[t[2],t[3]],[t[2],t[1]]],[[t[2],t[1]],[t[0],t[1]]]]}(n);r.sort(function(t,e){return(0,a.squaredDistanceToSegment)(i,t)-(0,a.squaredDistanceToSegment)(i,e)});var o=r[0],s=(0,a.closestOnSegment)(i,o),u=e.getPixelFromCoordinate(s);if((0,a.distance)(t,u)<=this.pixelTolerance_){var l=e.getPixelFromCoordinate(o[0]),c=e.getPixelFromCoordinate(o[1]),h=(0,a.squaredDistance)(u,l),f=(0,a.squaredDistance)(u,c),p=Math.sqrt(Math.min(h,f));return this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(s=h>f?o[1]:o[0]),s}}return null},e.prototype.handlePointerMove_=function(t){var e=t.pixel,i=t.map,n=this.snapToVertex_(e,i);n||(n=i.getCoordinateFromPixel(e)),this.createOrUpdatePointerFeature_(n)},e.prototype.createOrUpdateExtentFeature_=function(t){var e=this.extentFeature_;return e?t?e.setGeometry((0,h.fromExtent)(t)):e.setGeometry(void 0):(e=t?new n.default((0,h.fromExtent)(t)):new n.default({}),this.extentFeature_=e,this.extentOverlay_.getSource().addFeature(e)),e},e.prototype.createOrUpdatePointerFeature_=function(t){var e=this.vertexFeature_;e?e.getGeometry().setCoordinates(t):(e=new n.default(new c.default(t)),this.vertexFeature_=e,this.vertexOverlay_.getSource().addFeature(e));return e},e.prototype.setMap=function(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getExtent=function(){return this.extent_},e.prototype.setExtent=function(t){this.extent_=t||null,this.createOrUpdateExtentFeature_(t),this.dispatchEvent(new m(this.extent_))},e}(p.default);function x(t){return!(t instanceof o.default)||(t.type!=r.default.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),f.handleEvent.call(this,t),!1)}function S(t){var e=t.pixel,i=t.map,n=this.getExtent(),r=this.snapToVertex_(e,i),o=function(t){var e=null,i=null;return t[0]==n[0]?e=n[2]:t[0]==n[2]&&(e=n[0]),t[1]==n[1]?i=n[3]:t[1]==n[3]&&(i=n[1]),null!==e&&null!==i?[e,i]:null};if(r&&n){var a=r[0]==n[0]||r[0]==n[2]?r[0]:null,s=r[1]==n[1]||r[1]==n[3]?r[1]:null;null!==a&&null!==s?this.pointerHandler_=M(o(r)):null!==a?this.pointerHandler_=O(o([a,n[1]]),o([a,n[3]])):null!==s&&(this.pointerHandler_=O(o([n[0],s]),o([n[2],s])))}else r=i.getCoordinateFromPixel(e),this.setExtent([r[0],r[1],r[0],r[1]]),this.pointerHandler_=M(r);return!0}function w(t){if(this.pointerHandler_){var e=t.coordinate;this.setExtent(this.pointerHandler_(e)),this.createOrUpdatePointerFeature_(e)}return!0}function E(t){this.pointerHandler_=null;var e=this.getExtent();return e&&0!==(0,u.getArea)(e)||this.setExtent(null),!1}function M(t){return function(e){return(0,u.boundingExtent)([t,e])}}function O(t,e){return t[0]==e[0]?function(i){return(0,u.boundingExtent)([t,[i[0],e[1]]])}:t[1]==e[1]?function(i){return(0,u.boundingExtent)([t,[e[0],i[1]]])}:null}e.default=b},function(t,e,i){t.exports=function(){"use strict";function t(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function e(t,e){return t<e?-1:t>e?1:0}return function(i,n,r,o,a){!function e(i,n,r,o,a){for(;o>r;){if(o-r>600){var s=o-r+1,u=n-r+1,l=Math.log(s),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1),f=Math.max(r,Math.floor(n-u*c/s+h)),p=Math.min(o,Math.floor(n+(s-u)*c/s+h));e(i,n,f,p,a)}var d=i[n],g=r,v=o;for(t(i,r,n),a(i[o],d)>0&&t(i,r,o);g<v;){for(t(i,g,v),g++,v--;a(i[g],d)<0;)g++;for(;a(i[v],d)>0;)v--}0===a(i[r],d)?t(i,r,v):t(i,++v,o),v<=n&&(r=v+1),n<=v&&(o=v-1)}}(i,n,r||0,o||i.length-1,a||e)}}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loadFeaturesXhr=o,e.xhr=function(t,e){return o(t,e,function(t,e){this.addFeatures(t)},n.VOID)};var n=i(18),r=function(t){return t&&t.__esModule?t:{default:t}}(i(213));function o(t,e,i,n){return function(o,a,s){var u=new XMLHttpRequest;u.open("GET","function"==typeof t?t(o,a,s):t,!0),e.getType()==r.default.ARRAY_BUFFER&&(u.responseType="arraybuffer"),u.onload=function(t){if(!u.status||u.status>=200&&u.status<300){var o,a=e.getType();a==r.default.JSON||a==r.default.TEXT?o=u.responseText:a==r.default.XML?(o=u.responseXML)||(o=(new DOMParser).parseFromString(u.responseText,"application/xml")):a==r.default.ARRAY_BUFFER&&(o=u.response),o?i.call(this,e.readFeatures(o,{featureProjection:s}),e.readProjection(o),e.getLastExtent()):n.call(this)}else n.call(this)}.bind(this),u.onerror=function(){n.call(this)}.bind(this),u.send()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linearRingss=function(t,e,i,r){for(var o=[],a=(0,n.createEmpty)(),s=0,u=i.length;s<u;++s){var l=i[s];a=(0,n.createOrUpdateFromFlatCoordinates)(t,e,l[0],r),o.push((a[0]+a[2])/2,(a[1]+a[3])/2),e=l[l.length-1]}return o};var n=i(1)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(222),r=s(i(46)),o=i(52),a=i(45);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(e){var i=e||{};t.call(this,{handleDownEvent:h,handleDragEvent:l,handleUpEvent:c}),this.condition_=i.condition?i.condition:o.shiftKeyOnly,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=void 0!==i.duration?i.duration:400}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s(i(51)).default);function l(t){if((0,o.mouseOnly)(t)){var e=t.map,i=e.getSize(),r=t.pixel,s=r[0]-i[0]/2,u=i[1]/2-r[1],l=Math.atan2(u,s),c=Math.sqrt(s*s+u*u),h=e.getView();if(h.getConstraints().rotation!==n.disable&&void 0!==this.lastAngle_){var f=l-this.lastAngle_;(0,a.rotateWithoutConstraints)(h,h.getRotation()-f)}if(this.lastAngle_=l,void 0!==this.lastMagnitude_){var p=this.lastMagnitude_*(h.getResolution()/c);(0,a.zoomWithoutConstraints)(h,p)}void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/c),this.lastMagnitude_=c}}function c(t){if(!(0,o.mouseOnly)(t))return!0;var e=t.map.getView();e.setHint(r.default.INTERACTING,-1);var i=this.lastScaleDelta_-1;return(0,a.rotate)(e,e.getRotation()),(0,a.zoom)(e,e.getResolution(),void 0,this.duration_,i),this.lastScaleDelta_=0,!1}function h(t){return!!(0,o.mouseOnly)(t)&&(!!this.condition_(t)&&(t.map.getView().setHint(r.default.INTERACTING,1),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))}e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(297)),r=o(i(53));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,i=this.element_.style;i.left=Math.min(t[0],e[0])+"px",i.top=Math.min(t[1],e[1])+"px",i.width=Math.abs(e[0]-t[0])+"px",i.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,i=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new r.default([i])},e.prototype.getGeometry=function(){return this.geometry_},e}(n.default);e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(18),r=i(3),o=l(i(32)),a=l(i(4)),s=l(i(45)),u=i(6);function l(t){return t&&t.__esModule?t:{default:t}}var c="addfeatures",h=function(t){function e(e,i,n,r){t.call(this,e),this.features=n,this.file=i,this.projection=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o.default),f=function(t){function e(e){var i=e||{};t.call(this,{handleEvent:n.TRUE}),this.formatConstructors_=i.formatConstructors?i.formatConstructors:[],this.projection_=i.projection?(0,u.get)(i.projection):null,this.dropListenKeys_=null,this.source_=i.source||null,this.target=i.target?i.target:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleResult_=function(t,e){var i=e.target.result,n=this.getMap(),r=this.projection_;r||(r=n.getView().getProjection());for(var o=this.formatConstructors_,a=[],s=0,u=o.length;s<u;++s){var l=new(0,o[s]);if((a=this.tryReadFeatures_(l,i,{featureProjection:r}))&&a.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(a)),this.dispatchEvent(new h(c,t,a,r))},e.prototype.registerListeners_=function(){var t=this.getMap();if(t){var e=this.target?this.target:t.getViewport();this.dropListenKeys_=[(0,r.listen)(e,a.default.DROP,p,this),(0,r.listen)(e,a.default.DRAGENTER,d,this),(0,r.listen)(e,a.default.DRAGOVER,d,this),(0,r.listen)(e,a.default.DROP,d,this)]}},e.prototype.setActive=function(e){t.prototype.setActive.call(this,e),e?this.registerListeners_():this.unregisterListeners_()},e.prototype.setMap=function(e){this.unregisterListeners_(),t.prototype.setMap.call(this,e),this.getActive()&&this.registerListeners_()},e.prototype.tryReadFeatures_=function(t,e,i){try{return t.readFeatures(e,i)}catch(t){return null}},e.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(r.unlistenByKey),this.dropListenKeys_=null)},e}(s.default);function p(t){for(var e=t.dataTransfer.files,i=0,n=e.length;i<n;++i){var r=e.item(i),o=new FileReader;o.addEventListener(a.default.LOAD,this.handleResult_.bind(this,r)),o.readAsText(r)}}function d(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Translate=e.Snap=e.Select=e.Pointer=e.PinchZoom=e.PinchRotate=e.MouseWheelZoom=e.Modify=e.KeyboardZoom=e.KeyboardPan=e.Interaction=e.Extent=e.Draw=e.DragZoom=e.DragRotateAndZoom=e.DragRotate=e.DragPan=e.DragBox=e.DragAndDrop=e.DoubleClickZoom=void 0;var n=i(470);Object.defineProperty(e,"DoubleClickZoom",{enumerable:!0,get:function(){return j(n).default}});var r=i(913);Object.defineProperty(e,"DragAndDrop",{enumerable:!0,get:function(){return j(r).default}});var o=i(469);Object.defineProperty(e,"DragBox",{enumerable:!0,get:function(){return j(o).default}});var a=i(468);Object.defineProperty(e,"DragPan",{enumerable:!0,get:function(){return j(a).default}});var s=i(467);Object.defineProperty(e,"DragRotate",{enumerable:!0,get:function(){return j(s).default}});var u=i(911);Object.defineProperty(e,"DragRotateAndZoom",{enumerable:!0,get:function(){return j(u).default}});var l=i(466);Object.defineProperty(e,"DragZoom",{enumerable:!0,get:function(){return j(l).default}});var c=i(169);Object.defineProperty(e,"Draw",{enumerable:!0,get:function(){return j(c).default}});var h=i(907);Object.defineProperty(e,"Extent",{enumerable:!0,get:function(){return j(h).default}});var f=i(45);Object.defineProperty(e,"Interaction",{enumerable:!0,get:function(){return j(f).default}});var p=i(456);Object.defineProperty(e,"KeyboardPan",{enumerable:!0,get:function(){return j(p).default}});var d=i(455);Object.defineProperty(e,"KeyboardZoom",{enumerable:!0,get:function(){return j(d).default}});var g=i(454);Object.defineProperty(e,"Modify",{enumerable:!0,get:function(){return j(g).default}});var v=i(453);Object.defineProperty(e,"MouseWheelZoom",{enumerable:!0,get:function(){return j(v).default}});var y=i(452);Object.defineProperty(e,"PinchRotate",{enumerable:!0,get:function(){return j(y).default}});var _=i(451);Object.defineProperty(e,"PinchZoom",{enumerable:!0,get:function(){return j(_).default}});var m=i(51);Object.defineProperty(e,"Pointer",{enumerable:!0,get:function(){return j(m).default}});var b=i(905);Object.defineProperty(e,"Select",{enumerable:!0,get:function(){return j(b).default}});var x=i(904);Object.defineProperty(e,"Snap",{enumerable:!0,get:function(){return j(x).default}});var S=i(903);Object.defineProperty(e,"Translate",{enumerable:!0,get:function(){return j(S).default}}),e.defaults=function(t){var e=t||{},i=new w.default,n=new E.default(-.005,.05,100);(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&i.push(new C.default);(void 0===e.doubleClickZoom||e.doubleClickZoom)&&i.push(new M.default({delta:e.zoomDelta,duration:e.zoomDuration}));(void 0===e.dragPan||e.dragPan)&&i.push(new O.default({condition:e.onFocusOnly?k.focus:void 0,kinetic:n}));(void 0===e.pinchRotate||e.pinchRotate)&&i.push(new I.default);(void 0===e.pinchZoom||e.pinchZoom)&&i.push(new R.default({constrainResolution:e.constrainResolution,duration:e.zoomDuration}));(void 0===e.keyboard||e.keyboard)&&(i.push(new P.default),i.push(new L.default({delta:e.zoomDelta,duration:e.zoomDuration})));(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&i.push(new A.default({condition:e.onFocusOnly?k.focus:void 0,constrainResolution:e.constrainResolution,duration:e.zoomDuration}));(void 0===e.shiftDragZoom||e.shiftDragZoom)&&i.push(new T.default({duration:e.zoomDuration}));return i};var w=j(i(54)),E=j(i(450)),M=j(n),O=j(a),C=j(s),T=j(l),P=j(p),L=j(d),A=j(v),I=j(y),R=j(_),k=i(52);function j(t){return t&&t.__esModule?t:{default:t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.render=c;var n=u(i(99)),r=i(84),o=i(86),a=i(3),s=u(i(4));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||c,target:i.target});var n=void 0!==i.className?i.className:"ol-rotate",o=void 0!==i.label?i.label:"";this.label_=null,"string"==typeof o?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=o):(this.label_=o,this.label_.classList.add("ol-compass"));var u=i.tipLabel?i.tipLabel:"Reset rotation",l=document.createElement("button");l.className=n+"-reset",l.setAttribute("type","button"),l.title=u,l.appendChild(this.label_),(0,a.listen)(l,s.default.CLICK,this.handleClick_,this);var h=n+" "+r.CLASS_UNSELECTABLE+" "+r.CLASS_CONTROL,f=this.element;f.className=h,f.appendChild(l),this.callResetNorth_=i.resetNorth?i.resetNorth:void 0,this.duration_=void 0!==i.duration?i.duration:250,this.autoHide_=void 0===i.autoHide||i.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(r.CLASS_HIDDEN)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:o.easeOut}):t.setRotation(0))},e}(n.default);function c(t){var e=t.frameState;if(e){var i=e.viewState.rotation;if(i!=this.rotation_){var n="rotate("+i+"rad)";if(this.autoHide_){var o=this.element.classList.contains(r.CLASS_HIDDEN);o||0!==i?o&&0!==i&&this.element.classList.remove(r.CLASS_HIDDEN):this.element.classList.add(r.CLASS_HIDDEN)}this.label_.style.msTransform=n,this.label_.style.webkitTransform=n,this.label_.style.transform=n}this.rotation_=i}}e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.render=f;var n=i(17),r=c(i(99)),o=i(84),a=i(27),s=i(3),u=c(i(4)),l=i(120);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||f,target:i.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===i.collapsed||i.collapsed,this.collapsible_=void 0===i.collapsible||i.collapsible,this.collapsible_||(this.collapsed_=!1);var n=void 0!==i.className?i.className:"ol-attribution",r=void 0!==i.tipLabel?i.tipLabel:"Attributions",a=void 0!==i.collapseLabel?i.collapseLabel:"";"string"==typeof a?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=a):this.collapseLabel_=a;var l=void 0!==i.label?i.label:"i";"string"==typeof l?(this.label_=document.createElement("span"),this.label_.textContent=l):this.label_=l;var c=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=r,h.appendChild(c),(0,s.listen)(h,u.default.CLICK,this.handleClick_,this);var p=n+" "+o.CLASS_UNSELECTABLE+" "+o.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" "+o.CLASS_COLLAPSED:"")+(this.collapsible_?"":" ol-uncollapsible"),d=this.element;d.className=p,d.appendChild(this.ulElement_),d.appendChild(h),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getSourceAttributions_=function(t){for(var e={},i=[],n=t.layerStatesArray,r=t.viewState.resolution,o=0,a=n.length;o<a;++o){var s=n[o];if((0,l.visibleAtResolution)(s,r)){var u=s.layer.getSource();if(u){var c=u.getAttributions();if(c){var h=c(t);if(h)if(Array.isArray(h))for(var f=0,p=h.length;f<p;++f)h[f]in e||(i.push(h[f]),e[h[f]]=!0);else h in e||(i.push(h),e[h]=!0)}}}}return i},e.prototype.updateElement_=function(t){if(t){var e=this.getSourceAttributions_(t),i=e.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!(0,n.equals)(e,this.renderedAttributions_)){(0,a.removeChildren)(this.ulElement_);for(var r=0,o=e.length;r<o;++r){var s=document.createElement("li");s.innerHTML=e[r],this.ulElement_.appendChild(s)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(o.CLASS_COLLAPSED),this.collapsed_?(0,a.replaceNode)(this.collapseLabel_,this.label_):(0,a.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(r.default);function f(t){this.updateElement_(t.frameState)}e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaults=function(t){var e=t||{},i=new n.default;(void 0===e.zoom||e.zoom)&&i.push(new a.default(e.zoomOptions));(void 0===e.rotate||e.rotate)&&i.push(new o.default(e.rotateOptions));(void 0===e.attribution||e.attribution)&&i.push(new r.default(e.attributionOptions));return i};var n=s(i(54)),r=s(i(916)),o=s(i(915)),a=s(i(471));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.coordinates=function(t,e,i,n){for(;e<i-n;){for(var r=0;r<n;++r){var o=t[e+r];t[e+r]=t[i-n+r],t[i-n+r]=o}e+=n,i-=n}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clear=function(){n={}},e.get=function(t){return n[t]||null},e.add=function(t,e){n[t]=e};var n={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PROJECTIONS=e.METERS_PER_UNIT=e.EXTENT=e.RADIUS=void 0;var n=o(i(219)),r=o(i(85));function o(t){return t&&t.__esModule?t:{default:t}}var a=e.RADIUS=6378137,s=e.EXTENT=[-180,-90,180,90],u=e.METERS_PER_UNIT=Math.PI*a/180,l=function(t){function e(e,i){t.call(this,{code:e,units:r.default.DEGREES,extent:s,axisOrientation:i,global:!0,metersPerUnit:u,worldExtent:s})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n.default);e.PROJECTIONS=[new l("CRS:84"),new l("EPSG:4326","neu"),new l("urn:ogc:def:crs:EPSG::4326","neu"),new l("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new l("urn:ogc:def:crs:OGC:1.3:CRS84"),new l("urn:ogc:def:crs:OGC:2:84"),new l("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new l("urn:x-ogc:def:crs:EPSG:4326","neu")]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PROJECTIONS=e.WORLD_EXTENT=e.EXTENT=e.HALF_SIZE=e.RADIUS=void 0,e.fromEPSG4326=function(t,e,i){var n=t.length,r=i>1?i:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(n));for(var a=u,l=0;l<n;l+=r){o[l]=a*t[l]/180;var c=s*Math.log(Math.tan(Math.PI*(t[l+1]+90)/360));c>a?c=a:c<-a&&(c=-a),o[l+1]=c}return o},e.toEPSG4326=function(t,e,i){var n=t.length,r=i>1?i:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(n));for(var a=0;a<n;a+=r)o[a]=180*t[a]/u,o[a+1]=360*Math.atan(Math.exp(t[a+1]/s))/Math.PI-90;return o};var n=i(14),r=a(i(219)),o=a(i(85));function a(t){return t&&t.__esModule?t:{default:t}}var s=e.RADIUS=6378137,u=e.HALF_SIZE=Math.PI*s,l=e.EXTENT=[-u,-u,u,u],c=e.WORLD_EXTENT=[-180,-85,180,85],h=function(t){function e(e){t.call(this,{code:e,units:o.default.METERS,extent:l,global:!0,worldExtent:c,getPointResolution:function(t,e){return t/(0,n.cosh)(e[1]/s)}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r.default);e.PROJECTIONS=[new h("EPSG:3857"),new h("EPSG:102100"),new h("EPSG:102113"),new h("EPSG:900913"),new h("urn:ogc:def:crs:EPSG:6.18:3:3857"),new h("urn:ogc:def:crs:EPSG::3857"),new h("http://www.opengis.net/gml/srs/epsg.xml#3857")]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=f(i(102)),o=f(i(25)),a=f(i(66)),s=i(294),u=i(170),l=i(101),c=i(121),h=i(145);function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(e,i){t.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?this.setCoordinates(e,i):this.setFlatCoordinates(i,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,i,r){return r<(0,n.closestSquaredDistanceXY)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,u.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,u.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,r))},e.prototype.getArea=function(){return(0,s.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return(0,c.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=(0,h.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new e(i,r.default.XY)},e.prototype.getType=function(){return o.default.LINEAR_RING},e.prototype.intersectsExtent=function(t){},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,l.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a.default);e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSnapToResolutions=function(t){return function(e,i,o){if(void 0!==e){var a=(0,n.linearFindNearest)(t,e,o);a=(0,r.clamp)(a+i,0,t.length-1);var s=Math.floor(a);if(a!=s&&s<t.length-1){var u=t[s]/t[s+1];return t[s]/Math.pow(u,a-s)}return t[s]}}},e.createSnapToPower=function(t,e,i){return function(n,r,o){if(void 0!==n){var a=-o/2+.5,s=Math.floor(Math.log(e/n)/Math.log(t)+a),u=Math.max(s+r,0);return void 0!==i&&(u=Math.min(u,i)),e/Math.pow(t,u)}}};var n=i(17),r=i(14)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createExtent=function(t){return function(e){return e?[(0,n.clamp)(e[0],t[0],t[2]),(0,n.clamp)(e[1],t[1],t[3])]:void 0}},e.none=function(t){return t};var n=i(14)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(17),r=function(t){return t&&t.__esModule?t:{default:t}}(i(226)),o=i(295);function a(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function s(t){this.processTouches_(t,this.moveOverOut_)}function u(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function l(t){this.processTouches_(t,this.cancelOut_)}var c=function(t){function e(e,i){var n={touchstart:a,touchmove:s,touchend:u,touchcancel:l};t.call(this,e,n),this.pointerMap=e.pointerMap,this.mouseSource=i,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_=void 0,this.dedupTimeout_=2500}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&o.POINTER_ID.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),200)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var i=this.dispatcher.cloneEvent(t,e);return i.pointerId=e.identifier+2,i.bubbles=!0,i.cancelable=!0,i.detail=this.clickCount_,i.button=0,i.buttons=1,i.width=e.webkitRadiusX||e.radiusX||0,i.height=e.webkitRadiusY||e.radiusY||0,i.pressure=e.webkitForce||e.force||.5,i.isPrimary=this.isPrimaryTouch_(e),i.pointerType="touch",i.clientX=e.clientX,i.clientY=e.clientY,i.screenX=e.screenX,i.screenY=e.screenY,i},e.prototype.processTouches_=function(t,e){var i=Array.prototype.slice.call(t.changedTouches),n=i.length;function r(){t.preventDefault()}for(var o=0;o<n;++o){var a=this.touchToPointer_(t,i[o]);a.preventDefault=r,e.call(this,t,a)}},e.prototype.findTouch_=function(t,e){for(var i=t.length,n=0;n<i;n++){if(t[n].identifier===e)return!0}return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,i=Object.keys(this.pointerMap),n=i.length;if(n>=e.length){for(var r=[],a=0;a<n;++a){var s=i[a],u=this.pointerMap[s];s==o.POINTER_ID||this.findTouch_(e,s-2)||r.push(u.out)}for(var l=0;l<r.length;++l)this.cancelOut_(t,r[l])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var i=e,n=this.pointerMap[i.pointerId];if(n){var r=n.out,o=n.outTarget;this.dispatcher.move(i,t),r&&o!==i.target&&(r.relatedTarget=i.target,i.relatedTarget=o,r.target=o,i.target?(this.dispatcher.leaveOut(r,t),this.dispatcher.enterOver(i,t)):(i.target=o,i.relatedTarget=null,this.cancelOut_(t,i))),n.out=i,n.outTarget=i.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,i=t.changedTouches[0];if(this.isPrimaryTouch_(i)){var r=[i.clientX,i.clientY];e.push(r),setTimeout(function(){(0,n.remove)(e,r)},this.dedupTimeout_)}},e}(r.default);e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=!1,r=function(t){function e(e,i,n){t.call(this,e),this.originalEvent=i;var r=n||{};this.buttons=this.getButtons_(r),this.pressure=this.getPressure_(r,this.buttons),this.bubbles="bubbles"in r&&r.bubbles,this.cancelable="cancelable"in r&&r.cancelable,this.view="view"in r?r.view:null,this.detail="detail"in r?r.detail:null,this.screenX="screenX"in r?r.screenX:0,this.screenY="screenY"in r?r.screenY:0,this.clientX="clientX"in r?r.clientX:0,this.clientY="clientY"in r?r.clientY:0,this.ctrlKey="ctrlKey"in r&&r.ctrlKey,this.altKey="altKey"in r&&r.altKey,this.shiftKey="shiftKey"in r&&r.shiftKey,this.metaKey="metaKey"in r&&r.metaKey,this.button="button"in r?r.button:0,this.relatedTarget="relatedTarget"in r?r.relatedTarget:null,this.pointerId="pointerId"in r?r.pointerId:0,this.width="width"in r?r.width:0,this.height="height"in r?r.height:0,this.tiltX="tiltX"in r?r.tiltX:0,this.tiltY="tiltY"in r?r.tiltY:0,this.pointerType="pointerType"in r?r.pointerType:"",this.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,this.isPrimary="isPrimary"in r&&r.isPrimary,i.preventDefault&&(this.preventDefault=function(){i.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getButtons_=function(t){var e;if(t.buttons||n)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e},e.prototype.getPressure_=function(t,e){return t.pressure?t.pressure:e?.5:0},e}(function(t){return t&&t.__esModule?t:{default:t}}(i(32)).default);!function(){try{var t=new MouseEvent("click",{buttons:1});n=1===t.buttons}catch(t){}}(),e.default=r},function(t,e,i){"use strict";function n(t){this.dispatcher.fireNativeEvent(t)}function r(t){this.dispatcher.fireNativeEvent(t)}function o(t){this.dispatcher.fireNativeEvent(t)}function a(t){this.dispatcher.fireNativeEvent(t)}function s(t){this.dispatcher.fireNativeEvent(t)}function u(t){this.dispatcher.fireNativeEvent(t)}function l(t){this.dispatcher.fireNativeEvent(t)}function c(t){this.dispatcher.fireNativeEvent(t)}Object.defineProperty(e,"__esModule",{value:!0});var h=function(t){function e(e){var i={pointerdown:n,pointermove:r,pointerup:o,pointerout:a,pointerover:s,pointercancel:u,gotpointercapture:c,lostpointercapture:l};t.call(this,e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(function(t){return t&&t.__esModule?t:{default:t}}(i(226)).default);e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=["","unavailable","touch","pen","mouse"];function r(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function o(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function a(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function s(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function u(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function l(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function c(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function h(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var f=function(t){function e(e){var i={MSPointerDown:r,MSPointerMove:o,MSPointerUp:a,MSPointerOut:s,MSPointerOver:u,MSPointerCancel:l,MSGotPointerCapture:h,MSLostPointerCapture:c};t.call(this,e,i),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=n[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(function(t){return t&&t.__esModule?t:{default:t}}(i(226)).default);e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getContext=r;e.ONE=1,e.SRC_ALPHA=770,e.COLOR_ATTACHMENT0=36064,e.COLOR_BUFFER_BIT=16384,e.TRIANGLES=4,e.TRIANGLE_STRIP=5,e.ONE_MINUS_SRC_ALPHA=771,e.ARRAY_BUFFER=34962,e.ELEMENT_ARRAY_BUFFER=34963,e.STREAM_DRAW=35040,e.STATIC_DRAW=35044,e.DYNAMIC_DRAW=35048,e.CULL_FACE=2884,e.BLEND=3042,e.STENCIL_TEST=2960,e.DEPTH_TEST=2929,e.SCISSOR_TEST=3089,e.UNSIGNED_BYTE=5121,e.UNSIGNED_SHORT=5123,e.UNSIGNED_INT=5125,e.FLOAT=5126,e.RGBA=6408,e.FRAGMENT_SHADER=35632,e.VERTEX_SHADER=35633,e.LINK_STATUS=35714,e.LINEAR=9729,e.TEXTURE_MAG_FILTER=10240,e.TEXTURE_MIN_FILTER=10241,e.TEXTURE_WRAP_S=10242,e.TEXTURE_WRAP_T=10243,e.TEXTURE_2D=3553,e.TEXTURE0=33984,e.CLAMP_TO_EDGE=33071,e.COMPILE_STATUS=35713,e.FRAMEBUFFER=36160;var n=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function r(t,e){for(var i=n.length,r=0;r<i;++r)try{var o=t.getContext(n[r],e);if(o)return o}catch(t){}return null}e.DEBUG=!0;var o,a,s=!1;if("undefined"!=typeof window&&"WebGLRenderingContext"in window)try{var u=r(document.createElement("canvas"),{failIfMajorPerformanceCaveat:!0});u&&(e.HAS=s=!0,e.MAX_TEXTURE_SIZE=o=u.getParameter(u.MAX_TEXTURE_SIZE),e.EXTENSIONS=a=u.getSupportedExtensions())}catch(t){}e.HAS=s,e.MAX_TEXTURE_SIZE=o,e.EXTENSIONS=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(68),r=c(i(103)),o=c(i(173)),a=i(3),s=c(i(122)),u=c(i(296)),l=c(i(485));function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(e,i){t.call(this),this.map_=e,this.clickTimeoutId_=0,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=i?i*n.DEVICE_PIXEL_RATIO:n.DEVICE_PIXEL_RATIO,this.down_=null;var r=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new l.default(r),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=(0,a.listen)(this.pointerEventHandler_,u.default.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=(0,a.listen)(this.pointerEventHandler_,u.default.POINTERMOVE,this.relayEvent_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.emulateClick_=function(t){var e=new o.default(r.default.CLICK,this.map_,t);this.dispatchEvent(e),0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=0,e=new o.default(r.default.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=0;var e=new o.default(r.default.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==r.default.POINTERUP||e.type==r.default.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==r.default.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new o.default(r.default.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(a.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new o.default(r.default.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new l.default(document),this.dragListenerKeys_.push((0,a.listen)(this.documentPointerEventHandler_,r.default.POINTERMOVE,this.handlePointerMove_,this),(0,a.listen)(this.documentPointerEventHandler_,r.default.POINTERUP,this.handlePointerUp_,this),(0,a.listen)(this.pointerEventHandler_,r.default.POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new o.default(r.default.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new o.default(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,a.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&((0,a.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(a.unlistenByKey),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(s.default);e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),r=A(i(54)),o=A(i(123)),a=A(i(487)),s=A(i(930)),u=A(i(103)),l=A(i(486)),c=A(i(225)),h=A(i(484)),f=A(i(172)),p=i(22),d=A(p),g=A(i(174)),v=A(i(483)),y=A(i(224)),_=A(i(46)),m=i(20),b=i(27),x=i(3),S=i(32),w=A(i(4)),E=i(1),M=i(18),O=i(68),C=A(i(293)),T=i(100),P=i(482),L=i(40);function A(t){return t&&t.__esModule?t:{default:t}}var I=function(t){function e(e){t.call(this);var i=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,n,o,a={},s=t.layers instanceof C.default?t.layers:new C.default({layers:t.layers});a[h.default.LAYERGROUP]=s,a[h.default.TARGET]=t.target,a[h.default.VIEW]=void 0!==t.view?t.view:new y.default,void 0!==t.controls&&(Array.isArray(t.controls)?i=new r.default(t.controls.slice()):((0,m.assert)(t.controls instanceof r.default,47),i=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?n=new r.default(t.interactions.slice()):((0,m.assert)(t.interactions instanceof r.default,48),n=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?o=new r.default(t.overlays.slice()):((0,m.assert)(t.overlays instanceof r.default,49),o=t.overlays):o=new r.default;return{controls:i,interactions:n,keyboardEventTarget:e,overlays:o,values:a}}(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:O.DEVICE_PIXEL_RATIO,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=(0,L.create)(),this.pixelToCoordinateTransform_=(0,L.create)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(O.TOUCH?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var n=[w.default.CLICK,w.default.DBLCLICK,w.default.MOUSEDOWN,w.default.TOUCHSTART,w.default.MSPOINTERDOWN,u.default.POINTERDOWN,w.default.MOUSEWHEEL,w.default.WHEEL],a=0,l=n.length;a<l;++a)(0,x.listen)(this.overlayContainerStopEvent_,n[a],S.stopPropagation);for(var c in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new s.default(this,e.moveTolerance),u.default)(0,x.listen)(this.mapBrowserEventHandler_,u.default[c],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=i.keyboardEventTarget,this.keyHandlerKeys_=null,(0,x.listen)(this.viewport_,w.default.CONTEXTMENU,this.handleBrowserEvent,this),(0,x.listen)(this.viewport_,w.default.WHEEL,this.handleBrowserEvent,this),(0,x.listen)(this.viewport_,w.default.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=i.controls||new r.default,this.interactions=i.interactions||new r.default,this.overlays_=i.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new v.default(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},(0,x.listen)(this,(0,p.getChangeEventType)(h.default.LAYERGROUP),this.handleLayerGroupChanged_,this),(0,x.listen)(this,(0,p.getChangeEventType)(h.default.VIEW),this.handleViewChanged_,this),(0,x.listen)(this,(0,p.getChangeEventType)(h.default.SIZE),this.handleSizeChanged_,this),(0,x.listen)(this,(0,p.getChangeEventType)(h.default.TARGET),this.handleTargetChanged_,this),this.setProperties(i.values),this.controls.forEach(function(t){t.setMap(this)}.bind(this)),(0,x.listen)(this.controls,o.default.ADD,function(t){t.element.setMap(this)},this),(0,x.listen)(this.controls,o.default.REMOVE,function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)}.bind(this)),(0,x.listen)(this.interactions,o.default.ADD,function(t){t.element.setMap(this)},this),(0,x.listen)(this.interactions,o.default.REMOVE,function(t){t.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),(0,x.listen)(this.overlays_,o.default.ADD,function(t){this.addOverlayInternal_(t.element)},this),(0,x.listen)(this.overlays_,o.default.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)},this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),(0,x.unlisten)(this.viewport_,w.default.CONTEXTMENU,this.handleBrowserEvent,this),(0,x.unlisten)(this.viewport_,w.default.WHEEL,this.handleBrowserEvent,this),(0,x.unlisten)(this.viewport_,w.default.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(w.default.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,i){if(this.frameState_){var n=this.getCoordinateFromPixel(t),r=void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==i.layerFilter?i.layerFilter:M.TRUE;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,r,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var i=null;return this.forEachFeatureAtPixel(t,function(t){i||(i=[]),i.push(t)},e),i},e.prototype.forEachLayerAtPixel=function(t,e,i){if(this.frameState_){var n=i||{},r=void 0!==n.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,o=n.layerFilter||M.TRUE;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,r,e,null,o,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixel(t),n=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:M.TRUE,r=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,r,n,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),i=t.changedTouches?t.changedTouches[0]:t;return[i.clientX-e.left,i.clientY-e.top]},e.prototype.getTarget=function(){return this.get(h.default.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?(0,L.apply)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(h.default.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?(0,L.apply)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(h.default.SIZE)},e.prototype.getView=function(){return this.get(h.default.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,i,n){var r=this.frameState_;if(!(r&&e in r.wantedTiles))return P.DROP;if(!r.wantedTiles[e][t.getKey()])return P.DROP;var o=i[0]-r.focus[0],a=i[1]-r.focus[1];return 65536*Math.log(n)+Math.sqrt(o*o+a*a)/n},e.prototype.handleBrowserEvent=function(t,e){var i=e||t.type,n=new a.default(i,this,t);this.handleMapBrowserEvent(n)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var i=e.length-1;i>=0;i--){var n=e[i];if(n.getActive())if(!n.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var i=this.maxTilesLoading_,n=i;if(t){var r=t.viewHints;r[_.default.ANIMATING]&&(i=this.loadTilesWhileAnimating_?8:0,n=2),r[_.default.INTERACTING]&&(i=this.loadTilesWhileInteracting_?8:0,n=2)}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,n))}!t||!this.hasListener(c.default.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||function t(e){for(var i=0,n=e.length;i<n;++i){var r=e[i];if(r instanceof C.default)return t(r.getLayers().getArray());var o=e[i].getSource();if(o&&o.loading)return!0}return!1}(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(f.default.RENDERCOMPLETE,t);for(var o=this.postRenderFunctions_,a=0,s=o.length;a<s;++a)o[a](this,t);o.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,i=this.keyHandlerKeys_.length;e<i;++e)(0,x.unlistenByKey)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var n=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[(0,x.listen)(n,w.default.KEYDOWN,this.handleBrowserEvent,this),(0,x.listen)(n,w.default.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),addEventListener(w.default.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),(0,b.removeNode)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(w.default.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,x.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,x.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",(0,n.getUid)(t)),this.viewPropertyListenerKey_=(0,x.listen)(t,g.default.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,x.listen)(t,w.default.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(x.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[(0,x.listen)(t,g.default.PROPERTYCHANGE,this.render,this),(0,x.listen)(t,w.default.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,i=this.getSize(),r=this.getView(),o=(0,E.createEmpty)(),a=this.frameState_,s=null;if(void 0!==i&&(0,T.hasArea)(i)&&r&&r.isDef()){for(var u=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=this.getLayerGroup().getLayerStatesArray(),f={},p=0,d=h.length;p<d;++p)f[(0,n.getUid)(h[p].layer)]=h[p];e=r.getState(this.pixelRatio_),s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:o,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:f,layerStatesArray:h,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:u,wantedTiles:{}}}if(s&&(s.extent=(0,E.getForViewAndSize)(e.center,e.resolution,e.rotation,s.size,o)),this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),a)(!this.previousExtent_||!(0,E.isEmpty)(this.previousExtent_)&&!(0,E.equals)(s.extent,this.previousExtent_))&&(this.dispatchEvent(new l.default(c.default.MOVESTART,this,a)),this.previousExtent_=(0,E.createOrUpdateEmpty)(this.previousExtent_));this.previousExtent_&&!s.viewHints[_.default.ANIMATING]&&!s.viewHints[_.default.INTERACTING]&&!(0,E.equals)(s.extent,this.previousExtent_)&&(this.dispatchEvent(new l.default(c.default.MOVEEND,this,s)),(0,E.clone)(s.extent,this.previousExtent_))}this.dispatchEvent(new l.default(c.default.POSTRENDER,this,s)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(h.default.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(h.default.SIZE,t)},e.prototype.setTarget=function(t){this.set(h.default.TARGET,t)},e.prototype.setView=function(t){this.set(h.default.VIEW,t)},e.prototype.skipFeature=function(t){var e=(0,n.getUid)(t).toString();this.skippedFeatureUids_[e]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){var e=(0,n.getUid)(t).toString();delete this.skippedFeatureUids_[e],this.render()},e}(d.default);e.default=I},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(298);Object.defineProperty(e,"G4UMap",{enumerable:!0,get:function(){return n.G4UMap}});var r=i(242);Object.defineProperty(e,"registerModule",{enumerable:!0,get:function(){return r.registerModule}});var o=i(261);Object.defineProperty(e,"SourceServerVector",{enumerable:!0,get:function(){return o.SourceServerVector}});var a=i(114);Object.defineProperty(e,"GroupLayer",{enumerable:!0,get:function(){return a.GroupLayer}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMap=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"./conf/client.commented.json",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"./conf/layers.commented.json",n=arguments[3];return(0,r.createMapInternal)(t,e,i,n)};var n=i(932);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var r=i(564),o=i(242);i(562),i(561),i(560);var a=i(559);(0,o.registerModule)(new a.URLAPIModule)},function(t,e){t.exports=function(t,e){var i=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,i)}}},function(t,e,i){var n=i(0),r=i(934)(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(t){return r(t)}})},function(t,e,i){i(935),t.exports=i(80).RegExp.escape},function(t,e,i){(function(e){!function(e){"use strict";var i,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",l="object"==typeof t,c=e.regeneratorRuntime;if(c)l&&(t.exports=c);else{(c=e.regeneratorRuntime=l?t.exports:{}).wrap=b;var h="suspendedStart",f="suspendedYield",p="executing",d="completed",g={},v={};v[a]=function(){return this};var y=Object.getPrototypeOf,_=y&&y(y(A([])));_&&_!==n&&r.call(_,a)&&(v=_);var m=E.prototype=S.prototype=Object.create(v);w.prototype=m.constructor=E,E.constructor=w,E[u]=w.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(m),t},c.awrap=function(t){return{__await:t}},M(O.prototype),O.prototype[s]=function(){return this},c.AsyncIterator=O,c.async=function(t,e,i,n){var r=new O(b(t,e,i,n));return c.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},M(m),m[u]="Generator",m[a]=function(){return this},m.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},c.values=A,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=i)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=i),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),P(i),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;P(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=i),g}}}function b(t,e,i,n){var r=e&&e.prototype instanceof S?e:S,o=Object.create(r.prototype),a=new L(n||[]);return o._invoke=function(t,e,i){var n=h;return function(r,o){if(n===p)throw new Error("Generator is already running");if(n===d){if("throw"===r)throw o;return I()}for(i.method=r,i.arg=o;;){var a=i.delegate;if(a){var s=C(a,i);if(s){if(s===g)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===h)throw n=d,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=p;var u=x(t,e,i);if("normal"===u.type){if(n=i.done?d:f,u.arg===g)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(n=d,i.method="throw",i.arg=u.arg)}}}(t,i,a),o}function x(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function S(){}function w(){}function E(){}function M(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function O(t){function i(e,n,o,a){var s=x(t[e],t,n);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(t){i("next",t,o,a)},function(t){i("throw",t,o,a)}):Promise.resolve(l).then(function(t){u.value=t,o(u)},a)}a(s.arg)}var n;"object"==typeof e.process&&e.process.domain&&(i=e.process.domain.bind(i)),this._invoke=function(t,e){function r(){return new Promise(function(n,r){i(t,e,n,r)})}return n=n?n.then(r,r):r()}}function C(t,e){var n=t.iterator[e.method];if(n===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=i,C(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=x(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,g;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=i),e.delegate=null,g):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function A(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=i,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:i,done:!0}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,i(326))},function(t,e,i){for(var n=i(304),r=i(131),o=i(49),a=i(8),s=i(50),u=i(147),l=i(23),c=l("iterator"),h=l("toStringTag"),f=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=r(p),g=0;g<d.length;g++){var v,y=d[g],_=p[y],m=a[y],b=m&&m.prototype;if(b&&(b[c]||s(b,c,f),b[h]||s(b,h,y),u[y]=f,_))for(v in n)b[v]||o(b,v,n[v],!0)}},function(t,e,i){var n=i(0),r=i(303);n(n.G+n.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,i){var n=i(8),r=i(0),o=i(299),a=[].slice,s=/MSIE .\./.test(o),u=function(t){return function(e,i){var n=arguments.length>2,r=!!n&&a.call(arguments,2);return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,i)}};r(r.G+r.B+r.F*s,{setTimeout:u(n.setTimeout),setInterval:u(n.setInterval)})},function(t,e,i){"use strict";var n=i(0),r=i(8),o=i(80),a=i(302)(),s=i(23)("observable"),u=i(37),l=i(7),c=i(126),h=i(124),f=i(50),p=i(125),d=p.RETURN,g=function(t){return null==t?void 0:u(t)},v=function(t){var e=t._c;e&&(t._c=void 0,e())},y=function(t){return void 0===t._o},_=function(t){y(t)||(t._o=void 0,v(t))},m=function(t,e){l(t),this._c=void 0,this._o=t,t=new b(this);try{var i=e(t),n=i;null!=i&&("function"==typeof i.unsubscribe?i=function(){n.unsubscribe()}:u(i),this._c=i)}catch(e){return void t.error(e)}y(this)&&v(this)};m.prototype=h({},{unsubscribe:function(){_(this)}});var b=function(t){this._s=t};b.prototype=h({},{next:function(t){var e=this._s;if(!y(e)){var i=e._o;try{var n=g(i.next);if(n)return n.call(i,t)}catch(t){try{_(e)}finally{throw t}}}},error:function(t){var e=this._s;if(y(e))throw t;var i=e._o;e._o=void 0;try{var n=g(i.error);if(!n)throw t;t=n.call(i,t)}catch(t){try{v(e)}finally{throw t}}return v(e),t},complete:function(t){var e=this._s;if(!y(e)){var i=e._o;e._o=void 0;try{var n=g(i.complete);t=n?n.call(i,t):void 0}catch(t){try{v(e)}finally{throw t}}return v(e),t}}});var x=function(t){c(this,x,"Observable","_f")._f=u(t)};h(x.prototype,{subscribe:function(t){return new m(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||r.Promise)(function(i,n){u(t);var r=e.subscribe({next:function(e){try{return t(e)}catch(t){n(t),r.unsubscribe()}},error:n,complete:i})})}}),h(x,{from:function(t){var e="function"==typeof this?this:x,i=g(l(t)[s]);if(i){var n=l(i.call(t));return n.constructor===e?n:new e(function(t){return n.subscribe(t)})}return new e(function(e){var i=!1;return a(function(){if(!i){try{if(p(t,!1,function(t){if(e.next(t),i)return d})===d)return}catch(t){if(i)throw t;return void e.error(t)}e.complete()}}),function(){i=!0}})},of:function(){for(var t=0,e=arguments.length,i=new Array(e);t<e;)i[t]=arguments[t++];return new("function"==typeof this?this:x)(function(t){var e=!1;return a(function(){if(!e){for(var n=0;n<i.length;++n)if(t.next(i[n]),e)return;t.complete()}}),function(){e=!0}})}}),f(x.prototype,s,function(){return this}),n(n.G,{Observable:x}),i(127)("Observable")},function(t,e,i){var n=i(0),r=i(302)(),o=i(8).process,a="process"==i(70)(o);n(n.G,{asap:function(t){var e=a&&o.domain;r(e?e.bind(t):t)}})},function(t,e,i){var n=i(87),r=i(7),o=i(37),a=n.key,s=n.set;n.exp({metadata:function(t,e){return function(i,n){s(t,e,(void 0!==n?r:o)(i),a(n))}}})},function(t,e,i){var n=i(87),r=i(7),o=n.has,a=n.key;n.exp({hasOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,i){var n=i(87),r=i(7),o=i(55),a=n.has,s=n.key,u=function(t,e,i){if(a(t,e,i))return!0;var n=o(e);return null!==n&&u(t,n,i)};n.exp({hasMetadata:function(t,e){return u(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,i){var n=i(87),r=i(7),o=n.keys,a=n.key;n.exp({getOwnMetadataKeys:function(t){return o(r(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,i){var n=i(87),r=i(7),o=n.get,a=n.key;n.exp({getOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,i){var n=i(500),r=i(491),o=i(87),a=i(7),s=i(55),u=o.keys,l=o.key,c=function(t,e){var i=u(t,e),o=s(t);if(null===o)return i;var a=c(o,e);return a.length?i.length?r(new n(i.concat(a))):a:i};o.exp({getMetadataKeys:function(t){return c(a(t),arguments.length<2?void 0:l(arguments[1]))}})},function(t,e,i){var n=i(87),r=i(7),o=i(55),a=n.has,s=n.get,u=n.key,l=function(t,e,i){if(a(t,e,i))return s(t,e,i);var n=o(e);return null!==n?l(t,n,i):void 0};n.exp({getMetadata:function(t,e){return l(t,r(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,i){var n=i(87),r=i(7),o=n.key,a=n.map,s=n.store;n.exp({deleteMetadata:function(t,e){var i=arguments.length<3?void 0:o(arguments[2]),n=a(r(e),i,!1);if(void 0===n||!n.delete(t))return!1;if(n.size)return!0;var u=s.get(e);return u.delete(i),!!u.size||s.delete(e)}})},function(t,e,i){var n=i(87),r=i(7),o=n.key,a=n.set;n.exp({defineMetadata:function(t,e,i,n){a(t,e,r(i),o(n))}})},function(t,e,i){"use strict";var n=i(0),r=i(301),o=i(504);n(n.S,"Promise",{try:function(t){var e=r.f(this),i=o(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},function(t,e,i){"use strict";var n=i(0),r=i(80),o=i(8),a=i(232),s=i(503);n(n.P+n.R,"Promise",{finally:function(t){var e=a(this,r.Promise||o.Promise),i="function"==typeof t;return this.then(i?function(i){return s(e,t()).then(function(){return i})}:t,i?function(i){return s(e,t()).then(function(){throw i})}:t)}})},function(t,e,i){var n=i(0);n(n.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,i){var n=i(0);n(n.S,"Math",{umulh:function(t,e){var i=+t,n=+e,r=65535&i,o=65535&n,a=i>>>16,s=n>>>16,u=(a*o>>>0)+(r*o>>>16);return a*s+(u>>>16)+((r*s>>>0)+(65535&u)>>>16)}})},function(t,e,i){var n=i(0);n(n.S,"Math",{scale:i(490)})},function(t,e,i){var n=i(0),r=Math.PI/180;n(n.S,"Math",{radians:function(t){return t*r}})},function(t,e,i){var n=i(0);n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,i){var n=i(0);n(n.S,"Math",{imulh:function(t,e){var i=+t,n=+e,r=65535&i,o=65535&n,a=i>>16,s=n>>16,u=(a*o>>>0)+(r*o>>>16);return a*s+(u>>16)+((r*s>>>0)+(65535&u)>>16)}})},function(t,e,i){var n=i(0);n(n.S,"Math",{isubh:function(t,e,i,n){var r=t>>>0,o=i>>>0;return(e>>>0)-(n>>>0)-((~r&o|~(r^o)&r-o>>>0)>>>31)|0}})},function(t,e,i){var n=i(0);n(n.S,"Math",{iaddh:function(t,e,i,n){var r=t>>>0,o=i>>>0;return(e>>>0)+(n>>>0)+((r&o|(r|o)&~(r+o>>>0))>>>31)|0}})},function(t,e,i){var n=i(0),r=i(490),o=i(510);n(n.S,"Math",{fscale:function(t,e,i,n,a){return o(r(t,e,i,n,a))}})},function(t,e,i){var n=i(0),r=180/Math.PI;n(n.S,"Math",{degrees:function(t){return t*r}})},function(t,e,i){var n=i(0);n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,i){var n=i(0);n(n.S,"Math",{clamp:function(t,e,i){return Math.min(i,Math.max(e,t))}})},function(t,e,i){var n=i(0),r=i(70);n(n.S,"Error",{isError:function(t){return"Error"===r(t)}})},function(t,e,i){var n=i(0);n(n.S,"System",{global:i(8)})},function(t,e,i){var n=i(0);n(n.G,{global:i(8)})},function(t,e,i){i(227)("WeakSet")},function(t,e,i){i(227)("WeakMap")},function(t,e,i){i(227)("Set")},function(t,e,i){i(227)("Map")},function(t,e,i){i(228)("WeakSet")},function(t,e,i){i(228)("WeakMap")},function(t,e,i){i(228)("Set")},function(t,e,i){i(228)("Map")},function(t,e,i){var n=i(0);n(n.P+n.R,"Set",{toJSON:i(492)("Set")})},function(t,e,i){var n=i(0);n(n.P+n.R,"Map",{toJSON:i(492)("Map")})},function(t,e,i){"use strict";var n=i(0),r=i(33),o=i(79),a=i(55),s=i(56).f;i(30)&&n(n.P+i(229),"Object",{__lookupSetter__:function(t){var e,i=r(this),n=o(t,!0);do{if(e=s(i,n))return e.set}while(i=a(i))}})},function(t,e,i){"use strict";var n=i(0),r=i(33),o=i(79),a=i(55),s=i(56).f;i(30)&&n(n.P+i(229),"Object",{__lookupGetter__:function(t){var e,i=r(this),n=o(t,!0);do{if(e=s(i,n))return e.get}while(i=a(i))}})},function(t,e,i){"use strict";var n=i(0),r=i(33),o=i(37),a=i(29);i(30)&&n(n.P+i(229),"Object",{__defineSetter__:function(t,e){a.f(r(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,i){"use strict";var n=i(0),r=i(33),o=i(37),a=i(29);i(30)&&n(n.P+i(229),"Object",{__defineGetter__:function(t,e){a.f(r(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,i){var n=i(0),r=i(493)(!0);n(n.S,"Object",{entries:function(t){return r(t)}})},function(t,e,i){var n=i(0),r=i(493)(!1);n(n.S,"Object",{values:function(t){return r(t)}})},function(t,e,i){var n=i(0),r=i(496),o=i(57),a=i(56),s=i(308);n(n.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,i,n=o(t),u=a.f,l=r(n),c={},h=0;l.length>h;)void 0!==(i=u(n,e=l[h++]))&&s(c,e,i);return c}})},function(t,e,i){i(324)("observable")},function(t,e,i){i(324)("asyncIterator")},function(t,e,i){"use strict";var n=i(0),r=i(78),o=i(28),a=i(236),s=i(234),u=RegExp.prototype,l=function(t,e){this._r=t,this._s=e};i(312)(l,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),n(n.P,"String",{matchAll:function(t){if(r(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),i="flags"in u?String(t.flags):s.call(t),n=new RegExp(t.source,~i.indexOf("g")?i:"g"+i);return n.lastIndex=o(t.lastIndex),new l(n,e)}})},function(t,e,i){"use strict";i(148)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,i){"use strict";i(148)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,i){"use strict";var n=i(0),r=i(494),o=i(299);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,i){"use strict";var n=i(0),r=i(494),o=i(299);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,i){"use strict";var n=i(0),r=i(314)(!0);n(n.P,"String",{at:function(t){return r(this,t)}})},function(t,e,i){"use strict";var n=i(0),r=i(495),o=i(33),a=i(28),s=i(77),u=i(306);n(n.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),i=a(e.length),n=u(e,0);return r(n,e,e,i,0,void 0===t?1:s(t)),n}}),i(105)("flatten")},function(t,e,i){"use strict";var n=i(0),r=i(495),o=i(33),a=i(28),s=i(37),u=i(306);n(n.P,"Array",{flatMap:function(t){var e,i,n=o(this);return s(t),e=a(n.length),i=u(n,0),r(i,n,n,e,0,1,t,arguments[1]),i}}),i(105)("flatMap")},function(t,e,i){"use strict";var n=i(0),r=i(239)(!0);n(n.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(105)("includes")},function(t,e,i){var n=i(0),r=i(320);r&&n(n.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},function(t,e,i){var n=i(29),r=i(56),o=i(55),a=i(58),s=i(0),u=i(134),l=i(7),c=i(12);s(s.S,"Reflect",{set:function t(e,i,s){var h,f,p=arguments.length<4?e:arguments[3],d=r.f(l(e),i);if(!d){if(c(f=o(e)))return t(f,i,s,p);d=u(0)}if(a(d,"value")){if(!1===d.writable||!c(p))return!1;if(h=r.f(p,i)){if(h.get||h.set||!1===h.writable)return!1;h.value=s,n.f(p,i,h)}else n.f(p,i,u(0,s));return!0}return void 0!==d.set&&(d.set.call(p,s),!0)}})},function(t,e,i){var n=i(0),r=i(7),o=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,i){var n=i(0);n(n.S,"Reflect",{ownKeys:i(496)})},function(t,e,i){var n=i(0),r=i(7),o=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,e,i){var n=i(0);n(n.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,i){var n=i(0),r=i(55),o=i(7);n(n.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},function(t,e,i){var n=i(56),r=i(0),o=i(7);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return n.f(o(t),e)}})},function(t,e,i){var n=i(56),r=i(55),o=i(58),a=i(0),s=i(12),u=i(7);a(a.S,"Reflect",{get:function t(e,i){var a,l,c=arguments.length<3?e:arguments[2];return u(e)===c?e[i]:(a=n.f(e,i))?o(a,"value")?a.value:void 0!==a.get?a.get.call(c):void 0:s(l=r(e))?t(l,i,c):void 0}})},function(t,e,i){"use strict";var n=i(0),r=i(7),o=function(t){this._t=r(t),this._i=0;var e,i=this._k=[];for(e in t)i.push(e)};i(312)(o,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),n(n.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,i){var n=i(0),r=i(56).f,o=i(7);n(n.S,"Reflect",{deleteProperty:function(t,e){var i=r(o(t),e);return!(i&&!i.configurable)&&delete t[e]}})},function(t,e,i){var n=i(29),r=i(0),o=i(7),a=i(79);r(r.S+r.F*i(11)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,i){o(t),e=a(e,!0),o(i);try{return n.f(t,e,i),!0}catch(t){return!1}}})},function(t,e,i){var n=i(0),r=i(129),o=i(37),a=i(7),s=i(12),u=i(11),l=i(517),c=(i(8).Reflect||{}).construct,h=u(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),f=!u(function(){c(function(){})});n(n.S+n.F*(h||f),"Reflect",{construct:function(t,e){o(t),a(e);var i=arguments.length<3?t:o(arguments[2]);if(f&&!h)return c(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(l.apply(t,n))}var u=i.prototype,p=r(s(u)?u:Object.prototype),d=Function.apply.call(t,p,e);return s(d)?d:p}})},function(t,e,i){var n=i(0),r=i(37),o=i(7),a=(i(8).Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!i(11)(function(){a(function(){})}),"Reflect",{apply:function(t,e,i){var n=r(t),u=o(i);return a?a(n,e,u):s.call(n,e,u)}})},function(t,e,i){i(88)("Float64",8,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(88)("Float32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(88)("Uint32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(88)("Int32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(88)("Uint16",2,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(88)("Int16",2,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(88)("Uint8",1,function(t){return function(e,i,n){return t(this,e,i,n)}},!0)},function(t,e,i){i(88)("Uint8",1,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(88)("Int8",1,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){var n=i(0);n(n.G+n.W+n.F*!i(230).ABV,{DataView:i(300).DataView})},function(t,e,i){"use strict";var n=i(0),r=i(230),o=i(300),a=i(7),s=i(130),u=i(28),l=i(12),c=i(8).ArrayBuffer,h=i(232),f=o.ArrayBuffer,p=o.DataView,d=r.ABV&&c.isView,g=f.prototype.slice,v=r.VIEW;n(n.G+n.W+n.F*(c!==f),{ArrayBuffer:f}),n(n.S+n.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return d&&d(t)||l(t)&&v in t}}),n(n.P+n.U+n.F*i(11)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(a(this),t);for(var i=a(this).byteLength,n=s(t,i),r=s(void 0===e?i:e,i),o=new(h(this,f))(u(r-n)),l=new p(this),c=new p(o),d=0;n<r;)c.setUint8(d++,l.getUint8(n++));return o}}),i(127)("ArrayBuffer")},function(t,e,i){"use strict";var n=i(498),r=i(146);i(231)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(r(this,"WeakSet"),t,!0)}},n,!1,!0)},function(t,e,i){"use strict";var n,r,o,a,s=i(132),u=i(8),l=i(71),c=i(175),h=i(0),f=i(12),p=i(37),d=i(126),g=i(125),v=i(232),y=i(303).set,_=i(302)(),m=i(301),b=i(504),x=i(503),S=u.TypeError,w=u.process,E=u.Promise,M="process"==c(w),O=function(){},C=r=m.f,T=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[i(23)("species")]=function(t){t(O,O)};return(M||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof e}catch(t){}}(),P=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},L=function(t,e){if(!t._n){t._n=!0;var i=t._c;_(function(){for(var n=t._v,r=1==t._s,o=0,a=function(e){var i,o,a,s=r?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{s?(r||(2==t._h&&R(t),t._h=1),!0===s?i=n:(c&&c.enter(),i=s(n),c&&(c.exit(),a=!0)),i===e.promise?l(S("Promise-chain cycle")):(o=P(i))?o.call(i,u,l):u(i)):l(n)}catch(t){c&&!a&&c.exit(),l(t)}};i.length>o;)a(i[o++]);t._c=[],t._n=!1,e&&!t._h&&A(t)})}},A=function(t){y.call(u,function(){var e,i,n,r=t._v,o=I(t);if(o&&(e=b(function(){M?w.emit("unhandledRejection",r,t):(i=u.onunhandledrejection)?i({promise:t,reason:r}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",r)}),t._h=M||I(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},I=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(t){y.call(u,function(){var e;M?w.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},k=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},j=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw S("Promise can't be resolved itself");(e=P(t))?_(function(){var n={_w:i,_d:!1};try{e.call(t,l(j,n,1),l(k,n,1))}catch(t){k.call(n,t)}}):(i._v=t,i._s=1,L(i,!1))}catch(t){k.call({_w:i,_d:!1},t)}}};T||(E=function(t){d(this,E,"Promise","_h"),p(t),n.call(this);try{t(l(j,this,1),l(k,this,1))}catch(t){k.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(124)(E.prototype,{then:function(t,e){var i=C(v(this,E));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=M?w.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&L(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n;this.promise=t,this.resolve=l(j,t,1),this.reject=l(k,t,1)},m.f=C=function(t){return t===E||t===a?new o(t):r(t)}),h(h.G+h.W+h.F*!T,{Promise:E}),i(149)(E,"Promise"),i(127)("Promise"),a=i(80).Promise,h(h.S+h.F*!T,"Promise",{reject:function(t){var e=C(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!T),"Promise",{resolve:function(t){return x(s&&this===a?E:this,t)}}),h(h.S+h.F*!(T&&i(235)(function(t){E.all(t).catch(O)})),"Promise",{all:function(t){var e=this,i=C(e),n=i.resolve,r=i.reject,o=b(function(){var i=[],o=0,a=1;g(t,!1,function(t){var s=o++,u=!1;i.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,i[s]=t,--a||n(i))},r)}),--a||n(i)});return o.e&&r(o.v),i.promise},race:function(t){var e=this,i=C(e),n=i.reject,r=b(function(){g(t,!1,function(t){e.resolve(t).then(i.resolve,n)})});return r.e&&n(r.v),i.promise}})},function(t,e,i){i(233)("split",2,function(t,e,n){"use strict";var r=i(236),o=n,a=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];n=function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return o.call(i,t,e);var n,u,l,c,h,f=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,g=void 0===e?4294967295:e>>>0,v=new RegExp(t.source,p+"g");for(s||(n=new RegExp("^"+v.source+"$(?!\\s)",p));(u=v.exec(i))&&!((l=u.index+u[0].length)>d&&(f.push(i.slice(d,u.index)),!s&&u.length>1&&u[0].replace(n,function(){for(h=1;h<arguments.length-2;h++)void 0===arguments[h]&&(u[h]=void 0)}),u.length>1&&u.index<i.length&&a.apply(f,u.slice(1)),c=u[0].length,d=l,f.length>=g));)v.lastIndex===u.index&&v.lastIndex++;return d===i.length?!c&&v.test("")||f.push(""):f.push(i.slice(d)),f.length>g?f.slice(0,g):f}}else"0".split(void 0,0).length&&(n=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(i,r){var o=t(this),a=void 0==i?void 0:i[e];return void 0!==a?a.call(i,o,r):n.call(String(o),i,r)},n]})},function(t,e,i){i(233)("search",1,function(t,e,i){return[function(i){"use strict";var n=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,n):new RegExp(i)[e](String(n))},i]})},function(t,e,i){i(233)("replace",2,function(t,e,i){return[function(n,r){"use strict";var o=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,o,r):i.call(String(o),n,r)},i]})},function(t,e,i){i(233)("match",1,function(t,e,i){return[function(i){"use strict";var n=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,n):new RegExp(i)[e](String(n))},i]})},function(t,e,i){"use strict";i(505);var n=i(7),r=i(234),o=i(30),a=/./.toString,s=function(t){i(49)(RegExp.prototype,"toString",t,!0)};i(11)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,i){var n=i(8),r=i(318),o=i(29).f,a=i(128).f,s=i(236),u=i(234),l=n.RegExp,c=l,h=l.prototype,f=/a/g,p=/a/g,d=new l(f)!==f;if(i(30)&&(!d||i(11)(function(){return p[i(23)("match")]=!1,l(f)!=f||l(p)==p||"/a/i"!=l(f,"i")}))){l=function(t,e){var i=this instanceof l,n=s(t),o=void 0===e;return!i&&n&&t.constructor===l&&o?t:r(d?new c(n&&!o?t.source:t,e):c((n=t instanceof l)?t.source:t,n&&o?u.call(t):e),i?this:h,l)};for(var g=function(t){t in l||o(l,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})},v=a(c),y=0;v.length>y;)g(v[y++]);h.constructor=l,l.prototype=h,i(49)(n,"RegExp",l)}i(127)("RegExp")},function(t,e,i){i(127)("Array")},function(t,e,i){"use strict";var n=i(0),r=i(75)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),n(n.P+n.F*a,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(105)(o)},function(t,e,i){"use strict";var n=i(0),r=i(75)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),n(n.P+n.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(105)("find")},function(t,e,i){var n=i(0);n(n.P,"Array",{fill:i(305)}),i(105)("fill")},function(t,e,i){var n=i(0);n(n.P,"Array",{copyWithin:i(507)}),i(105)("copyWithin")},function(t,e,i){"use strict";var n=i(0),r=i(57),o=i(77),a=i(28),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(u||!i(69)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=r(this),i=a(e.length),n=i-1;for(arguments.length>1&&(n=Math.min(n,o(arguments[1]))),n<0&&(n=i+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}})},function(t,e,i){"use strict";var n=i(0),r=i(239)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(a||!i(69)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(508);n(n.P+n.F*!i(69)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,i){"use strict";var n=i(0),r=i(508);n(n.P+n.F*!i(69)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,i){"use strict";var n=i(0),r=i(75)(4);n(n.P+n.F*!i(69)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(75)(3);n(n.P+n.F*!i(69)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(75)(2);n(n.P+n.F*!i(69)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(75)(1);n(n.P+n.F*!i(69)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,i){var n=i(12),r=i(237),o=i(23)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),n(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,i){"use strict";var n=i(0),r=i(75)(0),o=i(69)([].forEach,!0);n(n.P+n.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(37),o=i(33),a=i(11),s=[].sort,u=[1,2,3];n(n.P+n.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!i(69)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),r(t))}})},function(t,e,i){"use strict";var n=i(0),r=i(321),o=i(70),a=i(130),s=i(28),u=[].slice;n(n.P+n.F*i(11)(function(){r&&u.call(r)}),"Array",{slice:function(t,e){var i=s(this.length),n=o(this);if(e=void 0===e?i:e,"Array"==n)return u.call(this,t,e);for(var r=a(t,i),l=a(e,i),c=s(l-r),h=new Array(c),f=0;f<c;f++)h[f]="String"==n?this.charAt(r+f):this[r+f];return h}})},function(t,e,i){"use strict";var n=i(0),r=i(57),o=[].join;n(n.P+n.F*(i(177)!=Object||!i(69)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},function(t,e,i){"use strict";var n=i(0),r=i(308);n(n.S+n.F*i(11)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);e>t;)r(i,t,arguments[t++]);return i.length=e,i}})},function(t,e,i){"use strict";var n=i(71),r=i(0),o=i(33),a=i(509),s=i(309),u=i(28),l=i(308),c=i(307);r(r.S+r.F*!i(235)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,r,h,f=o(t),p="function"==typeof this?this:Array,d=arguments.length,g=d>1?arguments[1]:void 0,v=void 0!==g,y=0,_=c(f);if(v&&(g=n(g,d>2?arguments[2]:void 0,2)),void 0==_||p==Array&&s(_))for(i=new p(e=u(f.length));e>y;y++)l(i,y,v?g(f[y],y):f[y]);else for(h=_.call(f),i=new p;!(r=h.next()).done;y++)l(i,y,v?a(h,g,[r.value,y],!0):r.value);return i.length=y,i}})},function(t,e,i){var n=i(0);n(n.S,"Array",{isArray:i(237)})},function(t,e,i){"use strict";var n=i(7),r=i(79);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(n(this),"number"!=t)}},function(t,e,i){var n=i(23)("toPrimitive"),r=Date.prototype;n in r||i(50)(r,n,i(1051))},function(t,e,i){var n=Date.prototype,r=n.toString,o=n.getTime;new Date(NaN)+""!="Invalid Date"&&i(49)(n,"toString",function(){var t=o.call(this);return t==t?r.call(this):"Invalid Date"})},function(t,e,i){"use strict";var n=i(11),r=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!n(function(){o.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),i=t.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(i>99?i:"0"+a(i))+"Z"}:o},function(t,e,i){var n=i(0),r=i(1054);n(n.P+n.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,e,i){"use strict";var n=i(0),r=i(33),o=i(79);n(n.P+n.F*i(11)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=r(this),i=o(e);return"number"!=typeof i||isFinite(i)?e.toISOString():null}})},function(t,e,i){var n=i(0);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,i){"use strict";i(48)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,i){"use strict";i(48)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,i){"use strict";i(48)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,i){"use strict";i(48)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,i){"use strict";i(48)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,i){"use strict";i(48)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,i){"use strict";i(48)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,i){"use strict";i(48)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,i){"use strict";i(48)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,i){"use strict";i(48)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,i){"use strict";i(48)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,i){"use strict";i(48)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,i){"use strict";i(48)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,i){"use strict";var n=i(0),r=i(28),o=i(311),a="".startsWith;n(n.P+n.F*i(310)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),i=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return a?a.call(e,n,i):e.slice(i,i+n.length)===n}})},function(t,e,i){var n=i(0);n(n.P,"String",{repeat:i(317)})},function(t,e,i){"use strict";var n=i(0),r=i(311);n(n.P+n.F*i(310)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){"use strict";var n=i(0),r=i(28),o=i(311),a="".endsWith;n(n.P+n.F*i(310)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),i=arguments.length>1?arguments[1]:void 0,n=r(e.length),s=void 0===i?n:Math.min(r(i),n),u=String(t);return a?a.call(e,u,s):e.slice(s-u.length,s)===u}})},function(t,e,i){"use strict";var n=i(0),r=i(314)(!1);n(n.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,i){"use strict";var n=i(314)(!0);i(313)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){"use strict";i(148)("trim",function(t){return function(){return t(this,3)}})},function(t,e,i){var n=i(0),r=i(57),o=i(28);n(n.S,"String",{raw:function(t){for(var e=r(t.raw),i=o(e.length),n=arguments.length,a=[],s=0;i>s;)a.push(String(e[s++])),s<n&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,i){var n=i(0),r=i(130),o=String.fromCharCode,a=String.fromCodePoint;n(n.S+n.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,i=[],n=arguments.length,a=0;n>a;){if(e=+arguments[a++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return i.join("")}})},function(t,e,i){var n=i(0);n(n.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,i){var n=i(0),r=i(315),o=Math.exp;n(n.S,"Math",{tanh:function(t){var e=r(t=+t),i=r(-t);return e==1/0?1:i==1/0?-1:(e-i)/(o(t)+o(-t))}})},function(t,e,i){var n=i(0),r=i(315),o=Math.exp;n(n.S+n.F*i(11)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,i){var n=i(0);n(n.S,"Math",{sign:i(316)})},function(t,e,i){var n=i(0);n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,i){var n=i(0);n(n.S,"Math",{log1p:i(511)})},function(t,e,i){var n=i(0);n(n.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,i){var n=i(0),r=Math.imul;n(n.S+n.F*i(11)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var i=+t,n=+e,r=65535&i,o=65535&n;return 0|r*o+((65535&i>>>16)*o+r*(65535&n>>>16)<<16>>>0)}})},function(t,e,i){var n=i(0),r=Math.abs;n(n.S,"Math",{hypot:function(t,e){for(var i,n,o=0,a=0,s=arguments.length,u=0;a<s;)u<(i=r(arguments[a++]))?(o=o*(n=u/i)*n+1,u=i):o+=i>0?(n=i/u)*n:i;return u===1/0?1/0:u*Math.sqrt(o)}})},function(t,e,i){var n=i(0);n(n.S,"Math",{fround:i(510)})},function(t,e,i){var n=i(0),r=i(315);n(n.S+n.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e,i){var n=i(0),r=Math.exp;n(n.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,i){var n=i(0);n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,i){var n=i(0),r=i(316);n(n.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,i){var n=i(0),r=Math.atanh;n(n.S+n.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,i){var n=i(0),r=Math.asinh;n(n.S+n.F*!(r&&1/r(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,i){var n=i(0),r=i(511),o=Math.sqrt,a=Math.acosh;n(n.S+n.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},function(t,e,i){var n=i(0),r=i(515);n(n.S+n.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,i){var n=i(0),r=i(514);n(n.S+n.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,i){var n=i(0);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,i){var n=i(0);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,i){var n=i(0),r=i(512),o=Math.abs;n(n.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,e,i){var n=i(0);n(n.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,i){var n=i(0);n(n.S,"Number",{isInteger:i(512)})},function(t,e,i){var n=i(0),r=i(8).isFinite;n(n.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,i){var n=i(0);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,i){"use strict";var n=i(0),r=i(11),o=i(513),a=1..toPrecision;n(n.P+n.F*(r(function(){return"1"!==a.call(1,void 0)})||!r(function(){a.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,i){"use strict";var n=i(0),r=i(77),o=i(513),a=i(317),s=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",h=function(t,e){for(var i=-1,n=e;++i<6;)n+=t*l[i],l[i]=n%1e7,n=u(n/1e7)},f=function(t){for(var e=6,i=0;--e>=0;)i+=l[e],l[e]=u(i/t),i=i%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==l[t]){var i=String(l[t]);e=""===e?i:e+a.call("0",7-i.length)+i}return e},d=function(t,e,i){return 0===e?i:e%2==1?d(t,e-1,i*t):d(t*t,e/2,i)};n(n.P+n.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(11)(function(){s.call({})})),"Number",{toFixed:function(t){var e,i,n,s,u=o(this,c),l=r(t),g="",v="0";if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(g="-",u=-u),u>1e-21)if(i=(e=function(t){for(var e=0,i=t;i>=4096;)e+=12,i/=4096;for(;i>=2;)e+=1,i/=2;return e}(u*d(2,69,1))-69)<0?u*d(2,-e,1):u/d(2,e,1),i*=4503599627370496,(e=52-e)>0){for(h(0,i),n=l;n>=7;)h(1e7,0),n-=7;for(h(d(10,n,1),0),n=e-1;n>=23;)f(1<<23),n-=23;f(1<<n),h(1,1),f(2),v=p()}else h(0,i),h(1<<-e,0),v=p()+a.call("0",l);return v=l>0?g+((s=v.length)<=l?"0."+a.call("0",l-s)+v:v.slice(0,s-l)+"."+v.slice(s-l)):g+v}})},function(t,e,i){"use strict";var n=i(8),r=i(58),o=i(70),a=i(318),s=i(79),u=i(11),l=i(128).f,c=i(56).f,h=i(29).f,f=i(148).trim,p=n.Number,d=p,g=p.prototype,v="Number"==o(i(129)(g)),y="trim"in String.prototype,_=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var i,n,r,o=(e=y?e.trim():f(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(i=e.charCodeAt(2))||120===i)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var a,u=e.slice(2),l=0,c=u.length;l<c;l++)if((a=u.charCodeAt(l))<48||a>r)return NaN;return parseInt(u,n)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof p&&(v?u(function(){g.valueOf.call(i)}):"Number"!=o(i))?a(new d(_(e)),i,p):_(e)};for(var m,b=i(30)?l(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;b.length>x;x++)r(d,m=b[x])&&!r(p,m)&&h(p,m,c(d,m));p.prototype=g,g.constructor=p,i(49)(n,"Number",p)}},function(t,e,i){var n=i(0),r=i(514);n(n.G+n.F*(parseFloat!=r),{parseFloat:r})},function(t,e,i){var n=i(0),r=i(515);n(n.G+n.F*(parseInt!=r),{parseInt:r})},function(t,e,i){"use strict";var n=i(12),r=i(55),o=i(23)("hasInstance"),a=Function.prototype;o in a||i(29).f(a,o,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,i){var n=i(29).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||i(30)&&n(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,i){var n=i(0);n(n.P,"Function",{bind:i(517)})},function(t,e,i){"use strict";var n=i(175),r={};r[i(23)("toStringTag")]="z",r+""!="[object z]"&&i(49)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(t,e,i){var n=i(0);n(n.S,"Object",{setPrototypeOf:i(320).set})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,i){var n=i(0);n(n.S,"Object",{is:i(1116)})},function(t,e,i){var n=i(0);n(n.S+n.F,"Object",{assign:i(518)})},function(t,e,i){var n=i(12);i(76)("isExtensible",function(t){return function(e){return!!n(e)&&(!t||t(e))}})},function(t,e,i){var n=i(12);i(76)("isSealed",function(t){return function(e){return!n(e)||!!t&&t(e)}})},function(t,e,i){var n=i(12);i(76)("isFrozen",function(t){return function(e){return!n(e)||!!t&&t(e)}})},function(t,e,i){var n=i(12),r=i(106).onFreeze;i(76)("preventExtensions",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},function(t,e,i){var n=i(12),r=i(106).onFreeze;i(76)("seal",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},function(t,e,i){var n=i(12),r=i(106).onFreeze;i(76)("freeze",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},function(t,e,i){i(76)("getOwnPropertyNames",function(){return i(519).f})},function(t,e,i){var n=i(33),r=i(131);i(76)("keys",function(){return function(t){return r(n(t))}})},function(t,e,i){var n=i(33),r=i(55);i(76)("getPrototypeOf",function(){return function(t){return r(n(t))}})},function(t,e,i){var n=i(57),r=i(56).f;i(76)("getOwnPropertyDescriptor",function(){return function(t,e){return r(n(t),e)}})},function(t,e,i){var n=i(0);n(n.S+n.F*!i(30),"Object",{defineProperties:i(520)})},function(t,e,i){var n=i(0);n(n.S+n.F*!i(30),"Object",{defineProperty:i(29).f})},function(t,e,i){var n=i(0);n(n.S,"Object",{create:i(129)})},function(t,e,i){var n=i(131),r=i(238),o=i(176);t.exports=function(t){var e=n(t),i=r.f;if(i)for(var a,s=i(t),u=o.f,l=0;s.length>l;)u.call(t,a=s[l++])&&e.push(a);return e}},function(t,e,i){"use strict";var n=i(8),r=i(58),o=i(30),a=i(0),s=i(49),u=i(106).KEY,l=i(11),c=i(240),h=i(149),f=i(133),p=i(23),d=i(522),g=i(324),v=i(1132),y=i(237),_=i(7),m=i(12),b=i(57),x=i(79),S=i(134),w=i(129),E=i(519),M=i(56),O=i(29),C=i(131),T=M.f,P=O.f,L=E.f,A=n.Symbol,I=n.JSON,R=I&&I.stringify,k=p("_hidden"),j=p("toPrimitive"),N={}.propertyIsEnumerable,F=c("symbol-registry"),D=c("symbols"),G=c("op-symbols"),U=Object.prototype,B="function"==typeof A,V=n.QObject,z=!V||!V.prototype||!V.prototype.findChild,Y=o&&l(function(){return 7!=w(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=T(U,e);n&&delete U[e],P(t,e,i),n&&t!==U&&P(U,e,n)}:P,W=function(t){var e=D[t]=w(A.prototype);return e._k=t,e},X=B&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},H=function(t,e,i){return t===U&&H(G,e,i),_(t),e=x(e,!0),_(i),r(D,e)?(i.enumerable?(r(t,k)&&t[k][e]&&(t[k][e]=!1),i=w(i,{enumerable:S(0,!1)})):(r(t,k)||P(t,k,S(1,{})),t[k][e]=!0),Y(t,e,i)):P(t,e,i)},q=function(t,e){_(t);for(var i,n=v(e=b(e)),r=0,o=n.length;o>r;)H(t,i=n[r++],e[i]);return t},K=function(t){var e=N.call(this,t=x(t,!0));return!(this===U&&r(D,t)&&!r(G,t))&&(!(e||!r(this,t)||!r(D,t)||r(this,k)&&this[k][t])||e)},$=function(t,e){if(t=b(t),e=x(e,!0),t!==U||!r(D,e)||r(G,e)){var i=T(t,e);return!i||!r(D,e)||r(t,k)&&t[k][e]||(i.enumerable=!0),i}},Z=function(t){for(var e,i=L(b(t)),n=[],o=0;i.length>o;)r(D,e=i[o++])||e==k||e==u||n.push(e);return n},J=function(t){for(var e,i=t===U,n=L(i?G:b(t)),o=[],a=0;n.length>a;)!r(D,e=n[a++])||i&&!r(U,e)||o.push(D[e]);return o};B||(s((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(i){this===U&&e.call(G,i),r(this,k)&&r(this[k],t)&&(this[k][t]=!1),Y(this,t,S(1,i))};return o&&z&&Y(U,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",function(){return this._k}),M.f=$,O.f=H,i(128).f=E.f=Z,i(176).f=K,i(238).f=J,o&&!i(132)&&s(U,"propertyIsEnumerable",K,!0),d.f=function(t){return W(p(t))}),a(a.G+a.W+a.F*!B,{Symbol:A});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)p(Q[tt++]);for(var et=C(p.store),it=0;et.length>it;)g(et[it++]);a(a.S+a.F*!B,"Symbol",{for:function(t){return r(F,t+="")?F[t]:F[t]=A(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!B,"Object",{create:function(t,e){return void 0===e?w(t):q(w(t),e)},defineProperty:H,defineProperties:q,getOwnPropertyDescriptor:$,getOwnPropertyNames:Z,getOwnPropertySymbols:J}),I&&a(a.S+a.F*(!B||l(function(){var t=A();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))})),"JSON",{stringify:function(t){for(var e,i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);if(i=e=n[1],(m(e)||void 0!==t)&&!X(t))return y(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!X(e))return e}),n[1]=e,R.apply(I,n)}}),A.prototype[j]||i(50)(A.prototype,j,A.prototype.valueOf),h(A,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},function(t,e,i){i(1133),i(1131),i(1130),i(1129),i(1128),i(1127),i(1126),i(1125),i(1124),i(1123),i(1122),i(1121),i(1120),i(1119),i(1118),i(1117),i(1115),i(1114),i(1113),i(1112),i(1111),i(1110),i(1109),i(1108),i(1107),i(1106),i(1105),i(1104),i(1103),i(1102),i(1101),i(1100),i(1099),i(1098),i(1097),i(1096),i(1095),i(1094),i(1093),i(1092),i(1091),i(1090),i(1089),i(1088),i(1087),i(1086),i(1085),i(1084),i(1083),i(1082),i(1081),i(1080),i(1079),i(1078),i(1077),i(1076),i(1075),i(1074),i(1073),i(1072),i(1071),i(1070),i(1069),i(1068),i(1067),i(1066),i(1065),i(1064),i(1063),i(1062),i(1061),i(1060),i(1059),i(1058),i(1057),i(1056),i(1055),i(1053),i(1052),i(1050),i(1049),i(1048),i(1047),i(1046),i(1045),i(1044),i(1042),i(1041),i(1040),i(1039),i(1038),i(1037),i(1036),i(1035),i(1034),i(1033),i(1032),i(1031),i(1030),i(304),i(1029),i(1028),i(505),i(1027),i(1026),i(1025),i(1024),i(1023),i(502),i(500),i(499),i(1022),i(1021),i(1020),i(1019),i(1018),i(1017),i(1016),i(1015),i(1014),i(1013),i(1012),i(1011),i(1010),i(1009),i(1008),i(1007),i(1006),i(1005),i(1004),i(1003),i(1002),i(1001),i(1e3),i(999),i(998),i(997),i(996),i(995),i(994),i(993),i(992),i(991),i(990),i(989),i(988),i(987),i(986),i(985),i(984),i(983),i(982),i(981),i(980),i(979),i(978),i(977),i(976),i(975),i(974),i(973),i(972),i(971),i(970),i(969),i(968),i(967),i(966),i(965),i(964),i(963),i(962),i(961),i(960),i(959),i(958),i(957),i(956),i(955),i(954),i(953),i(952),i(951),i(950),i(949),i(948),i(947),i(946),i(945),i(944),i(943),i(942),i(941),i(940),i(939),i(938),t.exports=i(80)},function(t,e,i){"use strict";(function(t){if(i(1134),i(937),i(936),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var e="defineProperty";function n(t,i,n){t[i]||Object[e](t,i,{writable:!0,configurable:!0,value:n})}n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&n(Array,t,Function.call.bind([][t]))})}).call(this,i(326))},function(t,e,i){i(1135),t.exports=i(933)},,,function(t,e){},,,function(t,e){},,,function(t,e){},,function(t,e){},,,function(t,e){},,,,function(t,e){},,function(t,e){},,function(t,e){},,,function(t,e){},,function(t,e){},,,function(t,e){},,,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,,,function(t,e){},,,,function(t,e){},,function(t,e){},,function(t,e){},,,,,,,function(t,e){},,,function(t,e){},,function(t,e){},,,,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,,,,,,,,,function(t,e){},,,,,,,function(t,e){}])});