/*!
 * guide4you
 * Version: 3.3.1 (built Fri Nov 22 2019)
 * Klaus Benndorf, License: MIT (https://spdx.org/licenses/MIT.html)
 * Homepage: https://github.com/KlausBenndorf/guide4you
 *
 * This software contains (parts of) the following software packages:
 * better-scroll v1.15.2, https://github.com/ustbhuangyi/better-scroll, (c) huangyi &lt;ustbhuangyi@gmail.com&gt;
 * csscolorparser v1.0.3, https://github.com/deanm/css-color-parser-js#readme, Dean McNamee <dean@gmail.com>, License: MIT (https://spdx.org/licenses/MIT.html)
 * json5 v2.1.1, http://json5.org/, Aseem Kishore <aseem.kishore@gmail.com>, License: MIT (https://spdx.org/licenses/MIT.html)
 * lodash v4.17.15, https://lodash.com/, John-David Dalton <john.david.dalton@gmail.com>, License: MIT (https://spdx.org/licenses/MIT.html)
 * notifyjs-browser v0.4.2, http://notifyjs.com/, Jaime Pillora, License: MIT (https://spdx.org/licenses/MIT.html)
 * ol v6.1.1, https://openlayers.org/, License: BSD-2-Clause (https://spdx.org/licenses/BSD-2-Clause.html)
 * proj4 v2.6.0, https://github.com/proj4js/proj4js#readme, License: MIT (https://spdx.org/licenses/MIT.html)
 * webpack v4.12.0, https://github.com/webpack/webpack, Tobias Koppers @sokra, License: MIT (https://spdx.org/licenses/MIT.html)
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jQuery")):"function"==typeof define&&define.amd?define("g4u",["jQuery"],e):"object"==typeof exports?exports.g4u=e(require("jQuery")):t.g4u=e(t.jQuery)}(window,function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1168)}([function(t,e,n){var r=n(8),i=n(76),o=n(52),a=n(51),s=n(75),u=function(t,e,n){var l,c,h,f,p=t&u.F,d=t&u.G,g=t&u.S,v=t&u.P,y=t&u.B,_=d?r:g?r[e]||(r[e]={}):(r[e]||{}).prototype,m=d?i:i[e]||(i[e]={}),b=m.prototype||(m.prototype={});for(l in d&&(n=e),n)h=((c=!p&&_&&void 0!==_[l])?_:n)[l],f=y&&c?s(h,r):v&&"function"==typeof h?s(Function.call,h):h,_&&a(_,l,h,t&u.U),m[l]!=h&&o(m,l,f),v&&b[l]!=h&&(b[l]=h)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.boundingExtent=function(t){for(var e=l(),n=0,r=t.length;n<r;++n)f(e,t[n]);return e},e.buffer=function(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]},e.clone=function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()},e.closestSquaredDistanceXY=function(t,e,n){var r,i;r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0;i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0;return r*r+i*i},e.containsCoordinate=function(t,e){return s(t,e[0],e[1])},e.containsExtent=function(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]},e.containsXY=s,e.coordinateRelationship=u,e.createEmpty=l,e.createOrUpdate=c,e.createOrUpdateEmpty=h,e.createOrUpdateFromCoordinate=function(t,e){var n=t[0],r=t[1];return c(n,r,n,r,e)},e.createOrUpdateFromCoordinates=function(t,e){return p(h(e),t)},e.createOrUpdateFromFlatCoordinates=function(t,e,n,r,i){return d(h(i),t,e,n,r)},e.createOrUpdateFromRings=function(t,e){return g(h(e),t)},e.equals=function(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]},e.extend=function(t,e){e[0]<t[0]&&(t[0]=e[0]);e[2]>t[2]&&(t[2]=e[2]);e[1]<t[1]&&(t[1]=e[1]);e[3]>t[3]&&(t[3]=e[3]);return t},e.extendCoordinate=f,e.extendCoordinates=p,e.extendFlatCoordinates=d,e.extendRings=g,e.extendXY=v,e.forEachCorner=function(t,e){var n;if(n=e(_(t)))return n;if(n=e(m(t)))return n;if(n=e(x(t)))return n;if(n=e(E(t)))return n;return!1},e.getArea=y,e.getBottomLeft=_,e.getBottomRight=m,e.getCenter=function(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]},e.getCorner=function(t,e){var n;e===i.default.BOTTOM_LEFT?n=_(t):e===i.default.BOTTOM_RIGHT?n=m(t):e===i.default.TOP_LEFT?n=E(t):e===i.default.TOP_RIGHT?n=x(t):(0,r.assert)(!1,13);return n},e.getEnlargedArea=function(t,e){var n=Math.min(t[0],e[0]),r=Math.min(t[1],e[1]),i=Math.max(t[2],e[2]),o=Math.max(t[3],e[3]);return(i-n)*(o-r)},e.getForViewAndSize=function(t,e,n,r,i){var o=e*r[0]/2,a=e*r[1]/2,s=Math.cos(n),u=Math.sin(n),l=o*s,h=o*u,f=a*s,p=a*u,d=t[0],g=t[1],v=d-l+p,y=d-l-p,_=d+l-p,m=d+l+p,b=g-h-f,w=g-h+f,E=g+h+f,x=g+h-f;return c(Math.min(v,y,_,m),Math.min(b,w,E,x),Math.max(v,y,_,m),Math.max(b,w,E,x),i)},e.getHeight=b,e.getIntersectionArea=function(t,e){return y(w(t,e))},e.getIntersection=w,e.getMargin=function(t){return O(t)+b(t)},e.getSize=function(t){return[t[2]-t[0],t[3]-t[1]]},e.getTopLeft=E,e.getTopRight=x,e.getWidth=O,e.intersects=C,e.isEmpty=S,e.returnOrUpdate=function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t},e.scaleFromCenter=function(t,e){var n=(t[2]-t[0])/2*(e-1),r=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=r,t[3]+=r},e.intersectsSegment=function(t,e,n){var r=!1,i=u(t,e),a=u(t,n);if(i===o.default.INTERSECTING||a===o.default.INTERSECTING)r=!0;else{var s=t[0],l=t[1],c=t[2],h=t[3],f=e[0],p=e[1],d=n[0],g=n[1],v=(g-p)/(d-f),y=void 0,_=void 0;a&o.default.ABOVE&&!(i&o.default.ABOVE)&&(r=(y=d-(g-h)/v)>=s&&y<=c),r||!(a&o.default.RIGHT)||i&o.default.RIGHT||(r=(_=g-(d-c)*v)>=l&&_<=h),r||!(a&o.default.BELOW)||i&o.default.BELOW||(r=(y=d-(g-l)/v)>=s&&y<=c),r||!(a&o.default.LEFT)||i&o.default.LEFT||(r=(_=g-(d-s)*v)>=l&&_<=h)}return r},e.applyTransform=function(t,e,n){var r=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(r,r,2),function(t,e,n){var r=Math.min.apply(null,t),i=Math.min.apply(null,e),o=Math.max.apply(null,t),a=Math.max.apply(null,e);return c(r,i,o,a,n)}([r[0],r[2],r[4],r[6]],[r[1],r[3],r[5],r[7]],n)};var r=n(16),i=a(n(480)),o=a(n(479));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function u(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],s=e[0],u=e[1],l=o.default.UNKNOWN;return s<n?l|=o.default.LEFT:s>i&&(l|=o.default.RIGHT),u<r?l|=o.default.BELOW:u>a&&(l|=o.default.ABOVE),l===o.default.UNKNOWN&&(l=o.default.INTERSECTING),l}function l(){return[1/0,1/0,-1/0,-1/0]}function c(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function h(t){return c(1/0,1/0,-1/0,-1/0,t)}function f(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function p(t,e){for(var n=0,r=e.length;n<r;++n)f(t,e[n]);return t}function d(t,e,n,r,i){for(;n<r;n+=i)v(t,e[n],e[n+1]);return t}function g(t,e){for(var n=0,r=e.length;n<r;++n)p(t,e[n]);return t}function v(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function y(t){var e=0;return S(t)||(e=O(t)*b(t)),e}function _(t){return[t[0],t[1]]}function m(t){return[t[2],t[1]]}function b(t){return t[3]-t[1]}function w(t,e,n){var r=n||[1/0,1/0,-1/0,-1/0];return C(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):h(r),r}function E(t){return[t[0],t[3]]}function x(t){return[t[2],t[3]]}function O(t){return t[2]-t[0]}function C(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function S(t){return t[2]<t[0]||t[3]<t[1]}},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Projection=e.METERS_PER_UNIT=void 0,e.cloneTransform=d,e.identityTransform=g,e.addProjection=v,e.addProjections=y,e.get=_,e.getPointResolution=function(t,e,n,i){var o,a=(t=_(t)).getPointResolutionFunc();if(a){if(o=a(e,n),i&&i!==t.getUnits()){var s=t.getMetersPerUnit();s&&(o=o*s/l.METERS_PER_UNIT[i])}}else{var u=t.getUnits();if(u==c.default.DEGREES&&!i||i==c.default.DEGREES)o=e;else{var h=E(t,_("EPSG:4326")),f=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];f=h(f,f,2);var p=(0,r.getDistance)(f.slice(0,2),f.slice(2,4)),d=(0,r.getDistance)(f.slice(4,6),f.slice(6,8));o=(p+d)/2;var s=i?l.METERS_PER_UNIT[i]:t.getMetersPerUnit();void 0!==s&&(o/=s)}}return o},e.addEquivalentProjections=m,e.addEquivalentTransforms=b,e.clearAllProjections=function(){(0,f.clear)(),(0,h.clear)()},e.createProjection=function(t,e){return t?"string"==typeof t?_(t):t:_(e)},e.createTransformFromCoordinateTransform=w,e.addCoordinateTransforms=function(t,e,n,r){var i=_(t),o=_(e);(0,h.add)(i,o,w(n)),(0,h.add)(o,i,w(r))},e.fromLonLat=function(t,e){return O(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")},e.toLonLat=function(t,e){var n=O(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),r=n[0];(r<-180||r>180)&&(n[0]=(0,o.modulo)(r+180,360)-180);return n},e.equivalent=function(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();if(t.getCode()===e.getCode())return n;var r=E(t,e);return r===d&&n},e.getTransformFromProjections=E,e.getTransform=x,e.transform=O,e.transformExtent=C,e.transformWithProjections=function(t,e,n){return E(e,n)(t)},e.setUserProjection=P,e.clearUserProjection=function(){S=null},e.getUserProjection=function(){return S},e.useGeographic=function(){P("EPSG:4326")},e.toUserCoordinate=function(t,e){if(!S)return t;return O(t,e,S)},e.fromUserCoordinate=function(t,e){if(!S)return t;return O(t,S,e)},e.toUserExtent=function(t,e){if(!S)return t;return C(t,e,S)},e.fromUserExtent=function(t,e){if(!S)return t;return C(t,S,e)},e.addCommon=M;var r=n(151),i=n(1),o=n(14),a=n(863),s=n(862),u=p(n(213)),l=n(89),c=p(l),h=n(475),f=n(861);function p(t){return t&&t.__esModule?t:{default:t}}function d(t,e,n){var r;if(void 0!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];r=e}else r=t.slice();return r}function g(t,e,n){if(void 0!==e&&t!==e){for(var r=0,i=t.length;r<i;++r)e[r]=t[r];t=e}return t}function v(t){(0,f.add)(t.getCode(),t),(0,h.add)(t,t,d)}function y(t){t.forEach(v)}function _(t){return"string"==typeof t?(0,f.get)(t):t||null}function m(t){y(t),t.forEach(function(e){t.forEach(function(t){e!==t&&(0,h.add)(e,t,d)})})}function b(t,e,n,r){t.forEach(function(t){e.forEach(function(e){(0,h.add)(t,e,n),(0,h.add)(e,t,r)})})}function w(t){return function(e,n,r){for(var i=e.length,o=void 0!==r?r:2,a=void 0!==n?n:new Array(i),s=0;s<i;s+=o){var u=t([e[s],e[s+1]]);a[s]=u[0],a[s+1]=u[1];for(var l=o-1;l>=2;--l)a[s+l]=e[s+l]}return a}}function E(t,e){var n=t.getCode(),r=e.getCode(),i=(0,h.get)(n,r);return i||(i=g),i}function x(t,e){return E(_(t),_(e))}function O(t,e,n){return x(e,n)(t,void 0,t.length)}function C(t,e,n){var r=x(e,n);return(0,i.applyTransform)(t,r)}e.METERS_PER_UNIT=l.METERS_PER_UNIT,e.Projection=u.default;var S=null;function P(t){S=_(t)}function M(){m(a.PROJECTIONS),m(s.PROJECTIONS),b(s.PROJECTIONS,a.PROJECTIONS,a.fromEPSG4326,a.toEPSG4326)}M()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",WHEEL:"wheel"}},function(t,e,n){var r=n(15);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.even=function(t){if(i.default.isNumeric(t)){var e=parseInt(t);if(t===e&&e%2==0)return!0}return!1},e.odd=function(t){if(i.default.isNumeric(t)){var e=parseInt(t);if(t===e&&e%2==1)return!0}return!1},e.checkFor=function(t,e){return e in t&&t[e]},e.asObject=l,e.getConfig=function(t,e){if(t.hasOwnProperty(e)&&t[e])return l(t[e])},e.asyncImageLoad=function(t,e,n){n||(n=e.finalize());return new Promise(function(r,i){function o(){i(new Error("Error loading url "+n))}if(t.addEventListener("load",r),t.addEventListener("error",o),e.username&&e.password){var a=new XMLHttpRequest;a.open("GET",n,!0),a.responseType="blob",e.setAuth(a),a.addEventListener("load",function(){if(200===this.status){var e=window.URL||window.webkitURL;t.src=e.createObjectURL(this.response)}else o()}),a.send()}else t.src=n})},e.finishAllImages=function(t){var e=[];return c(t,"img").each(function(){var t=this;t.complete||e.push(new Promise(function(e){(0,i.default)(t).on("load",e),(0,i.default)(t).on("error",e)}))}),Promise.all(e)},e.offset=function(t,e){var n=t.offset(),r=e.offset();return{top:n.top-r.top,left:n.left-r.left}},e.recursiveSelect=c,e.showInteractionActivity=function(t){o.Debug.info("superseding interactions:");var e=void 0,n=void 0,r=void 0,i=void 0;for(e in t.supersedingInteractions_){for(r=t.supersedingInteractions_[e].length,i=0,n=0;n<r;n++)t.supersedingInteractions_[e][n].getActive()&&(i+=1);o.Debug.info("  "+e+": total: "+r+" active: "+i)}for(e in o.Debug.info("default interactions:"),t.defaultInteractions_){for(r=t.defaultInteractions_[e].length,i=0,n=0;n<r;n++)t.defaultInteractions_[e][n].getActive()&&(i+=1);o.Debug.info("  "+e+": total: "+r+" active: "+i)}},e.urlDirname=h,e.urlNormalize=f,e.urlJoin=function(t,e){var n=h(f(t)),r=f(e),i=/[^/]+\/$/,o=/^\.\.\//;for(;n.match(i)&&r.match(o);)n=n.replace(i,""),r=r.replace(o,"");return n+r},e.urlRelative=function(t,e){var n=h(f(t)),r=f(e),i="",o=/^\/?((\/\/)|[^/])+\//,a=void 0,s=void 0;for(;n.match(o)&&r.match(o)&&(a=n.match(o)[0],s=r.match(o)[0],a.toUpperCase()===s.toUpperCase());)n=n.replace(o,""),r=r.replace(o,"");for(;n.match(o);)a=n.match(o)[0],n=n.replace(o,""),i+="../";return i+r},e.urlIsAbsolute=function(t){return!!t.match(/^\/|.*:\/\//)},e.mixin=function(t,e){Array.isArray(e)||(e=[e]);var n=e.map(function(t){return t.prototype.initialize}),r=function(t){function e(t){a(this,e);var r=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),i=!0,o=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var h=l.value;h&&h.call(r,t)}}catch(t){o=!0,u=t}finally{try{!i&&c.return&&c.return()}finally{if(o)throw u}}return r}return u(e,t),e}(t),i=!0,o=!1,l=void 0;try{for(var c,h=e[Symbol.iterator]();!(i=(c=h.next()).done);i=!0){var f=c.value,d=p(f.prototype);for(var g in d)if("constructor"!==g&&"initialize"!==g){if(g in r.prototype)throw new Error("mixins should not overwrite methods");Object.defineProperty(r.prototype,g,d[g])}}}catch(t){o=!0,l=t}finally{try{!i&&h.return&&h.return()}finally{if(o)throw l}}return r},e.mixinAsClass=function(t){var e=t.prototype.initialize;return function(t){function n(t){a(this,n);var r=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e&&e.call(r,t),r}return u(n,t),n}(t)},e.html2Text=function(t){return d.html(t).text()};var i=function(t){return t&&t.__esModule?t:{default:t}}(n(2));n(98),n(98),n(98),n(98);var o=n(11);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t){return"object"===(void 0===t?"undefined":r(t))?t:{}}function c(t,e){return t.filter(e).add(t.find(e))}function h(t){return t.replace(/\/([^/]*)(\?.*)?$/,"/")}function f(t){return t.match(/^\.\//)?f(t.replace(/^\.\//,"")):t}function p(t){var e={};do{Object.getOwnPropertyNames(t).forEach(function(n){e.hasOwnProperty(n)||(e[n]=Object.getOwnPropertyDescriptor(t,n))}),t=Object.getPrototypeOf(t)}while(t!==Object.prototype);return e}var d=(0,i.default)("<p>")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.abstract=function(){return function(){throw new Error("Unimplemented abstract method.")}()},e.getUid=function(t){return t.ol_uid||(t.ol_uid=String(++r))};var r=0;e.VERSION="6.1.1"},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.keyCodes={ESCAPE:27,TAB:9,ARROW_DOWN:40,ARROW_UP:38,ENTER:13,SHIFT:16,CTRL:17},e.cssClasses={mousedown:"g4u-mouse-down",clickable:"g4u-clickable",crosshair:"g4u-crosshair",hidden:"g4u-hidden",arrow:"g4u-arrow",mobile:"g4u-mobile",desktop:"g4u-desktop",move:"g4u-move",active:"g4u-active",mainButton:"g4u-control-mainbutton",hasTooltip:"g4u-has-tooltip",upperCase:"g4u-uppercase",collapsed:"g4u-collapsed"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clear=function(t){for(var e in t)delete t[e]},e.isEmpty=function(t){var e;for(e in t)return!1;return!e};e.assign="function"==typeof Object.assign?Object.assign:function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(void 0!==o&&null!==o)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n};e.getValues="function"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.Debug=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"tryOrThrow",value:function(t){try{t()}catch(t){this.error(t)}}},{key:"info",value:function(t){0}},{key:"warn",value:function(t){console.warn(t)}},{key:"error",value:function(t){console.error(t),console.trace()}},{key:"defaultErrorHandler",value:function(e){t.error(e),e.stack&&t.error(e.stack)}}]),t}()},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clamp=function(t,e,n){return Math.min(Math.max(t,e),n)},e.squaredSegmentDistance=function(t,e,n,i,o,a){var s=o-n,u=a-i;if(0!==s||0!==u){var l=((t-n)*s+(e-i)*u)/(s*s+u*u);l>1?(n=o,i=a):l>0&&(n+=s*l,i+=u*l)}return r(t,e,n,i)},e.squaredDistance=r,e.solveLinearSystem=function(t){for(var e=t.length,n=0;n<e;n++){for(var r=n,i=Math.abs(t[n][n]),o=n+1;o<e;o++){var a=Math.abs(t[o][n]);a>i&&(i=a,r=o)}if(0===i)return null;var s=t[r];t[r]=t[n],t[n]=s;for(var u=n+1;u<e;u++)for(var l=-t[u][n]/t[n][n],c=n;c<e+1;c++)n==c?t[u][c]=0:t[u][c]+=l*t[n][c]}for(var h=new Array(e),f=e-1;f>=0;f--){h[f]=t[f][e]/t[f][f];for(var p=f-1;p>=0;p--)t[p][e]-=t[p][f]*h[f]}return h},e.toDegrees=function(t){return 180*t/Math.PI},e.toRadians=function(t){return t*Math.PI/180},e.modulo=function(t,e){var n=t%e;return n*e<0?n+e:n},e.lerp=function(t,e,n){return t+n*(e-t)};e.cosh="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function r(t,e,n,r){var i=n-t,o=r-e;return i*i+o*o}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assert=function(t,e){if(!t)throw new r.default(e)};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(305))},function(t,e,n){"use strict";function r(t,e){return t>e?1:t<e?-1:0}Object.defineProperty(e,"__esModule",{value:!0}),e.binarySearch=function(t,e,n){var i,o,a=n||r,s=0,u=t.length,l=!1;for(;s<u;)(o=+a(t[i=s+(u-s>>1)],e))<0?s=i+1:(u=i,l=!o);return l?s:~s},e.numberSafeCompareFunction=r,e.includes=function(t,e){return t.indexOf(e)>=0},e.linearFindNearest=function(t,e,n){var r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;var i=void 0;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1},e.reverseSubArray=function(t,e,n){for(;e<n;){var r=t[e];t[e]=t[n],t[n]=r,++e,--n}},e.extend=function(t,e){for(var n=Array.isArray(e)?e:[e],r=n.length,i=0;i<r;i++)t[t.length]=n[i]},e.remove=function(t,e){var n=t.indexOf(e),r=n>-1;r&&t.splice(n,1);return r},e.find=function(t,e){for(var n,r=t.length>>>0,i=0;i<r;i++)if(n=t[i],e(n,i,t))return n;return null},e.equals=function(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0},e.stableSort=function(t,e){var n,r=t.length,i=Array(t.length);for(n=0;n<r;n++)i[n]={index:n,value:t[n]};for(i.sort(function(t,n){return e(t.value,n.value)||t.index-n.index}),n=0;n<t.length;n++)t[n]=i[n].value},e.findIndex=function(t,e){var n;return t.every(function(r,i){return n=i,!e(r,i,t)})?-1:n},e.isSorted=function(t,e,n){var i=e||r;return t.every(function(e,r){if(0===r)return!0;var o=i(t[r-1],e);return!(o>0||n&&0===o)})}},function(t,e,n){var r=n(115),i=n(416),o=n(271);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e,n){var r=n(798),i=n(797),o=n(115),a=n(12),s=n(791);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectEvent=void 0,e.getChangeEventType=p;var r=n(7),i=u(n(175)),o=u(n(70)),a=u(n(37)),s=n(10);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.key=n,i.oldValue=r,i}return l(e,t),e}(a.default);e.ObjectEvent=c;var h=function(t){function e(e){var n=t.call(this)||this;return(0,r.getUid)(n),n.values_={},void 0!==e&&n.setProperties(e),n}return l(e,t),e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return(0,s.assign)({},this.values_)},e.prototype.notify=function(t,e){var n;n=p(t),this.dispatchEvent(new c(n,t,e)),n=i.default.PROPERTYCHANGE,this.dispatchEvent(new c(n,t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var r=this.values_[t];this.values_[t]=e,r!==e&&this.notify(t,r)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(o.default),f={};function p(t){return f.hasOwnProperty(t)?f[t]:f[t]="change:"+t}e.default=h},function(t,e,n){var r=n(489);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){var r=n(249)("wks"),i=n(137),o=n(8).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){var r=n(73),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Control=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(68)),i=n(6),o=n(361);e.Control=(0,i.mixin)(r.default,o.ControlLogicMixin)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.listen=void 0,e.listenOnce=function(t,e,n,r){return i(t,e,n,r,!0)},e.unlistenByKey=function(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),(0,r.clear)(t))};var r=n(10);function i(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){var o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}e.listen=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCanvasContext2D=function(t,e){var n=document.createElement("canvas");t&&(n.width=t);e&&(n.height=e);return n.getContext("2d")},e.outerWidth=function(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)},e.outerHeight=function(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)},e.replaceNode=function(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)},e.removeNode=function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},e.removeChildren=function(t){for(;t.lastChild;)t.removeChild(t.lastChild)},e.replaceChildren=function(t,e){for(var n=t.childNodes,r=0;;++r){var i=n[r],o=e[r];if(!i&&!o)break;i!==o&&(i?o?t.insertBefore(o,i):(t.removeChild(i),--r):t.appendChild(o))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=u(n(20)),o=u(n(90)),a=n(88),s=n(14);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e,n){var r=t.call(this)||this;return r.setCoordinates(e,n),r}return l(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){var i=this.flatCoordinates,o=(0,s.squaredDistance)(t,e,i[0],i[1]);if(o<r){for(var a=this.stride,u=0;u<a;++u)n[u]=i[u];return n.length=a,o}return r},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return(0,r.createOrUpdateFromCoordinate)(this.flatCoordinates,t)},e.prototype.getType=function(){return i.default.POINT},e.prototype.intersectsExtent=function(t){return(0,r.containsXY)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,a.deflateCoordinate)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(o.default);e.default=c},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(5),i=n(547),o=n(82),a=Object.defineProperty;e.f=n(31)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(13)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.circular=function(t,e,n,i){for(var a=n||32,s=[],u=0;u<a;++u)(0,r.extend)(s,(0,c.offset)(t,e,2*Math.PI*u/a,i));return s.push(s[0],s[1]),new x(s,o.default.XY,[s.length])},e.fromExtent=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=[e,n,e,i,r,i,r,n,e,n];return new x(a,o.default.XY,[a.length])},e.fromCircle=function(t,e,n){for(var r=e||32,i=t.getStride(),o=t.getLayout(),a=t.getCenter(),s=i*(r+1),u=new Array(s),l=0;l<s;l+=i){u[l]=0,u[l+1]=0;for(var c=2;c<i;c++)u[l+c]=a[c]}var h=[u.length],f=new x(u,o,h);return O(f,a,t.getRadius(),n),f},e.makeRegular=O;var r=n(17),i=n(1),o=w(n(77)),a=w(n(20)),s=w(n(477)),u=w(n(28)),l=w(n(90)),c=n(151),h=n(297),f=n(172),p=n(212),d=n(88),g=n(122),v=n(474),y=n(211),_=n(296),m=n(150),b=n(14);function w(t){return t&&t.__esModule?t:{default:t}}var E=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=function(t){function e(e,n,r){var i=t.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,void 0!==n&&r?(i.setFlatCoordinates(n,e),i.ends_=r):i.setCoordinates(e,n),i}return E(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?(0,r.extend)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,r){return r<(0,i.closestSquaredDistanceXY)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,f.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,f.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return(0,p.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return(0,h.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,_.orientLinearRings)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,(0,g.inflateCoordinatesArray)(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=(0,i.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,v.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new u.default(this.getFlatInteriorPoint(),o.default.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new s.default(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,r=[],i=0,o=0,a=n.length;o<a;++o){var u=n[o],l=new s.default(e.slice(i,u),t);r.push(l),i=u}return r},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,_.linearRingsAreOriented)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,_.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=(0,m.quantizeArray)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,r),new e(n,o.default.XY,r)},e.prototype.getType=function(){return a.default.POLYGON},e.prototype.intersectsExtent=function(t){return(0,y.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=(0,d.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(l.default);function O(t,e,n,r){for(var i=t.getFlatCoordinates(),o=t.getStride(),a=i.length/o-1,s=r||0,u=0;u<=a;++u){var l=u*o,c=s+2*(0,b.modulo)(u,a)*Math.PI/a;i[l]=e[0]+n*Math.cos(c),i[l+1]=e[1]+n*Math.sin(c)}t.changed()}e.default=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createStyleFunction=h;var r=n(16),i=n(26),o=u(n(4)),a=n(21),s=u(a);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e){var n=t.call(this)||this;if(n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addEventListener((0,a.getChangeEventType)(n.geometryName_),n.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){var r=e;n.setGeometry(r)}else{var i=e;n.setProperties(i)}return n}return l(e,t),e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,i.unlistenByKey)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=(0,i.listen)(t,o.default.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?h(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeEventListener((0,a.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=t,this.addEventListener((0,a.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(s.default);function h(t){return"function"==typeof t?t:(Array.isArray(t)?e=t:((0,r.assert)("function"==typeof t.getZIndex,41),e=[t]),function(){return e});var e}e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TRUE=function(){return!0},e.FALSE=function(){return!1},e.VOID=function(){},e.memoizeOne=function(t){var e,n,i,o=!1;return function(){var a=Array.prototype.slice.call(arguments);return o&&this===i&&(0,r.equals)(a,n)||(o=!0,i=this,n=a,e=t.apply(this,arguments)),e}};var r=n(17)},function(t,e,n){var r=n(81);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VectorSourceEvent=void 0;var r=n(7),i=w(n(46)),o=w(n(124)),a=w(n(175)),s=n(17),u=n(16),l=n(26),c=w(n(37)),h=w(n(4)),f=n(1),p=n(440),d=n(34),g=n(290),v=n(10),y=w(n(168)),_=w(n(69)),m=w(n(289)),b=w(n(288));function w(t){return t&&t.__esModule?t:{default:t}}var E=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=function(t){function e(e,n){var r=t.call(this,e)||this;return r.feature=n,r}return E(e,t),e}(c.default);e.VectorSourceEvent=x;var O=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{attributions:r.attributions,projection:void 0,state:_.default.READY,wrapX:void 0===r.wrapX||r.wrapX})||this).loader_=d.VOID,n.format_=r.format,n.overlaps_=void 0==r.overlaps||r.overlaps,n.url_=r.url,void 0!==r.loader?n.loader_=r.loader:void 0!==n.url_&&((0,u.assert)(n.format_,7),n.loader_=(0,p.xhr)(n.url_,n.format_)),n.strategy_=void 0!==r.strategy?r.strategy:g.all;var o,a,s=void 0===r.useSpatialIndex||r.useSpatialIndex;return n.featuresRtree_=s?new b.default:null,n.loadedExtentsRtree_=new b.default,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(r.features)?a=r.features:r.features&&(a=(o=r.features).getArray()),s||void 0!==o||(o=new i.default(a)),void 0!==a&&n.addFeaturesInternal(a),void 0!==o&&n.bindFeaturesCollection_(o),n}return E(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=(0,r.getUid)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new x(m.default.ADDFEATURE,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[(0,l.listen)(e,h.default.CHANGE,this.handleFeatureChange_,this),(0,l.listen)(e,a.default.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,r=e.getId();return void 0!==r&&(r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=e),n&&((0,u.assert)(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],o=0,a=t.length;o<a;o++){var s=t[o],u=(0,r.getUid)(s);this.addToIndex_(u,s)&&n.push(s)}o=0;for(var l=n.length;o<l;o++){s=n[o],u=(0,r.getUid)(s);this.setupChangeEvents_(u,s);var c=s.getGeometry();if(c){var h=c.getExtent();e.push(h),i.push(s)}else this.nullGeometryFeatures_[u]=s}this.featuresRtree_&&this.featuresRtree_.load(e,i);o=0;for(var f=n.length;o<f;o++)this.dispatchEvent(new x(m.default.ADDFEATURE,n[o]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(m.default.ADDFEATURE,function(n){e||(e=!0,t.push(n.feature),e=!1)}),this.addEventListener(m.default.REMOVEFEATURE,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),t.addEventListener(o.default.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(o.default.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(l.unlistenByKey)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var r=new x(m.default.CLEAR);this.dispatchEvent(r),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var r=e(n);if(r)return r}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),(0,v.isEmpty)(this.nullGeometryFeatures_)||(0,s.extend)(t,(0,v.getValues)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray():[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],r=t[1],i=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],u=e||d.TRUE;return this.featuresRtree_.forEachInExtent(s,function(t){if(u(t)){var e=t.getGeometry(),l=a;if((a=e.closestPointXY(n,r,o,a))<l){i=t;var c=Math.sqrt(a);s[0]=n-c,s[1]=r-c,s[2]=n+c,s[3]=r+c}}}),i},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=(0,r.getUid)(e),i=e.getGeometry();if(i){var o=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var a=e.getId();if(void 0!==a){var s=a.toString();this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new x(m.default.CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:(0,r.getUid)(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&(0,v.isEmpty)(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var r=this.loadedExtentsRtree_,i=this.strategy_(t,e);this.loading=!1;for(var o=function(t,o){var s=i[t];r.forEachInExtent(s,function(t){return(0,f.containsExtent)(t.extent,s)})||(a.loader_.call(a,s,e,n),r.insert(s,{extent:s.slice()}),a.loading=a.loader_!==d.VOID)},a=this,s=0,u=i.length;s<u;++s)o(s)},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if((0,f.equals)(n.extent,t))return e=n,!0}),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=(0,r.getUid)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=(0,r.getUid)(t);this.featureChangeKeys_[e].forEach(l.unlistenByKey),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new x(m.default.REMOVEFEATURE,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){(0,u.assert)(this.format_,7),this.setLoader((0,p.xhr)(t,this.format_))},e}(y.default);e.default=O},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stopPropagation=function(t){t.stopPropagation()},e.preventDefault=function(t){t.preventDefault()};var r=function(){function t(t){this.propagationStopped,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}();e.default=r},function(t,e,n){var r=n(178),i=n(804);t.exports=function t(e,n,o,a,s){var u=-1,l=e.length;for(o||(o=i),s||(s=[]);++u<l;){var c=e[u];n>0&&o(c)?n>1?t(c,n-1,o,a,s):r(s,c):a||(s[s.length]=c)}return s}},function(t,e,n){var r=n(510),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){return[1,0,0,1,0,0]},e.reset=function(t){return a(t,1,0,0,1,0,0)},e.multiply=o,e.set=a,e.setFromArray=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},e.apply=function(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e},e.rotate=function(t,e){var n=Math.cos(e),r=Math.sin(e);return o(t,a(i,n,r,-r,n,0,0))},e.scale=function(t,e,n){return o(t,a(i,e,0,0,n,0,0))},e.makeScale=function(t,e,n){return a(t,e,0,0,n,0,0)},e.translate=function(t,e,n){return o(t,a(i,1,0,0,1,e,n))},e.compose=function(t,e,n,r,i,o,a,s){var u=Math.sin(o),l=Math.cos(o);return t[0]=r*l,t[1]=i*u,t[2]=-r*u,t[3]=i*l,t[4]=a*r*l-s*r*u+e,t[5]=a*i*u+s*i*l+n,t},e.invert=function(t){return s(t,t)},e.makeInverse=s,e.determinant=u,e.toString=function(t){return"matrix("+t.join(", ")+")"};var r=n(16),i=new Array(6);function o(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=e[0],l=e[1],c=e[2],h=e[3],f=e[4],p=e[5];return t[0]=n*u+i*l,t[1]=r*u+o*l,t[2]=n*c+i*h,t[3]=r*c+o*h,t[4]=n*f+i*p+a,t[5]=r*f+o*p+s,t}function a(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t}function s(t,e){var n=u(e);(0,r.assert)(0!==n,32);var i=e[0],o=e[1],a=e[2],s=e[3],l=e[4],c=e[5];return t[0]=s/n,t[1]=-o/n,t[2]=-a/n,t[3]=i/n,t[4]=(a*c-s*l)/n,t[5]=-(i*c-o*l)/n,t}function u(t){return t[0]*t[3]-t[1]*t[2]}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){var r=n(126),i=n(952),o=n(951),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:u&&u in Object(t)?i(t):o(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),i=n(1),o=v(n(77)),a=v(n(20)),s=v(n(90)),u=n(172),l=n(88),c=n(122),h=n(449),f=n(211),p=n(448),d=n(473),g=n(150);function v(t){return t&&t.__esModule?t:{default:t}}var y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=function(t){function e(e,n){var r=t.call(this)||this;return r.flatMidpoint_=null,r.flatMidpointRevision_=-1,r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return y(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?(0,r.extend)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){return r<(0,i.closestSquaredDistanceXY)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,u.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,u.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.forEachSegment=function(t){return(0,d.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=o.default.XYM&&this.layout!=o.default.XYZM)return null;var n=void 0!==e&&e;return(0,h.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return(0,c.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return(0,h.interpolatePoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return(0,p.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=(0,g.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,o.default.XY)},e.prototype.getType=function(){return a.default.LINE_STRING},e.prototype.intersectsExtent=function(t){return(0,f.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,l.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s.default);e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CollectionEvent=void 0;var r=s(n(305)),i=s(n(124)),o=s(n(21)),a=s(n(37));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l="length",c=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.element=n,i.index=r,i}return u(e,t),e}(a.default);e.CollectionEvent=c;var h=function(t){function e(e,n){var r=t.call(this)||this,i=n||{};if(r.unique_=!!i.unique,r.array_=e||[],r.unique_)for(var o=0,a=r.array_.length;o<a;++o)r.assertUnique_(r.array_[o],o);return r.updateLength_(),r}return u(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(l)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new c(i.default.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new c(i.default.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new c(i.default.REMOVE,r,t)),this.dispatchEvent(new c(i.default.ADD,e,t))}else{for(var o=n;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(l,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new r.default(58)},e}(o.default);e.default=h},function(t,e,n){var r=n(48),i=n(29);t.exports=function(t){return i(t)&&r(t)}},function(t,e,n){var r=n(231),i=n(226);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(0),i=n(13),o=n(81),a=/"/g,s=function(t,e,n,r){var i=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e,n){var r=n(8),i=n(52),o=n(62),a=n(137)("src"),s=Function.toString,u=(""+s).split("toString");n(76).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(l&&(o(n,a)||i(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var r=n(30),i=n(138);t.exports=n(31)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getInFront=function t(e,n){var i=0;if(!n)throw new Error("no context for getInFront provided");var o=!1;e.parents().each(function(i,a){return!(0,r.default)(a).is(n)&&("absolute"===(0,r.default)(a).css("position")?(o=!0,t((0,r.default)(a),n),t(e,(0,r.default)(a)),!1):void 0)});o||(n.find("*:visible").not(function(t,n){return n!==e[0]&&(0,r.default)(n).parents().is(e)}).each(function(){var t=parseInt((0,r.default)(this).css("z-index"),10);t&&i<t&&(i=t)}),e.css("z-index",i+1))},e.addTooltip=function(t,e){t.addClass(i.cssClasses.hasTooltip).append((0,r.default)('<span role="tooltip">').html(e))},e.changeTooltip=function(t,e){t.find("[role=tooltip]").html(e)};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),i=n(9)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListenerOrganizerMixin=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(n(2)),o=n(70),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=function(){function t(e){u(this,t),this.element=e}return r(t,[{key:"on",value:function(t,e,n){this.event=t,this.listener=e,this.useCapture=n,this.element.addEventListener(t,e,n)}},{key:"once",value:function(t,e,n){var r=this;this.on(t,function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];e.apply(this,n),r.detach()},n)}},{key:"detach",value:function(){this.element.removeEventListener(this.event,this.listener,this.useCapture)}}]),t}(),c=function(){function t(e){u(this,t),this.element=e}return r(t,[{key:"on",value:function(t,e){this.event=t,this.listener=e,this.element.on(t,e)}},{key:"once",value:function(t,e){this.event=t,this.listener=e,this.element.one(t,e)}},{key:"detach",value:function(){this.element.off(this.event,this.listener)}}]),t}(),h=function(){function t(e){u(this,t),this.element=e}return r(t,[{key:"on",value:function(t,e){this.event=t,this.key_=this.element.on(t,e)}},{key:"once",value:function(t,e){this.event=t,this.key_=this.element.once(t,e)}},{key:"detach",value:function(){(0,o.unByKey)(this.key_)}}]),t}();e.ListenerOrganizerMixin=function(){function t(){u(this,t)}return r(t,[{key:"initialize",value:function(){this.organizedListeners_=[]}},{key:"listenAt",value:function(e){var n=this;e=Array.isArray(e)?e:[e];var r={on:function(i,o,a){var s=!0,u=!1,l=void 0;try{for(var c,h=e[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var f=c.value,p=t.getTypeListener(f);p.on(i,o,a),n.organizedListeners_.push(p)}}catch(t){u=!0,l=t}finally{try{!s&&h.return&&h.return()}finally{if(u)throw l}}return r},once:function(i,o,a){var s=!0,u=!1,l=void 0;try{for(var c,h=e[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var f=c.value,p=t.getTypeListener(f);p.once(i,o,a),n.organizedListeners_.push(p)}}catch(t){u=!0,l=t}finally{try{!s&&h.return&&h.return()}finally{if(u)throw l}}return r}};return r}},{key:"detachFrom",value:function(t,e){var n=this.organizedListeners_.filter(function(e){return e.element===t});e&&(n=n.filter(function(t){return t.event===e}));var r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;u.detach(),this.organizedListeners_.splice(this.organizedListeners_.indexOf(u),1)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}},{key:"detachAllListeners",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this.organizedListeners_[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){r.value.detach()}}catch(t){e=!0,n=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw n}}this.organizedListeners_=[]}}],[{key:"getTypeListener",value:function(t){if(t instanceof a.default)return new h(t);if(t instanceof i.default)return new c(t);if(t.addEventListener)return new l(t);throw new Error("no suitable listener interface found!")}}]),t}()},function(t,e,n){"use strict";function r(t,e,n){return t+"/"+e+"/"+n}Object.defineProperty(e,"__esModule",{value:!0}),e.createOrUpdate=function(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]},e.getKeyZXY=r,e.getKey=function(t){return r(t[0],t[1],t[2])},e.fromKey=function(t){return t.split("/").map(Number)},e.hash=function(t){return(t[1]<<t[0])+t[2]},e.withinExtentAndZ=function(t,e){var n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o,a=e.getExtent();o=a?e.getTileRangeForExtentAndZ(a,n):e.getFullTileRange(n);return!o||o.containsXY(r,i)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.copy=function(t){return r.default.isArray(t)?r.default.extend([],t):r.default.isPlainObject(t)?r.default.extend({},t):t},e.copyDeep=function(t){return r.default.isArray(t)?r.default.extend(!0,[],t):r.default.isPlainObject(t)?r.default.extend(!0,{},t):t},e.merge=function(t,e){return r.default.extend(t,e)},e.mergeDeep=function(t,e){return r.default.extend(!0,t,e)},e.take=function(t,e){if(t.hasOwnProperty(e)){var n=t[e];return delete t[e],n}};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.centroid=function(t){for(var e=t.length,n=0,r=0,i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return[n/e,r/e]};var r=a(n(102)),i=a(n(86)),o=n(10);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e){var n=this,r=e||{};return n=t.call(this,r)||this,r.handleDownEvent&&(n.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(n.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(n.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(n.handleUpEvent=r.handleUpEvent),r.stopDown&&(n.stopDown=r.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return s(e,t),e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==r.default.POINTERDRAG)this.handleDragEvent(t);else if(t.type==r.default.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==r.default.POINTERDOWN){var i=this.handleDownEvent(t);i&&t.preventDefault(),this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==r.default.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===r.default.POINTERDOWN||e===r.default.POINTERDRAG||e===r.default.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==r.default.POINTERUP?delete this.trackedPointers_[n]:t.type==r.default.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=(0,o.getValues)(this.trackedPointers_)}},e}(i.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.primaryAction=e.penOnly=e.touchOnly=e.mouseOnly=e.targetNotEditable=e.shiftKeyOnly=e.platformModifierKeyOnly=e.noModifierKeys=e.doubleClick=e.singleClick=e.pointerMove=e.never=e.mouseActionButton=e.click=e.always=e.focus=e.altShiftKeysOnly=e.altKeyOnly=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(102)),i=n(16),o=n(34),a=n(123);e.altKeyOnly=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},e.altShiftKeysOnly=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},e.focus=function(t){return t.target.getTargetElement()===document.activeElement},e.always=o.TRUE,e.click=function(t){return t.type==r.default.CLICK},e.mouseActionButton=function(t){var e=t.originalEvent;return 0==e.button&&!(a.WEBKIT&&a.MAC&&e.ctrlKey)},e.never=o.FALSE,e.pointerMove=function(t){return"pointermove"==t.type},e.singleClick=function(t){return t.type==r.default.SINGLECLICK},e.doubleClick=function(t){return t.type==r.default.DBLCLICK},e.noModifierKeys=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},e.platformModifierKeyOnly=function(t){var e=t.originalEvent;return!e.altKey&&(a.MAC?e.metaKey:e.ctrlKey)&&!e.shiftKey},e.shiftKeyOnly=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},e.targetNotEditable=function(t){var e=t.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},e.mouseOnly=function(t){var e=t.pointerEvent;return(0,i.assert)(void 0!==e,56),"mouse"==e.pointerType},e.touchOnly=function(t){var e=t.pointerEvent;return(0,i.assert)(void 0!==e,56),"touch"===e.pointerType},e.penOnly=function(t){var e=t.pointerEvent;return(0,i.assert)(void 0!==e,56),"pen"===e.pointerType},e.primaryAction=function(t){var e=t.pointerEvent;return(0,i.assert)(void 0!==e,56),e.isPrimary&&0===e.button}},function(t,e,n){var r=n(62),i=n(35),o=n(346)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(185),i=n(138),o=n(61),a=n(82),s=n(62),u=n(547),l=Object.getOwnPropertyDescriptor;e.f=n(31)?l:function(t,e){if(t=o(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(186),i=n(81);t.exports=function(t){return r(i(t))}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e){t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.toFunction=function(t){var e;if("function"==typeof t)e=t;else{var n;if(Array.isArray(t))n=t;else{(0,i.assert)("function"==typeof t.getZIndex,41);var r=t;n=[r]}e=function(){return n}}return e},e.createDefaultStyle=function(t,e){if(!h){var n=new s.default({color:"rgba(255,255,255,0.4)"}),r=new u.default({color:"#3399CC",width:1.25});h=[new c({image:new a.default({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return h},e.createEditingStyle=function(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t[o.default.POLYGON]=[new c({fill:new s.default({color:[255,255,255,.5]})})],t[o.default.MULTI_POLYGON]=t[o.default.POLYGON],t[o.default.LINE_STRING]=[new c({stroke:new u.default({color:e,width:5})}),new c({stroke:new u.default({color:n,width:3})})],t[o.default.MULTI_LINE_STRING]=t[o.default.LINE_STRING],t[o.default.CIRCLE]=t[o.default.POLYGON].concat(t[o.default.LINE_STRING]),t[o.default.POINT]=[new c({image:new a.default({radius:6,fill:new s.default({color:n}),stroke:new u.default({color:e,width:1.5})}),zIndex:1/0})],t[o.default.MULTI_POINT]=t[o.default.POINT],t[o.default.GEOMETRY_COLLECTION]=t[o.default.POLYGON].concat(t[o.default.LINE_STRING],t[o.default.POINT]),t};var i=n(16),o=l(n(20)),a=l(n(208)),s=l(n(121)),u=l(n(146));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=f,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"===(void 0===e?"undefined":r(e))&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=f,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();var h=null;function f(t){return t.getGeometry()}e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.CLASS_HIDDEN="ol-hidden",e.CLASS_SELECTABLE="ol-selectable",e.CLASS_UNSELECTABLE="ol-unselectable",e.CLASS_UNSUPPORTED="ol-unsupported",e.CLASS_CONTROL="ol-control",e.CLASS_COLLAPSED="ol-collapsed",e.getFontParameters=function(){var t,e={};return function(n){if(t||(t=document.createElement("div").style),!(n in e)){t.font=n;var r=t.fontFamily,i=t.fontWeight,o=t.fontStyle;if(t.font="",!r)return null;var a=r.split(/,\s?/);e[n]={families:a,weight:i,style:o}}return e[n]}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(34),i=u(n(216)),o=u(n(21)),a=n(27),s=n(26);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e){var n=t.call(this)||this;return n.element=e.element?e.element:null,n.target_=null,n.map_=null,n.listenerKeys=[],n.render=e.render?e.render:r.VOID,e.target&&n.setTarget(e.target),n}return l(e,t),e.prototype.disposeInternal=function(){(0,a.removeNode)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&(0,a.removeNode)(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)(0,s.unlistenByKey)(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==r.VOID&&this.listenerKeys.push((0,s.listen)(t,i.default.POSTRENDER,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unByKey=function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)(0,r.unlistenByKey)(t[e]);else(0,r.unlistenByKey)(t)};var r=n(26),i=a(n(155)),o=a(n(4));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(){var e=t.call(this)||this;return e.revision_=0,e}return s(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(o.default.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=(0,r.listen)(this,t[o],e);return i}return(0,r.listen)(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=(0,r.listenOnce)(this,t[o],e);return i}return(0,r.listenOnce)(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,r=t.length;n<r;++n)this.removeEventListener(t[n],e);else this.removeEventListener(t,e)},e}(i.default);e.default=u},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){"use strict";var r=n(13);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(40);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n=t.exports={version:"2.6.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.add=function(t,e){return t[0]+=+e[0],t[1]+=+e[1],t},e.closestOnCircle=function(t,e){var n=e.getRadius(),r=e.getCenter(),i=r[0],o=r[1],a=t[0],s=t[1],u=a-i,l=s-o;0===u&&0===l&&(u=1);var c=Math.sqrt(u*u+l*l);return[i+n*u/c,o+n*l/c]},e.closestOnSegment=o,e.createStringXY=function(t){return function(e){return l(e,t)}},e.degreesToStringHDMS=a,e.format=s,e.equals=function(t,e){for(var n=!0,r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n},e.rotate=function(t,e){var n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,o=t[1]*n+t[0]*r;return t[0]=i,t[1]=o,t},e.scale=function(t,e){return t[0]*=e,t[1]*=e,t},e.squaredDistance=u,e.distance=function(t,e){return Math.sqrt(u(t,e))},e.squaredDistanceToSegment=function(t,e){return u(t,o(t,e))},e.toStringHDMS=function(t,e){return t?a("NS",t[1],e)+" "+a("EW",t[0],e):""},e.toStringXY=l;var r=n(14),i=n(214);function o(t,e){var n,r,i=t[0],o=t[1],a=e[0],s=e[1],u=a[0],l=a[1],c=s[0],h=s[1],f=c-u,p=h-l,d=0===f&&0===p?0:(f*(i-u)+p*(o-l))/(f*f+p*p||0);return d<=0?(n=u,r=l):d>=1?(n=c,r=h):(n=u+d*f,r=l+d*p),[n,r]}function a(t,e,n){var o=(0,r.modulo)(e+180,360)-180,a=Math.abs(3600*o),s=n||0,u=Math.pow(10,s),l=Math.floor(a/3600),c=Math.floor((a-3600*l)/60),h=a-3600*l-60*c;return(h=Math.ceil(h*u)/u)>=60&&(h=0,c+=1),c>=60&&(c=0,l+=1),l+" "+(0,i.padNumber)(c,2)+" "+(0,i.padNumber)(h,2,s)+""+(0==o?"":" "+t.charAt(o<0?1:0))}function s(t,e,n){return t?e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""}function u(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function l(t,e){return s(t,"{x}, {y}",e)}},function(t,e,n){var r=n(75),i=n(186),o=n(35),a=n(24),s=n(330);t.exports=function(t,e){var n=1==t,u=2==t,l=3==t,c=4==t,h=6==t,f=5==t||h,p=e||s;return function(e,s,d){for(var g,v,y=o(e),_=i(y),m=r(s,d,3),b=a(_.length),w=0,E=n?p(e,b):u?p(e,0):void 0;b>w;w++)if((f||w in _)&&(v=m(g=_[w],w,y),t))if(n)E[w]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return w;case 2:E.push(g)}else if(c)return!1;return h?-1:l||c?c:E}}},function(t,e,n){var r=n(0),i=n(76),o=n(13);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(15);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(377),i=n(678),o=n(677),a=n(375),s=n(666),u=n(371),l=n(665),c=n(369),h=n(368),f=n(22),p="Expected a function",d=1,g=2,v=8,y=16,_=32,m=64,b=Math.max;t.exports=function(t,e,n,w,E,x,O,C){var S=e&g;if(!S&&"function"!=typeof t)throw new TypeError(p);var P=w?w.length:0;if(P||(e&=~(_|m),w=E=void 0),O=void 0===O?O:b(f(O),0),C=void 0===C?C:f(C),P-=E?E.length:0,e&m){var M=w,T=E;w=E=void 0}var A=S?void 0:u(t),D=[t,e,n,w,E,M,T,x,O,C];if(A&&l(D,A),t=D[0],e=D[1],n=D[2],w=D[3],E=D[4],!(C=D[9]=void 0===D[9]?S?0:t.length:b(D[9]-P,0))&&e&(v|y)&&(e&=~(v|y)),e&&e!=d)I=e==v||e==y?o(t,e,C):e!=_&&e!=(d|_)||E.length?a.apply(void 0,D):s(t,e,n,w);else var I=i(t,e,n);return h((A?r:c)(I,D),t,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(166),i=n(7),o=d(n(285)),a=d(n(284)),s=d(n(45)),u=d(n(4)),l=n(3),c=d(n(827)),h=d(n(283)),f=n(55),p=n(97);function d(t){return t&&t.__esModule?t:{default:t}}var g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:y,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:o.default,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return g(e,t),e.prototype.canExpireCache=function(){if(!r.ENABLE_RASTER_REPROJECTION)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,n){if(r.ENABLE_RASTER_REPROJECTION){var i=this.getTileCacheForProjection(e);for(var o in this.tileCache.expireCache(this.tileCache==i?n:{}),this.tileCacheForProjection){var a=this.tileCacheForProjection[o];a.expireCache(a==i?n:{})}}else t.prototype.expireCache.call(this,e,n)},e.prototype.getGutterForProjection=function(t){return r.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&t&&!(0,l.equivalent)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(r.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!(0,l.equivalent)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!r.ENABLE_RASTER_REPROJECTION)return t.prototype.getTileGridForProjection.call(this,e);var n=this.getProjection();if(!this.tileGrid||n&&!(0,l.equivalent)(n,e)){var o=(0,i.getUid)(e);return o in this.tileGridForProjection||(this.tileGridForProjection[o]=(0,p.getForProjection)(e)),this.tileGridForProjection[o]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!r.ENABLE_RASTER_REPROJECTION)return t.prototype.getTileCacheForProjection.call(this,e);var n=this.getProjection();if(!n||(0,l.equivalent)(n,e))return this.tileCache;var o=(0,i.getUid)(e);return o in this.tileCacheForProjection||(this.tileCacheForProjection[o]=new a.default(this.tileCache.highWaterMark)),this.tileCacheForProjection[o]},e.prototype.createTile_=function(t,e,n,r,i,o){var a=[t,e,n],l=this.getTileCoordForTileUrlFunction(a,i),c=l?this.tileUrlFunction(l,r,i):void 0,h=new this.tileClass(a,void 0!==c?s.default.IDLE:s.default.EMPTY,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=o,h.addEventListener(u.default.CHANGE,this.handleTileChange.bind(this)),h},e.prototype.getTile=function(t,e,n,i,o){var a=this.getProjection();if(r.ENABLE_RASTER_REPROJECTION&&a&&o&&!(0,l.equivalent)(a,o)){var s=this.getTileCacheForProjection(o),u=[t,e,n],h=void 0,p=(0,f.getKey)(u);s.containsKey(p)&&(h=s.get(p));var d=this.getKey();if(h&&h.key==d)return h;var g=this.getTileGridForProjection(a),v=this.getTileGridForProjection(o),y=this.getTileCoordForTileUrlFunction(u,o),_=new c.default(a,g,o,v,u,y,this.getTilePixelRatio(i),this.getGutter(),function(t,e,n,r){return this.getTileInternal(t,e,n,r,a)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return _.key=d,h?(_.interimTile=h,_.refreshInterimChain(),s.replace(p,_)):s.set(p,_),_}return this.getTileInternal(t,e,n,i,a||o)},e.prototype.getTileInternal=function(t,e,n,r,i){var o=null,a=(0,f.getKeyZXY)(t,e,n),u=this.getKey();if(this.tileCache.containsKey(a)){if((o=this.tileCache.get(a)).key!=u){var l=o;o=this.createTile_(t,e,n,r,i,u),l.getState()==s.default.IDLE?o.interimTile=l.interimTile:o.interimTile=l,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(t,e,n,r,i,u),this.tileCache.set(a,o);return o},e.prototype.setRenderReprojectionEdges=function(t){if(r.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(r.ENABLE_RASTER_REPROJECTION){var n=(0,l.get)(t);if(n){var o=(0,i.getUid)(n);o in this.tileGridForProjection||(this.tileGridForProjection[o]=e)}}},e}(h.default);function y(t,e){t.getImage().src=e}e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(447)),i=o(n(446));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.createRenderer=function(){return new i.default(this)},e}(r.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pan=function(t,e,n){var r=t.getCenterInternal();if(r){var o=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:i.linear,center:t.getConstrainedCenter(o)})}},e.zoomByDelta=function(t,e,n,r){var o=t.getZoom();if(void 0===o)return;var a=t.getConstrainedZoom(o+e),s=t.getResolutionForZoom(a);t.getAnimating()&&t.cancelAnimations();t.animate({resolution:s,anchor:n,duration:void 0!==r?r:250,easing:i.easeOut})};var r=a(n(21)),i=n(101),o=a(n(294));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e){var n=t.call(this)||this;return e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return s(e,t),e.prototype.getActive=function(){return this.get(o.default.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(o.default.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(r.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buffer=function(t,e,n){void 0===n&&(n=[0,0]);return n[0]=t[0]+2*e,n[1]=t[1]+2*e,n},e.hasArea=function(t){return t[0]>0&&t[1]>0},e.scale=function(t,e,n){void 0===n&&(n=[0,0]);return n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n},e.toSize=function(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=0,o=n.length;i<o;++i)for(var a=n[i],s=0;s<r;++s)t[e++]=a[s];return e}function i(t,e,n,i,o){for(var a=o||[],s=0,u=0,l=n.length;u<l;++u){var c=r(t,e,n[u],i);a[s++]=c,e=c}return a.length=s,a}Object.defineProperty(e,"__esModule",{value:!0}),e.deflateCoordinate=function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)t[e++]=n[i];return e},e.deflateCoordinates=r,e.deflateCoordinatesArray=i,e.deflateMultiCoordinatesArray=function(t,e,n,r,o){for(var a=o||[],s=0,u=0,l=n.length;u<l;++u){var c=i(t,e,n[u],r,a[s]);a[s++]=c,e=c[c.length-1]}return a.length=s,a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},i=e.METERS_PER_UNIT={};i[r.DEGREES]=2*Math.PI*6370997/360,i[r.FEET]=.3048,i[r.METERS]=1,i[r.USFEET]=1200/3937,e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getStrideForLayout=h,e.transformGeom2D=function(t,e,n){var r=t.getFlatCoordinates();if(r){var i=t.getStride();return(0,s.transform2D)(r,0,r.length,i,e,n)}return null};var r=n(7),i=n(1),o=u(n(476)),a=u(n(77)),s=n(152);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(){var e=t.call(this)||this;return e.layout=a.default.XY,e.stride=2,e.flatCoordinates=null,e}return l(e,t),e.prototype.computeExtent=function(t){return(0,i.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return(0,r.abstract)()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=h(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){(0,r.abstract)()},e.prototype.setLayout=function(t,e,n){var r;if(t)r=h(t);else{for(var i=0;i<n;++i){if(0===e.length)return this.layout=a.default.XY,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=a.default.XY:3==t?e=a.default.XYZ:4==t&&(e=a.default.XYZM);return e}(r=e.length)}this.layout=t,this.stride=r},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();(0,s.rotate)(n,0,n.length,r,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var r=e;void 0===r&&(r=t);var o=n;o||(o=(0,i.getCenter)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var u=this.getStride();(0,s.scale)(a,0,a.length,u,t,r,o,a),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();(0,s.translate)(n,0,n.length,r,t,e,n),this.changed()}},e}(o.default);function h(t){var e;return t==a.default.XY?e=2:t==a.default.XYZ||t==a.default.XYM?e=3:t==a.default.XYZM&&(e=4),e}e.default=c},function(t,e,n){var r=n(506),i=n(315),o=n(48);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){var r=n(524),i=n(0),o=n(249)("metadata"),a=o.store||(o.store=new(n(521))),s=function(t,e,n){var i=a.get(t);if(!i){if(!n)return;a.set(t,i=new r)}var o=i.get(e);if(!o){if(!n)return;i.set(e,o=new r)}return o};t.exports={store:a,map:s,has:function(t,e,n){var r=s(e,n,!1);return void 0!==r&&r.has(t)},get:function(t,e,n){var r=s(e,n,!1);return void 0===r?void 0:r.get(t)},set:function(t,e,n,r){s(n,r,!0).set(t,e)},keys:function(t,e){var n=s(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){i(i.S,"Reflect",t)}}},function(t,e,n){"use strict";if(n(31)){var r=n(109),i=n(8),o=n(13),a=n(0),s=n(238),u=n(322),l=n(75),c=n(131),h=n(138),f=n(52),p=n(129),d=n(73),g=n(24),v=n(519),y=n(135),_=n(82),m=n(62),b=n(160),w=n(15),E=n(35),x=n(333),O=n(134),C=n(59),S=n(133).f,P=n(331),M=n(137),T=n(23),A=n(79),D=n(248),I=n(183),L=n(328),F=n(158),k=n(243),R=n(132),j=n(329),N=n(530),B=n(30),G=n(60),U=B.f,z=G.f,V=i.RangeError,Y=i.TypeError,W=i.Uint8Array,X=Array.prototype,q=u.ArrayBuffer,H=u.DataView,$=A(0),K=A(2),Z=A(3),J=A(4),Q=A(5),tt=A(6),et=D(!0),nt=D(!1),rt=L.values,it=L.keys,ot=L.entries,at=X.lastIndexOf,st=X.reduce,ut=X.reduceRight,lt=X.join,ct=X.sort,ht=X.slice,ft=X.toString,pt=X.toLocaleString,dt=T("iterator"),gt=T("toStringTag"),vt=M("typed_constructor"),yt=M("def_constructor"),_t=s.CONSTR,mt=s.TYPED,bt=s.VIEW,wt=A(1,function(t,e){return St(I(t,t[yt]),e)}),Et=o(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),xt=!!W&&!!W.prototype.set&&o(function(){new W(1).set({})}),Ot=function(t,e){var n=d(t);if(n<0||n%e)throw V("Wrong offset!");return n},Ct=function(t){if(w(t)&&mt in t)return t;throw Y(t+" is not a typed array!")},St=function(t,e){if(!(w(t)&&vt in t))throw Y("It is not a typed array constructor!");return new t(e)},Pt=function(t,e){return Mt(I(t,t[yt]),e)},Mt=function(t,e){for(var n=0,r=e.length,i=St(t,r);r>n;)i[n]=e[n++];return i},Tt=function(t,e,n){U(t,e,{get:function(){return this._d[n]}})},At=function(t){var e,n,r,i,o,a,s=E(t),u=arguments.length,c=u>1?arguments[1]:void 0,h=void 0!==c,f=P(s);if(void 0!=f&&!x(f)){for(a=f.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(h&&u>2&&(c=l(c,arguments[2],2)),e=0,n=g(s.length),i=St(this,n);n>e;e++)i[e]=h?c(s[e],e):s[e];return i},Dt=function(){for(var t=0,e=arguments.length,n=St(this,e);e>t;)n[t]=arguments[t++];return n},It=!!W&&o(function(){pt.call(new W(1))}),Lt=function(){return pt.apply(It?ht.call(Ct(this)):Ct(this),arguments)},Ft={copyWithin:function(t,e){return N.call(Ct(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return J(Ct(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return j.apply(Ct(this),arguments)},filter:function(t){return Pt(this,K(Ct(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Q(Ct(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){$(Ct(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Ct(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return lt.apply(Ct(this),arguments)},lastIndexOf:function(t){return at.apply(Ct(this),arguments)},map:function(t){return wt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(Ct(this),arguments)},reduceRight:function(t){return ut.apply(Ct(this),arguments)},reverse:function(){for(var t,e=Ct(this).length,n=Math.floor(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this},some:function(t){return Z(Ct(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ct.call(Ct(this),t)},subarray:function(t,e){var n=Ct(this),r=n.length,i=y(t,r);return new(I(n,n[yt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,g((void 0===e?r:y(e,r))-i))}},kt=function(t,e){return Pt(this,ht.call(Ct(this),t,e))},Rt=function(t){Ct(this);var e=Ot(arguments[1],1),n=this.length,r=E(t),i=g(r.length),o=0;if(i+e>n)throw V("Wrong length!");for(;o<i;)this[e+o]=r[o++]},jt={entries:function(){return ot.call(Ct(this))},keys:function(){return it.call(Ct(this))},values:function(){return rt.call(Ct(this))}},Nt=function(t,e){return w(t)&&t[mt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Bt=function(t,e){return Nt(t,e=_(e,!0))?h(2,t[e]):z(t,e)},Gt=function(t,e,n){return!(Nt(t,e=_(e,!0))&&w(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?U(t,e,n):(t[e]=n.value,t)};_t||(G.f=Bt,B.f=Gt),a(a.S+a.F*!_t,"Object",{getOwnPropertyDescriptor:Bt,defineProperty:Gt}),o(function(){ft.call({})})&&(ft=pt=function(){return lt.call(this)});var Ut=p({},Ft);p(Ut,jt),f(Ut,dt,jt.values),p(Ut,{slice:kt,set:Rt,constructor:function(){},toString:ft,toLocaleString:Lt}),Tt(Ut,"buffer","b"),Tt(Ut,"byteOffset","o"),Tt(Ut,"byteLength","l"),Tt(Ut,"length","e"),U(Ut,gt,{get:function(){return this[mt]}}),t.exports=function(t,e,n,u){var l=t+((u=!!u)?"Clamped":"")+"Array",h="get"+t,p="set"+t,d=i[l],y=d||{},_=d&&C(d),m=!d||!s.ABV,E={},x=d&&d.prototype,P=function(t,n){U(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[h](n*e+r.o,Et)}(this,n)},set:function(t){return function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*e+i.o,r,Et)}(this,n,t)},enumerable:!0})};m?(d=n(function(t,n,r,i){c(t,d,l,"_d");var o,a,s,u,h=0,p=0;if(w(n)){if(!(n instanceof q||"ArrayBuffer"==(u=b(n))||"SharedArrayBuffer"==u))return mt in n?Mt(d,n):At.call(d,n);o=n,p=Ot(r,e);var y=n.byteLength;if(void 0===i){if(y%e)throw V("Wrong length!");if((a=y-p)<0)throw V("Wrong length!")}else if((a=g(i)*e)+p>y)throw V("Wrong length!");s=a/e}else s=v(n),o=new q(a=s*e);for(f(t,"_d",{b:o,o:p,l:a,e:s,v:new H(o)});h<s;)P(t,h++)}),x=d.prototype=O(Ut),f(x,"constructor",d)):o(function(){d(1)})&&o(function(){new d(-1)})&&k(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=n(function(t,n,r,i){var o;return c(t,d,l),w(n)?n instanceof q||"ArrayBuffer"==(o=b(n))||"SharedArrayBuffer"==o?void 0!==i?new y(n,Ot(r,e),i):void 0!==r?new y(n,Ot(r,e)):new y(n):mt in n?Mt(d,n):At.call(d,n):new y(v(n))}),$(_!==Function.prototype?S(y).concat(S(_)):S(y),function(t){t in d||f(d,t,y[t])}),d.prototype=x,r||(x.constructor=d));var M=x[dt],T=!!M&&("values"==M.name||void 0==M.name),A=jt.values;f(d,vt,!0),f(x,mt,l),f(x,bt,!0),f(x,yt,d),(u?new d(1)[gt]==l:gt in x)||U(x,gt,{get:function(){return l}}),E[l]=d,a(a.G+a.W+a.F*(d!=y),E),a(a.S,l,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o(function(){y.of.call(d,1)}),l,{from:At,of:Dt}),"BYTES_PER_ELEMENT"in x||f(x,"BYTES_PER_ELEMENT",e),a(a.P,l,Ft),R(l),a(a.P+a.F*xt,l,{set:Rt}),a(a.P+a.F*!T,l,jt),r||x.toString==ft||(x.toString=ft),a(a.P+a.F*o(function(){new d(1).slice()}),l,{slice:kt}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!o(function(){x.toLocaleString.call([1,2])})),l,{toLocaleString:Lt}),F[l]=T?M:A,r||T||f(x,dt,A)}}else t.exports=function(){}},function(t,e,n){var r=n(724),i=n(390)(r);t.exports=i},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VectorImageLayer=e.VectorLayer=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(85)),o=l(n(814)),a=n(274),s=n(6),u=n(167);function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var p=function(){function t(){f(this,t)}return r(t,[{key:"initialize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.on("change:visible",function(){t.getSource().setRefreshing&&t.getSource().setRefreshing(t.getVisible())}),this.set("mutators",e.mutators||[])}}]),t}();e.VectorLayer=function(t){function e(){return f(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,(0,s.mixin)(i.default,[u.ProvideMapMixin,a.LayerLoadProcessCountMixin,p])),e}(),e.VectorImageLayer=function(t){function e(){return f(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,(0,s.mixin)(o.default,[u.ProvideMapMixin,a.LayerLoadProcessCountMixin,p])),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getForProjection=function(t){var e=t.getDefaultTileGrid();e||(e=p(t),t.setDefaultTileGrid(e));return e},e.wrapX=function(t,e,n){var r=e[0],i=t.getTileCoordCenter(e),a=d(n);if((0,o.containsCoordinate)(a,i))return e;var s=(0,o.getWidth)(a),u=Math.ceil((a[0]-i[0])/s);return i[0]+=s*u,t.getTileCoordForCoordAndZ(i,r)},e.createForExtent=h,e.createXYZ=function(t){var e=t||{},n=e.extent||(0,s.get)("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:f(n,e.maxZoom,e.tileSize)};return new l.default(r)},e.createForProjection=p,e.extentFromProjection=d;var r=n(174),i=n(87),o=n(1),a=c(n(480)),s=n(3),u=c(n(89)),l=c(n(165));function c(t){return t&&t.__esModule?t:{default:t}}function h(t,e,n,r){var i=void 0!==r?r:a.default.TOP_LEFT,s=f(t,e,n);return new l.default({extent:t,origin:(0,o.getCorner)(t,i),resolutions:s,tileSize:n})}function f(t,e,n){for(var a=void 0!==e?e:r.DEFAULT_MAX_ZOOM,s=(0,o.getHeight)(t),u=(0,o.getWidth)(t),l=(0,i.toSize)(void 0!==n?n:r.DEFAULT_TILE_SIZE),c=Math.max(u/l[0],s/l[1]),h=a+1,f=new Array(h),p=0;p<h;++p)f[p]=c/Math.pow(2,p);return f}function p(t,e,n,r){return h(d(t),e,n,r)}function d(t){var e=(t=(0,s.get)(t)).getExtent();if(!e){var n=180*s.METERS_PER_UNIT[u.default.DEGREES]/t.getMetersPerUnit();e=(0,o.createOrUpdate)(-n,-n,n,n)}return e}},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),i=n(1),o=h(n(20)),a=h(n(28)),s=h(n(90)),u=n(88),l=n(122),c=n(14);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t){function e(e,n){var r=t.call(this)||this;return n&&!Array.isArray(e[0])?r.setFlatCoordinates(n,e):r.setCoordinates(e,n),r}return f(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?(0,r.extend)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){if(r<(0,i.closestSquaredDistanceXY)(this.getExtent(),t,e))return r;for(var o=this.flatCoordinates,a=this.stride,s=0,u=o.length;s<u;s+=a){var l=(0,c.squaredDistance)(t,e,o[s],o[s+1]);if(l<r){r=l;for(var h=0;h<a;++h)n[h]=o[s+h];n.length=a}}return r},e.prototype.getCoordinates=function(){return(0,l.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new a.default(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,r=[],i=0,o=t.length;i<o;i+=n){var s=new a.default(t.slice(i,i+n),e);r.push(s)}return r},e.prototype.getType=function(){return o.default.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,r=0,o=e.length;r<o;r+=n){var a=e[r],s=e[r+1];if((0,i.containsXY)(t,a,s))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,u.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resetTransform=e.measureTextHeight=e.checkFont=e.textHeights=e.checkedFonts=e.labelCache=e.defaultLineWidth=e.defaultPadding=e.defaultTextBaseline=e.defaultTextAlign=e.defaultStrokeStyle=e.defaultMiterLimit=e.defaultLineJoin=e.defaultLineDashOffset=e.defaultLineDash=e.defaultLineCap=e.defaultFillStyle=e.defaultFont=void 0,e.measureTextWidth=d,e.measureAndCacheTextWidth=function(t,e,n){if(e in n)return n[e];var r=d(t,e);return n[e]=r,r},e.measureTextWidths=function(t,e,n){for(var r=e.length,i=0,o=0;o<r;++o){var a=d(t,e[o]);i=Math.max(i,a),n.push(a)}return i},e.rotateAtOffset=function(t,e,n,r){0!==e&&(t.translate(n,r),t.rotate(e),t.translate(-n,-r))},e.drawImage=function(t,e,n,r,i,o,a,s,u,l,c){var h;1!=n&&(h=t.globalAlpha,t.globalAlpha=h*n);e&&t.setTransform.apply(t,e);t.drawImage(r,i,o,a,s,u,l,a*c,s*c),1!=n&&(t.globalAlpha=h);e&&t.setTransform.apply(t,g)};var r=n(67),i=n(27),o=n(10),a=n(41),s=function(t){return t&&t.__esModule?t:{default:t}}(n(855));e.defaultFont="10px sans-serif",e.defaultFillStyle="#000",e.defaultLineCap="round",e.defaultLineDash=[],e.defaultLineDashOffset=0,e.defaultLineJoin="round",e.defaultMiterLimit=10,e.defaultStrokeStyle="#000",e.defaultTextAlign="center",e.defaultTextBaseline="middle",e.defaultPadding=[0,0,0,0],e.defaultLineWidth=1;var u,l=e.labelCache=new s.default,c=e.checkedFonts={},h=null,f=e.textHeights={};e.checkFont=function(){var t,e,n=100,i=c,a="32px ",s=["monospace","serif"],d=s.length,g="wmytzilWMYTZIL@#/&?$%10";function v(t,n,r){for(var i=p(),o=!0,u=0;u<d;++u){var l=s[u];if(i.font=t+" "+n+" "+a+l,e=i.measureText(g).width,r!=l){i.font=t+" "+n+" "+a+r+","+l;var c=i.measureText(g).width;o=o&&c!=e}}return!!o}function y(){var e=!0;for(var r in i)i[r]<n&&(v.apply(this,r.split("\n"))?(i[r]=n,(0,o.clear)(f),h=null,u=void 0,l.getCount()&&l.clear()):(++i[r],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var o=(0,r.getFontParameters)(e);if(o)for(var a=o.families,s=0,u=a.length;s<u;++s){var l=a[s],c=o.style+"\n"+o.weight+"\n"+l;c in i||(i[c]=n,v(o.style,o.weight,l)||(i[c]=0,void 0===t&&(t=setInterval(y,32))))}}}();function p(){return h||(h=(0,i.createCanvasContext2D)(1,1)),h}e.measureTextHeight=function(){var t,e=f;return function(n){var r=e[n];return void 0==r&&(t||((t=document.createElement("div")).innerHTML="M",t.style.margin="0 !important",t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=n,document.body.appendChild(t),r=t.offsetHeight,e[n]=r,document.body.removeChild(t)),r}}();function d(t,e){var n=p();return t!=u&&(n.font=t,u=n.font),n.measureText(e).width}var g=e.resetTransform=(0,a.create)()},function(t,e,n){"use strict";function r(t){return Math.pow(t,3)}function i(t){return 3*t*t-2*t*t*t}Object.defineProperty(e,"__esModule",{value:!0}),e.easeIn=r,e.easeOut=function(t){return 1-r(1-t)},e.inAndOut=i,e.linear=function(t){return t},e.upAndDown=function(t){return t<.5?i(2*t):1-i(2*(t-.5))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(4));e.default={SINGLECLICK:"singleclick",CLICK:r.default.CLICK,DBLCLICK:r.default.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(t,e,n){var r=n(43),i=n(29),o="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||i(t)&&r(t)==o}},function(t,e,n){var r=n(925),i=n(319),o=n(924),a=n(498),s=n(497),u=n(43),l=n(508),c=l(r),h=l(i),f=l(o),p=l(a),d=l(s),g=u;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=g(new i)||o&&"[object Promise]"!=g(o.resolve())||a&&"[object Set]"!=g(new a)||s&&"[object WeakMap]"!=g(new s))&&(g=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?l(n):"";if(r)switch(r){case c:return"[object DataView]";case h:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=g},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?n:e)&&("number"==i||"symbol"!=i&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(23)("unscopables"),i=Array.prototype;void 0==i[r]&&n(52)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e){t.exports=!1},function(t,e,n){var r=n(137)("meta"),i=n(15),o=n(62),a=n(30).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(13)(function(){return u(Object.preventExtensions({}))}),c=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[r].w},onFreeze:function(t){return l&&h.NEED&&u(t)&&!o(t,r)&&c(t),t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.ActivatableMixin=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.activate_=!0===t.active,this.active_=!1}},{key:"activateOnMapChange",value:function(){this.setActive(this.activate_)}},{key:"setActive",value:function(t){var e=this.active_;if(e!==t){this.active_=t;var n={type:"change:active",oldValue:e};this.dispatchEvent(n)}}},{key:"getActive",value:function(){return this.active_}}]),t}()},function(t,e){var n="__lodash_placeholder__";t.exports=function(t,e){for(var r=-1,i=t.length,o=0,a=[];++r<i;){var s=t[r];s!==e&&s!==n||(t[r]=n,a[o++]=r)}return a}},function(t,e,n){var r=n(221),i=n(198),o=n(272),a=n(220),s=n(744),u=n(219),l=200;t.exports=function(t,e,n){var c=-1,h=i,f=t.length,p=!0,d=[],g=d;if(n)p=!1,h=o;else if(f>=l){var v=e?null:s(t);if(v)return u(v);p=!1,h=a,g=new r}else g=e?[]:d;t:for(;++c<f;){var y=t[c],_=e?e(y):y;if(y=n||0!==y?y:0,p&&_==_){for(var m=g.length;m--;)if(g[m]===_)continue t;e&&g.push(_),d.push(y)}else h(g,_,n)||(g!==d&&g.push(_),d.push(y))}return d}},function(t,e,n){var r=n(103),i=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(107),i=n(48),o=n(106),a=n(49);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageSourceEvent=void 0,e.defaultImageLoadFunction=function(t,e){t.getImage().src=e};var r=n(7),i=n(166),o=f(n(66)),a=n(17),s=f(n(37)),u=n(1),l=n(3),c=f(n(821)),h=f(n(168));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d="imageloadstart",g="imageloadend",v="imageloaderror",y=function(t){function e(e,n){var r=t.call(this,e)||this;return r.image=n,r}return p(e,t),e}(s.default);e.ImageSourceEvent=y;var _=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state})||this;return n.resolutions_=void 0!==e.resolutions?e.resolutions:null,n.reprojectedImage_=null,n.reprojectedRevision_=0,n}return p(e,t),e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=(0,a.linearFindNearest)(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,n,r){var o=this.getProjection();if(i.ENABLE_RASTER_REPROJECTION&&o&&r&&!(0,l.equivalent)(o,r)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,l.equivalent)(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==e&&(0,u.equals)(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new c.default(o,r,t,e,n,function(t,e,n){return this.getImageInternal(t,e,n,o)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return o&&(r=o),this.getImageInternal(t,e,n,r)},e.prototype.getImageInternal=function(t,e,n,i){return(0,r.abstract)()},e.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case o.default.LOADING:this.loading=!0,this.dispatchEvent(new y(d,e));break;case o.default.LOADED:this.loading=!1,this.dispatchEvent(new y(g,e));break;case o.default.ERROR:this.loading=!1,this.dispatchEvent(new y(v,e))}},e}(h.default);e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformGeometryWithOptions=function(t,e,n){var r,i=n?(0,o.get)(n.featureProjection):null,a=n?(0,o.get)(n.dataProjection):null;r=i&&a&&!(0,o.equivalent)(i,a)?(e?t.clone():t).transform(e?i:a,e?a:i):t;if(e&&n&&void 0!==n.decimals){var s=Math.pow(10,n.decimals);r===t&&(r=t.clone()),r.applyTransform(function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*s)/s;return t})}return r},e.transformExtentWithOptions=function(t,e){var n=e?(0,o.get)(e.featureProjection):null,r=e?(0,o.get)(e.dataProjection):null;return n&&r&&!(0,o.equivalent)(n,r)?(0,o.transformExtent)(t,r,n):t};var r=n(10),i=n(7),o=n(3),a=function(t){return t&&t.__esModule?t:{default:t}}(n(89));var s=function(){function t(){this.dataProjection=null,this.defaultFeatureProjection=null}return t.prototype.getReadOptions=function(t,e){var n;if(e){var r=e.dataProjection?(0,o.get)(e.dataProjection):this.readProjection(t);e.extent&&r&&r.getUnits()===a.default.TILE_PIXELS&&(r=(0,o.get)(r)).setWorldExtent(e.extent),n={dataProjection:r,featureProjection:e.featureProjection}}return this.adaptOptions(n)},t.prototype.adaptOptions=function(t){return(0,r.assign)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return(0,i.abstract)()},t.prototype.readFeature=function(t,e){return(0,i.abstract)()},t.prototype.readFeatures=function(t,e){return(0,i.abstract)()},t.prototype.readGeometry=function(t,e){return(0,i.abstract)()},t.prototype.readProjection=function(t){return(0,i.abstract)()},t.prototype.writeFeature=function(t,e){return(0,i.abstract)()},t.prototype.writeFeatures=function(t,e){return(0,i.abstract)()},t.prototype.writeGeometry=function(t,e){return(0,i.abstract)()},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(45)),i=n(101),o=u(n(155)),a=u(n(4)),s=n(7);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e,n,r){var i=t.call(this)||this,o=r||{};return i.tileCoord=e,i.state=n,i.interimTile=null,i.hifi=!0,i.key="",i.transition_=void 0===o.transition?250:o.transition,i.transitionStarts_={},i}return l(e,t),e.prototype.changed=function(){this.dispatchEvent(a.default.CHANGE)},e.prototype.disposeInternal=function(){this.setState(r.default.ABORT)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==r.default.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==r.default.LOADED){t.interimTile=null;break}t.getState()==r.default.LOADING?e=t:t.getState()==r.default.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==r.default.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){(0,s.abstract)()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var r=e-n+1e3/60;return r>=this.transition_?1:(0,i.easeIn)(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.listenImage=f;var r=l(n(205)),i=l(n(66)),o=n(26),a=l(n(4)),s=n(1),u=n(123);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(e,n,r,o,a,s){var u=t.call(this,e,n,r,i.default.IDLE)||this;return u.src_=o,u.image_=new Image,null!==a&&(u.image_.crossOrigin=a),u.unlisten_=null,u.state=i.default.IDLE,u.imageLoadFunction_=s,u}return c(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=i.default.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,s.getHeight)(this.extent)/this.image_.height),this.state=i.default.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=i.default.IDLE&&this.state!=i.default.ERROR||(this.state=i.default.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=f(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(r.default);function f(t,e,n){var r=t;if(r.src&&u.IMAGE_DECODE){var i=!0;return r.decode().then(function(){i&&e()}).catch(function(t){i&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():n())}),function(){i=!1}}var s=[(0,o.listenOnce)(r,a.default.LOAD,e),(0,o.listenOnce)(r,a.default.ERROR,n)];return function(){s.forEach(o.unlistenByKey)}}e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}();e.default=r},function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=void 0!==i?i:[],a=0,s=e;s<n;s+=r)o[a++]=t.slice(s,s+r);return o.length=a,o}function i(t,e,n,i,o){for(var a=void 0!==o?o:[],s=0,u=0,l=n.length;u<l;++u){var c=n[u];a[s++]=r(t,e,c,i,a[s]),e=c}return a.length=s,a}Object.defineProperty(e,"__esModule",{value:!0}),e.inflateCoordinates=r,e.inflateCoordinatesArray=i,e.inflateMultiCoordinatesArray=function(t,e,n,r,o){for(var a=void 0!==o?o:[],s=0,u=0,l=n.length;u<l;++u){var c=n[u];a[s++]=i(t,e,c,r,a[s]),e=c[c.length-1]}return a.length=s,a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";e.FIREFOX=-1!==r.indexOf("firefox"),e.SAFARI=-1!==r.indexOf("safari")&&-1==r.indexOf("chrom"),e.WEBKIT=-1!==r.indexOf("webkit")&&-1==r.indexOf("edge"),e.MAC=-1!==r.indexOf("macintosh"),e.DEVICE_PIXEL_RATIO=window.devicePixelRatio||1,e.IMAGE_DECODE="undefined"!=typeof Image&&Image.prototype.decode},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ADD:"add",REMOVE:"remove"}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e,n){var r=n(39).Symbol;t.exports=r},function(t,e,n){var r=n(511),i=n(949);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){t.exports={castArray:n(964),clone:n(963),cloneDeep:n(914),cloneDeepWith:n(913),cloneWith:n(912),conformsTo:n(911),eq:n(107),gt:n(909),gte:n(907),isArguments:n(180),isArray:n(12),isArrayBuffer:n(906),isArrayLike:n(48),isArrayLikeObject:n(47),isBoolean:n(904),isBuffer:n(179),isDate:n(903),isElement:n(901),isEmpty:n(900),isEqual:n(899),isEqualWith:n(893),isError:n(892),isFinite:n(891),isFunction:n(231),isInteger:n(490),isLength:n(226),isMap:n(495),isMatch:n(890),isMatchWith:n(889),isNaN:n(888),isNative:n(887),isNil:n(885),isNull:n(884),isNumber:n(487),isObject:n(49),isObjectLike:n(29),isPlainObject:n(310),isRegExp:n(883),isSafeInteger:n(881),isSet:n(494),isString:n(218),isSymbol:n(103),isTypedArray:n(227),isUndefined:n(880),isWeakMap:n(879),isWeakSet:n(878),lt:n(877),lte:n(875),toArray:n(874),toFinite:n(489),toInteger:n(22),toLength:n(485),toNumber:n(177),toPlainObject:n(868),toSafeInteger:n(867),toString:n(484)}},function(t,e,n){var r=n(51);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){var r=n(75),i=n(532),o=n(333),a=n(5),s=n(24),u=n(331),l={},c={};(e=t.exports=function(t,e,n,h,f){var p,d,g,v,y=f?function(){return t}:u(t),_=r(n,h,e?2:1),m=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(p=s(t.length);p>m;m++)if((v=e?_(a(d=t[m])[0],d[1]):_(t[m]))===l||v===c)return v}else for(g=y.call(t);!(d=g.next()).done;)if((v=i(g,_,d.value,e))===l||v===c)return v}).BREAK=l,e.RETURN=c},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){"use strict";var r=n(8),i=n(30),o=n(31),a=n(23)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(545),i=n(345).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(5),i=n(544),o=n(345),a=n(346)("IE_PROTO"),s=function(){},u=function(){var t,e=n(348)("iframe"),r=o.length;for(e.style.display="none",n(344).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(73),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(545),i=n(345);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=function(t){return t.placeholder}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URL=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(11);e.URL=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!==i.default.type(e)&&e.hasOwnProperty("url")?(this.url=e.url,this.useProxy=e.useProxy,this.proxy=e.proxy,this.cache=void 0===e.cache||e.cache,this.username=e.username,this.password=e.password,e.params?this.params=e.params.slice(0):this.params=[],e.expand?this.expand=e.expand.slice(0):this.expand=[],this.globalProxy=e.globalProxy,this.localiser=e.localiser):(this.url=e,this.useProxy=!1,this.cache=!0,this.params=[],this.expand=[]),n&&this.extractParamsFromMap(n)}return r(t,[{key:"extractParamsFromMap",value:function(t){this.globalProxy=this.globalProxy||t.get("proxy"),this.localiser=this.localiser||t.get("localiser")}},{key:"clone",value:function(){return new t(this)}},{key:"finalize",value:function(){var e=this;this.cache||(e=this.clone().addParam(Math.random().toString(36).substring(7)));var n=this.localiser?this.localiser.selectL10N(e.url):e.url;e.params.length&&(-1===n.search(/\?/)?n+="?":n+="&",n+=e.params.join("&"));var r=!0,i=!1,o=void 0;try{for(var a,s=e.expand[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;n=t.expandTemplate_(n,u)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}if(!0===e.useProxy||void 0===e.useProxy&&e.proxy){var l=e.proxy||this.globalProxy;if(!l)throw new Error("No proxy configured. Either configure a local or global proxy if you want to use the option useProxy.");return t.expandTemplate_(l,{paramName:"url",paramValue:t.encodeTemplate_(n),required:!0})}return n}},{key:"addParam",value:function(t){return this.params.push(t),this}},{key:"expandTemplate",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.expand.findIndex(function(e){return e.paramName===t});r>=0&&this.expand.splice(r,1);return e=function t(n){return"string"===i.default.type(n)?encodeURIComponent(n):"array"===i.default.type(e)?n.map(function(e){return t(e)}):n}(e),this.expand.push({paramName:t,paramValue:e,required:n}),this}},{key:"useProxyFor",value:function(e){return new t({useProxy:this.useProxy,proxy:this.proxy,url:e,localiser:this.localiser,globalProxy:this.globalProxy})}},{key:"extend",value:function(t){var e=this.clone();return e.url+=t,e}},{key:"setAuth",value:function(t){if(this.username&&this.password){var e=window.btoa(this.username+":"+this.password);t.withCredentials=!0,t.setRequestHeader(this.useProxy?"X-Proxy-Forward-Authorization":"Authorization","Basic "+e)}}}],[{key:"extractFromConfig",value:function(e,n,r,a){return e.hasOwnProperty(n)?e.hasOwnProperty("useProxy")||e.hasOwnProperty("proxy")||e.hasOwnProperty("cache")?(o.Debug.warn("Using the parameters 'useProxy' 'proxy' 'cache' directly inside a config object is considered deprecated. Please use a URLConfig object"),new t({url:e[n]||r,useProxy:e.useProxy,proxy:e.proxy,cache:e.cache},a)):i.default.isPlainObject(e[n])&&!e[n].hasOwnProperty("url")?(o.Debug.warn('The url config object is missing an "url" parameter. The software is assuming the parameter is a Localizable.'),new t({url:e[n]},a)):new t(e[n],a):null}},{key:"expandTemplate_",value:function(t,e){var n=new RegExp("{"+e.paramName+"([^}]*)}"),r=t.match(n);if(!r){if(e.required)throw new Error("required parameter "+e.paramName+" (enclosed in {}) not found in string "+t);return t}if("string"===i.default.type(e.paramValue))return t.replace(n,e.paramValue);if("array"===i.default.type(e.paramValue)){var o=r[1]||",";return t.replace(n,e.paramValue.join(o))}if("number"===i.default.type(e.paramValue)){for(var a=new RegExp("[:,]([^,])","g"),s=a.exec(r[1]),u=0;u<e.paramValue;u++)s=a.exec(r[1]);return t.replace(n,s[1])}}},{key:"encodeTemplate_",value:function(t){var e=t.split("}"),n="",r=void 0;for(r=0;r<e.length-1;r+=1){var i=e[r].split("{");n+=encodeURIComponent(i[0])+"{"+i[1]+"}"}return n+=encodeURIComponent(e[r])}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.appendParams=function(t,e){var n=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&n.push(t+"="+encodeURIComponent(e[t]))});var r=n.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OBJECT_PROPERTY_NODE_FACTORY=e.XML_SCHEMA_INSTANCE_URI=e.DOCUMENT=void 0,e.createElementNS=o,e.getAllTextContent=function(t,e){return a(t,e,[]).join("")},e.getAllTextContent_=a,e.isDocument=function(t){return"documentElement"in t},e.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)||""},e.parse=function(t){return(new DOMParser).parseFromString(t,"application/xml")},e.makeArrayExtender=function(t,e){return function(n,i){var o=t.call(void 0!==e?e:this,n,i);if(void 0!==o){var a=i[i.length-1];(0,r.extend)(a,o)}}},e.makeArrayPusher=function(t,e){return function(n,r){var i=t.call(void 0!==e?e:this,n,r);if(void 0!==i){var o=r[r.length-1];o.push(i)}}},e.makeReplacer=function(t,e){return function(n,r){var i=t.call(void 0!==e?e:this,n,r);void 0!==i&&(r[r.length-1]=i)}},e.makeObjectPropertyPusher=function(t,e,n){return function(r,i){var o=t.call(void 0!==n?n:this,r,i);if(void 0!==o){var a=i[i.length-1],s=void 0!==e?e:r.localName,u=void 0;s in a?u=a[s]:(u=[],a[s]=u),u.push(o)}}},e.makeObjectPropertySetter=function(t,e,n){return function(r,i){var o=t.call(void 0!==n?n:this,r,i);if(void 0!==o){var a=i[i.length-1],s=void 0!==e?e:r.localName;a[s]=o}}},e.makeChildAppender=function(t,e){return function(n,r,i){t.call(void 0!==e?e:this,n,r,i);var o=i[i.length-1],a=o.node;a.appendChild(n)}},e.makeArraySerializer=function(t,e){var n,r;return function(e,i,o){if(void 0===n){n={};var a={};a[e.localName]=t,n[e.namespaceURI]=a,r=s(e.localName)}l(n,r,i,o)}},e.makeSimpleNodeFactory=s,e.makeSequence=function(t,e){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=t[e[i]];return r},e.makeStructureNS=function(t,e,n){var r,i,o=void 0!==n?n:{};for(r=0,i=t.length;r<i;++r)o[t[r]]=e;return o},e.parseNode=u,e.pushParseAndPop=function(t,e,n,r,i){return r.push(t),u(e,n,r,i),r.pop()},e.serialize=l,e.pushSerializeAndPop=function(t,e,n,r,i,o,a){return i.push(t),l(e,n,r,i,o,a),i.pop()};var r=n(17),i=e.DOCUMENT=document.implementation.createDocument("","",null);e.XML_SCHEMA_INSTANCE_URI="http://www.w3.org/2001/XMLSchema-instance";function o(t,e){return i.createElementNS(t,e)}function a(t,e,n){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(t.nodeValue);else{var r=void 0;for(r=t.firstChild;r;r=r.nextSibling)a(r,e,n)}return n}function s(t,e){var n=t;return function(t,r,i){var a=r[r.length-1].node,s=n;return void 0===s&&(s=i),o(void 0!==e?e:a.namespaceURI,s)}}e.OBJECT_PROPERTY_NODE_FACTORY=s();function u(t,e,n,r){var i;for(i=e.firstElementChild;i;i=i.nextElementSibling){var o=t[i.namespaceURI];if(void 0!==o){var a=o[i.localName];void 0!==a&&a.call(r,i,n)}}}function l(t,e,n,r,i,o){for(var a,s,u=(void 0!==i?i:n).length,l=0;l<u;++l)void 0!==(a=n[l])&&void 0!==(s=e.call(void 0!==o?o:this,a,r,void 0!==i?i[l]:void 0))&&t[s.namespaceURI][s.localName].call(o,s,a,r)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFromTemplate=a,e.createFromTemplates=function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=a(t[i],e);return s(r)},e.createFromTileUrlFunctions=s,e.nullTileUrlFunction=function(t,e,n){return},e.expandUrl=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var r=n[1].charCodeAt(0),i=n[2].charCodeAt(0),o=void 0;for(o=r;o<=i;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e};var r=n(16),i=n(14),o=n(55);function a(t,e){var n=/\{z\}/g,i=/\{x\}/g,o=/\{y\}/g,a=/\{-y\}/g;return function(s,u,l){return s?t.replace(n,s[0].toString()).replace(i,s[1].toString()).replace(o,s[2].toString()).replace(a,function(){var t=s[0],n=e.getFullTileRange(t);return(0,r.assert)(n,55),(n.getHeight()-s[2]-1).toString()}):void 0}}function s(t){return 1===t.length?t[0]:function(e,n,r){if(e){var a=(0,o.hash)(e),s=(0,i.modulo)(a,t.length);return t[s](e,n,r)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(84)),i=n(97);var o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(e){var n=e||{},r=void 0!==n.projection?n.projection:"EPSG:3857",o=void 0!==n.tileGrid?n.tileGrid:(0,i.createXYZ)({extent:(0,i.extentFromProjection)(r),maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:n.opaque,projection:r,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this}return o(e,t),e}(r.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};e.fillInstruction=[r.FILL],e.strokeInstruction=[r.STROKE],e.beginPathInstruction=[r.BEGIN_PATH],e.closePathInstruction=[r.CLOSE_PATH];e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),i=n(1),o=g(n(77)),a=g(n(20)),s=g(n(44)),u=g(n(90)),l=n(172),c=n(88),h=n(122),f=n(449),p=n(211),d=n(150);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=function(t){function e(e,n,i){var o=t.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(e[0]))o.setCoordinates(e,n);else if(void 0!==n&&i)o.setFlatCoordinates(n,e),o.ends_=i;else{for(var a=o.getLayout(),s=e,u=[],l=[],c=0,h=s.length;c<h;++c){var f=s[c];0===c&&(a=f.getLayout()),(0,r.extend)(u,f.getFlatCoordinates()),l.push(u.length)}o.setFlatCoordinates(a,u),o.ends_=l}return o}return v(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?(0,r.extend)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,r){return r<(0,i.closestSquaredDistanceXY)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,l.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,l.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=o.default.XYM&&this.layout!=o.default.XYZM||0===this.flatCoordinates.length)return null;var r=void 0!==e&&e,i=void 0!==n&&n;return(0,f.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,t,r,i)},e.prototype.getCoordinates=function(){return(0,h.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new s.default(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,r=[],i=0,o=0,a=e.length;o<a;++o){var u=e[o],l=new s.default(t.slice(i,u),n);r.push(l),i=u}return r},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,i=this.ends_,o=this.stride,a=0,s=i.length;a<s;++a){var u=i[a],l=(0,f.interpolatePoint)(e,n,u,o,.5);(0,r.extend)(t,l),n=u}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=(0,d.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,r),new e(n,o.default.XY,r)},e.prototype.getType=function(){return a.default.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return(0,p.intersectsLineStringArray)(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=(0,c.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(u.default);e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createRegularPolygon=function(t,e){return function(n,r){var i=n[0],o=n[1],a=Math.sqrt((0,u.squaredDistance)(i,o)),s=r||(0,b.fromCircle)(new p.default(i),t),l=e;if(!e){var c=o[0]-i[0],h=o[1]-i[1];l=Math.atan(h/c)-(c<0?Math.PI:0)}return(0,b.makeRegular)(s,i,a,l),s}},e.createBox=function(){return function(t,e){var n=(0,h.boundingExtent)(t),r=[[(0,h.getBottomLeft)(n),(0,h.getBottomRight)(n),(0,h.getTopRight)(n),(0,h.getTopLeft)(n),(0,h.getBottomLeft)(n)]],i=e;return i?i.setCoordinates(r):i=new w.default(r),i}};var r=P(n(4)),i=P(n(33)),o=P(n(102)),a=P(n(301)),s=n(21),u=n(78),l=P(n(37)),c=n(58),h=n(1),f=n(34),p=P(n(450)),d=P(n(20)),g=P(n(44)),v=P(n(147)),y=P(n(99)),_=P(n(170)),m=P(n(28)),b=n(32),w=P(b),E=P(n(57)),x=P(n(294)),O=P(n(85)),C=P(n(36)),S=n(65);function P(t){return t&&t.__esModule?t:{default:t}}var M=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},A="drawstart",D="drawend",I=function(t){function e(e,n){var r=t.call(this,e)||this;return r.feature=n,r}return M(e,t),e}(l.default),L=function(t){function e(e){var n=this,r=e;r.stopDown||(r.stopDown=f.FALSE),(n=t.call(this,r)||this).shouldHandle_=!1,n.downPx_=null,n.downTimeout_,n.lastDragTime_,n.freehand_=!1,n.source_=e.source?e.source:null,n.features_=e.features?e.features:null,n.snapTolerance_=e.snapTolerance?e.snapTolerance:12,n.type_=e.type,n.mode_=function(t){var e;t===d.default.POINT||t===d.default.MULTI_POINT?e=T.POINT:t===d.default.LINE_STRING||t===d.default.MULTI_LINE_STRING?e=T.LINE_STRING:t===d.default.POLYGON||t===d.default.MULTI_POLYGON?e=T.POLYGON:t===d.default.CIRCLE&&(e=T.CIRCLE);return e}(n.type_),n.stopClick_=!!e.stopClick,n.minPoints_=e.minPoints?e.minPoints:n.mode_===T.POLYGON?3:2,n.maxPoints_=e.maxPoints?e.maxPoints:1/0,n.finishCondition_=e.finishCondition?e.finishCondition:f.TRUE;var i=e.geometryFunction;if(!i)if(n.type_===d.default.CIRCLE)i=function(t,e){var n=e||new p.default([NaN,NaN]),r=(0,u.squaredDistance)(t[0],t[1]);return n.setCenterAndRadius(t[0],Math.sqrt(r)),n};else{var o,a=n.mode_;a===T.POINT?o=m.default:a===T.LINE_STRING?o=g.default:a===T.POLYGON&&(o=w.default),i=function(t,e){var n=e;return n?a===T.POLYGON?t[0].length?n.setCoordinates([t[0].concat([t[0][0]])]):n.setCoordinates([]):n.setCoordinates(t):n=new o(t),n}}return n.geometryFunction_=i,n.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,n.finishCoordinate_=null,n.sketchFeature_=null,n.sketchPoint_=null,n.sketchCoords_=null,n.sketchLine_=null,n.sketchLineCoords_=null,n.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,n.overlay_=new O.default({source:new C.default({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:function(){var t=(0,S.createEditingStyle)();return function(e,n){return t[e.getGeometry().getType()]}}(),updateWhileInteracting:!0}),n.geometryName_=e.geometryName,n.condition_=e.condition?e.condition:c.noModifierKeys,n.freehandCondition_,e.freehand?n.freehandCondition_=c.always:n.freehandCondition_=e.freehandCondition?e.freehandCondition:c.shiftKeyOnly,n.addEventListener((0,s.getChangeEventType)(x.default.ACTIVE),n.updateState_),n}return M(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===r.default.CONTEXTMENU&&e.preventDefault(),this.freehand_=this.mode_!==T.POINT&&this.freehandCondition_(e);var n=e.type===o.default.POINTERMOVE,i=!0;!this.freehand_&&this.lastDragTime_&&e.type===o.default.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&e.type===o.default.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e),i=!1):this.freehand_&&e.type===o.default.POINTERDOWN?i=!1:n?(i=e.type===o.default.POINTERMOVE)&&this.freehand_?i=this.handlePointerMove_(e):("mouse"==e.pointerEvent.pointerType||e.type===o.default.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===o.default.DBLCLICK&&(i=!1),t.prototype.handleEvent.call(this,e)&&i},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new a.default(o.default.POINTERMOVE,t.map,t.pointerEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},e.prototype.handleUpEvent=function(t){var e=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);var n=this.mode_===T.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||n?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t):(this.startDrawing_(t),this.mode_===T.POINT&&this.finishDrawing()),e=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!e&&this.stopClick_&&t.stopPropagation(),e},e.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,n=t.pixel,r=e[0]-n[0],i=e[1]-n[1],o=r*r+i*i;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t),!0},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var n=!1,r=[this.finishCoordinate_];if(this.mode_===T.LINE_STRING)n=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===T.POLYGON){var i=this.sketchCoords_;n=i[0].length>this.minPoints_,r=[i[0][0],i[0][i[0].length-2]]}if(n)for(var o=t.map,a=0,s=r.length;a<s;a++){var u=r[a],l=o.getPixelFromCoordinate(u),c=t.pixel,h=c[0]-l[0],f=c[1]-l[1],p=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(h*h+f*f)<=p){this.finishCoordinate_=u;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new i.default(new m.default(e)),this.updateSketchFeatures_())},e.prototype.startDrawing_=function(t){var e=t.coordinate;this.finishCoordinate_=e,this.mode_===T.POINT?this.sketchCoords_=e.slice():this.mode_===T.POLYGON?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new i.default(new g.default(this.sketchLineCoords_)));var n=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new i.default,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new I(A,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,n,r,o=t.coordinate,a=this.sketchFeature_.getGeometry();(this.mode_===T.POINT?n=this.sketchCoords_:this.mode_===T.POLYGON?(n=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(t)&&(o=this.finishCoordinate_.slice())):n=(e=this.sketchCoords_)[e.length-1],n[0]=o[0],n[1]=o[1],this.geometryFunction_(this.sketchCoords_,a),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(o);if(a.getType()==d.default.POLYGON&&this.mode_!==T.POLYGON){this.sketchLine_||(this.sketchLine_=new i.default);var s=a.getLinearRing(0);(r=this.sketchLine_.getGeometry())?(r.setFlatCoordinates(s.getLayout(),s.getFlatCoordinates()),r.changed()):(r=new g.default(s.getFlatCoordinates(),s.getLayout()),this.sketchLine_.setGeometry(r))}else this.sketchLineCoords_&&(r=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,n,r=t.coordinate,i=this.sketchFeature_.getGeometry();this.mode_===T.LINE_STRING?(this.finishCoordinate_=r.slice(),(n=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(r.slice()),this.geometryFunction_(n,i)):this.mode_===T.POLYGON&&((n=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(r.slice()),e&&(this.finishCoordinate_=n[0]),this.geometryFunction_(this.sketchCoords_,i)),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry();this.mode_===T.LINE_STRING?((t=this.sketchCoords_).splice(-2,1),this.geometryFunction_(t,e),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===T.POLYGON&&((t=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,n=t.getGeometry();this.mode_===T.LINE_STRING?(e.pop(),this.geometryFunction_(e,n)):this.mode_===T.POLYGON&&(e[0].pop(),this.geometryFunction_(e,n),e=n.getCoordinates()),this.type_===d.default.MULTI_POINT?t.setGeometry(new y.default([e])):this.type_===d.default.MULTI_LINE_STRING?t.setGeometry(new v.default([e])):this.type_===d.default.MULTI_POLYGON&&t.setGeometry(new _.default([e])),this.dispatchEvent(new I(D,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return t&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),t},e.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new I(A,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing_(),this.overlay_.setMap(e?t:null)},e}(E.default);e.default=L},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inView=function(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var r=e.zoom;return r>t.minZoom&&r<=t.maxZoom};var r=n(26),i=h(n(4)),o=n(21),a=h(n(472)),s=h(n(471)),u=n(10),l=h(n(215)),c=h(n(69));function h(t){return t&&t.__esModule?t:{default:t}}var f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t){function e(e){var n=this,r=(0,u.assign)({},e);delete r.source,(n=t.call(this,r)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addEventListener((0,o.getChangeEventType)(s.default.SOURCE),n.handleSourcePropertyChange_);var i=e.source?e.source:null;return n.setSource(i),n}return f(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(s.default.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():c.default.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,r.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=(0,r.listen)(t,i.default.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_.getFeatures(t)},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&((0,r.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,r.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,r.listen)(t,l.default.PRECOMPOSE,function(t){t.frameState.layerStatesArray.push(this.getLayerState(!1))},this),this.mapRenderKey_=(0,r.listen)(this,i.default.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(s.default.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},e}(a.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.simplifyLineString=function(t,e,n,r,o,s,u){var l=void 0!==u?u:[];s||(n=a(t,e,n,r,o,l,0),t=l,e=0,r=2);return l.length=i(t,e,n,r,o,l,0),l},e.douglasPeucker=i,e.douglasPeuckerArray=o,e.douglasPeuckerMultiArray=function(t,e,n,r,i,a,s,u){for(var l=0,c=n.length;l<c;++l){var h=n[l],f=[];s=o(t,e,h,r,i,a,s,f),u.push(f),e=h[h.length-1]}return s},e.radialDistance=a,e.snap=s,e.quantize=u,e.quantizeArray=l,e.quantizeMultiArray=function(t,e,n,r,i,o,a,s){for(var u=0,c=n.length;u<c;++u){var h=n[u],f=[];a=l(t,e,h,r,i,o,a,f),s.push(f),e=h[h.length-1]}return a};var r=n(14);function i(t,e,n,i,o,a,s){var u=(n-e)/i;if(u<3){for(;e<n;e+=i)a[s++]=t[e],a[s++]=t[e+1];return s}var l=new Array(u);l[0]=1,l[u-1]=1;for(var c=[e,n-i],h=0;c.length>0;){for(var f=c.pop(),p=c.pop(),d=0,g=t[p],v=t[p+1],y=t[f],_=t[f+1],m=p+i;m<f;m+=i){var b=t[m],w=t[m+1],E=(0,r.squaredSegmentDistance)(b,w,g,v,y,_);E>d&&(h=m,d=E)}d>o&&(l[(h-e)/i]=1,p+i<h&&c.push(p,h),h+i<f&&c.push(h,f))}for(m=0;m<u;++m)l[m]&&(a[s++]=t[e+m*i],a[s++]=t[e+m*i+1]);return s}function o(t,e,n,r,o,a,s,u){for(var l=0,c=n.length;l<c;++l){var h=n[l];s=i(t,e,h,r,o,a,s),u.push(s),e=h}return s}function a(t,e,n,i,o,a,s){if(n<=e+i){for(;e<n;e+=i)a[s++]=t[e],a[s++]=t[e+1];return s}var u=t[e],l=t[e+1];a[s++]=u,a[s++]=l;var c=u,h=l;for(e+=i;e<n;e+=i)c=t[e],h=t[e+1],(0,r.squaredDistance)(u,l,c,h)>o&&(a[s++]=c,a[s++]=h,u=c,l=h);return c==u&&h==l||(a[s++]=c,a[s++]=h),s}function s(t,e){return e*Math.round(t/e)}function u(t,e,n,r,i,o,a){if(e==n)return a;var u,l,c=s(t[e],i),h=s(t[e+1],i);e+=r,o[a++]=c,o[a++]=h;do{if(u=s(t[e],i),l=s(t[e+1],i),(e+=r)==n)return o[a++]=u,o[a++]=l,a}while(u==c&&l==h);for(;e<n;){var f=s(t[e],i),p=s(t[e+1],i);if(e+=r,f!=u||p!=l){var d=u-c,g=l-h,v=f-c,y=p-h;d*y==g*v&&(d<0&&v<d||d==v||d>0&&v>d)&&(g<0&&y<g||g==y||g>0&&y>g)?(u=f,l=p):(o[a++]=u,o[a++]=l,c=u,h=l,u=f,l=p)}}return o[a++]=u,o[a++]=l,a}function l(t,e,n,r,i,o,a,s){for(var l=0,c=n.length;l<c;++l){var h=n[l];a=u(t,e,h,r,i,o,a),s.push(a),e=h}return a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_RADIUS=void 0,e.getDistance=a,e.getLength=function t(e,n){var r=n||{};var a=r.radius||o;var u=r.projection||"EPSG:3857";var l=e.getType();l!==i.default.GEOMETRY_COLLECTION&&(e=e.clone().transform(u,"EPSG:4326"));var c=0;var h,f,p,d,g,v;switch(l){case i.default.POINT:case i.default.MULTI_POINT:break;case i.default.LINE_STRING:case i.default.LINEAR_RING:h=e.getCoordinates(),c=s(h,a);break;case i.default.MULTI_LINE_STRING:case i.default.POLYGON:for(h=e.getCoordinates(),p=0,d=h.length;p<d;++p)c+=s(h[p],a);break;case i.default.MULTI_POLYGON:for(h=e.getCoordinates(),p=0,d=h.length;p<d;++p)for(f=h[p],g=0,v=f.length;g<v;++g)c+=s(f[g],a);break;case i.default.GEOMETRY_COLLECTION:var y=e.getGeometries();for(p=0,d=y.length;p<d;++p)c+=t(y[p],n);break;default:throw new Error("Unsupported geometry type: "+l)}return c},e.getArea=function t(e,n){var r=n||{};var a=r.radius||o;var s=r.projection||"EPSG:3857";var l=e.getType();l!==i.default.GEOMETRY_COLLECTION&&(e=e.clone().transform(s,"EPSG:4326"));var c=0;var h,f,p,d,g,v;switch(l){case i.default.POINT:case i.default.MULTI_POINT:case i.default.LINE_STRING:case i.default.MULTI_LINE_STRING:case i.default.LINEAR_RING:break;case i.default.POLYGON:for(h=e.getCoordinates(),c=Math.abs(u(h[0],a)),p=1,d=h.length;p<d;++p)c-=Math.abs(u(h[p],a));break;case i.default.MULTI_POLYGON:for(h=e.getCoordinates(),p=0,d=h.length;p<d;++p)for(f=h[p],c+=Math.abs(u(f[0],a)),g=1,v=f.length;g<v;++g)c-=Math.abs(u(f[g],a));break;case i.default.GEOMETRY_COLLECTION:var y=e.getGeometries();for(p=0,d=y.length;p<d;++p)c+=t(y[p],n);break;default:throw new Error("Unsupported geometry type: "+l)}return c},e.offset=function(t,e,n,i){var a=i||o,s=(0,r.toRadians)(t[1]),u=(0,r.toRadians)(t[0]),l=e/a,c=Math.asin(Math.sin(s)*Math.cos(l)+Math.cos(s)*Math.sin(l)*Math.cos(n)),h=u+Math.atan2(Math.sin(n)*Math.sin(l)*Math.cos(s),Math.cos(l)-Math.sin(s)*Math.sin(c));return[(0,r.toDegrees)(h),(0,r.toDegrees)(c)]};var r=n(14),i=function(t){return t&&t.__esModule?t:{default:t}}
/**
 * @license
 * Latitude/longitude spherical geodesy formulae taken from
 * http://www.movable-type.co.uk/scripts/latlong.html
 * Licensed under CC-BY-3.0.
 */(n(20));var o=e.DEFAULT_RADIUS=6371008.8;function a(t,e,n){var i=n||o,a=(0,r.toRadians)(t[1]),s=(0,r.toRadians)(e[1]),u=(s-a)/2,l=(0,r.toRadians)(e[0]-t[0])/2,c=Math.sin(u)*Math.sin(u)+Math.sin(l)*Math.sin(l)*Math.cos(a)*Math.cos(s);return 2*i*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function s(t,e){for(var n=0,r=0,i=t.length;r<i-1;++r)n+=a(t[r],t[r+1],e);return n}function u(t,e){for(var n=0,i=t.length,o=t[i-1][0],a=t[i-1][1],s=0;s<i;s++){var u=t[s][0],l=t[s][1];n+=(0,r.toRadians)(u-o)*(2+Math.sin((0,r.toRadians)(a))+Math.sin((0,r.toRadians)(l))),o=u,a=l}return n*e*e/2}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transform2D=function(t,e,n,r,i,o){for(var a=o||[],s=0,u=e;u<n;u+=r){var l=t[u],c=t[u+1];a[s++]=i[0]*l+i[2]*c+i[4],a[s++]=i[1]*l+i[3]*c+i[5]}o&&a.length!=s&&(a.length=s);return a},e.rotate=function(t,e,n,r,i,o,a){for(var s=a||[],u=Math.cos(i),l=Math.sin(i),c=o[0],h=o[1],f=0,p=e;p<n;p+=r){var d=t[p]-c,g=t[p+1]-h;s[f++]=c+d*u-g*l,s[f++]=h+d*l+g*u;for(var v=p+2;v<p+r;++v)s[f++]=t[v]}a&&s.length!=f&&(s.length=f);return s},e.scale=function(t,e,n,r,i,o,a,s){for(var u=s||[],l=a[0],c=a[1],h=0,f=e;f<n;f+=r){var p=t[f]-l,d=t[f+1]-c;u[h++]=l+i*p,u[h++]=c+o*d;for(var g=f+2;g<f+r;++g)u[h++]=t[g]}s&&u.length!=h&&(u.length=h);return u},e.translate=function(t,e,n,r,i,o,a){for(var s=a||[],u=0,l=e;l<n;l+=r){s[u++]=t[l]+i,s[u++]=t[l+1]+o;for(var c=l+2;c<l+r;++c)s[u++]=t[c]}a&&s.length!=u&&(s.length=u);return s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCenterConstraint=M,e.createResolutionConstraint=T,e.createRotationConstraint=A,e.isNoopAnimation=D;var r=n(174),i=n(7),o=n(34),a=n(865),s=x(n(21)),u=n(864),l=n(298),c=x(n(173)),h=x(n(478)),f=n(17),p=n(16),d=n(78),g=n(101),v=n(1),y=x(n(20)),_=n(32),m=n(14),b=n(10),w=n(3),E=x(n(89));function x(t){return t&&t.__esModule?t:{default:t}}var O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=0,S=function(t){function e(e){var n=t.call(this)||this,r=(0,b.assign)({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=(0,w.createProjection)(r.projection,"EPSG:3857"),n.targetCenter_=null,n.targetResolution_,n.targetRotation_,r.center&&(r.center=(0,w.fromUserCoordinate)(r.center,n.projection_)),r.extent&&(r.extent=(0,w.fromUserExtent)(r.extent,n.projection_)),n.applyOptions_(r),n}return O(e,t),e.prototype.applyOptions_=function(t){var e=T(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=e.minZoom;var n=M(t),r=e.constraint,i=A(t);this.constraints_={center:n,resolution:r,rotation:i},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.resolveConstraints(0),this.setProperties({}),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=(0,b.assign)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),(0,b.assign)({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var r=arguments[n];r.center&&((r=(0,b.assign)({},r)).center=(0,w.fromUserCoordinate)(r.center,this.getProjection())),r.anchor&&((r=(0,b.assign)({},r)).anchor=(0,w.fromUserCoordinate)(r.anchor,this.getProjection())),e[n]=r}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var r=arguments[n-1];return r.center&&this.setCenterInternal(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&P(e,!0))}for(var i=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,s=this.targetRotation_,u=[],l=0;l<n;++l){var h=arguments[l],f={start:i,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||g.inAndOut,callback:e};if(h.center&&(f.sourceCenter=o,f.targetCenter=h.center.slice(),o=f.targetCenter),void 0!==h.zoom?(f.sourceResolution=a,f.targetResolution=this.getResolutionForZoom(h.zoom),a=f.targetResolution):h.resolution&&(f.sourceResolution=a,f.targetResolution=h.resolution,a=f.targetResolution),void 0!==h.rotation){f.sourceRotation=s;var p=(0,m.modulo)(h.rotation-s+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=s+p,s=f.targetRotation}D(f)?f.complete=!0:i+=f.duration,u.push(f)}this.animations_.push(u),this.setHint(c.default.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[c.default.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[c.default.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(c.default.ANIMATING,-this.hints_[c.default.ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&P(n[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var r=this.animations_[n],i=!0,o=0,a=r.length;o<a;++o){var s=r[o];if(!s.complete){var u=t-s.start,l=s.duration>0?u/s.duration:1;l>=1?(s.complete=!0,l=1):i=!1;var h=s.easing(l);if(s.sourceCenter){var f=s.sourceCenter[0],p=s.sourceCenter[1],d=f+h*(s.targetCenter[0]-f),g=p+h*(s.targetCenter[1]-p);this.targetCenter_=[d,g]}if(s.sourceResolution&&s.targetResolution){var v=1===h?s.targetResolution:s.sourceResolution+h*(s.targetResolution-s.sourceResolution);if(s.anchor){var y=this.getSizeFromViewport_(this.getRotation()),_=this.constraints_.resolution(v,0,y,!0);this.targetCenter_=this.calculateCenterZoom(_,s.anchor)}this.targetResolution_=v,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var b=1===h?(0,m.modulo)(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+h*(s.targetRotation-s.sourceRotation);if(s.anchor){var w=this.constraints_.rotation(b,!0);this.targetCenter_=this.calculateCenterRotate(w,s.anchor)}this.targetRotation_=b}if(this.applyTargetState_(!0),e=!0,!s.complete)break}}if(i){this.animations_[n]=null,this.setHint(c.default.ANIMATING,-1);var E=r[0].callback;E&&P(E,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,r=this.getCenterInternal();return void 0!==r&&(n=[r[0]-e[0],r[1]-e[1]],(0,d.rotate)(n,t-this.getRotation()),(0,d.add)(n,e)),n},e.prototype.calculateCenterZoom=function(t,e){var n,r=this.getCenterInternal(),i=this.getResolution();void 0!==r&&void 0!==i&&(n=[e[0]-t*(e[0]-r[0])/i,e[1]-t*(e[1]-r[1])/i]);return n},e.prototype.getSizeFromViewport_=function(t){var e=[100,100],n='.ol-viewport[data-view="'+(0,i.getUid)(this)+'"]',r=document.querySelector(n);if(r){var o=getComputedStyle(r);e[0]=parseInt(o.width,10),e[1]=parseInt(o.height,10)}if(t){var a=e[0],s=e[1];e[0]=Math.abs(a*Math.cos(t))+Math.abs(s*Math.sin(t)),e[1]=Math.abs(a*Math.sin(t))+Math.abs(s*Math.cos(t))}return e},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?(0,w.toUserCoordinate)(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(h.default.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=this.calculateExtentInternal(t);return(0,w.toUserExtent)(e,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenterInternal();(0,p.assert)(n,1);var r=this.getResolution();(0,p.assert)(void 0!==r,2);var i=this.getRotation();return(0,p.assert)(void 0!==i,3),(0,v.getForViewAndSize)(n,r,i,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(h.default.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal((0,w.fromUserExtent)(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getSizeFromViewport_(),r=(0,v.getWidth)(t)/n[0],i=(0,v.getHeight)(t)/n[1];return Math.max(r,i)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(t){return n/Math.pow(e,t*i)}},e.prototype.getRotation=function(){return this.get(h.default.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/i}},e.prototype.getState=function(){var t=this.getCenterInternal(),e=this.getProjection(),n=this.getResolution(),r=this.getRotation();return{center:t.slice(0),projection:void 0!==e?e:null,resolution:n,rotation:r,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,r=this.minZoom_||0;if(this.resolutions_){var i=(0,f.linearFindNearest)(this.resolutions_,t,1);r=i,e=this.resolutions_[i],n=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=(0,m.clamp)(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,(0,m.clamp)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n,r=(0,b.assign)({size:this.getSizeFromViewport_()},e||{});if((0,p.assert)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)){(0,p.assert)(!(0,v.isEmpty)(t),25);var i=(0,w.fromUserExtent)(t,this.getProjection());n=(0,_.fromExtent)(i)}else if(t.getType()===y.default.CIRCLE){i=(0,w.fromUserExtent)(t.getExtent(),this.getProjection());(n=(0,_.fromExtent)(i)).rotate(this.getRotation(),(0,v.getCenter)(i))}else{var o=(0,w.getUserProjection)();n=o?n.clone().transform(o,this.getProjection()):t}this.fitInternal(n,r)},e.prototype.fitInternal=function(t,e){var n=e||{},r=n.size;r||(r=this.getSizeFromViewport_());var i,a=void 0!==n.padding?n.padding:[0,0,0,0],s=void 0!==n.nearest&&n.nearest;i=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;for(var u=t.getFlatCoordinates(),l=this.getRotation(),c=Math.cos(-l),h=Math.sin(-l),f=1/0,p=1/0,d=-1/0,g=-1/0,v=t.getStride(),y=0,_=u.length;y<_;y+=v){var m=u[y]*c-u[y+1]*h,b=u[y]*h+u[y+1]*c;f=Math.min(f,m),p=Math.min(p,b),d=Math.max(d,m),g=Math.max(g,b)}var w=this.getResolutionForExtentInternal([f,p,d,g],[r[0]-a[1]-a[3],r[1]-a[0]-a[2]]);w=isNaN(w)?i:Math.max(w,i),w=this.getConstrainedResolution(w,s?0:1),h=-h;var E=(f+d)/2,x=(p+g)/2,O=[(E+=(a[1]-a[3])/2*w)*c-(x+=(a[0]-a[2])/2*w)*h,x*c+E*h],C=n.callback?n.callback:o.VOID;void 0!==n.duration?this.animateInternal({resolution:w,center:this.getConstrainedCenter(O,w),duration:n.duration,easing:n.easing},C):(this.targetResolution_=w,this.targetCenter_=O,this.applyTargetState_(!1,!0),P(C,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal((0,w.fromUserCoordinate)(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){var r=this.getRotation(),i=Math.cos(-r),o=Math.sin(-r),a=t[0]*i-t[1]*o,s=t[1]*i+t[0]*o,u=this.getResolution(),l=(a+=(e[0]/2-n[0])*u)*i-(s+=(n[1]-e[1]/2)*u)*(o=-o),c=s*i+a*o;this.setCenterInternal([l,c])},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=(0,w.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&(0,w.fromUserCoordinate)(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.getSizeFromViewport_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,r,n);void 0!==e&&(this.targetCenter_=this.calculateCenterZoom(i,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=(0,w.fromUserCoordinate)(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,n);void 0!==e&&(this.targetCenter_=this.calculateCenterRotate(r,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal((0,w.fromUserCoordinate)(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,r=this.constraints_.rotation(this.targetRotation_,n),i=this.getSizeFromViewport_(r),o=this.constraints_.resolution(this.targetResolution_,0,i,n),a=this.constraints_.center(this.targetCenter_,o,i,n);this.get(h.default.ROTATION)!==r&&this.set(h.default.ROTATION,r),this.get(h.default.RESOLUTION)!==o&&this.set(h.default.RESOLUTION,o),this.get(h.default.CENTER)&&(0,d.equals)(this.get(h.default.CENTER),a)||this.set(h.default.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations()},e.prototype.resolveConstraints=function(t,e,n){var r=void 0!==t?t:200,i=e||0,o=this.constraints_.rotation(this.targetRotation_),a=this.getSizeFromViewport_(o),s=this.constraints_.resolution(this.targetResolution_,i,a),u=this.constraints_.center(this.targetCenter_,s,a);if(0===r)return this.targetResolution_=s,this.targetRotation_=o,this.targetCenter_=u,void this.applyTargetState_();this.getResolution()===s&&this.getRotation()===o&&this.getCenterInternal()&&(0,d.equals)(this.getCenterInternal(),u)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:u,resolution:s,duration:r,easing:g.easeOut,anchor:n}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(c.default.INTERACTING,1)},e.prototype.endInteraction=function(t,e,n){var r=n&&(0,w.fromUserCoordinate)(n,this.getProjection());this.endInteractionInternal(t,e,r)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(c.default.INTERACTING,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getSizeFromViewport_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,r=this.getSizeFromViewport_(this.getRotation());return this.constraints_.resolution(t,n,r)},e}(s.default);function P(t,e){setTimeout(function(){t(e)},0)}function M(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return(0,a.createExtent)(t.extent,t.constrainOnlyCenter,e)}var n=(0,w.createProjection)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var r=n.getExtent().slice();return r[0]=-1/0,r[2]=1/0,(0,a.createExtent)(r,!1,!1)}return a.none}function T(t){var e,n,i,o=void 0!==t.minZoom?t.minZoom:C,a=void 0!==t.maxZoom?t.maxZoom:28,s=void 0!==t.zoomFactor?t.zoomFactor:2,l=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,h=(0,w.createProjection)(t.projection,"EPSG:3857"),f=h.getExtent(),p=t.constrainOnlyCenter,d=t.extent;if(l||d||!h.isGlobal()||(p=!1,d=f),void 0!==t.resolutions){var g=t.resolutions;n=g[o],i=void 0!==g[a]?g[a]:g[g.length-1],e=t.constrainResolution?(0,u.createSnapToResolutions)(g,c,!p&&d):(0,u.createMinMaxResolution)(n,i,c,!p&&d)}else{var y=(f?Math.max((0,v.getWidth)(f),(0,v.getHeight)(f)):360*w.METERS_PER_UNIT[E.default.DEGREES]/h.getMetersPerUnit())/r.DEFAULT_TILE_SIZE/Math.pow(2,C),_=y/Math.pow(2,28-C);void 0!==(n=t.maxResolution)?o=0:n=y/Math.pow(s,o),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(s,a):y/Math.pow(s,a):_),a=o+Math.floor(Math.log(n/i)/Math.log(s)),i=n/Math.pow(s,a-o),e=t.constrainResolution?(0,u.createSnapToPower)(s,n,i,c,!p&&d):(0,u.createMinMaxResolution)(n,i,c,!p&&d)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:s}}function A(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(0,l.createSnapToZero)():!1===e?l.none:"number"==typeof e?(0,l.createSnapToN)(e):l.none}return l.disable}function D(t){return!(t.sourceCenter&&t.targetCenter&&!(0,d.equals)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}e.default=S},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.disposed_=!1}return t.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(154)),i=n(34),o=s(n(37)),a=n(10);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_={},n.dispatching_={},n.listeners_={},n}return u(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_[t];n||(n=[],this.listeners_[t]=n),-1===n.indexOf(e)&&n.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new o.default(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var r,a=this.listeners_[n];if(a){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var s=0,u=a.length;s<u;++s)if(!1===a[s].call(this,e)||e.propagationStopped){r=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var l=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];l--;)this.removeEventListener(n,i.VOID);delete this.dispatching_[n]}return r}},e.prototype.disposeInternal=function(){(0,a.clear)(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var r=n.indexOf(e);-1!==r&&(t in this.pendingRemovals_?(n[r]=i.VOID,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t]))}},e}(r.default);e.default=l},function(t,e,n){(function(t){var r=n(510),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,n(316)(t))},function(t,e,n){var r=n(15);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e){t.exports={}},function(t,e,n){var r=n(0),i=n(81),o=n(13),a=n(342),s="["+a+"]",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),c=function(t,e,n){var i={},s=o(function(){return!!a[t]()||""!=""[t]()}),u=i[t]=s?e(h):a[t];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},h=c.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=c},function(t,e,n){var r=n(74),i=n(23)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(30).f,i=n(62),o=n(23)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(12),i=n(269),o=n(796),a=n(484);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e,n){var r=n(221),i=n(198),o=n(272),a=n(42),s=n(71),u=n(220),l=200;t.exports=function(t,e,n,c){var h=-1,f=i,p=!0,d=t.length,g=[],v=e.length;if(!d)return g;n&&(e=a(e,s(n))),c?(f=o,p=!1):e.length>=l&&(f=u,p=!1,e=new r(e));t:for(;++h<d;){var y=t[h],_=null==n?y:n(y);if(y=c||0!==y?y:0,p&&_==_){for(var m=v;m--;)if(e[m]===_)continue t;g.push(y)}else f(e,_,c)||g.push(y)}return g}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=g(n(33)),i=n(118),o=g(n(825)),a=g(n(279)),s=g(n(20)),u=g(n(77)),l=g(n(44)),c=g(n(147)),h=g(n(99)),f=g(n(170)),p=g(n(28)),d=g(n(32));function g(t){return t&&t.__esModule?t:{default:t}}var v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y={POINT:p.default,LINESTRING:l.default,POLYGON:d.default,MULTIPOINT:h.default,MULTILINESTRING:c.default,MULTIPOLYGON:f.default},_="EMPTY",m="Z",b="M",w=1,E=2,x=3,O=4,C=5,S=6,P={};for(var M in s.default)P[M]=s.default[M].toUpperCase();var T=function(){function t(t){this.wkt=t,this.index_=-1}return t.prototype.isAlpha_=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},t.prototype.isNumeric_=function(t,e){return t>="0"&&t<="9"||"."==t&&!(void 0!==e&&e)},t.prototype.isWhiteSpace_=function(t){return" "==t||"\t"==t||"\r"==t||"\n"==t},t.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},t.prototype.nextToken=function(){var t,e=this.nextChar_(),n=this.index_,r=e;if("("==e)t=E;else if(","==e)t=C;else if(")"==e)t=x;else if(this.isNumeric_(e)||"-"==e)t=O,r=this.readNumber_();else if(this.isAlpha_(e))t=w,r=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(""!==e)throw new Error("Unexpected character: "+e);t=S}return{position:n,value:r,type:t}},t.prototype.readNumber_=function(){var t,e=this.index_,n=!1,r=!1;do{"."==t?n=!0:"e"!=t&&"E"!=t||(r=!0),t=this.nextChar_()}while(this.isNumeric_(t,n)||!r&&("e"==t||"E"==t)||r&&("-"==t||"+"==t));return parseFloat(this.wkt.substring(e,this.index_--))},t.prototype.readText_=function(){var t,e=this.index_;do{t=this.nextChar_()}while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()},t}(),A=function(){function t(t){this.lexer_=t,this.token_,this.layout_=u.default.XY}return t.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},t.prototype.isTokenType=function(t){return this.token_.type==t},t.prototype.match=function(t){var e=this.isTokenType(t);return e&&this.consume_(),e},t.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},t.prototype.parseGeometryLayout_=function(){var t=u.default.XY,e=this.token_;if(this.isTokenType(w)){var n=e.value;n===m?t=u.default.XYZ:n===b?t=u.default.XYM:"ZM"===n&&(t=u.default.XYZM),t!==u.default.XY&&this.consume_()}return t},t.prototype.parseGeometryCollectionText_=function(){if(this.match(E)){var t=[];do{t.push(this.parseGeometry_())}while(this.match(C));if(this.match(x))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parsePointText_=function(){if(this.match(E)){var t=this.parsePoint_();if(this.match(x))return t}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())},t.prototype.parseLineStringText_=function(){if(this.match(E)){var t=this.parsePointList_();if(this.match(x))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parsePolygonText_=function(){if(this.match(E)){var t=this.parseLineStringTextList_();if(this.match(x))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiPointText_=function(){if(this.match(E)){var t=void 0;if(t=this.token_.type==E?this.parsePointTextList_():this.parsePointList_(),this.match(x))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiLineStringText_=function(){if(this.match(E)){var t=this.parseLineStringTextList_();if(this.match(x))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiPolygonText_=function(){if(this.match(E)){var t=this.parsePolygonTextList_();if(this.match(x))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parsePoint_=function(){for(var t=[],e=this.layout_.length,n=0;n<e;++n){var r=this.token_;if(!this.match(O))break;t.push(r.value)}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())},t.prototype.parsePointList_=function(){for(var t=[this.parsePoint_()];this.match(C);)t.push(this.parsePoint_());return t},t.prototype.parsePointTextList_=function(){for(var t=[this.parsePointText_()];this.match(C);)t.push(this.parsePointText_());return t},t.prototype.parseLineStringTextList_=function(){for(var t=[this.parseLineStringText_()];this.match(C);)t.push(this.parseLineStringText_());return t},t.prototype.parsePolygonTextList_=function(){for(var t=[this.parsePolygonText_()];this.match(C);)t.push(this.parsePolygonText_());return t},t.prototype.isEmptyGeometry_=function(){var t=this.isTokenType(w)&&this.token_.value==_;return t&&this.consume_(),t},t.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},t.prototype.parseGeometry_=function(){var t=this.token_;if(this.match(w)){var e=t.value;if(this.layout_=this.parseGeometryLayout_(),"GEOMETRYCOLLECTION"==e){var n=this.parseGeometryCollectionText_();return new a.default(n)}var r=y[e];if(!r)throw new Error("Invalid geometry type: "+e);var i=void 0;switch(e){case"POINT":i=this.parsePointText_();break;case"LINESTRING":i=this.parseLineStringText_();break;case"POLYGON":i=this.parsePolygonText_();break;case"MULTIPOINT":i=this.parseMultiPointText_();break;case"MULTILINESTRING":i=this.parseMultiLineStringText_();break;case"MULTIPOLYGON":i=this.parseMultiPolygonText_();break;default:throw new Error("Invalid geometry type: "+e)}return i||(i=r===y.POINT?[NaN,NaN]:[]),new r(i,this.layout_)}throw new Error(this.formatErrorMessage_())},t}(),D=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.splitCollection_=void 0!==r.splitCollection&&r.splitCollection,n}return v(e,t),e.prototype.parse_=function(t){var e=new T(t);return new A(e).parse()},e.prototype.readFeatureFromText=function(t,e){var n=this.readGeometryFromText(t,e);if(n){var i=new r.default;return i.setGeometry(n),i}return null},e.prototype.readFeaturesFromText=function(t,e){for(var n=[],i=this.readGeometryFromText(t,e),o=[],a=0,u=(n=this.splitCollection_&&i.getType()==s.default.GEOMETRY_COLLECTION?i.getGeometriesArray():[i]).length;a<u;++a){var l=new r.default;l.setGeometry(n[a]),o.push(l)}return o},e.prototype.readGeometryFromText=function(t,e){var n=this.parse_(t);return n?(0,i.transformGeometryWithOptions)(n,!1,e):null},e.prototype.writeFeatureText=function(t,e){var n=t.getGeometry();return n?this.writeGeometryText(n,e):""},e.prototype.writeFeaturesText=function(t,e){if(1==t.length)return this.writeFeatureText(t[0],e);for(var n=[],r=0,i=t.length;r<i;++r)n.push(t[r].getGeometry());var o=new a.default(n);return this.writeGeometryText(o,e)},e.prototype.writeGeometryText=function(t,e){return R((0,i.transformGeometryWithOptions)(t,!0,e))},e}(o.default);function I(t){var e=t.getCoordinates();return 0===e.length?"":e.join(" ")}function L(t){for(var e=t.getCoordinates(),n=[],r=0,i=e.length;r<i;++r)n.push(e[r].join(" "));return n.join(",")}function F(t){for(var e=[],n=t.getLinearRings(),r=0,i=n.length;r<i;++r)e.push("("+L(n[r])+")");return e.join(",")}var k={Point:I,LineString:L,Polygon:F,MultiPoint:function(t){for(var e=[],n=t.getPoints(),r=0,i=n.length;r<i;++r)e.push("("+I(n[r])+")");return e.join(",")},MultiLineString:function(t){for(var e=[],n=t.getLineStrings(),r=0,i=n.length;r<i;++r)e.push("("+L(n[r])+")");return e.join(",")},MultiPolygon:function(t){for(var e=[],n=t.getPolygons(),r=0,i=n.length;r<i;++r)e.push("("+F(n[r])+")");return e.join(",")},GeometryCollection:function(t){for(var e=[],n=t.getGeometries(),r=0,i=n.length;r<i;++r)e.push(R(n[r]));return e.join(",")}};function R(t){var e=t.getType(),n=(0,k[e])(t);if(e=e.toUpperCase(),"function"==typeof t.getFlatCoordinates){var r=function(t){var e=t.getLayout(),n="";return e!==u.default.XYZ&&e!==u.default.XYZM||(n+=m),e!==u.default.XYM&&e!==u.default.XYZM||(n+=b),n}(t);r.length>0&&(e+=" "+r)}return 0===n.length?e+" "+_:e+"("+n+")"}e.default=D},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(174),i=n(16),o=n(282),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=n(17),u=n(1),l=n(14),c=n(87),h=n(55);var f=[0,0,0],p=function(){function t(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,i.assert)((0,s.isSorted)(this.resolutions_,function(t,e){return e-t},!0),17),!t.origins)for(var n=0,o=this.resolutions_.length-1;n<o;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,i.assert)(this.origins_.length==this.resolutions_.length,20));var l=t.extent;void 0===l||this.origin_||this.origins_||(this.origin_=(0,u.getTopLeft)(l)),(0,i.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,i.assert)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:r.DEFAULT_TILE_SIZE,(0,i.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==l?l:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new a.default(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):l&&this.calculateTileRanges_(l)}return t.prototype.forEachTileCoord=function(t,e,n){for(var r=this.getTileRangeForExtentAndZ(t,e),i=r.minX,o=r.maxX;i<=o;++i)for(var a=r.minY,s=r.maxY;a<=s;++a)n([e,i,a])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,r){var i,a,s,u=null,l=t[0]-1;for(2===this.zoomFactor_?(a=t[1],s=t[2]):u=this.getTileCoordExtent(t,r);l>=this.minZoom;){if(2===this.zoomFactor_?(a=Math.floor(a/2),s=Math.floor(s/2),i=(0,o.createOrUpdate)(a,a,s,s,n)):i=this.getTileRangeForExtentAndZ(u,l,n),e(l,i))return!0;--l}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],i=2*t[2];return(0,o.createOrUpdate)(r,r+1,i,i+1,e)}var a=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(a,t[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(t,e,n){var r=this.getOrigin(t),i=this.getResolution(t),o=(0,c.toSize)(this.getTileSize(t),this.tmpSize_),a=r[0]+e.minX*o[0]*i,s=r[0]+(e.maxX+1)*o[0]*i,l=r[1]+e.minY*o[1]*i,h=r[1]+(e.maxY+1)*o[1]*i;return(0,u.createOrUpdate)(a,l,s,h,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var r=f;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,r);var i=r[1],a=r[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,r),(0,o.createOrUpdate)(i,r[1],a,r[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=(0,c.toSize)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*n,e[1]-(t[2]+.5)*r[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=(0,c.toSize)(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*i[0]*r,a=n[1]-(t[2]+1)*i[1]*r,s=o+i[0]*r,l=a+i[1]*r;return(0,u.createOrUpdate)(o,a,s,l,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,r,i){var o=this.getZForResolution(n),a=n/this.getResolution(o),s=this.getOrigin(o),u=(0,c.toSize)(this.getTileSize(o),this.tmpSize_),l=r?.5:0,f=r?.5:0,p=Math.floor((t-s[0])/n+l),d=Math.floor((s[1]-e)/n+f),g=a*p/u[0],v=a*d/u[1];return r?(g=Math.ceil(g)-1,v=Math.ceil(v)-1):(g=Math.floor(g),v=Math.floor(v)),(0,h.createOrUpdate)(o,g,v,i)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,r,i){var o=this.getOrigin(n),a=this.getResolution(n),s=(0,c.toSize)(this.getTileSize(n),this.tmpSize_),u=r?.5:0,l=r?.5:0,f=Math.floor((t-o[0])/a+u),p=Math.floor((o[1]-e)/a+l),d=f/s[0],g=p/s[1];return r?(d=Math.ceil(d)-1,g=Math.ceil(g)-1):(d=Math.floor(d),g=Math.floor(g)),(0,h.createOrUpdate)(n,d,g,i)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},t.prototype.getZForResolution=function(t,e){var n=(0,s.linearFindNearest)(this.resolutions_,t,e||0);return(0,l.clamp)(n,this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),r=this.minZoom;r<e;++r)n[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=n},t}();e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ERROR_THRESHOLD=.5,e.ENABLE_RASTER_REPROJECTION=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.ProvideMapMixin=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,[{key:"provideMap",value:function(t){this.providedMap_=t}},{key:"getProvidedMap",value:function(){return this.providedMap_}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=s(n(21)),o=n(3),a=s(n(69));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e){var n=t.call(this)||this;return n.projection_=(0,o.get)(e.projection),n.attributions_=c(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:a.default.READY,n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return u(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return(0,r.abstract)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=c(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(i.default);function c(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),i=n(210),o=n(1),a=f(n(479)),s=f(n(20)),u=n(122),l=f(n(463)),c=n(100),h=f(n(145));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=n,o.pixelRatio=i,o.maxLineWidth=0,o.resolution=r,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return p(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,n,r,i,s){var u=this.coordinates.length,l=this.getBufferedMaxExtent();s&&(e+=r);var c,h,f,p=t[e],d=t[e+1],g=this.tmpCoordinate_,v=!0;for(c=e+r;c<n;c+=r)g[0]=t[c],g[1]=t[c+1],(f=(0,o.coordinateRelationship)(l,g))!==h?(v&&(this.coordinates[u++]=p,this.coordinates[u++]=d),this.coordinates[u++]=g[0],this.coordinates[u++]=g[1],v=!1):f===a.default.INTERSECTING?(this.coordinates[u++]=g[0],this.coordinates[u++]=g[1],v=!1):v=!0,p=g[0],d=g[1],h=f;return(i&&v||c===e+r)&&(this.coordinates[u++]=p,this.coordinates[u++]=d),u},e.prototype.drawCustomCoordinates_=function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o],u=this.appendFlatCoordinates(t,e,s,r,!1,!1);i.push(u),e=s}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var r,i,o,a,l,c=t.getType(),f=t.getStride(),p=this.coordinates.length;if(c==s.default.MULTI_POLYGON){r=(t=t).getOrientedFlatCoordinates(),a=[];var d=t.getEndss();l=0;for(var g=0,v=d.length;g<v;++g){var y=[];l=this.drawCustomCoordinates_(r,l,d[g],f,y),a.push(y)}this.instructions.push([h.default.CUSTOM,p,a,t,n,u.inflateMultiCoordinatesArray])}else c==s.default.POLYGON||c==s.default.MULTI_LINE_STRING?(o=[],r=c==s.default.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),l=this.drawCustomCoordinates_(r,0,t.getEnds(),f,o),this.instructions.push([h.default.CUSTOM,p,o,t,n,u.inflateCoordinatesArray])):c==s.default.LINE_STRING||c==s.default.MULTI_POINT?(r=t.getFlatCoordinates(),i=this.appendFlatCoordinates(r,0,r.length,f,!1,!1),this.instructions.push([h.default.CUSTOM,p,i,t,n,u.inflateCoordinates])):c==s.default.POINT&&(r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),i=this.coordinates.length,this.instructions.push([h.default.CUSTOM,p,i,t,n]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){var n=t.getExtent();this.beginGeometryInstruction1_=[h.default.BEGIN_GEOMETRY,e,0,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[h.default.BEGIN_GEOMETRY,e,0,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,o=e.length,a=-1;for(t=0;t<o;++t)(i=(n=e[t])[0])==h.default.END_GEOMETRY?a=t:i==h.default.BEGIN_GEOMETRY&&(n[2]=t,(0,r.reverseSubArray)(this.hitDetectionInstructions,a,t),a=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var r=t.getColor();n.fillStyle=(0,i.asColorLike)(r||c.defaultFillStyle)}else n.fillStyle=void 0;if(e){var o=e.getColor();n.strokeStyle=(0,i.asColorLike)(o||c.defaultStrokeStyle);var a=e.getLineCap();n.lineCap=void 0!==a?a:c.defaultLineCap;var s=e.getLineDash();n.lineDash=s?s.slice():c.defaultLineDash;var u=e.getLineDashOffset();n.lineDashOffset=u||c.defaultLineDashOffset;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:c.defaultLineJoin;var h=e.getWidth();n.lineWidth=void 0!==h?h:c.defaultLineWidth;var f=e.getMiterLimit();n.miterLimit=void 0!==f?f:c.defaultMiterLimit,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[h.default.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[h.default.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,o=t.lineDash,a=t.lineDashOffset,s=t.lineJoin,u=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||o!=t.currentLineDash&&!(0,r.equals)(t.currentLineDash,o)||t.currentLineDashOffset!=a||t.currentLineJoin!=s||t.currentLineWidth!=u||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=o,t.currentLineDashOffset=a,t.currentLineJoin=s,t.currentLineWidth=u,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[h.default.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,o.clone)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;(0,o.buffer)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(l.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),i=n(1),o=b(n(77)),a=b(n(20)),s=b(n(99)),u=b(n(32)),l=b(n(90)),c=n(297),h=n(848),f=n(172),p=n(212),d=n(88),g=n(122),v=n(474),y=n(211),_=n(296),m=n(150);function b(t){return t&&t.__esModule?t:{default:t}}var w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(t){function e(e,n,i){var o=t.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){for(var a=o.getLayout(),s=e,u=[],l=[],c=0,h=s.length;c<h;++c){var f=s[c];0===c&&(a=f.getLayout());for(var p=u.length,d=f.getEnds(),g=0,v=d.length;g<v;++g)d[g]+=p;(0,r.extend)(u,f.getFlatCoordinates()),l.push(d)}n=a,e=u,i=l}return void 0!==n&&i?(o.setFlatCoordinates(n,e),o.endss_=i):o.setCoordinates(e,n),o}return w(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;(0,r.extend)(this.flatCoordinates,t.getFlatCoordinates());for(var i=0,o=(e=t.getEnds().slice()).length;i<o;++i)e[i]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),r=0;r<t;++r)n[r]=this.endss_[r].slice();return new e(this.flatCoordinates.slice(),this.layout,n)},e.prototype.closestPointXY=function(t,e,n,r){return r<(0,i.closestSquaredDistanceXY)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,f.multiArrayMaxSquaredDelta)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,f.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return(0,p.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return(0,c.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,_.orientLinearRingsArray)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,(0,g.inflateMultiCoordinatesArray)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=(0,h.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,v.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new s.default(this.getFlatInteriorPoints().slice(),o.default.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,_.linearRingssAreOriented)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,_.orientLinearRingsArray)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=(0,m.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,r),new e(n,o.default.XY,r)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var r=this.endss_[t].slice(),i=r[r.length-1];if(0!==e)for(var o=0,a=r.length;o<a;++o)r[o]-=e;return new u.default(this.flatCoordinates.slice(e,i),this.layout,r)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,r=[],i=0,o=0,a=n.length;o<a;++o){var s=n[o].slice(),l=s[s.length-1];if(0!==i)for(var c=0,h=s.length;c<h;++c)s[c]-=i;var f=new u.default(e.slice(i,l),t,s);r.push(f),i=l}return r},e.prototype.getType=function(){return a.default.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return(0,y.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=(0,d.deflateMultiCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var r=n[n.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()},e}(l.default);e.default=E},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromString=void 0,e.asString=function(t){return"string"==typeof t?t:c(t)},e.asArray=function(t){return Array.isArray(t)?t:u(t)},e.normalize=l,e.toString=c,e.isStringColor=function(t){a.test(t)&&(t=s(t));return o.test(t)||0===t.indexOf("rgba(")||0===t.indexOf("rgb(")};var r=n(16),i=n(14),o=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,a=/^([a-z]*)$|^hsla?\(.*\)$/i;function s(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}var u=e.fromString=function(){var t={},e=0;return function(n){var i;if(t.hasOwnProperty(n))i=t[n];else{if(e>=1024){var u=0;for(var c in t)0==(3&u++)&&(delete t[c],--e)}i=function(t){var e,n,i,u,c;a.exec(t)&&(t=s(t));if(o.exec(t)){var h=t.length-1,f=void 0;f=h<=4?1:2;var p=4===h||8===h;e=parseInt(t.substr(1+0*f,f),16),n=parseInt(t.substr(1+1*f,f),16),i=parseInt(t.substr(1+2*f,f),16),u=p?parseInt(t.substr(1+3*f,f),16):255,1==f&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,p&&(u=(u<<4)+u)),c=[e,n,i,u/255]}else 0==t.indexOf("rgba(")?l(c=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((c=t.slice(4,-1).split(",").map(Number)).push(1),l(c)):(0,r.assert)(!1,14);return c}(n),t[n]=i,++e}return i}}();function l(t){return t[0]=(0,i.clamp)(t[0]+.5|0,0,255),t[1]=(0,i.clamp)(t[1]+.5|0,0,255),t[2]=(0,i.clamp)(t[2]+.5|0,0,255),t[3]=(0,i.clamp)(t[3],0,1),t}function c(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:t[3])+")"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.maxSquaredDelta=o,e.arrayMaxSquaredDelta=a,e.multiArrayMaxSquaredDelta=function(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o){var u=n[o];i=a(t,e,u,r,i),e=u[u.length-1]}return i},e.assignClosestPoint=s,e.assignClosestArrayPoint=u,e.assignClosestMultiArrayPoint=function(t,e,n,r,i,o,a,s,l,c,h){for(var f=h||[NaN,NaN],p=0,d=n.length;p<d;++p){var g=n[p];c=u(t,e,g,r,i,o,a,s,l,c,f),e=g[g.length-1]}return c};var r=n(14);function i(t,e,n,i,o,a,s){var u,l=t[e],c=t[e+1],h=t[n]-l,f=t[n+1]-c;if(0===h&&0===f)u=e;else{var p=((o-l)*h+(a-c)*f)/(h*h+f*f);if(p>1)u=n;else{if(p>0){for(var d=0;d<i;++d)s[d]=(0,r.lerp)(t[e+d],t[n+d],p);return void(s.length=i)}u=e}}for(d=0;d<i;++d)s[d]=t[u+d];s.length=i}function o(t,e,n,i,o){var a=t[e],s=t[e+1];for(e+=i;e<n;e+=i){var u=t[e],l=t[e+1],c=(0,r.squaredDistance)(a,s,u,l);c>o&&(o=c),a=u,s=l}return o}function a(t,e,n,r,i){for(var a=0,s=n.length;a<s;++a){var u=n[a];i=o(t,e,u,r,i),e=u}return i}function s(t,e,n,o,a,s,u,l,c,h,f){if(e==n)return h;var p,d;if(0===a){if((d=(0,r.squaredDistance)(u,l,t[e],t[e+1]))<h){for(p=0;p<o;++p)c[p]=t[e+p];return c.length=o,d}return h}for(var g=f||[NaN,NaN],v=e+o;v<n;)if(i(t,v-o,v,o,u,l,g),(d=(0,r.squaredDistance)(u,l,g[0],g[1]))<h){for(h=d,p=0;p<o;++p)c[p]=g[p];c.length=o,v+=o}else v+=o*Math.max((Math.sqrt(d)-Math.sqrt(h))/a|0,1);if(s&&(i(t,n-o,e,o,u,l,g),(d=(0,r.squaredDistance)(u,l,g[0],g[1]))<h)){for(h=d,p=0;p<o;++p)c[p]=g[p];c.length=o}return h}function u(t,e,n,r,i,o,a,u,l,c,h){for(var f=h||[NaN,NaN],p=0,d=n.length;p<d;++p){var g=n[p];c=s(t,e,g,r,i,o,a,u,l,c,f),e=g}return c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ANIMATING:0,INTERACTING:1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DEFAULT_MAX_ZOOM=42,e.DEFAULT_TILE_SIZE=256},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={PROPERTYCHANGE:"propertychange"}},function(t,e,n){var r=n(869),i=n(91);t.exports=function(t){return null==t?[]:r(t,i(t))}},function(t,e,n){var r=n(49),i=n(103),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return o;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=u.test(t);return n||l.test(t)?c(t.slice(2),n?2:8):s.test(t)?o:+t}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){(function(t){var r=n(39),i=n(504),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u}).call(this,n(316)(t))},function(t,e,n){var r=n(935),i=n(29),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){var r=n(228),i=n(182);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var l=e[s],c=o?o(n[l],t[l],l,n,t):void 0;void 0===c&&(c=t[l]),a?i(n,l,c):r(n,l,c)}return n}},function(t,e,n){var r=n(507);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(5),i=n(40),o=n(23)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},function(t,e,n){"use strict";var r=n(5);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(74);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filterText=function(t){return t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):t},e.restoreText=function(t){return t?t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/"):t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RewireMixin=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(361),a=n(9),s=n(6);e.RewireMixin=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ControlLogicMixin),r(e,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.singleButton=!1,function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this,t),this.rewire()}},{key:"rewire",value:function(){(0,s.recursiveSelect)(this.get$Element(),"button[title]").each(function(){var t=(0,i.default)(this).attr("title");(0,i.default)(this).addClass(a.cssClasses.hasTooltip).removeAttr("title").append("<span role='tooltip'>"+t+"</span>")})}}]),e}()},function(t,e,n){var r=n(224),i=n(49);t.exports=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=r(t.prototype),o=t.apply(n,e);return i(o)?o:n}}},function(t,e,n){t.exports={after:n(679),ary:n(378),before:n(367),bind:n(664),bindKey:n(663),curry:n(662),curryRight:n(661),debounce:n(366),defer:n(659),delay:n(658),flip:n(657),memoize:n(412),negate:n(381),once:n(656),overArgs:n(655),partial:n(364),partialRight:n(653),rearg:n(652),rest:n(651),spread:n(650),throttle:n(648),unary:n(647),wrap:n(646)}},function(t,e,n){var r=n(379);t.exports=function(t,e){var n=-1,i=t.length,o=i-1;for(e=void 0===e?i:e;++n<e;){var a=r(n,o),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}},function(t,e,n){var r=n(42),i=n(19),o=n(384),a=n(12);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e,n){var r=n(726),i=n(725),o=n(19),a=n(12);t.exports=function(t,e){return function(n,s){var u=a(n)?r:i,l=e?e():{};return u(n,t,o(s,2),l)}}},function(t,e,n){var r=n(263),i=n(115),o=n(103),a=2147483647;t.exports=function(t,e,n){var s=0,u=null==t?s:t.length;if("number"==typeof e&&e==e&&u<=a){for(;s<u;){var l=s+u>>>1,c=t[l];null!==c&&!o(c)&&(n?c<=e:c<e)?s=l+1:u=l}return u}return r(t,e,i,n)}},function(t,e,n){var r=n(64);t.exports=function(t,e,n,i){for(var o=t.length,a=i?o:-1;(i?a--:++a<o)&&e(t[a],a,t););return n?r(t,i?0:a,i?a+1:o):r(t,i?a+1:0,i?o:a)}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e,n){var r=n(196),i=n(417),o=n(802);t.exports=function(t,e,n){return e==e?o(t,e,n):r(t,i,n)}},function(t,e,n){var r=n(197);t.exports=function(t,e){return!(null==t||!t.length)&&r(t,e,0)>-1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(205)),i=o(n(66));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e,n,r,o,a){var s=this,u=void 0!==a?i.default.IDLE:i.default.LOADED;return(s=t.call(this,e,n,r,u)||this).loader_=void 0!==a?a:null,s.canvas_=o,s.error_=null,s}return a(e,t),e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=i.default.ERROR):this.state=i.default.LOADED,this.changed()},e.prototype.load=function(){this.state==i.default.IDLE&&(this.state=i.default.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(r.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileSourceEvent=void 0;var r=n(7),i=f(n(284)),o=f(n(45)),a=f(n(37)),s=n(3),u=n(87),l=f(n(168)),c=n(55),h=n(97);function f(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var r=e.cacheSize;if(void 0===r){var o=[256,256],a=e.tileGrid;a&&(0,u.toSize)(a.getTileSize(a.getMinZoom()),o);var s="undefined"!=typeof screen,l=s?screen.availWidth||screen.width:1920,c=s?screen.availHeight||screen.height:1080;r=4*Math.ceil(l/o[0])*Math.ceil(c/o[1])}return n.tileCache=new i.default(r),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection=e.zDirection?e.zDirection:0,n}return p(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,r){var i=this.getTileCacheForProjection(t);if(!i)return!1;for(var a,s,u,l=!0,h=n.minX;h<=n.maxX;++h)for(var f=n.minY;f<=n.maxY;++f)s=(0,c.getKeyZXY)(e,h,f),u=!1,i.containsKey(s)&&(u=(a=i.get(s)).getState()===o.default.LOADED)&&(u=!1!==r(a)),u||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,o){return(0,r.abstract)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:(0,h.getForProjection)(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!(0,s.equivalent)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var r=this.getTileGridForProjection(n),i=this.getTilePixelRatio(e),o=(0,u.toSize)(r.getTileSize(t),this.tmpSize);return 1==i?o:(0,u.scale)(o,i,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=(0,h.wrapX)(r,t,n)),(0,c.withinExtentAndZ)(t,r)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.useTile=function(t,e,n,r){},e}(l.default),g=function(t){function e(e,n){var r=t.call(this,e)||this;return r.tile=n,r}return p(e,t),e}(a.default);e.TileSourceEvent=g,e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateSourceResolution=function(t,e,n,r){var o=(0,a.transform)(n,e,t),s=(0,a.getPointResolution)(e,r,n),u=e.getMetersPerUnit();void 0!==u&&(s*=u);var l=t.getMetersPerUnit();void 0!==l&&(s/=l);var c=t.getExtent();if(!c||(0,i.containsCoordinate)(c,o)){var h=(0,a.getPointResolution)(t,s,o)/s;isFinite(h)&&h>0&&(s/=h)}return s},e.render=function(t,e,n,a,u,l,c,h,f,p,d){var g=(0,r.createCanvasContext2D)(Math.round(n*t),Math.round(n*e));if(0===f.length)return g.canvas;g.scale(n,n);var v=(0,i.createEmpty)();f.forEach(function(t,e,n){(0,i.extend)(v,t.extent)});var y=(0,i.getWidth)(v),_=(0,i.getHeight)(v),m=(0,r.createCanvasContext2D)(Math.round(n*y/a),Math.round(n*_/a)),b=n/a;f.forEach(function(t,e,n){var r=t.extent[0]-v[0],o=-(t.extent[3]-v[3]),a=(0,i.getWidth)(t.extent),s=(0,i.getHeight)(t.extent);m.drawImage(t.image,p,p,t.image.width-2*p,t.image.height-2*p,r*b,o*b,a*b,s*b)});var w=(0,i.getTopLeft)(c);h.getTriangles().forEach(function(t,e,r){var i=t.source,u=t.target,c=i[0][0],h=i[0][1],f=i[1][0],p=i[1][1],d=i[2][0],y=i[2][1],_=(u[0][0]-w[0])/l,b=-(u[0][1]-w[1])/l,E=(u[1][0]-w[0])/l,x=-(u[1][1]-w[1])/l,O=(u[2][0]-w[0])/l,C=-(u[2][1]-w[1])/l,S=c,P=h;c=0,h=0;var M=[[f-=S,p-=P,0,0,E-_],[d-=S,y-=P,0,0,O-_],[0,0,f,p,x-b],[0,0,d,y,C-b]],T=(0,o.solveLinearSystem)(M);if(T){g.save(),g.beginPath();var A=(_+E+O)/3,D=(b+x+C)/3,I=s(A,D,_,b),L=s(A,D,E,x),F=s(A,D,O,C);g.moveTo(L[0],L[1]),g.lineTo(I[0],I[1]),g.lineTo(F[0],F[1]),g.clip(),g.transform(T[0],T[2],T[1],T[3],_,b),g.translate(v[0]-S,v[3]-P),g.scale(a/n,-a/n),g.drawImage(m.canvas,0,0),g.restore()}}),d&&(g.save(),g.strokeStyle="black",g.lineWidth=1,h.getTriangles().forEach(function(t,e,n){var r=t.target,i=(r[0][0]-w[0])/l,o=-(r[0][1]-w[1])/l,a=(r[1][0]-w[0])/l,s=-(r[1][1]-w[1])/l,u=(r[2][0]-w[0])/l,c=-(r[2][1]-w[1])/l;g.beginPath(),g.moveTo(a,s),g.lineTo(i,o),g.lineTo(u,c),g.closePath(),g.stroke()}),g.restore());return g.canvas};var r=n(27),i=n(1),o=n(14),a=n(3);function s(t,e,n,r){var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o);return[Math.round(n+i/a),Math.round(r+o/a)]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GroupLayer=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(295)),o=n(70),a=n(6),s=n(167);e.GroupLayer=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=new WeakMap;return n.getLayers().on("add",function(t){var e=t.element;e.provideMap&&e.provideMap(n.getProvidedMap()),r.set(e,e.on(["change:visible","change:childVisible"],function(){n.dispatchEvent({type:"change:childVisible",child:e})}))}),n.getLayers().on("remove",function(t){var e=t.element;e.provideMap&&e.provideMap(null),(0,o.unByKey)(r.get(e)),r.delete(e)}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,a.mixin)(i.default,s.ProvideMapMixin)),r(e,[{key:"provideMap",value:function(t){(function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"provideMap",this).call(this,t),this.getLayers().forEach(function(e){e.provideMap&&e.provideMap(t)})}},{key:"recursiveForEach",value:function(t){var e=this;this.getLayers().forEach(function(n){t(n,e),n.recursiveForEach&&n.recursiveForEach(t)})}},{key:"forEachOn",value:function(t,n){var r=this;this.recursiveForEach(function(i){i.on(t,n),i instanceof e&&(r.getLayers().on("add",function(e){e.element.on(t,n)}),r.getLayers().on("remove",function(e){e.element.un(t,n)}))})}},{key:"countChildrenVisible",value:function(){for(var t=this.getLayersArray(),n=0,r=0,i=t.length;r<i;r++)t[r]instanceof e?n+=t[r].countChildrenVisible():t[r].getVisible()&&(n+=1);return n}},{key:"countChildren",value:function(){for(var t=this.getLayersArray(),n=0,r=0,i=t.length;r<i;r++)t[r]instanceof e?n+=t[r].countChildren():n+=1;return n}},{key:"getLayersArray",value:function(){return this.getLayers().getArray()}},{key:"getLength",value:function(){return this.getLayers().getLength()}},{key:"isParentOf",value:function(t){var e=!1;return this.recursiveForEach(function(n){t===n&&(e=!0)}),e}},{key:"getIds",value:function(){for(var t=void 0!==this.get("id")?[this.get("id")]:[],e=this.getLayersArray(),n=0,r=e.length;n<r;n++)e[n].getIds?t=t.concat(e[n].getIds()):t.push(e[n].get("id"));return t}},{key:"getAttributions",value:function(){var t=[];return this.recursiveForEach(function(e){if(e.getVisible()&&e.getSource){var n=e.getSource().getAttributions();n&&(t=t.concat(n))}}),t}},{key:"removeLayerById",value:function(t){for(var e=this.getLayers(),n=0;n<e.getLength();n++){if(e.item(n).get("id")===t)return e.removeAt(n);if(e.item(n).removeLayerById){var r=e.item(n).removeLayerById(t);if(r)return r}}}},{key:"findLayer",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=this.getLayersArray()[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;if(t(a))return a;if(a.findLayer){var s=a.findLayer(t);if(s)return s}}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"getLayerById",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=this.getLayersArray()[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;if(a.get("id")===t)return a;if(a.getLayerById){var s=a.getLayerById(t);if(s)return s}}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"removeLayer",value:function(t){var e=this.getLayers().remove(t);return e||this.getLayers().forEach(function(n){!e&&n.removeLayer&&(e=n.removeLayer(t))}),e}},{key:"getIdsVisibilities",value:function(){var t={};return this.recursiveForEach(function(e){e.get("id")&&(t[e.get("id")]=e.getVisible())}),t}},{key:"setIdsVisibilities",value:function(t){this.recursiveForEach(function(e){e.get("id")&&e.setVisible(t[e.get("id")])})}},{key:"containsLayer",value:function(t){return this.getLayers().getArray().some(function(e){return e===t||(e.containsLayer?e.containsLayer(t):void 0)})}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(121)),i=o(n(444));function o(t){return t&&t.__esModule?t:{default:t}}var a="#333",s=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new r.default({color:a}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:i.default.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=a(n(155)),o=a(n(4));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.extent=e,o.pixelRatio_=r,o.resolution=n,o.state=i,o}return s(e,t),e.prototype.changed=function(){this.dispatchEvent(o.default.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return(0,r.abstract)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){(0,r.abstract)()},e}(i.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=f(n(66)),o=n(16),a=n(171),s=f(n(4)),u=f(n(291)),l=n(442),c=f(n(441)),h=f(n(293));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(e){var n=this,s=e||{},h=void 0!==s.opacity?s.opacity:1,f=void 0!==s.rotation?s.rotation:0,p=void 0!==s.scale?s.scale:1,d=void 0!==s.rotateWithView&&s.rotateWithView;(n=t.call(this,{opacity:h,rotation:f,scale:p,rotateWithView:d})||this).anchor_=void 0!==s.anchor?s.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==s.anchorOrigin?s.anchorOrigin:c.default.TOP_LEFT,n.anchorXUnits_=void 0!==s.anchorXUnits?s.anchorXUnits:u.default.FRACTION,n.anchorYUnits_=void 0!==s.anchorYUnits?s.anchorYUnits:u.default.FRACTION,n.crossOrigin_=void 0!==s.crossOrigin?s.crossOrigin:null;var g=void 0!==s.img?s.img:null,v=void 0!==s.imgSize?s.imgSize:null,y=s.src;(0,o.assert)(!(void 0!==y&&g),4),(0,o.assert)(!g||g&&v,5),void 0!==y&&0!==y.length||!g||(y=g.src||(0,r.getUid)(g)),(0,o.assert)(void 0!==y&&y.length>0,6);var _=void 0!==s.src?i.default.IDLE:i.default.LOADED;return n.color_=void 0!==s.color?(0,a.asArray)(s.color):null,n.iconImage_=(0,l.get)(g,y,v,n.crossOrigin_,_,n.color_),n.offset_=void 0!==s.offset?s.offset:[0,0],n.offsetOrigin_=void 0!==s.offsetOrigin?s.offsetOrigin:c.default.TOP_LEFT,n.origin_=null,n.size_=void 0!==s.size?s.size:null,n}return p(e,t),e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==u.default.FRACTION||this.anchorYUnits_==u.default.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==u.default.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==u.default.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=c.default.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=c.default.TOP_RIGHT&&this.anchorOrigin_!=c.default.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=c.default.BOTTOM_LEFT&&this.anchorOrigin_!=c.default.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=c.default.TOP_LEFT){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=c.default.TOP_RIGHT&&this.offsetOrigin_!=c.default.BOTTOM_RIGHT||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=c.default.BOTTOM_LEFT&&this.offsetOrigin_!=c.default.BOTTOM_RIGHT||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(s.default.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(s.default.CHANGE,t)},e}(h.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(171),i=n(210),o=n(27),a=l(n(66)),s=n(100),u=l(n(293));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(e){var n=this,r=void 0!==e.rotateWithView&&e.rotateWithView;return(n=t.call(this,{opacity:1,rotateWithView:r,rotation:void 0!==e.rotation?e.rotation:0,scale:1})||this).canvas_=null,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.anchor_=null,n.size_=null,n.imageSize_=null,n.hitDetectionImageSize_=null,n.render(),n}return c(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return a.default.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.render=function(){var t,e=s.defaultLineCap,n=s.defaultLineJoin,r=0,a=null,u=0,l=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=s.defaultStrokeStyle),t=(0,i.asColorLike)(t),void 0===(l=this.stroke_.getWidth())&&(l=s.defaultLineWidth),a=this.stroke_.getLineDash(),u=this.stroke_.getLineDashOffset(),void 0===(n=this.stroke_.getLineJoin())&&(n=s.defaultLineJoin),void 0===(e=this.stroke_.getLineCap())&&(e=s.defaultLineCap),void 0===(r=this.stroke_.getMiterLimit())&&(r=s.defaultMiterLimit));var c=2*(this.radius_+l)+1,h={strokeStyle:t,strokeWidth:l,size:c,lineCap:e,lineDash:a,lineDashOffset:u,lineJoin:n,miterLimit:r},f=(0,o.createCanvasContext2D)(c,c);this.canvas_=f.canvas;var p=c=this.canvas_.width;this.draw_(h,f,0,0),this.createHitDetectionCanvas_(h),this.anchor_=[c/2,c/2],this.size_=[c,c],this.imageSize_=[p,p]},e.prototype.draw_=function(t,e,n,r){var o,a,u;e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var l=this.points_;if(l===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var c=void 0!==this.radius2_?this.radius2_:this.radius_;for(c!==this.radius_&&(l*=2),o=0;o<=l;o++)a=2*o*Math.PI/l-Math.PI/2+this.angle_,u=o%2==0?this.radius_:c,e.lineTo(t.size/2+u*Math.cos(a),t.size/2+u*Math.sin(a))}if(this.fill_){var h=this.fill_.getColor();null===h&&(h=s.defaultFillStyle),e.fillStyle=(0,i.asColorLike)(h),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.hitDetectionCanvas_=this.canvas_,this.fill_){var e=this.fill_.getColor(),n=0;if("string"==typeof e&&(e=(0,r.asArray)(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var i=(0,o.createCanvasContext2D)(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i,0,0)}}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,r){e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var i=this.points_;if(i===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o=void 0!==this.radius2_?this.radius2_:this.radius_;o!==this.radius_&&(i*=2);var a=void 0,u=void 0,l=void 0;for(a=0;a<=i;a++)l=2*a*Math.PI/i-Math.PI/2+this.angle_,u=a%2==0?this.radius_:o,e.lineTo(t.size/2+u*Math.cos(l),t.size/2+u*Math.sin(l))}e.fillStyle=s.defaultFillStyle,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e}(u.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(207));var i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke})||this}return i(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(216)),i=n(21),o=h(i),a=h(n(459)),s=n(67),u=n(27),l=n(26),c=n(1);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},d=function(t){function e(e){var n=t.call(this)||this;return n.options=e,n.id=e.id,n.insertFirst=void 0===e.insertFirst||e.insertFirst,n.stopEvent=void 0===e.stopEvent||e.stopEvent,n.element=document.createElement("div"),n.element.className=void 0!==e.className?e.className:"ol-overlay-container "+s.CLASS_SELECTABLE,n.element.style.position="absolute",n.autoPan=void 0!==e.autoPan&&e.autoPan,n.autoPanAnimation=e.autoPanAnimation||{},n.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,n.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},n.mapPostrenderListenerKey=null,n.addEventListener((0,i.getChangeEventType)(p.ELEMENT),n.handleElementChanged),n.addEventListener((0,i.getChangeEventType)(p.MAP),n.handleMapChanged),n.addEventListener((0,i.getChangeEventType)(p.OFFSET),n.handleOffsetChanged),n.addEventListener((0,i.getChangeEventType)(p.POSITION),n.handlePositionChanged),n.addEventListener((0,i.getChangeEventType)(p.POSITIONING),n.handlePositioningChanged),void 0!==e.element&&n.setElement(e.element),n.setOffset(void 0!==e.offset?e.offset:[0,0]),n.setPositioning(void 0!==e.positioning?e.positioning:a.default.TOP_LEFT),void 0!==e.position&&n.setPosition(e.position),n}return f(e,t),e.prototype.getElement=function(){return this.get(p.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(p.MAP)},e.prototype.getOffset=function(){return this.get(p.OFFSET)},e.prototype.getPosition=function(){return this.get(p.POSITION)},e.prototype.getPositioning=function(){return this.get(p.POSITIONING)},e.prototype.handleElementChanged=function(){(0,u.removeChildren)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&((0,u.removeNode)(this.element),(0,l.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=(0,l.listen)(t,r.default.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(p.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(p.ELEMENT,t)},e.prototype.setMap=function(t){this.set(p.MAP,t)},e.prototype.setOffset=function(t){this.set(p.OFFSET,t)},e.prototype.setPosition=function(t){this.set(p.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),r=this.getRect(n,[(0,u.outerWidth)(n),(0,u.outerHeight)(n)]),i=this.autoPanMargin;if(!(0,c.containsExtent)(e,r)){var o=r[0]-e[0],a=e[2]-r[2],s=r[1]-e[1],l=e[3]-r[3],h=[0,0];if(o<0?h[0]=o-i:a<0&&(h[0]=Math.abs(a)+i),s<0?h[1]=s-i:l<0&&(h[1]=Math.abs(l)+i),0!==h[0]||0!==h[1]){var f=t.getView().getCenterInternal(),p=t.getPixelFromCoordinateInternal(f),d=[p[0]+h[0],p[1]+h[1]];t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(d),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),r=n.left+window.pageXOffset,i=n.top+window.pageYOffset;return[r,i,r+e[0],i+e[1]]},e.prototype.setPositioning=function(t){this.set(p.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),r=t.getSize();this.updateRenderedPosition(n,r)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,r=this.getOffset(),i=this.getPositioning();this.setVisible(!0);var o=r[0],s=r[1];if(i==a.default.BOTTOM_RIGHT||i==a.default.CENTER_RIGHT||i==a.default.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_="",n.left="");var u=Math.round(e[0]-t[0]-o)+"px";this.rendered.right_!=u&&(this.rendered.right_=u,n.right=u)}else{""!==this.rendered.right_&&(this.rendered.right_="",n.right=""),i!=a.default.BOTTOM_CENTER&&i!=a.default.CENTER_CENTER&&i!=a.default.TOP_CENTER||(o-=this.element.offsetWidth/2);var l=Math.round(t[0]+o)+"px";this.rendered.left_!=l&&(this.rendered.left_=l,n.left=l)}if(i==a.default.BOTTOM_LEFT||i==a.default.BOTTOM_CENTER||i==a.default.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_="",n.top="");var c=Math.round(e[1]-t[1]-s)+"px";this.rendered.bottom_!=c&&(this.rendered.bottom_=c,n.bottom=c)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_="",n.bottom=""),i!=a.default.CENTER_LEFT&&i!=a.default.CENTER_CENTER&&i!=a.default.CENTER_RIGHT||(s-=this.element.offsetHeight/2);var h=Math.round(t[1]+s)+"px";this.rendered.top_!=h&&(this.rendered.top_="top",n.top=h)}},e.prototype.getOptions=function(){return this.options},e}(o.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asColorLike=function(t){return Array.isArray(t)?(0,r.toString)(t):t};var r=n(171)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intersectsLineString=a,e.intersectsLineStringArray=function(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o){if(a(t,e,n[o],r,i))return!0;e=n[o]}return!1},e.intersectsLinearRing=s,e.intersectsLinearRingArray=u,e.intersectsLinearRingMultiArray=function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];if(u(t,e,s,r,i))return!0;e=s[s.length-1]}return!1};var r=n(1),i=n(212),o=n(473);function a(t,e,n,i,a){var s=(0,r.extendFlatCoordinates)((0,r.createEmpty)(),t,e,n,i);return!!(0,r.intersects)(a,s)&&(!!(0,r.containsExtent)(a,s)||(s[0]>=a[0]&&s[2]<=a[2]||(s[1]>=a[1]&&s[3]<=a[3]||(0,o.forEach)(t,e,n,i,function(t,e){return(0,r.intersectsSegment)(a,t,e)}))))}function s(t,e,n,r,o){return!!a(t,e,n,r,o)||(!!(0,i.linearRingContainsXY)(t,e,n,r,o[0],o[1])||(!!(0,i.linearRingContainsXY)(t,e,n,r,o[0],o[3])||(!!(0,i.linearRingContainsXY)(t,e,n,r,o[2],o[1])||!!(0,i.linearRingContainsXY)(t,e,n,r,o[2],o[3]))))}function u(t,e,n,r,o){if(!s(t,e,n[0],r,o))return!1;if(1===n.length)return!0;for(var u=1,l=n.length;u<l;++u)if((0,i.linearRingContainsExtent)(t,n[u-1],n[u],r,o)&&!a(t,n[u-1],n[u],r,o))return!1;return!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linearRingContainsExtent=function(t,e,n,o,a){return!(0,r.forEachCorner)(a,function(r){return!i(t,e,n,o,r[0],r[1])})},e.linearRingContainsXY=i,e.linearRingsContainsXY=o,e.linearRingssContainsXY=function(t,e,n,r,i,a){if(0===n.length)return!1;for(var s=0,u=n.length;s<u;++s){var l=n[s];if(o(t,e,l,r,i,a))return!0;e=l[l.length-1]}return!1};var r=n(1);function i(t,e,n,r,i,o){for(var a=0,s=t[n-r],u=t[n-r+1];e<n;e+=r){var l=t[e],c=t[e+1];u<=o?c>o&&(l-s)*(o-u)-(i-s)*(c-u)>0&&a++:c<=o&&(l-s)*(o-u)-(i-s)*(c-u)<0&&a--,s=l,u=c}return 0!==a}function o(t,e,n,r,o,a){if(0===n.length)return!1;if(!i(t,e,n[0],r,o,a))return!1;for(var s=1,u=n.length;s<u;++s)if(i(t,n[s-1],n[s],r,o,a))return!1;return!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(89),i=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||r.METERS_PER_UNIT[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.padNumber=function(t,e,n){var r=void 0!==n?t.toFixed(n):""+t,i=r.indexOf(".");return(i=-1===i?r.length:i)>e?r:new Array(1+e-i).join("0")+r},e.compareVersions=function(t,e){for(var n=(""+t).split("."),r=(""+e).split("."),i=0;i<Math.max(n.length,r.length);i++){var o=parseInt(n[i]||"0",10),a=parseInt(r[i]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},function(t,e){t.exports=function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}},function(t,e,n){var r=n(43),i=n(12),o=n(29),a="[object String]";t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&r(t)==a}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(318),i=n(897),o=n(896);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e,n){var r=n(898),i=n(29);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,a,t,s))}},function(t,e,n){var r=n(177);t.exports=function(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=r(e),n=r(n)),t(e,n)}}},function(t,e,n){var r=n(49),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e,n){var r=n(934),i=n(71),o=n(156),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(182),i=n(107),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(940);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(127)(Object,"create");t.exports=r},function(t,e,n){var r=n(43),i=n(49),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==a||e==s||e==o||e==u}},function(t,e,n){var r=n(107);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(962),i=n(961),o=n(960),a=n(959),s=n(958);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(320),i=n(317),o=n(228),a=n(936),s=n(932),u=n(929),l=n(105),c=n(928),h=n(927),f=n(500),p=n(926),d=n(104),g=n(923),v=n(922),y=n(917),_=n(12),m=n(179),b=n(495),w=n(49),E=n(494),x=n(91),O=1,C=2,S=4,P="[object Arguments]",M="[object Function]",T="[object GeneratorFunction]",A="[object Object]",D={};D[P]=D["[object Array]"]=D["[object ArrayBuffer]"]=D["[object DataView]"]=D["[object Boolean]"]=D["[object Date]"]=D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Map]"]=D["[object Number]"]=D[A]=D["[object RegExp]"]=D["[object Set]"]=D["[object String]"]=D["[object Symbol]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D["[object Error]"]=D[M]=D["[object WeakMap]"]=!1,t.exports=function t(e,n,I,L,F,k){var R,j=n&O,N=n&C,B=n&S;if(I&&(R=F?I(e,L,F,k):I(e)),void 0!==R)return R;if(!w(e))return e;var G=_(e);if(G){if(R=g(e),!j)return l(e,R)}else{var U=d(e),z=U==M||U==T;if(m(e))return u(e,j);if(U==A||U==P||z&&!F){if(R=N||z?{}:y(e),!j)return N?h(e,s(R,e)):c(e,a(R,e))}else{if(!D[U])return F?e:{};R=v(e,U,j)}}k||(k=new r);var V=k.get(e);if(V)return V;k.set(e,R),E(e)?e.forEach(function(r){R.add(t(r,n,I,r,e,k))}):b(e)&&e.forEach(function(r,i){R.set(i,t(r,n,I,i,e,k))});var Y=B?N?p:f:N?keysIn:x,W=G?void 0:Y(e);return i(W||e,function(r,i){W&&(r=e[i=r]),o(R,i,t(r,n,I,i,e,k))}),R}},function(t,e,n){"use strict";var r=n(0),i=n(40),o=n(75),a=n(130);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,u=arguments[1];return i(this),(e=void 0!==u)&&i(u),void 0==t?new this:(n=[],e?(r=0,s=o(u,arguments[2],2),a(t,!1,function(t){n.push(s(t,r++))})):a(t,!1,n.push,n),new this(n))}})}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";t.exports=n(109)||!n(13)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(8)[t]})},function(t,e,n){for(var r,i=n(8),o=n(52),a=n(137),s=a("typed_array"),u=a("view"),l=!(!i.ArrayBuffer||!i.DataView),c=l,h=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(r=i[f[h++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):c=!1;t.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},function(t,e,n){"use strict";var r=n(8),i=n(0),o=n(51),a=n(129),s=n(110),u=n(130),l=n(131),c=n(15),h=n(13),f=n(243),p=n(161),d=n(341);t.exports=function(t,e,n,g,v,y){var _=r[t],m=_,b=v?"set":"add",w=m&&m.prototype,E={},x=function(t){var e=w[t];o(w,t,"delete"==t?function(t){return!(y&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof m&&(y||w.forEach&&!h(function(){(new m).entries().next()}))){var O=new m,C=O[b](y?{}:-0,1)!=O,S=h(function(){O.has(1)}),P=f(function(t){new m(t)}),M=!y&&h(function(){for(var t=new m,e=5;e--;)t[b](e,e);return!t.has(-0)});P||((m=e(function(e,n){l(e,m,t);var r=d(new _,e,m);return void 0!=n&&u(n,v,r[b],r),r})).prototype=w,w.constructor=m),(S||M)&&(x("delete"),x("has"),v&&x("get")),(M||C)&&x(b),y&&w.clear&&delete w.clear}else m=g.getConstructor(e,t,v,b),a(m.prototype,n),s.NEED=!0;return p(m,t),E[t]=m,i(i.G+i.W+i.F*(m!=_),E),y||g.setStrong(m,t,v),m}},function(t,e,n){var r=n(8).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){"use strict";n(528);var r=n(51),i=n(52),o=n(13),a=n(81),s=n(23),u=n(327),l=s("species"),c=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=s(t),p=!o(function(){var e={};return e[f]=function(){return 7},7!=""[t](e)}),d=p?!o(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[f](""),!e}):void 0;if(!p||!d||"replace"===t&&!c||"split"===t&&!h){var g=/./[f],v=n(a,f,""[t],function(t,e,n,r,i){return e.exec===u?p&&!i?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),y=v[0],_=v[1];r(String.prototype,t,y),i(RegExp.prototype,f,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}}},function(t,e,n){"use strict";var r=n(160),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){var r=n(23)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){var r=n(15),i=n(74),o=n(23)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(73),i=n(81);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),l=s.length;return u<0||u>=l?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){var r=n(74);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(61),i=n(24),o=n(135);t.exports=function(t){return function(e,n,a){var s,u=r(e),l=i(u.length),c=o(a,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var r=n(76),i=n(8),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(109)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerModule=function(t){r.push(t)},e.getRegisteredModules=function(){return r};var r=[]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(428);Object.defineProperty(e,"BingMaps",{enumerable:!0,get:function(){return A(r).default}});var i=n(607);Object.defineProperty(e,"CartoDB",{enumerable:!0,get:function(){return A(i).default}});var o=n(393);Object.defineProperty(e,"Cluster",{enumerable:!0,get:function(){return A(o).default}});var a=n(606);Object.defineProperty(e,"IIIF",{enumerable:!0,get:function(){return A(a).default}});var s=n(117);Object.defineProperty(e,"Image",{enumerable:!0,get:function(){return A(s).default}});var u=n(604);Object.defineProperty(e,"ImageArcGISRest",{enumerable:!0,get:function(){return A(u).default}});var l=n(276);Object.defineProperty(e,"ImageCanvas",{enumerable:!0,get:function(){return A(l).default}});var c=n(603);Object.defineProperty(e,"ImageMapGuide",{enumerable:!0,get:function(){return A(c).default}});var h=n(602);Object.defineProperty(e,"ImageStatic",{enumerable:!0,get:function(){return A(h).default}});var f=n(397);Object.defineProperty(e,"ImageWMS",{enumerable:!0,get:function(){return A(f).default}});var p=n(281);Object.defineProperty(e,"OSM",{enumerable:!0,get:function(){return A(p).default}});var d=n(601);Object.defineProperty(e,"Raster",{enumerable:!0,get:function(){return A(d).default}});var g=n(168);Object.defineProperty(e,"Source",{enumerable:!0,get:function(){return A(g).default}});var v=n(429);Object.defineProperty(e,"Stamen",{enumerable:!0,get:function(){return A(v).default}});var y=n(200);Object.defineProperty(e,"Tile",{enumerable:!0,get:function(){return A(y).default}});var _=n(597);Object.defineProperty(e,"TileArcGISRest",{enumerable:!0,get:function(){return A(_).default}});var m=n(596);Object.defineProperty(e,"TileDebug",{enumerable:!0,get:function(){return A(m).default}});var b=n(84);Object.defineProperty(e,"TileImage",{enumerable:!0,get:function(){return A(b).default}});var w=n(595);Object.defineProperty(e,"TileJSON",{enumerable:!0,get:function(){return A(w).default}});var E=n(394);Object.defineProperty(e,"TileWMS",{enumerable:!0,get:function(){return A(E).default}});var x=n(283);Object.defineProperty(e,"UrlTile",{enumerable:!0,get:function(){return A(x).default}});var O=n(594);Object.defineProperty(e,"UTFGrid",{enumerable:!0,get:function(){return A(O).default}});var C=n(36);Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return A(C).default}});var S=n(593);Object.defineProperty(e,"VectorTile",{enumerable:!0,get:function(){return A(S).default}});var P=n(277);Object.defineProperty(e,"WMTS",{enumerable:!0,get:function(){return A(P).default}});var M=n(144);Object.defineProperty(e,"XYZ",{enumerable:!0,get:function(){return A(M).default}});var T=n(352);function A(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Zoomify",{enumerable:!0,get:function(){return A(T).default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WindowDecorator=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(25),a=n(256),s=n(53),u=n(9);n(1212);e.WindowDecorator=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.element=(0,i.default)("<div>").addClass("g4u-window-decorator").get(0),t.singleButton=!1,t.className=t.component.getClassName(),t.windowed=!0;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.$button_=(0,i.default)("<button>").addClass(u.cssClasses.mainButton),n.get$Element().append(n.$button_),n.component_=t.component,n.component_.get$Element().addClass("g4u-window-component"),n.$button_.addClass(u.cssClasses.hasTooltip).html(n.component_.getTitle()),(0,s.addTooltip)(n.$button_,n.component_.getTipLabel()),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Control),r(e,[{key:"getComponent",value:function(){return this.component_}},{key:"setMap",value:function(t){var n=this;(function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),this.getMap()&&this.getMap().removeControl(this.component_),t&&(t.addControl(this.component_),this.window_=new a.Window({parentClassName:this.component_.getClassName(),map:t}),this.component_.on("change",function(){n.window_.updateSize(),n.window_.getInFront()}),this.window_.get$Body().append(this.component_.get$Element()),this.component_.setActive?(this.component_.getActive()&&(setTimeout(function(){return n.setWindowVisible(!0)},0),this.$button_.addClass(u.cssClasses.active)),this.$button_.on("click touch",function(){n.component_.setActive(!n.component_.getActive())}),this.component_.on("change:active",function(){var t=n.component_.getActive();setTimeout(function(){return n.setWindowVisible(t)},0),n.$button_.toggleClass(u.cssClasses.active,t)}),this.window_.on("change:visible",function(t){n.window_.getVisible()||n.component_.setActive(!1),n.dispatchEvent({type:"change:windowVisible",oldValue:t.oldValue})})):(this.$button_.on("click touch",function(){n.setWindowVisible(!n.window_.getVisible())}),this.window_.on("change:visible",function(t){n.dispatchEvent({type:"change:windowVisible",oldValue:t.oldValue})})))}},{key:"setActive",value:function(t){this.component_.setActive?this.component_.setActive(t):this.window_.setVisible(t)}},{key:"setWindowVisible",value:function(t){this.window_.setVisible(t)}},{key:"getWindowVisible",value:function(){return this.window_.getVisible()}},{key:"getFloat",value:function(){return this.component_.getFloat()}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Dropdown=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(2)),o=l(n(21));n(98);var a=n(9),s=n(54),u=n(6);function l(t){return t&&t.__esModule?t:{default:t}}n(1214),i.default.extend(i.default.easing,{easeOutCirc:function(t,e,n,r,i){return r*Math.sqrt(1-(e=e/i-1)*e)+n},easeInCirc:function(t,e,n,r,i){return-r*(Math.sqrt(1-(e/=i)*e)-1)+n}});e.Dropdown=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.className_=t.className||"g4u-dropdown",n.classNames_={entry:n.className_+"-entry",selected:n.className_+"-selected",ghost:n.className_+"-ghostentry"},n.$element_=(0,i.default)("<div>").addClass(n.className_),n.$ghostentry=(0,i.default)('<button tabindex="-1">').addClass(n.classNames_.ghost).html(t.ghostentry||"no entries"),n.slideDuration_=t.slideDuration||400,n.entriesArray_=[],n.selectedIndex_=-1,n.setUpKeyboardHandling_(),n.listenAt(n.$element_).on("focus",function(){n.selectedIndex_>-1&&n.entriesArray_[n.selectedIndex_].$element.focus()}),n.listenAt(n.$element_).on("mousemove",function(t){t.stopPropagation()}),n.slideUp(!0);var r=void 0;return n.listenAt(n.$element_).on("click",function(){r=!0}),n.listenAt([document]).on("click",function(){r?r=!1:n.collapse_&&n.slideUp()}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,u.mixin)(o.default,s.ListenerOrganizerMixin)),r(e,[{key:"detach",value:function(){this.detachAllListeners()}},{key:"getValue",value:function(){if(this.selectedIndex_>=0)return this.entriesArray_[this.selectedIndex_].value}},{key:"getText",value:function(){if(this.selectedIndex_>=0)return this.entriesArray_[this.selectedIndex_].text}},{key:"setUpKeyboardHandling_",value:function(){var t=this;this.listenAt(this.$element_).on("keydown",function(e){switch(e.which){case a.keyCodes.ARROW_DOWN:e.preventDefault(),e.stopPropagation(),t.selectedIndex_<t.entriesArray_.length-1&&(t.entriesArray_[t.selectedIndex_+1].$element.addClass(t.classNames_.selected),t.entriesArray_[t.selectedIndex_+1].$element.focus(),t.entriesArray_[t.selectedIndex_].$element.removeClass(t.classNames_.selected),t.selectedIndex_+=1);break;case a.keyCodes.ARROW_UP:e.preventDefault(),e.stopPropagation(),t.selectedIndex_>0?(t.entriesArray_[t.selectedIndex_-1].$element.addClass(t.classNames_.selected),t.entriesArray_[t.selectedIndex_-1].$element.focus(),t.entriesArray_[t.selectedIndex_].$element.removeClass(t.classNames_.selected),t.selectedIndex_-=1):(t.entriesArray_[t.selectedIndex_].$element.removeClass(t.classNames_.selected),t.selectedIndex_=-1,t.dispatchEvent({type:"leave:backwards",originalEvent:e}));break;case a.keyCodes.TAB:e.shiftKey?t.dispatchEvent({type:"leave:backwards",originalEvent:e}):t.dispatchEvent({type:"leave:forwards",originalEvent:e});break;case a.keyCodes.ENTER:e.stopPropagation(),e.preventDefault(),t.select$Entry_(t.entriesArray_[t.selectedIndex_].$element)}}),this.listenAt(window).on("keydown",function(e){t.collapse_&&e.which===a.keyCodes.ESCAPE&&(t.slideUp(),t.dispatchEvent("close"))})}},{key:"get$Element",value:function(){return this.$element_}},{key:"getLength",value:function(){return this.entriesArray_.length}},{key:"addEntry",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=e||t;var r=this.getLength();this.setLength(r+1);var i=this.entriesArray_[r];i.text=e,i.$element.html(e),i.value=t,n&&(i.$element.addClass(this.classNames_.selected),this.selectedIndex_=r)}},{key:"setActivated",value:function(t,e){this.entriesArray_.find(function(e){return e.value===t}).$element.toggleClass(a.cssClasses.active,e)}},{key:"setFastMode",value:function(t){this.fastMode_=t}},{key:"setEntries",value:function(t,e){e=e||t,this.setLength(t.length);for(var n=0,r=t.length;n<r;n++)this.entriesArray_[n].text=e[n],this.entriesArray_[n].$element.html(e[n]),this.entriesArray_[n].value=t[n]}},{key:"select$Entry_",value:function(t){t.hasClass(this.classNames_.selected)||(t.addClass(this.classNames_.selected),this.selectedIndex_>-1&&this.entriesArray_[this.selectedIndex_].$element.removeClass(this.classNames_.selected)),this.selectedIndex_=this.entriesArray_.findIndex(function(e){return e.$element===t}),this.slideUp(),this.dispatchEvent("select")}},{key:"setLength",value:function(t){var e=this;this.selectedIndex_>-1&&(this.entriesArray_[this.selectedIndex_].$element.removeClass(this.classNames_.selected),this.selectedIndex_=-1);var n=void 0,r=void 0;if(0===this.entriesArray_.length&&this.$element_.empty(),t>this.entriesArray_.length){var o=function(){var t=(0,i.default)('<button tabindex="-1">').addClass(e.classNames_.entry).hide();t.on("click",function(){return e.select$Entry_(t)}),t.focus(),e.$element_.append(t),e.entriesArray_.push({$element:t}),t.slideDown({duration:e.slideDuration_})};for(n=this.entriesArray_.length,r=t;n<r;n++)o()}else if(t<this.entriesArray_.length){for(n=this.entriesArray_.length-1,r=t;n>=r;n--)this.entriesArray_[n].$element.slideUp({duration:this.slideDuration_,complete:function(){e.entriesArray_.pop(),e.$element_.children().last().remove()}});this.selectedIndex_>=t&&(this.selectedIndex_=t-1)}}},{key:"showGhostEntry",value:function(){this.setLength(0),this.$element_.append(this.$ghostentry),this.slideDown()}},{key:"focus",value:function(){this.entriesArray_.length>=0&&(this.selectedIndex_<0&&(this.selectedIndex_=0,this.entriesArray_[0].$element.addClass(this.classNames_.selected)),this.entriesArray_[this.selectedIndex_].$element.focus())}},{key:"slideUp",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(n){t.collapse_=!1;var r=t.slideDuration_;(e||t.fastMode_)&&(r=0),t.$element_.slideUp({duration:r,complete:function(){t.$element_.addClass(a.cssClasses.hidden),n()},easing:"easeInCirc"})})}},{key:"slideDown",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(n){if(t.$element_.children().length>0){var r=t.slideDuration_;(e||t.fastMode_)&&(r=0),t.$element_.removeClass(a.cssClasses.hidden),t.$element_.slideDown({easing:"easeOutCirc",complete:function(){t.collapse_=!0,n()},duration:r})}})}},{key:"clear",value:function(){this.slideUp(),this.$element_.empty(),this.entriesArray_=[],this.selectedIndex_=-1}},{key:"isSelectable",value:function(){return this.entriesArray_.length>0}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Element=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(2)),o=n(6),a=l(n(70)),s=n(54),u=n(190);function l(t){return t&&t.__esModule?t:{default:t}}e.Element=function(t){function e(t,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.layerSelector=t,o.config=n,o.debouncedUpdate=(0,u.debounce)(function(){return o.update()}),o.disabled_=!1,o.$element_=(0,i.default)(),o.map=r,o.config.hasOwnProperty("group")&&o.layerSelector.addElementToGroup(o,o.config.group),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,o.mixin)(a.default,s.ListenerOrganizerMixin)),r(e,[{key:"detach",value:function(){this.detachAllListeners()}},{key:"get$Element",value:function(){return this.$element_}},{key:"update",value:function(){this.dispatchEvent("update")}},{key:"updateDisabled",value:function(t){this.disabled_=this.config.hasOwnProperty("minZoom")&&t<this.config.minZoom||this.config.hasOwnProperty("maxZoom")&&t>this.config.maxZoom,this.disabled_&&this.getActive&&this.setActive(!1),this.debouncedUpdate()}},{key:"getDisabled",value:function(){return this.disabled_}},{key:"setActive",value:function(t){t&&this.config.hasOwnProperty("group")&&this.layerSelector.deactivateOtherGroupElements(this,this.config.group)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComposedControl=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(25),a=n(9);n(1266),n(1264);e.ComposedControl=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=(0,i.default)("<div>");t.hasOwnProperty("element")?(0,i.default)(t.element).append(n):t.element=n.get(0),t.singleButton=!1;var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.controls_=[],r.$container_=n,t.hasOwnProperty("containerClassName")&&r.$container_.addClass(t.containerClassName),r.classNameItem_=r.getClassName()+"-item",r.classNameItemFirst_=r.classNameItem_+"-first",r.classNameItemLast_=r.classNameItem_+"-last",r.squeeze_=!0===t.squeeze,r.minHeight_=void 0===t.minHeight?50:t.minHeight,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Control),r(e,[{key:"getControls",value:function(){return this.controls_}},{key:"get$Container",value:function(){return this.$container_}},{key:"addClasses_",value:function(t){return t.addClass(this.classNameItemLast_),0===this.$container_.children().length?t.addClass(this.classNameItemFirst_):this.$container_.children(":last-child").removeClass(this.classNameItemLast_),t}},{key:"addControl",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getMap();if(!r)throw new Error("composed controls needs to be added to the map before they can get any controls");if(r.addControl(t),!n.hasOwnProperty("claim")||!n.claim)if(!n.hasOwnProperty("wrap")||n.wrap){var o=(0,i.default)("<div>");n.hasOwnProperty("element")?o.append((0,i.default)(n.element)):t.set$Target(o),o.addClass(this.classNameItem_),n.hasOwnProperty("cssPosition")&&!n.cssPosition||this.addClasses_(o),t.getVisible()||o.addClass(a.cssClasses.hidden),t.on("change:visible",function(){o.toggleClass(a.cssClasses.hidden,!t.getVisible())}),this.$container_.append(o)}else(0,i.default)(n.element).addClass(this.classNameItem_),n.hasOwnProperty("cssPosition")&&!n.cssPosition||this.addClasses_((0,i.default)(n.element)),n.hasOwnProperty("element")?this.$container_.append((0,i.default)(n.element)):t.set$Target(this.$container_);t.on("change:visible",function(){return e.updateVisibility()}),t.on("change",function(t){return e.dispatchEvent(t)}),t.on("change:size",function(t){return e.dispatchEvent(t)}),this.controls_.push(t),this.changed(),this.updateVisibility()}},{key:"removeControl",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.controls_.indexOf(t);n>-1&&(t.get$Element().add(t.get$Element().parent()).add(t.get$Target()).filter("."+this.classNameItem_).remove(),this.controls_.splice(n,1),e&&this.getMap().removeControl(t),this.changed())}},{key:"setMap",value:function(t){var n=this;this.getMap()&&(this.controls_.forEach(function(t){n.getMap().removeControl(t)}),this.controls_=[]),function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&t.getControls().on("remove",function(t){n.removeControl(t.element,!1)})}},{key:"updateVisibility",value:function(){this.setVisible(this.controls_.some(function(t){return t.getVisible()}))}},{key:"isSqueezable",value:function(t){return this.squeeze_&&"height"===t}},{key:"squeezeBy",value:function(t,e){if(this.squeeze_&&"height"===t){var n=this.$container_.height(),r=Math.max(this.minHeight_,n-e);if(n>r)return this.$container_.css("max-height",r),n-r}return 0}},{key:"beforePositioning",value:function(){this.scrolled_=this.$container_.scrollTop()}},{key:"afterPositioning",value:function(){this.$container_.scrollTop(this.scrolled_)}},{key:"release",value:function(t){"height"===t&&this.$container_.css("max-height","")}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Window=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=c(n(2)),o=c(n(641)),a=c(n(21)),s=n(6),u=n(53),l=n(9);function c(t){return t&&t.__esModule?t:{default:t}}n(1283);e.Window=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.map_=t.map,n.className_=t.hasOwnProperty("className")?t.className:"g4u-window",n.classNameBody_=n.className_+"-content",n.classNameButtonClose_=n.className_+"-button-close",n.$element_=(0,i.default)("<div>").addClass(n.className_).addClass(t.parentClassName+"-window").on("click",function(t){return t.stopPropagation()}),n.$positionWrapper_=(0,i.default)("<div>").addClass(n.className_+"-inner-position"),n.$scrollWrapper_=(0,i.default)("<div>").addClass(n.className_+"-scroll-wrap"),n.$body_=(0,i.default)("<div>").addClass(n.classNameBody_),n.$button_=(0,i.default)("<button>").addClass(n.classNameButtonClose_),n.$element_.append(n.$button_).append(n.$positionWrapper_.append(n.$scrollWrapper_.append(n.$body_))).addClass(l.cssClasses.hidden).appendTo((0,i.default)(n.map_.getViewport()).children(".ol-overlaycontainer-stopevent")),t.hasOwnProperty("id")&&n.$element_.attr("id",t.id),n.$button_.on("click",function(){return n.setVisible(!1)}),n.draggable_=!t.hasOwnProperty("draggable")||t.draggable,n.fixedPosition_=!0===t.fixedPosition,n.$context_=(0,i.default)(n.map_.getTarget());var r=n.draggable_;return n.map_.asSoonAs("ready",!0,function(){n.map_.on("resize",function(){return n.updateSize(!0)});var t=function(){n.map_.get("mobile")?(n.draggable_=!1,n.getVisible()&&n.setEnableMobileScrolling_(!0)):(n.draggable_=r,n.scroll_&&n.scroll_.enabled&&n.setEnableMobileScrolling_(!1)),n.updateSize()};t(),n.map_.on("change:mobile",t)}),n.makeWindowDraggable_(),n.$element_.on("mousedown",function(){n.getInFront()}),n.visible_=!1,n.setVisible(!!t.hasOwnProperty("visible")&&t.visible),n.shieldActivated_=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),r(e,[{key:"resetDragged",value:function(){this.$element_.css("position","")}},{key:"makeWindowDraggable_",value:function(){var t=this,e=0,n=0,r=!1,o=!1;this.$context_.on("mousemove",function(i){o&&(i.clientY-n===t.$element_.offset().top&&i.clientX-e===t.$element_.offset().left||(r=!0,t.$element_.css("position","absolute"),t.$element_.offset({top:i.clientY-n,left:i.clientX-e}),i.stopPropagation()))}),this.$button_.on("mousedown",function(r){!(0,i.default)(r.target).is("input, textarea")&&t.draggable_&&(e=r.clientX-t.$element_.offset().left,n=r.clientY-t.$element_.offset().top,o=!0)}),this.$element_.get(0).addEventListener("click",function(e){r&&t.draggable_&&(r=!1,e.preventDefault(),e.stopPropagation())},!0),this.$context_.on("mouseup",function(){o=!1})}},{key:"setEnableMobileScrolling_",value:function(t){var e=this;t?this.scroll_?this.scroll_.enable():(this.scroll_=new o.default(this.$scrollWrapper_.get(0),{scrollbar:!0,bounce:!1}),window.addEventListener("wheel",function(t){e.getVisible()&&e.scroll_.enabled&&e.scroll_.scrollTo(0,Math.max(e.scroll_.maxScrollY,Math.min(0,e.scroll_.y-t.deltaY)),100)})):this.scroll_&&(this.scroll_.scrollTo(0,0,0),this.scroll_.disable())}},{key:"getInFront",value:function(){(0,u.getInFront)(this.$element_,this.$context_)}},{key:"setVisible",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.visible_;r!==t&&(t?(this.$element_.removeClass(l.cssClasses.hidden),this.map_.get("mobile")?(this.setEnableMobileScrolling_(!0),this.map_.get("shield").setActive(!0),this.map_.get("shield").add$OnTop(this.$element_,{findParentWindow:!1}),this.shieldActivated_=!0,this.map_.get("history").push(function(){return e.setVisible(!1,!1)})):this.map_.get("shield").getActive()||this.getInFront()):(this.map_.get("mobile")&&this.setEnableMobileScrolling_(!1),this.shieldActivated_&&(n?this.map_.get("history").pop():(this.map_.get("shield").setActive(!1),this.map_.get("shield").remove$OnTop(this.$element_),this.shieldActivated_=!1)),this.$element_.addClass(l.cssClasses.hidden),this.$element_.css("top",""),this.$element_.css("left","")),this.visible_=t,this.updateSize(!0),this.dispatchEvent({type:"change:visible",oldValue:r,newValue:t}))}},{key:"getVisible",value:function(){return this.visible_}},{key:"get$Body",value:function(){return this.$body_}},{key:"get$Element",value:function(){return this.$element_}},{key:"updateSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=0;if(this.getVisible()){if(this.map_.get("mobile")){e=10;var n=this.$context_.innerWidth()-2*e,r=this.$context_.innerHeight()-2*e;this.get$Body().css("max-height",""),this.$element_.css("width",n),this.$element_.css("height",r);var i=this.$context_.offset();this.$element_.css("left",e+i.left),this.$element_.css("top",e+i.top)}else{e=50;var o=this.$context_.innerWidth()-2*e,a=this.$context_.innerHeight()-2*e,u=this.$element_.css("position"),c=this.$element_.css("top"),h=this.$element_.css("left");this.get$Body().css("max-height",""),this.$element_.css("position","fixed"),this.$element_.css("top","0px"),this.$element_.css("left","0px"),this.$element_.css("width","auto"),this.$element_.css("height","auto");var f=this.$element_.outerWidth(),p=Math.min(f,o);this.$element_.css("width",p);var d=this.$element_.outerHeight();this.$element_.css("height",Math.min(d,a));var g=parseInt(this.get$Body().css("padding-top").split("px")[0])+parseInt(this.get$Body().css("padding-bottom").split("px")[0]);if(this.get$Body().css("max-height",this.get$Element().innerHeight()-this.$button_.outerHeight()-g),this.$element_.css("position",u),t&&!this.fixedPosition_){c=this.$element_.css("top"),h=this.$element_.css("left");var v=(0,s.offset)(this.$context_,this.$element_),y=(this.$context_.width()-p)/2,_=e,m="auto"===c?0:parseInt(c),b="auto"===h?0:parseInt(h);this.$element_.css("top",m+v.top+_),this.$element_.css("left",b+v.left+y)}else this.$element_.css("top",c),this.$element_.css("left",h)}0===this.get$Body().children(":not(."+l.cssClasses.hidden+")").length&&this.$element_.addClass(l.cssClasses.hidden),this.scroll_&&this.scroll_.refresh()}}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapEventInteraction=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(86));e.MapEventInteraction=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n.type||"singleclick";return t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{handleEvent:function(e){return t.getActive()&&e.type===r&&t.handleMapEvent(e),!0}}))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),r(e,[{key:"handleMapEvent",value:function(t){this.dispatchEvent({type:"mapevent",mapEvent:t})}}]),e}()},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(224),i=n(258),o=4294967295;function a(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=o,this.__views__=[]}a.prototype=r(i.prototype),a.prototype.constructor=a,t.exports=a},function(t,e,n){var r=n(115);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(163),i=n(38),o=n(113);t.exports=function(t,e,n){var a=t.length;if(a<2)return a?o(t[0]):[];for(var s=-1,u=Array(a);++s<a;)for(var l=t[s],c=-1;++c<a;)c!=s&&(u[s]=r(u[s]||l,t[c],e,n));return o(i(u,1),e,n)}},function(t,e,n){var r=n(125),i=n(42),o=n(268),a=n(505),s=n(47),u=Math.max;t.exports=function(t){if(!t||!t.length)return[];var e=0;return t=r(t,function(t){if(s(t))return e=u(t.length,e),!0}),a(e,function(e){return i(t,o(e))})}},function(t,e,n){var r=n(103),i=4294967294,o=Math.floor,a=Math.min;t.exports=function(t,e,n,s){e=n(e);for(var u=0,l=null==t?0:t.length,c=e!=e,h=null===e,f=r(e),p=void 0===e;u<l;){var d=o((u+l)/2),g=n(t[d]),v=void 0!==g,y=null===g,_=g==g,m=r(g);if(c)var b=s||_;else b=p?_&&(s||v):h?_&&v&&(s||!y):f?_&&v&&!y&&(s||!m):!y&&!m&&(s?g<=e:g<e);b?u=d+1:l=d}return a(l,i)}},function(t,e,n){var r=n(42),i=n(197),o=n(767),a=n(71),s=n(105),u=Array.prototype.splice;t.exports=function(t,e,n,l){var c=l?o:i,h=-1,f=e.length,p=t;for(t===e&&(e=s(e)),n&&(p=r(t,a(n)));++h<f;)for(var d=0,g=e[h],v=n?n(g):g;(d=c(p,v,d,l))>-1;)p!==t&&u.call(p,d,1),u.call(t,d,1);return t}},function(t,e,n){var r=n(47);t.exports=function(t){return r(t)?t:[]}},function(t,e,n){var r=n(221),i=n(198),o=n(272),a=n(42),s=n(71),u=n(220),l=Math.min;t.exports=function(t,e,n){for(var c=n?o:i,h=t[0].length,f=t.length,p=f,d=Array(f),g=1/0,v=[];p--;){var y=t[p];p&&e&&(y=a(y,s(e))),g=l(y.length,g),d[p]=!n&&(e||h>=120&&y.length>=120)?new r(p&&y):void 0}y=t[0];var _=-1,m=d[0];t:for(;++_<h&&v.length<g;){var b=y[_],w=e?e(b):b;if(b=n||0!==b?b:0,!(m?u(m,w):c(v,w,n))){for(p=f;--p;){var E=d[p];if(!(E?u(E,w):c(t[p],w,n)))continue t}m&&m.push(w),v.push(b)}}return v}},function(t,e,n){var r=n(38);t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(12),i=n(103),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},function(t,e,n){var r=n(162),i=n(114);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e,n){var r=n(801),i=n(415)(r);t.exports=i},function(t,e){t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},function(t,e,n){t.exports={chunk:n(807),compact:n(806),concat:n(805),difference:n(803),differenceBy:n(799),differenceWith:n(789),drop:n(788),dropRight:n(787),dropRightWhile:n(786),dropWhile:n(785),fill:n(784),findIndex:n(411),findLastIndex:n(410),first:n(782),flatten:n(267),flattenDeep:n(781),flattenDepth:n(780),fromPairs:n(779),head:n(409),indexOf:n(778),initial:n(777),intersection:n(776),intersectionBy:n(775),intersectionWith:n(774),join:n(773),last:n(63),lastIndexOf:n(772),nth:n(770),pull:n(768),pullAll:n(408),pullAllBy:n(766),pullAllWith:n(765),pullAt:n(764),remove:n(761),reverse:n(760),slice:n(759),sortedIndex:n(758),sortedIndexBy:n(757),sortedIndexOf:n(756),sortedLastIndex:n(755),sortedLastIndexBy:n(754),sortedLastIndexOf:n(753),sortedUniq:n(752),sortedUniqBy:n(751),tail:n(750),take:n(749),takeRight:n(748),takeRightWhile:n(747),takeWhile:n(746),union:n(745),unionBy:n(743),unionWith:n(742),uniq:n(401),uniqBy:n(741),uniqWith:n(740),unzip:n(262),unzipWith:n(400),without:n(739),xor:n(738),xorBy:n(737),xorWith:n(736),zip:n(399),zipObject:n(735),zipObjectDeep:n(734),zipWith:n(732)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.LayerLoadProcessCountMixin=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,[{key:"initialize",value:function(){var t=this;this.debounceLoadComplete_=40,this.isLoading_=!1,this.loadProcessCount_=0,this.getSource()&&this.registerCounters_(),this.on("change:source",function(){return t.registerCounters_()})}},{key:"registerCounters_",value:function(){var t=this,e=!1;this.getSource().on(["vectorloadstart","tileloadstart","imageloadstart"],function(){t.loadProcessCount_+=1,t.isLoading_||(t.isLoading_=!0,t.dispatchEvent("loadcountstart")),e=!0}),this.getSource().on(["vectorloadend","vectorloaderror","tileloadend","tileloaderror","imageloadend","imageloaderror"],function(){t.loadProcessCount_-=1,0===t.loadProcessCount_&&(e=!1,t.getProvidedMap().afterPostrender(function(){e||(t.isLoading_=!1,t.dispatchEvent("loadcountend"))}))})}},{key:"isLoading",value:function(){return this.isLoading_}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(820)),i=o(n(423));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.createRenderer=function(){return new i.default(this)},e}(r.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(199)),i=n(1),o=a(n(117));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,{attributions:r.attributions,projection:r.projection,resolutions:r.resolutions,state:r.state})||this).canvasFunction_=r.canvasFunction,n.canvas_=null,n.renderedRevision_=0,n.ratio_=void 0!==r.ratio?r.ratio:1.5,n}return s(e,t),e.prototype.getImageInternal=function(t,e,n,o){e=this.findNearestResolution(e);var a=this.canvas_;if(a&&this.renderedRevision_==this.getRevision()&&a.getResolution()==e&&a.getPixelRatio()==n&&(0,i.containsExtent)(a.getExtent(),t))return a;t=t.slice(),(0,i.scaleFromCenter)(t,this.ratio_);var s=[(0,i.getWidth)(t)/e*n,(0,i.getHeight)(t)/e*n],u=this.canvasFunction_.call(this,t,e,n,s,o);return u&&(a=new r.default(t,e,n,u)),this.canvas_=a,this.renderedRevision_=this.getRevision(),a},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optionsFromCapabilities=function(t,e){var n=t.Contents.Layer,r=(0,i.find)(n,function(t,n,r){return t.Identifier==e.layer});if(null===r)return null;var a,u=t.Contents.TileMatrixSet;a=r.TileMatrixSetLink.length>1?"projection"in e?(0,i.findIndex)(r.TileMatrixSetLink,function(t,n,r){var o=(0,i.find)(u,function(e){return e.Identifier==t.TileMatrixSet}),a=o.SupportedCRS,l=(0,s.get)(a.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||(0,s.get)(a),c=(0,s.get)(e.projection);return l&&c?(0,s.equivalent)(l,c):a==e.projection}):(0,i.findIndex)(r.TileMatrixSetLink,function(t,n,r){return t.TileMatrixSet==e.matrixSet}):0;a<0&&(a=0);var h=r.TileMatrixSetLink[a].TileMatrixSet,f=r.TileMatrixSetLink[a].TileMatrixSetLimits,p=r.Format[0];"format"in e&&(p=e.format);(a=(0,i.findIndex)(r.Style,function(t,n,r){return"style"in e?t.Title==e.style:t.isDefault}))<0&&(a=0);var d=r.Style[a].Identifier,g={};"Dimension"in r&&r.Dimension.forEach(function(t,e,n){var r=t.Identifier,i=t.Default;void 0===i&&(i=t.Value[0]),g[r]=i});var v,y=t.Contents.TileMatrixSet,_=(0,i.find)(y,function(t,e,n){return t.Identifier==h}),m=_.SupportedCRS;m&&(v=(0,s.get)(m.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||(0,s.get)(m));if("projection"in e){var b=(0,s.get)(e.projection);b&&(v&&!(0,s.equivalent)(b,v)||(v=b))}var w,E,x=r.WGS84BoundingBox;if(void 0!==x){var O=(0,s.get)("EPSG:4326").getExtent();E=x[0]==O[0]&&x[2]==O[2],w=(0,s.transformExtent)(x,"EPSG:4326",v);var C=v.getExtent();C&&((0,o.containsExtent)(C,w)||(w=void 0))}var S=(0,c.createFromCapabilitiesMatrixSet)(_,w,f),P=[],M=e.requestEncoding;if(M=void 0!==M?M:"","OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata)for(var T=t.OperationsMetadata.GetTile.DCP.HTTP.Get,A=0,D=T.length;A<D;++A)if(T[A].Constraint){var I=(0,i.find)(T[A].Constraint,function(t){return"GetEncoding"==t.name}),L=I.AllowedValues.Value;if(""===M&&(M=L[0]),M!==l.default.KVP)break;(0,i.includes)(L,l.default.KVP)&&P.push(T[A].href)}else T[A].href&&(M=l.default.KVP,P.push(T[A].href));0===P.length&&(M=l.default.REST,r.ResourceURL.forEach(function(t){"tile"===t.resourceType&&(p=t.format,P.push(t.template))}));return{urls:P,layer:e.layer,matrixSet:h,format:p,projection:v,requestEncoding:M,tileGrid:S,style:d,dimensions:g,wrapX:E,crossOrigin:e.crossOrigin}};var r=n(143),i=n(17),o=n(1),a=n(10),s=n(3),u=f(n(84)),l=f(n(822)),c=n(427),h=n(141);function f(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(e){var n=this,i=void 0!==e.requestEncoding?e.requestEncoding:l.default.KVP,o=e.tileGrid,a=e.urls;return void 0===a&&void 0!==e.url&&(a=(0,r.expandUrl)(e.url)),(n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:o,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:r.nullTileUrlFunction,urls:a,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition})||this).version_=void 0!==e.version?e.version:"1.0.0",n.format_=void 0!==e.format?e.format:"image/jpeg",n.dimensions_=void 0!==e.dimensions?e.dimensions:{},n.layer_=e.layer,n.matrixSet_=e.matrixSet,n.style_=e.style,n.requestEncoding_=i,n.setKey(n.getKeyForDimensions_()),a&&a.length>0&&(n.tileUrlFunction=(0,r.createFromTileUrlFunctions)(a.map(g.bind(n)))),n}return p(e,t),e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction((0,r.createFromTileUrlFunctions)(t.map(g.bind(this))),e)},e.prototype.getDimensions=function(){return this.dimensions_},e.prototype.getFormat=function(){return this.format_},e.prototype.getLayer=function(){return this.layer_},e.prototype.getMatrixSet=function(){return this.matrixSet_},e.prototype.getRequestEncoding=function(){return this.requestEncoding_},e.prototype.getStyle=function(){return this.style_},e.prototype.getVersion=function(){return this.version_},e.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var n in this.dimensions_)e[t++]=n+"-"+this.dimensions_[n];return e.join("/")},e.prototype.updateDimensions=function(t){(0,a.assign)(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},e}(u.default);function g(t){var e=this.requestEncoding_,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==l.default.KVP&&(0,a.assign)(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=e==l.default.KVP?(0,h.appendParams)(t,n):t.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in n?n[e.toLowerCase()]:t});var r=this.tileGrid,i=this.dimensions_;return function(n,o,s){if(n){var u={TileMatrix:r.getMatrixId(n[0]),TileCol:n[1],TileRow:n[2]};(0,a.assign)(u,i);var c=t;return c=e==l.default.KVP?(0,h.appendParams)(c,u):c.replace(/\{(\w+?)\}/g,function(t,e){return u[e]})}}}e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readBoolean=function(t){return o((0,r.getAllTextContent)(t,!1))},e.readBooleanString=o,e.readDateTime=function(t){var e=(0,r.getAllTextContent)(t,!1),n=Date.parse(e);return isNaN(n)?void 0:n/1e3},e.readDecimal=function(t){return a((0,r.getAllTextContent)(t,!1))},e.readDecimalString=a,e.readNonNegativeInteger=function(t){return s((0,r.getAllTextContent)(t,!1))},e.readNonNegativeIntegerString=s,e.readString=function(t){return(0,r.getAllTextContent)(t,!1).trim()},e.writeBooleanTextNode=function(t,e){u(t,e?"1":"0")},e.writeCDATASection=function(t,e){t.appendChild(r.DOCUMENT.createCDATASection(e))},e.writeDateTimeTextNode=function(t,e){var n=new Date(1e3*e),o=n.getUTCFullYear()+"-"+(0,i.padNumber)(n.getUTCMonth()+1,2)+"-"+(0,i.padNumber)(n.getUTCDate(),2)+"T"+(0,i.padNumber)(n.getUTCHours(),2)+":"+(0,i.padNumber)(n.getUTCMinutes(),2)+":"+(0,i.padNumber)(n.getUTCSeconds(),2)+"Z";t.appendChild(r.DOCUMENT.createTextNode(o))},e.writeDecimalTextNode=function(t,e){var n=e.toPrecision();t.appendChild(r.DOCUMENT.createTextNode(n))},e.writeNonNegativeIntegerTextNode=function(t,e){var n=e.toString();t.appendChild(r.DOCUMENT.createTextNode(n))},e.writeStringTextNode=u;var r=n(142),i=n(214);function o(t){var e=/^\s*(true|1)|(false|0)\s*$/.exec(t);return e?void 0!==e[1]||!1:void 0}function a(t){var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);return e?parseFloat(e[1]):void 0}function s(t){var e=/^\s*(\d+)\s*$/.exec(t);return e?parseInt(e[1],10):void 0}function u(t,e){t.appendChild(r.DOCUMENT.createTextNode(e))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(26),i=u(n(4)),o=n(1),a=u(n(476)),s=u(n(20));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e){var n=t.call(this)||this;return n.geometries_=e||null,n.changeEventsKeys_=[],n.listenGeometriesChange_(),n}return l(e,t),e.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(r.unlistenByKey),this.changeEventsKeys_.length=0},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push((0,r.listen)(this.geometries_[t],i.default.CHANGE,this.changed,this))},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t},e.prototype.closestPointXY=function(t,e,n,r){if(r<(0,o.closestSquaredDistanceXY)(this.getExtent(),t,e))return r;for(var i=this.geometries_,a=0,s=i.length;a<s;++a)r=i[a].closestPointXY(t,e,n,r);return r},e.prototype.containsXY=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)if(n[r].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){(0,o.createOrUpdateEmpty)(t);for(var e=this.geometries_,n=0,r=e.length;n<r;++n)(0,o.extend)(t,e[n].getExtent());return t},e.prototype.getGeometries=function(){return h(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var n=[],r=this.geometries_,i=!1,o=0,a=r.length;o<a;++o){var s=r[o],u=s.getSimplifiedGeometry(t);n.push(u),u!==s&&(i=!0)}if(i){var l=new e(null);return l.setGeometriesArray(n),l}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return s.default.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,r=e.length;n<r;++n)if(e[n].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,n){var r=n;r||(r=(0,o.getCenter)(this.getExtent()));for(var i=this.geometries_,a=0,s=i.length;a<s;++a)i[a].scale(t,e,r);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(h(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,r=e.length;n<r;++n)e[n].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(a.default);function h(t){for(var e=[],n=0,r=t.length;n<r;++n)e.push(t[n].clone());return e}e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.jsonp=function(t,e,n,i){var o=document.createElement("script"),a="olc_"+(0,r.getUid)(e);function s(){delete window[a],o.parentNode.removeChild(o)}o.async=!0,o.src=t+(-1==t.indexOf("?")?"?":"&")+(i||"callback")+"="+a;var u=setTimeout(function(){s(),n&&n()},1e4);window[a]=function(t){clearTimeout(u),s(),e(t)},document.getElementsByTagName("head")[0].appendChild(o)};var r=n(7)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ATTRIBUTION=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(144));var i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=e.ATTRIBUTION='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',a=function(t){function e(e){var n,r=e||{};n=void 0!==r.attributions?r.attributions:[o];var i=void 0!==r.crossOrigin?r.crossOrigin:"anonymous",a=void 0!==r.url?r.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return t.call(this,{attributions:n,cacheSize:r.cacheSize,crossOrigin:i,opaque:void 0===r.opaque||r.opaque,maxZoom:void 0!==r.maxZoom?r.maxZoom:19,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileLoadFunction:r.tileLoadFunction,url:a,wrapX:r.wrapX,attributionsCollapsible:!1})||this}return i(e,t),e}(r.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createOrUpdate=function(t,e,n,i,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=i,o):new r(t,e,n,i)};var r=function(){function t(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=c(n(45)),o=n(143),a=n(200),s=c(a),u=c(n(826)),l=n(55);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.generateTileUrlFunction_=!e.tileUrlFunction,n.tileLoadFunction=e.tileLoadFunction,n.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(n):o.nullTileUrlFunction,n.urls=null,e.urls?n.setUrls(e.urls):e.url&&n.setUrl(e.url),n.tileLoadingKeys_={},n}return h(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,o=(0,r.getUid)(n),s=n.getState();s==i.default.LOADING?(this.tileLoadingKeys_[o]=!0,e=u.default.TILELOADSTART):o in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[o],e=s==i.default.ERROR?u.default.TILELOADERROR:s==i.default.LOADED||s==i.default.ABORT?u.default.TILELOADEND:void 0),void 0!=e&&this.dispatchEvent(new a.TileSourceEvent(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=(0,o.expandUrl)(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,o.createFromTemplates)(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,n){var r=(0,l.getKeyZXY)(t,e,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(s.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(462)),i=n(55);var o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=(0,i.fromKey)(t)[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove((0,i.getKey)(t.tileCoord)),t.dispose())}.bind(this))}},e}(r.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(119)),i=s(n(45)),o=n(27),a=n(120);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,a)||this;return s.crossOrigin_=i,s.src_=r,s.image_=new Image,null!==i&&(s.image_.crossOrigin=i),s.unlisten_=null,s.tileLoadFunction_=o,s}return u(e,t),e.prototype.disposeInternal=function(){this.state==i.default.LOADING&&(this.unlistenImage_(),this.image_=c()),this.interimTile&&this.interimTile.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=i.default.ERROR,this.unlistenImage_(),this.image_=c(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=i.default.LOADED:this.state=i.default.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==i.default.ERROR&&(this.state=i.default.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==i.default.IDLE&&(this.state=i.default.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,a.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(r.default);function c(){var t=(0,o.createCanvasContext2D)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var r=this.points_[e+2]-this.points_[n+2];if(r<1e3/60)return!1;var i=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/r,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModifyEvent=void 0;var r=n(7),i=x(n(46)),o=x(n(124)),a=x(n(33)),s=x(n(102)),u=n(17),l=n(78),c=x(n(37)),h=x(n(4)),f=n(58),p=n(1),d=x(n(20)),g=x(n(28)),v=x(n(57)),y=x(n(85)),_=x(n(36)),m=x(n(289)),b=x(n(288)),w=n(65),E=n(3);function x(t){return t&&t.__esModule?t:{default:t}}var O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=1,S=[0,0,0,0],P=[],M="modifystart",T="modifyend",A=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.features=n,i.mapBrowserEvent=r,i}return O(e,t),e}(c.default);e.ModifyEvent=A;var D=function(t){function e(e){var n,r=t.call(this,e)||this;if(r.boundHandleFeatureChange_=r.handleFeatureChange_.bind(r),r.condition_=e.condition?e.condition:f.primaryAction,r.defaultDeleteCondition_=function(t){return(0,f.altKeyOnly)(t)&&(0,f.singleClick)(t)},r.deleteCondition_=e.deleteCondition?e.deleteCondition:r.defaultDeleteCondition_,r.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:f.always,r.vertexFeature_=null,r.vertexSegments_=null,r.lastPixel_=[0,0],r.ignoreNextSingleClick_=!1,r.modified_=!1,r.rBush_=new b.default,r.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,r.snappedToVertex_=!1,r.changingFeature_=!1,r.dragSegments_=[],r.overlay_=new y.default({source:new _.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:function(){var t=(0,w.createEditingStyle)();return function(e,n){return t[d.default.POINT]}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),r.SEGMENT_WRITERS_={Point:r.writePointGeometry_.bind(r),LineString:r.writeLineStringGeometry_.bind(r),LinearRing:r.writeLineStringGeometry_.bind(r),Polygon:r.writePolygonGeometry_.bind(r),MultiPoint:r.writeMultiPointGeometry_.bind(r),MultiLineString:r.writeMultiLineStringGeometry_.bind(r),MultiPolygon:r.writeMultiPolygonGeometry_.bind(r),Circle:r.writeCircleGeometry_.bind(r),GeometryCollection:r.writeGeometryCollectionGeometry_.bind(r)},r.source_=null,e.source?(r.source_=e.source,n=new i.default(r.source_.getFeatures()),r.source_.addEventListener(m.default.ADDFEATURE,r.handleSourceAdd_.bind(r)),r.source_.addEventListener(m.default.REMOVEFEATURE,r.handleSourceRemove_.bind(r))):n=e.features,!n)throw new Error("The modify interaction requires features or a source");return r.features_=n,r.features_.forEach(r.addFeature_.bind(r)),r.features_.addEventListener(o.default.ADD,r.handleFeatureAdd_.bind(r)),r.features_.addEventListener(o.default.REMOVE,r.handleFeatureRemove_.bind(r)),r.lastPointerEvent_=null,r}return O(e,t),e.prototype.addFeature_=function(t){var e=t.getGeometry();if(e){var n=this.SEGMENT_WRITERS_[e.getType()];n&&n(t,e)}var r=this.getMap();r&&r.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,r),t.addEventListener(h.default.CHANGE,this.boundHandleFeatureChange_)},e.prototype.willModifyFeatures_=function(t){this.modified_||(this.modified_=!0,this.dispatchEvent(new A(M,this.features_,t)))},e.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.removeEventListener(h.default.CHANGE,this.boundHandleFeatureChange_)},e.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,n=[];e.forEach(function(e){t===e.feature&&n.push(e)});for(var r=n.length-1;r>=0;--r){for(var i=n[r],o=this.dragSegments_.length-1;o>=0;--o)this.dragSegments_[o][0]===i&&this.dragSegments_.splice(o,1);e.remove(i)}},e.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.overlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},e.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},e.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},e.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},e.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)},e.prototype.writePointGeometry_=function(t,e){var n=e.getCoordinates(),r={feature:t,geometry:e,segment:[n,n]};this.rBush_.insert(e.getExtent(),r)},e.prototype.writeMultiPointGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length;r<i;++r){var o=n[r],a={feature:t,geometry:e,depth:[r],index:r,segment:[o,o]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length-1;r<i;++r){var o=n.slice(r,r+2),a={feature:t,geometry:e,index:r,segment:o};this.rBush_.insert((0,p.boundingExtent)(o),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length;r<i;++r)for(var o=n[r],a=0,s=o.length-1;a<s;++a){var u=o.slice(a,a+2),l={feature:t,geometry:e,depth:[r],index:a,segment:u};this.rBush_.insert((0,p.boundingExtent)(u),l)}},e.prototype.writePolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length;r<i;++r)for(var o=n[r],a=0,s=o.length-1;a<s;++a){var u=o.slice(a,a+2),l={feature:t,geometry:e,depth:[r],index:a,segment:u};this.rBush_.insert((0,p.boundingExtent)(u),l)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length;r<i;++r)for(var o=n[r],a=0,s=o.length;a<s;++a)for(var u=o[a],l=0,c=u.length-1;l<c;++l){var h=u.slice(l,l+2),f={feature:t,geometry:e,depth:[a,r],index:l,segment:h};this.rBush_.insert((0,p.boundingExtent)(h),f)}},e.prototype.writeCircleGeometry_=function(t,e){var n=e.getCenter(),r={feature:t,geometry:e,index:0,segment:[n,n]},i={feature:t,geometry:e,index:C,segment:[n,n]},o=[r,i];r.featureSegments=o,i.featureSegments=o,this.rBush_.insert((0,p.createOrUpdateFromCoordinate)(n),r),this.rBush_.insert(e.getExtent(),i)},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var n=e.getGeometriesArray(),r=0;r<n.length;++r){var i=n[r];(0,this.SEGMENT_WRITERS_[i.getType()])(t,i)}},e.prototype.createOrUpdateVertexFeature_=function(t){var e=this.vertexFeature_;e?e.getGeometry().setCoordinates(t):(e=new a.default(new g.default(t)),this.vertexFeature_=e,this.overlay_.getSource().addFeature(e));return e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=s.default.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(n=!(e.type!=s.default.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==s.default.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),t.prototype.handleEvent.call(this,e)&&!n);var n},e.prototype.handleDragEvent=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t);for(var e=t.coordinate,n=0,r=this.dragSegments_.length;n<r;++n){for(var i=this.dragSegments_[n],o=i[0],a=o.depth,s=o.geometry,u=void 0,c=o.segment,h=i[1];e.length<s.getStride();)e.push(c[h][e.length]);switch(s.getType()){case d.default.POINT:u=e,c[0]=e,c[1]=e;break;case d.default.MULTI_POINT:(u=s.getCoordinates())[o.index]=e,c[0]=e,c[1]=e;break;case d.default.LINE_STRING:(u=s.getCoordinates())[o.index+h]=e,c[h]=e;break;case d.default.MULTI_LINE_STRING:case d.default.POLYGON:(u=s.getCoordinates())[a[0]][o.index+h]=e,c[h]=e;break;case d.default.MULTI_POLYGON:(u=s.getCoordinates())[a[1]][a[0]][o.index+h]=e,c[h]=e;break;case d.default.CIRCLE:c[0]=e,c[1]=e,0===o.index?(this.changingFeature_=!0,s.setCenter(e),this.changingFeature_=!1):(this.changingFeature_=!0,s.setRadius((0,l.distance)(s.getCenter(),e)),this.changingFeature_=!1)}u&&this.setGeometryCoordinates_(s,u)}this.createOrUpdateVertexFeature_(e)},e.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;this.handlePointerAtPixel_(t.pixel,t.map);var e=t.coordinate;this.dragSegments_.length=0,this.modified_=!1;var n=this.vertexFeature_;if(n){var i=t.map.getView().getProjection(),o=[],a=n.getGeometry().getCoordinates(),s=(0,p.boundingExtent)([a]),u=this.rBush_.getInExtent(s),c={};u.sort(I);for(var h=0,f=u.length;h<f;++h){var g=u[h],v=g.segment,y=(0,r.getUid)(g.feature),_=g.depth;if(_&&(y+="-"+_.join("-")),c[y]||(c[y]=new Array(2)),g.geometry.getType()!==d.default.CIRCLE||g.index!==C)if(!(0,l.equals)(v[0],a)||c[y][0])if(!(0,l.equals)(v[1],a)||c[y][1])(0,r.getUid)(v)in this.vertexSegments_&&!c[y][0]&&!c[y][1]&&this.insertVertexCondition_(t)&&o.push([g,a]);else{if((g.geometry.getType()===d.default.LINE_STRING||g.geometry.getType()===d.default.MULTI_LINE_STRING)&&c[y][0]&&0===c[y][0].index)continue;this.dragSegments_.push([g,1]),c[y][1]=g}else this.dragSegments_.push([g,0]),c[y][0]=g;else{var m=F(e,g,i);(0,l.equals)(m,a)&&!c[y][0]&&(this.dragSegments_.push([g,0]),c[y][0]=g)}}o.length&&this.willModifyFeatures_(t);for(var b=o.length-1;b>=0;--b)this.insertVertex_.apply(this,o[b])}return!!this.vertexFeature_},e.prototype.handleUpEvent=function(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var n=this.dragSegments_[e][0],r=n.geometry;if(r.getType()===d.default.CIRCLE){var i=r.getCenter(),o=n.featureSegments[0],a=n.featureSegments[1];o.segment[0]=i,o.segment[1]=i,a.segment[0]=i,a.segment[1]=i,this.rBush_.update((0,p.createOrUpdateFromCoordinate)(i),o),this.rBush_.update(r.getExtent(),a)}else this.rBush_.update((0,p.boundingExtent)(n.segment),n)}return this.modified_&&(this.dispatchEvent(new A(T,this.features_,t)),this.modified_=!1),!1},e.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map)},e.prototype.handlePointerAtPixel_=function(t,e){var n=e.getCoordinateFromPixel(t),i=e.getView().getProjection(),o=(0,E.fromUserExtent)((0,p.createOrUpdateFromCoordinate)(n,S),i),a=e.getView().getResolution()*this.pixelTolerance_,s=(0,E.toUserExtent)((0,p.buffer)(o,a,S),i),u=this.rBush_.getInExtent(s);if(u.length>0){u.sort(function(t,e){return L(n,t,i)-L(n,e,i)});var c=u[0],h=c.segment,f=F(n,c,i),g=e.getPixelFromCoordinate(f),v=(0,l.distance)(t,g);if(v<=this.pixelTolerance_){var y={};if(c.geometry.getType()===d.default.CIRCLE&&c.index===C)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(f);else{var _=e.getPixelFromCoordinate(h[0]),m=e.getPixelFromCoordinate(h[1]),b=(0,l.squaredDistance)(g,_),w=(0,l.squaredDistance)(g,m);v=Math.sqrt(Math.min(b,w)),this.snappedToVertex_=v<=this.pixelTolerance_,this.snappedToVertex_&&(f=b>w?h[1]:h[0]),this.createOrUpdateVertexFeature_(f);for(var x=1,O=u.length;x<O;++x){var P=u[x].segment;if(!((0,l.equals)(h[0],P[0])&&(0,l.equals)(h[1],P[1])||(0,l.equals)(h[0],P[1])&&(0,l.equals)(h[1],P[0])))break;y[(0,r.getUid)(P)]=!0}}return y[(0,r.getUid)(h)]=!0,void(this.vertexSegments_=y)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},e.prototype.insertVertex_=function(t,e){for(var n,r=t.segment,i=t.feature,o=t.geometry,a=t.depth,s=t.index;e.length<o.getStride();)e.push(0);switch(o.getType()){case d.default.MULTI_LINE_STRING:case d.default.POLYGON:(n=o.getCoordinates())[a[0]].splice(s+1,0,e);break;case d.default.MULTI_POLYGON:(n=o.getCoordinates())[a[1]][a[0]].splice(s+1,0,e);break;case d.default.LINE_STRING:(n=o.getCoordinates()).splice(s+1,0,e);break;default:return}this.setGeometryCoordinates_(o,n);var u=this.rBush_;u.remove(t),this.updateSegmentIndices_(o,s,a,1);var l={segment:[r[0],e],feature:i,geometry:o,depth:a,index:s};u.insert((0,p.boundingExtent)(l.segment),l),this.dragSegments_.push([l,1]);var c={segment:[e,r[1]],feature:i,geometry:o,depth:a,index:s+1};u.insert((0,p.boundingExtent)(c.segment),c),this.dragSegments_.push([c,0]),this.ignoreNextSingleClick_=!0},e.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=s.default.POINTERDRAG){var t=this.lastPointerEvent_;this.willModifyFeatures_(t);var e=this.removeVertex_();return this.dispatchEvent(new A(T,this.features_,t)),this.modified_=!1,e}return!1},e.prototype.removeVertex_=function(){var t,e,n,i,o,a,s,u,l,c,h,f=this.dragSegments_,g={},v=!1;for(o=f.length-1;o>=0;--o)c=(n=f[o])[0],h=(0,r.getUid)(c.feature),c.depth&&(h+="-"+c.depth.join("-")),h in g||(g[h]={}),0===n[1]?(g[h].right=c,g[h].index=c.index):1==n[1]&&(g[h].left=c,g[h].index=c.index+1);for(h in g){switch(l=g[h].right,s=g[h].left,u=(a=g[h].index)-1,c=void 0!==s?s:l,u<0&&(u=0),t=e=(i=c.geometry).getCoordinates(),v=!1,i.getType()){case d.default.MULTI_LINE_STRING:e[c.depth[0]].length>2&&(e[c.depth[0]].splice(a,1),v=!0);break;case d.default.LINE_STRING:e.length>2&&(e.splice(a,1),v=!0);break;case d.default.MULTI_POLYGON:t=t[c.depth[1]];case d.default.POLYGON:(t=t[c.depth[0]]).length>4&&(a==t.length-1&&(a=0),t.splice(a,1),v=!0,0===a&&(t.pop(),t.push(t[0]),u=t.length-1))}if(v){this.setGeometryCoordinates_(i,e);var y=[];if(void 0!==s&&(this.rBush_.remove(s),y.push(s.segment[0])),void 0!==l&&(this.rBush_.remove(l),y.push(l.segment[1])),void 0!==s&&void 0!==l){var _={depth:c.depth,feature:c.feature,geometry:c.geometry,index:u,segment:y};this.rBush_.insert((0,p.boundingExtent)(_.segment),_)}this.updateSegmentIndices_(i,a,c.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),f.length=0}}return v},e.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},e.prototype.updateSegmentIndices_=function(t,e,n,r){this.rBush_.forEachInExtent(t.getExtent(),function(i){i.geometry===t&&(void 0===n||void 0===i.depth||(0,u.equals)(i.depth,n))&&i.index>e&&(i.index+=r)})},e}(v.default);function I(t,e){return t.index-e.index}function L(t,e,n){var r=e.geometry;if(r.getType()===d.default.CIRCLE){var i=r;if(e.index===C){var o=(0,l.squaredDistance)(i.getCenter(),t),a=Math.sqrt(o)-i.getRadius();return a*a}}var s=(0,E.fromUserCoordinate)(t,n);return P[0]=(0,E.fromUserCoordinate)(e.segment[0],n),P[1]=(0,E.fromUserCoordinate)(e.segment[1],n),(0,l.squaredDistanceToSegment)(s,P)}function F(t,e,n){var r=e.geometry;if(r.getType()===d.default.CIRCLE&&e.index===C)return r.getClosestPoint(t);var i=(0,E.fromUserCoordinate)(t,n);return P[0]=(0,E.fromUserCoordinate)(e.segment[0],n),P[1]=(0,E.fromUserCoordinate)(e.segment[1],n),(0,E.toUserCoordinate)((0,l.closestOnSegment)(i,P),n)}e.default=D},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=function(t){return t&&t.__esModule?t:{default:t}}(n(443)),o=n(1),a=n(10);var s=function(){function t(t){this.rbush_=new i.default(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[(0,r.getUid)(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,o=e.length;i<o;i++){var a=t[i],s=e[i],u={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};n[i]=u,this.items_[(0,r.getUid)(s)]=u}this.rbush_.load(n)},t.prototype.remove=function(t){var e=(0,r.getUid)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[(0,r.getUid)(e)],i=[n.minX,n.minY,n.maxX,n.maxY];(0,o.equals)(i,t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,r=0,i=t.length;r<i;r++)if(n=e(t[r]))return n;return n},t.prototype.isEmpty=function(){return(0,a.isEmpty)(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return(0,o.createOrUpdate)(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.all=function(t,e){return[[-1/0,-1/0,1/0,1/0]]},e.bbox=function(t,e){return[t]},e.tile=function(t){return function(e,n){var r=t.getZForResolution(n),i=t.getTileRangeForExtentAndZ(e,r),o=[],a=[r,0,0];for(a[1]=i.minX;a[1]<=i.maxX;++a[1])for(a[2]=i.minY;a[2]<=i.maxY;++a[2])o.push(t.getTileCoordExtent(a));return o}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={FRACTION:"fraction",PIXELS:"pixels"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(27),o=c(n(467)),a=c(n(215)),s=n(100),u=c(n(839)),l=n(41);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform_=(0,l.create)(),n.pixelTransform=(0,l.create)(),n.inversePixelTransform=(0,l.create)(),n.context=null,n.containerReused=!1,n.createTransformStringCanvas_=(0,i.createCanvasContext2D)(1,1).canvas,n}return h(e,t),e.prototype.useContainer=function(t,e,n){var r,o,a=this.getLayer().getClassName();t&&""===t.style.opacity&&t.className===a&&((u=t.firstElementChild)instanceof HTMLCanvasElement&&(o=u.getContext("2d")));if(o&&o.canvas.style.transform===e?(this.container=t,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(r=document.createElement("div")).className=a;var s=r.style;s.position="absolute",s.width="100%",s.height="100%";var u=(o=(0,i.createCanvasContext2D)()).canvas;r.appendChild(u),(s=u.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=r,this.context=o}},e.prototype.clip=function(t,e,n){var i=e.pixelRatio,o=e.size[0]*i/2,a=e.size[1]*i/2,u=e.viewState.rotation,c=(0,r.getTopLeft)(n),h=(0,r.getTopRight)(n),f=(0,r.getBottomRight)(n),p=(0,r.getBottomLeft)(n);(0,l.apply)(e.coordinateToPixelTransform,c),(0,l.apply)(e.coordinateToPixelTransform,h),(0,l.apply)(e.coordinateToPixelTransform,f),(0,l.apply)(e.coordinateToPixelTransform,p),t.save(),(0,s.rotateAtOffset)(t,-u,o,a),t.beginPath(),t.moveTo(c[0]*i,c[1]*i),t.lineTo(h[0]*i,h[1]*i),t.lineTo(f[0]*i,f[1]*i),t.lineTo(p[0]*i,p[1]*i),t.clip(),(0,s.rotateAtOffset)(t,u,o,a)},e.prototype.clipUnrotated=function(t,e,n){var i=(0,r.getTopLeft)(n),o=(0,r.getTopRight)(n),a=(0,r.getBottomRight)(n),s=(0,r.getBottomLeft)(n);(0,l.apply)(e.coordinateToPixelTransform,i),(0,l.apply)(e.coordinateToPixelTransform,o),(0,l.apply)(e.coordinateToPixelTransform,a),(0,l.apply)(e.coordinateToPixelTransform,s);var u=this.inversePixelTransform;(0,l.apply)(u,i),(0,l.apply)(u,o),(0,l.apply)(u,a),(0,l.apply)(u,s),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){var i=new o.default(t,this.inversePixelTransform,n,e);r.dispatchEvent(i)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_(a.default.PRERENDER,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(a.default.POSTRENDER,t,e)},e.prototype.getRenderTransform=function(t,e,n,r,i,o,a){var s=i/2,u=o/2,c=r/e,h=-c,f=-t[0]+a,p=-t[1];return(0,l.compose)(this.tempTransform_,s,u,c,h,-n,f,p)},e.prototype.getDataAtPixel=function(t,e,n){var r,i=(0,l.apply)(this.inversePixelTransform,t.slice()),o=this.context;try{r=o.getImageData(Math.round(i[0]),Math.round(i[1]),1,1).data}catch(t){return"SecurityError"===t.name?new Uint8Array:r}return 0===r[3]?null:r},e.prototype.createTransformString=function(t){return this.createTransformStringCanvas_.style.transform=(0,l.toString)(t),this.createTransformStringCanvas_.style.transform},e}(u.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale}return t.prototype.clone=function(){return new t({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getAnchor=function(){return(0,r.abstract)()},t.prototype.getImage=function(t){return(0,r.abstract)()},t.prototype.getHitDetectionImage=function(t){return(0,r.abstract)()},t.prototype.getImageState=function(){return(0,r.abstract)()},t.prototype.getImageSize=function(){return(0,r.abstract)()},t.prototype.getHitDetectionImageSize=function(){return(0,r.abstract)()},t.prototype.getOrigin=function(){return(0,r.abstract)()},t.prototype.getSize=function(){return(0,r.abstract)()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.listenImageChange=function(t){(0,r.abstract)()},t.prototype.load=function(){(0,r.abstract)()},t.prototype.unlistenImageChange=function(t){(0,r.abstract)()},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ACTIVE:"active"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=g(n(46)),o=g(n(124)),a=n(21),s=g(n(175)),u=n(16),l=n(26),c=g(n(4)),h=n(1),f=g(n(472)),p=n(10),d=g(n(69));function g(t){return t&&t.__esModule?t:{default:t}}var v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y={LAYERS:"layers"},_=function(t){function e(e){var n=this,r=e||{},o=(0,p.assign)({},r);delete o.layers;var s=r.layers;return(n=t.call(this,o)||this).layersListenerKeys_=[],n.listenerKeys_={},n.addEventListener((0,a.getChangeEventType)(y.LAYERS),n.handleLayersChanged_),s?Array.isArray(s)?s=new i.default(s.slice(),{unique:!0}):(0,u.assert)("function"==typeof s.getArray,43):s=new i.default(void 0,{unique:!0}),n.setLayers(s),n}return v(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(l.unlistenByKey),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push((0,l.listen)(t,o.default.ADD,this.handleLayersAdd_,this),(0,l.listen)(t,o.default.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(l.unlistenByKey);(0,p.clear)(this.listenerKeys_);for(var n=t.getArray(),i=0,a=n.length;i<a;i++){var u=n[i];this.listenerKeys_[(0,r.getUid)(u)]=[(0,l.listen)(u,s.default.PROPERTYCHANGE,this.handleLayerChange_,this),(0,l.listen)(u,c.default.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[(0,r.getUid)(e)]=[(0,l.listen)(e,s.default.PROPERTYCHANGE,this.handleLayerChange_,this),(0,l.listen)(e,c.default.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=(0,r.getUid)(e);this.listenerKeys_[n].forEach(l.unlistenByKey),delete this.listenerKeys_[n],this.changed()},e.prototype.getLayers=function(){return this.get(y.LAYERS)},e.prototype.setLayers=function(t){this.set(y.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var r=this.getLayerState(),i=n,o=e.length;i<o;i++){var a=e[i];a.opacity*=r.opacity,a.visible=a.visible&&r.visible,a.maxResolution=Math.min(a.maxResolution,r.maxResolution),a.minResolution=Math.max(a.minResolution,r.minResolution),a.minZoom=Math.max(a.minZoom,r.minZoom),a.maxZoom=Math.min(a.maxZoom,r.maxZoom),void 0!==r.extent&&(void 0!==a.extent?a.extent=(0,h.getIntersection)(a.extent,r.extent):a.extent=r.extent)}return e},e.prototype.getSourceState=function(){return d.default.READY},e}(f.default);e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linearRingIsClockwise=i,e.linearRingsAreOriented=o,e.linearRingssAreOriented=function(t,e,n,r,i){for(var a=0,s=n.length;a<s;++a){var u=n[a];if(!o(t,e,u,r,i))return!1;u.length&&(e=u[u.length-1])}return!0},e.orientLinearRings=a,e.orientLinearRingsArray=function(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o)e=a(t,e,n[o],r,i);return e};var r=n(860);function i(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],u=t[e+1];i+=(s-o)*(u+a),o=s,a=u}return i>0}function o(t,e,n,r,o){for(var a=void 0!==o&&o,s=0,u=n.length;s<u;++s){var l=n[s],c=i(t,e,l,r);if(0===s){if(a&&c||!a&&!c)return!1}else if(a&&!c||!a&&c)return!1;e=l}return!0}function a(t,e,n,o,a){for(var s=void 0!==a&&a,u=0,l=n.length;u<l;++u){var c=n[u],h=i(t,e,c,o);(0===u?s&&h||!s&&!h:s&&!h||!s&&h)&&(0,r.coordinates)(t,e,c,o),e=c}return e}},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],u=t[e+1];i+=a*s-o*u,o=s,a=u}return i/2}function i(t,e,n,i){for(var o=0,a=0,s=n.length;a<s;++a){var u=n[a];o+=r(t,e,u,i),e=u}return o}Object.defineProperty(e,"__esModule",{value:!0}),e.linearRing=r,e.linearRings=i,e.linearRingss=function(t,e,n,r){for(var o=0,a=0,s=n.length;a<s;++a){var u=n[a];o+=i(t,e,u,r),e=u[u.length-1]}return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.disable=function(t){return void 0!==t?0:void 0},e.none=function(t){return void 0!==t?t:void 0},e.createSnapToN=function(t){var e=2*Math.PI/t;return function(t,n){return n?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}},e.createSnapToZero=function(t){var e=t||(0,r.toRadians)(5);return function(t,n){return n?t:void 0!==t?Math.abs(t)<=e?0:t:void 0}};var r=n(14)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(45)),i=a(n(4)),o=a(n(481));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e,n){var r=t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()})||this;return r.boundHandleTileChange_=r.handleTileChange.bind(r),r.tileChangeCallback_=n,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return s(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);n&&e[0].addEventListener(i.default.CHANGE,this.boundHandleTileChange_);return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(e.hifi&&n===r.default.LOADED||n===r.default.ERROR||n===r.default.EMPTY||n===r.default.ABORT){e.removeEventListener(i.default.CHANGE,this.boundHandleTileChange_);var o=e.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,o,a=0,s=!1;this.tilesLoading_<t&&a<e&&this.getCount()>0;)o=(i=this.dequeue()[0]).getKey(),(n=i.getState())===r.default.ABORT?s=!0:n!==r.default.IDLE||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++a,i.load());0===a&&s&&this.tileChangeCallback_()},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(304));var i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i,o)||this;return a.pointerEvent=r,a}return i(e,t),e}(r.default);e.default=o},function(t,e,n){
/*!
 * PEP v0.5.3 | https://github.com/jquery/PEP
 * Copyright jQuery Foundation and other contributors | http://jquery.org/license
 */
t.exports=function(){"use strict";var t=["bubbles","cancelable","view","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],e=[!1,!1,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0];function n(n,r){r=r||Object.create(null);var i=document.createEvent("Event");i.initEvent(n,r.bubbles||!1,r.cancelable||!1);for(var o,a=2;a<t.length;a++)o=t[a],i[o]=r[o]||e[a];i.buttons=r.buttons||0;var s=0;return s=void 0!==r.pressure&&i.buttons?r.pressure:i.buttons?.5:0,i.x=i.clientX,i.y=i.clientY,i.pointerId=r.pointerId||0,i.width=r.width||1,i.height=r.height||1,i.pressure=s,i.tiltX=r.tiltX||0,i.tiltY=r.tiltY||0,i.twist=r.twist||0,i.tangentialPressure=r.tangentialPressure||0,i.pointerType=r.pointerType||"",i.hwTimestamp=r.hwTimestamp||0,i.isPrimary=r.isPrimary||!1,i.detail=0,i}var r=window.Map&&window.Map.prototype.forEach?Map:i;function i(){this.array=[],this.size=0}i.prototype={set:function(t,e){if(void 0===e)return this.delete(t);this.has(t)||this.size++,this.array[t]=e},has:function(t){return void 0!==this.array[t]},delete:function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach(function(n,r){t.call(e,n,r,this)},this)}};var o=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],a=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],s={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},u="undefined"!=typeof SVGElementInstance,l={pointermap:new r,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(t,e){var n=e,r=n.events;r&&(r.forEach(function(t){n[t]&&(this.eventMap[t]=n[t].bind(n))},this),this.eventSources[t]=n,this.eventSourceList.push(n))},register:function(t){for(var e,n=this.eventSourceList.length,r=0;r<n&&(e=this.eventSourceList[r]);r++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,r=0;r<n&&(e=this.eventSourceList[r]);r++)e.unregister.call(e,t)},contains:function(t,e){try{return t.contains(e)}catch(t){return!1}},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){t.bubbles=!1,this.fireEvent("pointerenter",t)},leave:function(t){t.bubbles=!1,this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.propagate(t,this.leave,!1)},enterOver:function(t){this.over(t),this.propagate(t,this.enter,!0)},eventHandler:function(t){if(!t._handledByPE){var e=t.type,n=this.eventMap&&this.eventMap[e];n&&n(t),t._handledByPE=!0}},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,e){t.addEventListener(e,this.boundHandler)},removeEvent:function(t,e){t.removeEventListener(e,this.boundHandler)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var r=new n(t,e);return e.preventDefault&&(r.preventDefault=e.preventDefault),r._target=r._target||e.target,r},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},cloneEvent:function(t){for(var e,n=Object.create(null),r=0;r<o.length;r++)n[e=o[r]]=t[e]||a[r],!u||"target"!==e&&"relatedTarget"!==e||n[e]instanceof SVGElementInstance&&(n[e]=n[e].correspondingUseElement);return t.preventDefault&&(n.preventDefault=function(){t.preventDefault()}),n},getTarget:function(t){var e=this.captureInfo[t.pointerId];return e?t._target!==e&&t.type in s?void 0:e:t._target},propagate:function(t,e,n){for(var r=t.target,i=[];null!=r&&r!==document&&!r.contains(t.relatedTarget);)if(i.push(r),!(r=r.parentNode))return;n&&i.reverse(),i.forEach(function(n){t.target=n,e.call(this,t)},this)},setCapture:function(t,e,r){this.captureInfo[t]&&this.releaseCapture(t,r),this.captureInfo[t]=e,this.implicitRelease=this.releaseCapture.bind(this,t,r),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var i=new n("gotpointercapture",{bubbles:!0});i.pointerId=t,i._target=e,r||this.asyncDispatchEvent(i)},releaseCapture:function(t,e){var r=this.captureInfo[t];if(r){this.captureInfo[t]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var i=new n("lostpointercapture",{bubbles:!0});i.pointerId=t,i._target=r,e||this.asyncDispatchEvent(i)}},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return e.dispatchEvent(t)},asyncDispatchEvent:function(t){requestAnimationFrame(this.dispatchEvent.bind(this,t))}};l.boundHandler=l.eventHandler.bind(l);var c={shadow:function(t){if(t)return t.shadowRoot||t.webkitShadowRoot},canTarget:function(t){return t&&Boolean(t.elementFromPoint)},targetingShadow:function(t){var e=this.shadow(t);if(this.canTarget(e))return e},olderShadow:function(t){var e=t.olderShadowRoot;if(!e){var n=t.querySelector("shadow");n&&(e=n.olderShadowRoot)}return e},allShadows:function(t){for(var e=[],n=this.shadow(t);n;)e.push(n),n=this.olderShadow(n);return e},searchRoot:function(t,e,n){if(t){var r,i,o=t.elementFromPoint(e,n);for(i=this.targetingShadow(o);i;){if(r=i.elementFromPoint(e,n)){var a=this.targetingShadow(r);return this.searchRoot(a,e,n)||r}i=this.olderShadow(i)}return o}},owner:function(t){for(var e=t;e.parentNode;)e=e.parentNode;return e.nodeType!==Node.DOCUMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(e=document),e},findTarget:function(t){var e=t.clientX,n=t.clientY,r=this.owner(t.target);return r.elementFromPoint(e,n)||(r=document),this.searchRoot(r,e,n)}},h=Array.prototype.forEach.call.bind(Array.prototype.forEach),f=Array.prototype.map.call.bind(Array.prototype.map),p=Array.prototype.slice.call.bind(Array.prototype.slice),d=Array.prototype.filter.call.bind(Array.prototype.filter),g=window.MutationObserver||window.WebKitMutationObserver,v={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};function y(t,e,n,r){this.addCallback=t.bind(r),this.removeCallback=e.bind(r),this.changedCallback=n.bind(r),g&&(this.observer=new g(this.mutationWatcher.bind(this)))}function _(t){return"{ -ms-touch-action: "+t+"; touch-action: "+t+"; }"}y.prototype={watchSubtree:function(t){this.observer&&c.canTarget(t)&&this.observer.observe(t,v)},enableOnSubtree:function(t){this.watchSubtree(t),t===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(t)},installNewSubtree:function(t){h(this.findElements(t),this.addElement,this)},findElements:function(t){return t.querySelectorAll?t.querySelectorAll("[touch-action]"):[]},removeElement:function(t){this.removeCallback(t)},addElement:function(t){this.addCallback(t)},elementChanged:function(t,e){this.changedCallback(t,e)},concatLists:function(t,e){return t.concat(p(e))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(t){return t.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(t){var e=f(t,this.findElements,this);return e.push(d(t,this.isElement)),e.reduce(this.concatLists,[])},mutationWatcher:function(t){t.forEach(this.mutationHandler,this)},mutationHandler:function(t){if("childList"===t.type){var e=this.flattenMutationTree(t.addedNodes);e.forEach(this.addElement,this);var n=this.flattenMutationTree(t.removedNodes);n.forEach(this.removeElement,this)}else"attributes"===t.type&&this.elementChanged(t.target,t.oldValue)}};var m=[{selector:'[touch-action="none"]',value:"none"},{selector:'[touch-action="auto"]',value:"auto"},{selector:'[touch-action~="pan-x"]',value:"pan-x"},{selector:'[touch-action~="pan-y"]',value:"pan-y"},{selector:'[touch-action~="pan-up"]',value:"pan-up"},{selector:'[touch-action~="pan-down"]',value:"pan-down"},{selector:'[touch-action~="pan-left"]',value:"pan-left"},{selector:'[touch-action~="pan-right"]',value:"pan-right"}],b="",w=window.PointerEvent||window.MSPointerEvent,E=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,x=l.pointermap,O=[1,4,2,8,16],C=!1;try{C=1===new MouseEvent("test",{buttons:1}).buttons}catch(t){}var S,P={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","webkitmouseforcechanged","mousemove","mouseup","mouseover","mouseout"],register:function(t){l.listen(t,this.events)},unregister:function(t){l.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,r=t.clientX,i=t.clientY,o=0,a=n.length;o<a&&(e=n[o]);o++){var s=Math.abs(r-e.x),u=Math.abs(i-e.y);if(s<=25&&u<=25)return!0}},prepareEvent:function(t){var e=l.cloneEvent(t),n=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),n()},e.pointerId=this.POINTER_ID,e.isPrimary=!0,e.pointerType=this.POINTER_TYPE,"webkitForce"in t&&(e.pressure=t.webkitForce-MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN),e},prepareButtonsForMove:function(t,e){var n=x.get(this.POINTER_ID);0!==e.which&&n?t.buttons=n.buttons:t.buttons=0,e.buttons=t.buttons},mousedown:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=x.get(this.POINTER_ID),n=this.prepareEvent(t);C||(n.buttons=O[n.button],e&&(n.buttons|=e.buttons),t.buttons=n.buttons),x.set(this.POINTER_ID,t),e&&0!==e.buttons?l.move(n):l.down(n)}},webkitmouseforcechanged:function(t){this.mousemove(t)},mousemove:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);C||this.prepareButtonsForMove(e,t),e.button=-1,x.set(this.POINTER_ID,t),l.move(e)}},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=x.get(this.POINTER_ID),n=this.prepareEvent(t);if(!C){var r=O[n.button];n.buttons=e?e.buttons&~r:0,t.buttons=n.buttons}x.set(this.POINTER_ID,t),n.buttons&=~O[n.button],0===n.buttons?l.up(n):l.move(n)}},mouseover:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);C||this.prepareButtonsForMove(e,t),e.button=-1,x.set(this.POINTER_ID,t),l.enterOver(e)}},mouseout:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);C||this.prepareButtonsForMove(e,t),e.button=-1,l.leaveOut(e)}},cancel:function(t){var e=this.prepareEvent(t);l.cancel(e),this.deactivateMouse()},deactivateMouse:function(){x.delete(this.POINTER_ID)}},M=l.captureInfo,T=c.findTarget.bind(c),A=c.allShadows.bind(c),D=l.pointermap,I={events:["touchstart","touchmove","touchforcechange","touchend","touchcancel"],register:function(t){S.enableOnSubtree(t)},unregister:function(){},elementAdded:function(t){var e=t.getAttribute("touch-action"),n=this.touchActionToScrollType(e);"number"==typeof n&&(t._scrollType=n,l.listen(t,this.events),A(t).forEach(function(t){t._scrollType=n,l.listen(t,this.events)},this))},elementRemoved:function(t){if(D.size>0){var e=this.events;t.addEventListener("touchend",function(){t._scrollType=void 0,l.unlisten(t,e)})}else t._scrollType=void 0,l.unlisten(t,this.events);A(t).forEach(function(t){t._scrollType=void 0,l.unlisten(t,this.events)},this)},elementChanged:function(t,e){var n=t.getAttribute("touch-action"),r=this.touchActionToScrollType(n),i=this.touchActionToScrollType(e);"number"==typeof r&&"number"==typeof i?(t._scrollType=r,A(t).forEach(function(t){t._scrollType=r},this)):"number"==typeof i?this.elementRemoved(t):"number"==typeof r&&this.elementAdded(t)},scrollTypes:{UP:function(t){return t.includes("pan-y")||t.includes("pan-up")?1:0},DOWN:function(t){return t.includes("pan-y")||t.includes("pan-down")?2:0},LEFT:function(t){return t.includes("pan-x")||t.includes("pan-left")?4:0},RIGHT:function(t){return t.includes("pan-x")||t.includes("pan-right")?8:0}},touchActionToScrollType:function(t){if(t){if("auto"===t)return 15;if("none"===t)return 0;var e=t.split(" "),n=this.scrollTypes;return n.UP(e)|n.DOWN(e)|n.LEFT(e)|n.RIGHT(e)}},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===D.size||1===D.size&&D.has(1))&&(this.firstTouch=t.identifier,this.firstXY={X:t.clientX,Y:t.clientY},this.scrolling=!1)},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstXY=null)},typeToButtons:function(t){var e=0;return"touchstart"!==t&&"touchmove"!==t&&"touchforcechange"!==t||(e=1),e},touchToPointer:function(t){var e=this.currentTouchEvent,n=l.cloneEvent(t),r=n.pointerId=t.identifier+2;if(n.target=M[r]||T(n),n.bubbles=!0,n.cancelable=!0,n.button=0,n.buttons=this.typeToButtons(e.type),n.width=2*(t.radiusX||t.webkitRadiusX||0),n.height=2*(t.radiusY||t.webkitRadiusY||0),n.pressure=void 0!==t.force?t.force:void 0!==t.webkitForce?t.webkitForce:void 0,n.isPrimary=this.isPrimaryTouch(t),t.altitudeAngle){var i=Math.tan(t.altitudeAngle),o=180/Math.PI;n.tiltX=Math.atan(Math.cos(t.azimuthAngle)/i)*o,n.tiltY=Math.atan(Math.sin(t.azimuthAngle)/i)*o}else n.tiltX=0,n.tiltY=0;"stylus"===t.touchType?n.pointerType="pen":n.pointerType=this.POINTER_TYPE,n.altKey=e.altKey,n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.shiftKey=e.shiftKey;var a=this;return n.preventDefault=function(){a.scrolling=!1,a.firstXY=null,e.preventDefault()},n},processTouches:function(t,e){var n=t.changedTouches;this.currentTouchEvent=t;for(var r,i=0;i<n.length;i++)r=n[i],e.call(this,this.touchToPointer(r))},shouldScroll:function(t){if(this.firstXY){var e,n=t.currentTarget._scrollType;if(0===n)e=!1;else if(15===n)e=!0;else{var r=t.changedTouches[0],i=r.clientY-this.firstXY.Y,o=Math.abs(i),a=r.clientX-this.firstXY.X,s=Math.abs(a),u=1&n,l=2&n,c=4&n,h=8&n;c&&h?e=s>o:c?e=s>o&&a>0:h&&(e=s>o&&a<0),e||(u&&l?e=s<o:u?e=s<o&&i>0:l&&(e=s<o&&i<0))}return this.firstXY=null,e}},findTouch:function(t,e){for(var n,r=0,i=t.length;r<i&&(n=t[r]);r++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.touches;if(D.size>=e.length){var n=[];D.forEach(function(t,r){if(1!==r&&!this.findTouch(e,r-2)){var i=t.out;n.push(i)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(t){this.vacuumTouches(t),this.setPrimaryTouch(t.changedTouches[0]),this.dedupSynthMouse(t),this.scrolling||this.processTouches(t,this.overDown)},overDown:function(t){D.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),l.enterOver(t),l.down(t)},touchforcechange:function(t){this.touchmove(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):("touchforcechange"!==t.type&&t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=t,n=D.get(e.pointerId);if(n){var r=n.out,i=n.outTarget;l.move(e),r&&i!==e.target&&(r.relatedTarget=e.target,e.relatedTarget=i,r.target=i,e.target?(l.leaveOut(r),l.enterOver(e)):(e.target=i,e.relatedTarget=null,this.cancelOut(e))),n.out=e,n.outTarget=e.target}},touchend:function(t){this.dedupSynthMouse(t),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(l.up(t),l.leaveOut(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){l.cancel(t),l.leaveOut(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){D.delete(t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=P.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch(n)){var r={x:n.clientX,y:n.clientY};e.push(r);var i=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,r);setTimeout(i,2500)}}};S=new y(I.elementAdded,I.elementRemoved,I.elementChanged,I);var L,F,k,R=l.pointermap,j=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,N={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){l.listen(t,this.events)},unregister:function(t){l.unlisten(t,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(t){var e=t;return j&&((e=l.cloneEvent(t)).pointerType=this.POINTER_TYPES[t.pointerType]),e},cleanup:function(t){R.delete(t)},MSPointerDown:function(t){R.set(t.pointerId,t);var e=this.prepareEvent(t);l.down(e)},MSPointerMove:function(t){var e=this.prepareEvent(t);l.move(e)},MSPointerUp:function(t){var e=this.prepareEvent(t);l.up(e),this.cleanup(t.pointerId)},MSPointerOut:function(t){var e=this.prepareEvent(t);l.leaveOut(e)},MSPointerOver:function(t){var e=this.prepareEvent(t);l.enterOver(e)},MSPointerCancel:function(t){var e=this.prepareEvent(t);l.cancel(e),this.cleanup(t.pointerId)},MSLostPointerCapture:function(t){var e=l.makeEvent("lostpointercapture",t);l.dispatchEvent(e)},MSGotPointerCapture:function(t){var e=l.makeEvent("gotpointercapture",t);l.dispatchEvent(e)}};function B(t){if(!l.pointermap.has(t)){var e=new Error("NotFoundError");throw e.name="NotFoundError",e}}function G(t){for(var e=t.parentNode;e&&e!==t.ownerDocument;)e=e.parentNode;if(!e){var n=new Error("InvalidStateError");throw n.name="InvalidStateError",n}}function U(t){var e=l.pointermap.get(t);return 0!==e.buttons}return window.navigator.msPointerEnabled?(L=function(t){B(t),G(this),U(t)&&(l.setCapture(t,this,!0),this.msSetPointerCapture(t))},F=function(t){B(t),l.releaseCapture(t,!0),this.msReleasePointerCapture(t)}):(L=function(t){B(t),G(this),U(t)&&l.setCapture(t,this)},F=function(t){B(t),l.releaseCapture(t)}),k=function(t){return!!l.captureInfo[t]},function(){if(w){m.forEach(function(t){b+=t.selector+_(t.value)+"\n",E&&(b+=function(t){return"body /shadow-deep/ "+t}(t.selector)+_(t.value)+"\n")});var t=document.createElement("style");t.textContent=b,document.head.appendChild(t)}}(),function(){if(!window.PointerEvent){if(window.PointerEvent=n,window.navigator.msPointerEnabled){var t=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:t,enumerable:!0}),l.registerSource("ms",N)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),l.registerSource("mouse",P),void 0!==window.ontouchstart&&l.registerSource("touch",I);l.register(document)}}(),window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:L},releasePointerCapture:{value:F},hasPointerCapture:{value:k}}),{dispatcher:l,Installer:y,PointerEvent:n,PointerMap:r,targetFinding:c}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(37));var i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.map=n,i.frameState=void 0!==r?r:null,i}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(303));var i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,o)||this;return a.originalEvent=r,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==i&&i,a}return i(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e){var n=this,i="Assertion failed. See https://openlayers.org/en/"+("latest"===r.VERSION?r.VERSION:"v"+r.VERSION.split("-")[0])+"/doc/errors/#"+e+" for details.";return(n=t.call(this,i)||this).code=e,n.name="AssertionError",n.message=i,n}return i(e,t),e}(Error);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=D(n(46)),o=D(n(124)),a=D(n(304)),s=D(n(483)),u=D(n(102)),l=D(n(303)),c=D(n(216)),h=D(n(482)),f=D(n(215)),p=n(21),d=D(p),g=D(n(175)),v=D(n(299)),y=D(n(153)),_=D(n(173)),m=n(16),b=n(27),w=n(26),E=D(n(4)),x=n(1),O=n(34),C=n(123),S=D(n(295)),P=n(87),M=n(481),T=n(41),A=n(3);function D(t){return t&&t.__esModule?t:{default:t}}var I=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function L(t,e){t.style.msTouchAction=e,t.style.touchAction=e,t.setAttribute("touch-action",e)}var F=function(t){function e(e){var n=t.call(this)||this,r=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,r,o,a={},s=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new S.default({layers:t.layers});a[h.default.LAYERGROUP]=s,a[h.default.TARGET]=t.target,a[h.default.VIEW]=void 0!==t.view?t.view:new y.default,void 0!==t.controls&&(Array.isArray(t.controls)?n=new i.default(t.controls.slice()):((0,m.assert)("function"==typeof t.controls.getArray,47),n=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?r=new i.default(t.interactions.slice()):((0,m.assert)("function"==typeof t.interactions.getArray,48),r=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?o=new i.default(t.overlays.slice()):((0,m.assert)("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new i.default;return{controls:n,interactions:r,keyboardEventTarget:e,overlays:o,values:a}}(e);n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:C.DEVICE_PIXEL_RATIO,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=(0,T.create)(),n.pixelToCoordinateTransform_=(0,T.create)(),n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=new s.default(n,e.moveTolerance);var a=n.handleMapBrowserEvent.bind(n);for(var l in u.default)n.mapBrowserEventHandler_.addEventListener(u.default[l],a);n.keyboardEventTarget_=r.keyboardEventTarget,n.keyHandlerKeys_=null,n.focusHandlerKeys_=null;var c=n.handleBrowserEvent.bind(n);return n.viewport_.addEventListener(E.default.CONTEXTMENU,c,!1),n.viewport_.addEventListener(E.default.WHEEL,c,!1),n.controls=r.controls||new i.default,n.interactions=r.interactions||new i.default,n.overlays_=r.overlays,n.overlayIdIndex_={},n.renderer_=null,n.handleResize_,n.postRenderFunctions_=[],n.tileQueue_=new v.default(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addEventListener((0,p.getChangeEventType)(h.default.LAYERGROUP),n.handleLayerGroupChanged_),n.addEventListener((0,p.getChangeEventType)(h.default.VIEW),n.handleViewChanged_),n.addEventListener((0,p.getChangeEventType)(h.default.SIZE),n.handleSizeChanged_),n.addEventListener((0,p.getChangeEventType)(h.default.TARGET),n.handleTargetChanged_),n.setProperties(r.values),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),n.controls.addEventListener(o.default.ADD,function(t){t.element.setMap(this)}.bind(n)),n.controls.addEventListener(o.default.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),n.interactions.addEventListener(o.default.ADD,function(t){t.element.setMap(this)}.bind(n)),n.interactions.addEventListener(o.default.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener(o.default.ADD,function(t){this.addOverlayInternal_(t.element)}.bind(n)),n.overlays_.addEventListener(o.default.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(n)),n}return I(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),this.viewport_.removeEventListener(E.default.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(E.default.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(E.default.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var r=this.getCoordinateFromPixelInternal(t),i=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==n.layerFilter?n.layerFilter:O.TRUE,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,i,a,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,function(t){n.push(t)},e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var r=n||{},i=void 0!==r.hitTolerance?r.hitTolerance*this.frameState_.pixelRatio:0,o=r.layerFilter||O.TRUE;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,i,e,o)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t),r=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:O.TRUE,i=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0,o=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,i,o,r,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(h.default.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return(0,A.toUserCoordinate)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?(0,T.apply)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(h.default.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer.getSource();if(r&&r.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=(0,A.fromUserCoordinate)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?(0,T.apply)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(h.default.SIZE)},e.prototype.getView=function(){return this.get(h.default.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,r){var i=this.frameState_;if(!(i&&e in i.wantedTiles))return M.DROP;if(!i.wantedTiles[e][t.getKey()])return M.DROP;var o=i.viewState.center,a=n[0]-o[0],s=n[1]-o[1];return 65536*Math.log(r)+Math.sqrt(a*a+s*s)/r},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,r=new a.default(n,this,t);this.handleMapBrowserEvent(r)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){for(var e=t.originalEvent.target;e instanceof HTMLElement;){if(e.parentElement===this.overlayContainerStopEvent_)return;e=e.parentElement}t.frameState=this.frameState_;var n=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var r=n.length-1;r>=0;r--){var i=n[r];if(i.getActive())if(!i.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,r=n;if(t){var i=t.viewHints;if(i[_.default.ANIMATING]||i[_.default.INTERACTING]){var o=!C.IMAGE_DECODE&&Date.now()-t.time>8;n=o?0:8,r=o?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,r))}!t||!this.hasListener(f.default.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(f.default.RENDERCOMPLETE,t);for(var a=this.postRenderFunctions_,s=0,u=a.length;s<u;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.focusHandlerKeys_){for(var e=0,n=this.focusHandlerKeys_.length;e<n;++e)(0,w.unlistenByKey)(this.focusHandlerKeys_[e]);this.focusHandlerKeys_=null}if(this.keyHandlerKeys_){for(e=0,n=this.keyHandlerKeys_.length;e<n;++e)(0,w.unlistenByKey)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer());var r=!0;t.hasAttribute("tabindex")&&(r=document.activeElement===t,this.focusHandlerKeys_=[(0,w.listen)(t,E.default.FOCUS,L.bind(this,this.viewport_,"none")),(0,w.listen)(t,E.default.BLUR,L.bind(this,this.viewport_,"auto"))]),L(this.viewport_,r?"none":"auto");var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[(0,w.listen)(i,E.default.KEYDOWN,this.handleBrowserEvent,this),(0,w.listen)(i,E.default.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(E.default.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),(0,b.removeNode)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(E.default.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,w.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,w.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",(0,r.getUid)(t)),this.viewPropertyListenerKey_=(0,w.listen)(t,g.default.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,w.listen)(t,E.default.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(w.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[(0,w.listen)(t,g.default.PROPERTYCHANGE,this.render,this),(0,w.listen)(t,E.default.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this.getSize(),n=this.getView(),r=this.frameState_,i=null;if(void 0!==e&&(0,P.hasArea)(e)&&n&&n.isDef()){var o=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=n.getState();i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterItems:r?r.declutterItems:[],extent:(0,x.getForViewAndSize)(a.center,a.resolution,a.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{}}}if(this.frameState_=i,this.renderer_.renderFrame(i),i){if(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),r)(!this.previousExtent_||!(0,x.isEmpty)(this.previousExtent_)&&!(0,x.equals)(i.extent,this.previousExtent_))&&(this.dispatchEvent(new l.default(c.default.MOVESTART,this,r)),this.previousExtent_=(0,x.createOrUpdateEmpty)(this.previousExtent_));this.previousExtent_&&!i.viewHints[_.default.ANIMATING]&&!i.viewHints[_.default.INTERACTING]&&!(0,x.equals)(i.extent,this.previousExtent_)&&(this.dispatchEvent(new l.default(c.default.MOVEEND,this,i)),(0,x.clone)(i.extent,this.previousExtent_))}this.dispatchEvent(new l.default(c.default.POSTRENDER,this,i)),this.postRenderTimeoutHandle_=setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(h.default.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(h.default.SIZE,t)},e.prototype.setTarget=function(t){this.set(h.default.TARGET,t)},e.prototype.setView=function(t){this.set(h.default.VIEW,t)},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e}(d.default);e.default=F},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(306)),i=n(859),o=n(852),a=n(10),s=u(n(468));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e){return(e=(0,a.assign)({},e)).controls||(e.controls=(0,i.defaults)()),e.interactions||(e.interactions=(0,o.defaults)()),t.call(this,e)||this}return l(e,t),e.prototype.createRenderer=function(){return new s.default(this)},e}(r.default);e.default=c},function(t,e,n){var r=n(488),i=n(91);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},function(t,e,n){var r=n(320),i=n(222),o=1,a=2;t.exports=function(t,e,n,s){var u=n.length,l=u,c=!s;if(null==t)return!l;for(t=Object(t);u--;){var h=n[u];if(c&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++u<l;){var f=(h=n[u])[0],p=t[f],d=h[1];if(c&&h[2]){if(void 0===p&&!(f in t))return!1}else{var g=new r;if(s)var v=s(p,d,f,t,e,g);if(!(void 0===v?i(d,p,o|a,s,g):v))return!1}}return!0}},function(t,e,n){var r=n(43),i=n(312),o=n(29),a="[object Object]",s=Function.prototype,u=Object.prototype,l=s.toString,c=u.hasOwnProperty,h=l.call(Object);t.exports=function(t){if(!o(t)||r(t)!=a)return!1;var e=i(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==h}},function(t,e,n){var r=n(496);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){var r=n(503)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(125),i=n(502),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return o.call(t,e)}))}:i;t.exports=s},function(t,e,n){var r=n(506),i=n(931),o=n(48);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(225),i=n(933),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(948),i=n(941),o=n(939),a=n(938),s=n(937);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(127)(n(39),"Map");t.exports=r},function(t,e,n){var r=n(233),i=n(957),o=n(956),a=n(955),s=n(954),u=n(953);function l(t){var e=this.__data__=new r(t);this.size=e.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,t.exports=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.G4UMap=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=v(n(2)),a=n(128),s=v(n(307)),u=v(n(432)),l=n(833),c=n(11),h=n(9),f=n(583),p=n(582),d=n(250);n(581);var g=n(580);function v(t){return t&&t.__esModule?t:{default:t}}n(1182);e.G4UMap=function(t){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{controls:[],interactions:[],view:null}));i.set("guide4youVersion","v3.3.1"),i.set("options",r),i.defaultInteractions_=new Map,i.supersedingInteractions_=new Map,i.modules_=[],i.addModules((0,d.getRegisteredModules)()),i.set("ready",!1),i.on(["change:ready","change:ready:ui","change:ready:layers"],function(t){i.get(t.key)&&i.dispatchEvent(t.key)});var a=new g.PopupModifierManager;return i.set("popupModifiers",a),r.popupModifiers&&i.on("change:featurePopup",function(){var t=!0,e=!1,n=void 0;try{for(var i,o=Object.keys(r.popupModifiers)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;a.register(s,r.popupModifiers[s])}}catch(t){e=!0,n=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw n}}}),"string"==typeof t&&"#"!==t[0]?i.setTarget((0,o.default)("#"+t).get(0)):i.setTarget((0,o.default)(t).get(0)),(0,o.default)(i.getTarget()).children().addClass(h.cssClasses.desktop),i.dispatchEvent("beforeConfigLoad"),i.set("mapConfigReady",!1),i.set("layerConfigReady",!1),i.loadConfigs(n).then(function(){var t=i.get("mapConfig");if(i.dispatchEvent("afterConfigLoad"),i.set("proxy",t.proxy),r.localiser)i.set("localiser",r.localiser);else{var e={};if(t.hasOwnProperty("languageSettings")){var n=t.languageSettings;e.currentLanguage=n.currentLanguage,n.hasOwnProperty("defaultLanguage")&&(e.defaultLanguage=n.defaultLanguage),n.hasOwnProperty("availableLanguages")&&(e.availableLanguages=n.availableLanguages),n.hasOwnProperty("languageFile")&&c.Debug.warn("You are using a languageFile options in your client config. This option is not used anymore.\n Either remove the option if you want to use the default values or pass it via the configs object to createMap (`createMap(target, { l10n: 'path/to/l10n.json' })`).")}var o=new f.L10N(i.get("translations"),e);i.set("localiser",o)}i.asSoonAs("ready",!0,function(){i.get("localiser").on("change:language",function(){var t=i.getLayerGroup().getIdsVisibilities();i.get("configurator").configureLayers(),i.get("configurator").configureUI(),i.getLayerGroup().setIdsVisibilities(t)})}),i.set("configurator",new l.MapConfigurator(i)),i.dispatchEvent("afterConfiguring"),i.get("ready:ui")&&i.get("ready:layers")&&i.set("ready",!0),i.on(["change:ready:ui","change:ready:layers"],function(t){i.get(t.key)||i.set("ready",!1),i.get("ready:ui")&&i.get("ready:layers")&&i.set("ready",!0)})}).catch(c.Debug.defaultErrorHandler),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),r(e,[{key:"updateClientConfig",value:function(t){var n=this,r=void 0;return(0,a.isPlainObject)(t)?r=Promise.resolve(t):(this.get("configFileName")||this.set("configFileName",t),r=e.loadConfigFile(t)),r.then(function(t){n.set("mapConfigReady",!0),n.set("mapConfig",t)}),r}},{key:"updateLayerConfig",value:function(t){var n=this,r=void 0;return(0,a.isPlainObject)(t)?r=Promise.resolve(t):(this.get("layerConfigFileName")||this.set("layerConfigFileName",t),r=e.loadConfigFile(t)),r.then(function(t){n.set("layerConfigReady",!0),n.set("layerConfig",(0,p.layerConfigConverter)(t))}),r}},{key:"loadConfigs",value:function(t){var n=this;this.set("mapConfigReady",!1),this.set("layerConfigReady",!1);var r=[];return t.hasOwnProperty("client")?r.push(this.updateClientConfig(t.client)):c.Debug.error("No client config provided."),this.on("change:configFileName",function(t){n.set("ready",!1),n.set("mapConfigReady",!1),n.oldMapConfigs_=n.oldMapConfigs_||{},n.oldMapConfigs_[t.oldValue]=n.get("mapConfig"),n.oldMapConfigs_.hasOwnProperty(n.get("configFileName"))?n.updateClientConfig(n.oldMapConfigs_[n.get("configFileName")]):n.updateClientConfig(n.get("configFileName"))}),t.hasOwnProperty("layer")?r.push(this.updateLayerConfig(t.layer)):c.Debug.error("No layer config provided."),this.on("change:layerConfigFileName",function(t){n.set("ready",!1),n.set("layerConfigReady",!1),n.oldLayerConfigs_=n.oldLayerConfigs_||{},n.oldLayerConfigs_[t.oldValue]=n.get("layerConfig"),n.oldLayerConfigs_.hasOwnProperty(n.get("layerConfigFileName"))?n.updateLayerConfig(n.oldLayerConfigs_[n.get("layerConfigFileName")]):n.updateLayerConfig(n.get("layerConfigFileName"))}),t.hasOwnProperty("translations")?r.push(e.loadConfigFile(t.translations).then(function(t){n.set("translations",t)})):c.Debug.error("No translations provided"),t.hasOwnProperty("styles")&&r.push(e.loadConfigFile(t.styles).then(function(t){n.set("styleMap",t)})),Promise.all(r)}},{key:"getControlsByName",value:function(t){return this.controlsByName[t]||[]}},{key:"getControlsByType",value:function(t){var e=[],n=!0,r=!1,i=void 0;try{for(var o,a=Object.values(this.controlsByName)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e=e.concat(s.filter(function(e){return e instanceof t}))}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return e}},{key:"addModule",value:function(t){t.setMap(this),this.modules_.push(t)}},{key:"addModules",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;this.addModule(a)}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"afterPostrender",value:function(t){this.once("postrender",function(){return setTimeout(t,0)})}},{key:"getModules",value:function(){return this.modules_}},{key:"removeInteraction",value:function(t){var n=void 0;this.defaultInteractions_.forEach(function(e){(n=e.indexOf(t))>-1&&e.splice(n,1)}),this.supersedingInteractions_.forEach(function(e){(n=e.indexOf(t))>-1&&e.splice(n,1)}),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeInteraction",this).call(this,t)}},{key:"removeInteractions",value:function(){for(;this.getInteractions()&&this.getInteractions().getLength();){var t=!0,e=!1,n=void 0;try{for(var r,i=this.getInteractions().getArray()[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;this.removeInteraction(o)}}catch(t){e=!0,n=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw n}}}}},{key:"addInteraction",value:function(){throw new Error("Use addDefaultInteraction or addSupersedingInteraction")}},{key:"addDefaultInteraction",value:function(t,n){var r=!0,o=!1,a=void 0;try{for(var s,u=t.split(" ")[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var l=s.value;this.defaultInteractions_.has(l)?this.defaultInteractions_.get(l).push(n):this.defaultInteractions_.set(l,[n])}}catch(t){o=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addInteraction",this).call(this,n)}},{key:"deactivateInteractions",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=this.defaultInteractions_.get(t)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){i.value.setActive(!1)}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}var a=!0,s=!1,u=void 0;try{for(var l,c=this.supersedingInteractions_.get(t)[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){l.value.setActive(!1)}}catch(t){s=!0,u=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}},{key:"activateInteractions",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=this.getDefaultInteractions(t)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){i.value.setActive(!0)}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"getDefaultInteractions",value:function(t){return this.defaultInteractions_.get(t)}},{key:"addSupersedingInteraction",value:function(t,n){var r=this,o=t.split(" "),a=function(){var t=!0,e=!1,i=void 0;try{for(var a,s=o[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var u=a.value,l=!0,c=!1,h=void 0;try{for(var f,p=r.supersedingInteractions_.get(u)[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var d=f.value;n!==d&&d.setActive(!1)}}catch(t){c=!0,h=t}finally{try{!l&&p.return&&p.return()}finally{if(c)throw h}}if(r.defaultInteractions_.get(u)){var g=!0,v=!1,y=void 0;try{for(var _,m=r.defaultInteractions_.get(u)[Symbol.iterator]();!(g=(_=m.next()).done);g=!0){_.value.setActive(!1)}}catch(t){v=!0,y=t}finally{try{!g&&m.return&&m.return()}finally{if(v)throw y}}}}}catch(t){e=!0,i=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw i}}},s=function(){var t=!0,e=!1,n=void 0;try{for(var i,a=o[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;if(r.defaultInteractions_.get(s)){var u=!0,l=!1,c=void 0;try{for(var h,f=r.defaultInteractions_.get(s)[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){h.value.setActive(!0)}}catch(t){l=!0,c=t}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}}}}catch(t){e=!0,n=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw n}}},u=!0,l=!1,c=void 0;try{for(var h,f=o[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var p=h.value;this.supersedingInteractions_.has(p)?this.supersedingInteractions_.get(p).push(n):this.supersedingInteractions_.set(p,[n])}}catch(t){l=!0,c=t}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}n.getActive()&&a(),n.on("change:active",function(t){t.oldValue!==n.getActive()&&(n.getActive()?(r.activating_=!0,a(),r.activating_=!1):(r.interactionDecativationTimeout_&&clearTimeout(r.interactionDecativationTimeout_),r.activating_||(r.interactionDecativationTimeout_=setTimeout(s,500))))}),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addInteraction",this).call(this,n)}},{key:"setLayerGroup",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||t.provideMap(this),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setLayerGroup",this).call(this,t)}},{key:"removeControls",value:function(){var t=this,e=this.getControls();if(e)for(;e.getLength()>0;)e.forEach(function(e){return t.removeControl(e)}),e=this.getControls()}}],[{key:"loadConfigFile",value:function(t){return o.default.ajax({url:t,dataType:"text"}).then(function(e){try{return u.default.parse(e)}catch(e){c.Debug.error("The config file "+t+" couldn't be parsed."),c.Debug.error(e)}}).fail(function(e){c.Debug.error("The config file "+t+" couldn't be loaded."),c.Debug.error(e)})}}]),e}()},function(t,e,n){"use strict";var r=n(8),i=n(31),o=n(109),a=n(238),s=n(52),u=n(129),l=n(13),c=n(131),h=n(73),f=n(24),p=n(519),d=n(133).f,g=n(30).f,v=n(329),y=n(161),_="prototype",m="Wrong index!",b=r.ArrayBuffer,w=r.DataView,E=r.Math,x=r.RangeError,O=r.Infinity,C=b,S=E.abs,P=E.pow,M=E.floor,T=E.log,A=E.LN2,D=i?"_b":"buffer",I=i?"_l":"byteLength",L=i?"_o":"byteOffset";function F(t,e,n){var r,i,o,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,l=u>>1,c=23===e?P(2,-24)-P(2,-77):0,h=0,f=t<0||0===t&&1/t<0?1:0;for((t=S(t))!=t||t===O?(i=t!=t?1:0,r=u):(r=M(T(t)/A),t*(o=P(2,-r))<1&&(r--,o*=2),(t+=r+l>=1?c/o:c*P(2,1-l))*o>=2&&(r++,o/=2),r+l>=u?(i=0,r=u):r+l>=1?(i=(t*o-1)*P(2,e),r+=l):(i=t*P(2,l-1)*P(2,e),r=0));e>=8;a[h++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[h++]=255&r,r/=256,s-=8);return a[--h]|=128*f,a}function k(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,l=t[u--],c=127&l;for(l>>=7;s>0;c=256*c+t[u],u--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return r?NaN:l?-O:O;r+=P(2,e),c-=a}return(l?-1:1)*r*P(2,c-e)}function R(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function j(t){return[255&t]}function N(t){return[255&t,t>>8&255]}function B(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function G(t){return F(t,52,8)}function U(t){return F(t,23,4)}function z(t,e,n){g(t[_],e,{get:function(){return this[n]}})}function V(t,e,n,r){var i=p(+n);if(i+e>t[I])throw x(m);var o=t[D]._b,a=i+t[L],s=o.slice(a,a+e);return r?s:s.reverse()}function Y(t,e,n,r,i,o){var a=p(+n);if(a+e>t[I])throw x(m);for(var s=t[D]._b,u=a+t[L],l=r(+i),c=0;c<e;c++)s[u+c]=l[o?c:e-c-1]}if(a.ABV){if(!l(function(){b(1)})||!l(function(){new b(-1)})||l(function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name})){for(var W,X=(b=function(t){return c(this,b),new C(p(t))})[_]=C[_],q=d(C),H=0;q.length>H;)(W=q[H++])in b||s(b,W,C[W]);o||(X.constructor=b)}var $=new w(new b(2)),K=w[_].setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||u(w[_],{setInt8:function(t,e){K.call(this,t,e<<24>>24)},setUint8:function(t,e){K.call(this,t,e<<24>>24)}},!0)}else b=function(t){c(this,b,"ArrayBuffer");var e=p(t);this._b=v.call(new Array(e),0),this[I]=e},w=function(t,e,n){c(this,w,"DataView"),c(t,b,"DataView");var r=t[I],i=h(e);if(i<0||i>r)throw x("Wrong offset!");if(i+(n=void 0===n?r-i:f(n))>r)throw x("Wrong length!");this[D]=t,this[L]=i,this[I]=n},i&&(z(b,"byteLength","_l"),z(w,"buffer","_b"),z(w,"byteLength","_l"),z(w,"byteOffset","_o")),u(w[_],{getInt8:function(t){return V(this,1,t)[0]<<24>>24},getUint8:function(t){return V(this,1,t)[0]},getInt16:function(t){var e=V(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=V(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return R(V(this,4,t,arguments[1]))},getUint32:function(t){return R(V(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return k(V(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return k(V(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){Y(this,1,t,j,e)},setUint8:function(t,e){Y(this,1,t,j,e)},setInt16:function(t,e){Y(this,2,t,N,e,arguments[2])},setUint16:function(t,e){Y(this,2,t,N,e,arguments[2])},setInt32:function(t,e){Y(this,4,t,B,e,arguments[2])},setUint32:function(t,e){Y(this,4,t,B,e,arguments[2])},setFloat32:function(t,e){Y(this,4,t,U,e,arguments[2])},setFloat64:function(t,e){Y(this,8,t,G,e,arguments[2])}});y(b,"ArrayBuffer"),y(w,"DataView"),s(w[_],a.VIEW,!0),e.ArrayBuffer=b,e.DataView=w},function(t,e,n){"use strict";var r=n(40);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}(t)}},function(t,e,n){var r=n(8),i=n(325).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(74)(a);t.exports=function(){var t,e,n,l=function(){var r,i;for(u&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(l)}}else n=function(){i.call(r,l)};else{var h=!0,f=document.createTextNode("");new o(l).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){var r,i,o,a=n(75),s=n(539),u=n(344),l=n(348),c=n(8),h=c.process,f=c.setImmediate,p=c.clearImmediate,d=c.MessageChannel,g=c.Dispatch,v=0,y={},_=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},m=function(t){_.call(t.data)};f&&p||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++v]=function(){s("function"==typeof t?t:Function(t),e)},r(v),v},p=function(t){delete y[t]},"process"==n(74)(h)?r=function(t){h.nextTick(a(_,t,1))}:g&&g.now?r=function(t){g.now(a(_,t,1))}:d?(o=(i=new d).port2,i.port1.onmessage=m,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",m,!1)):r="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),_.call(t)}}:function(t){setTimeout(a(_,t,1),0)}),t.exports={set:f,clear:p}},function(t,e,n){"use strict";var r=n(245)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){"use strict";var r=n(184),i=RegExp.prototype.exec,o=String.prototype.replace,a=i,s=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=void 0!==/()??/.exec("")[1];(s||u)&&(a=function(t){var e,n,a,l,c=this;return u&&(n=new RegExp("^"+c.source+"$(?!\\s)",r.call(c))),s&&(e=c.lastIndex),a=i.call(c,t),s&&a&&(c.lastIndex=c.global?a.index+a[0].length:e),u&&a&&a.length>1&&o.call(a[0],n,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)}),a}),t.exports=a},function(t,e,n){"use strict";var r=n(108),i=n(529),o=n(158),a=n(61);t.exports=n(337)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";var r=n(35),i=n(135),o=n(24);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,l=void 0===u?n:i(u,n);l>s;)e[s++]=t;return e}},function(t,e,n){var r=n(1076);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(160),i=n(23)("iterator"),o=n(158);t.exports=n(76).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";var r=n(30),i=n(138);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(158),i=n(23)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(23)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(244),i=n(81);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){"use strict";var r=n(134),i=n(138),o=n(161),a={};n(52)(a,n(23)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){"use strict";var r=n(109),i=n(0),o=n(51),a=n(52),s=n(158),u=n(336),l=n(161),c=n(59),h=n(23)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,g,v,y){u(n,e,d);var _,m,b,w=function(t){if(!f&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",x="values"==g,O=!1,C=t.prototype,S=C[h]||C["@@iterator"]||g&&C[g],P=S||w(g),M=g?x?w("entries"):P:void 0,T="Array"==e&&C.entries||S;if(T&&(b=c(T.call(new t)))!==Object.prototype&&b.next&&(l(b,E,!0),r||"function"==typeof b[h]||a(b,h,p)),x&&S&&"values"!==S.name&&(O=!0,P=function(){return S.call(this)}),r&&!y||!f&&!O&&C[h]||a(C,h,P),s[e]=P,s[E]=p,g)if(_={values:x?P:w("values"),keys:v?P:w("keys"),entries:M},y)for(m in _)m in C||o(C,m,_[m]);else i(i.P+i.F*(f||O),e,_);return _}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){"use strict";var r=n(73),i=n(81);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e,n){var r=n(15),i=n(343).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){var r=n(15),i=n(5),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(75)(Function.call,n(60).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){var r=n(8).document;t.exports=r&&r.documentElement},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(249)("keys"),i=n(137);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(8),i=n(76),o=n(109),a=n(546),s=n(30).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(15),i=n(8).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.Module=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,[{key:"setMap",value:function(t){this.map_=t}},{key:"getMap",value:function(){return this.map_}},{key:"configureMap",value:function(t){}},{key:"configureUI",value:function(t){}},{key:"createControl",value:function(t,e,n){}},{key:"createLayer",value:function(t,e,n,r){}},{key:"enableUserActionTracking",value:function(){}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureInteraction=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(392),o=c(n(28)),a=c(n(99)),s=c(n(44)),u=c(n(147)),l=n(257);function c(t){return t&&t.__esModule?t:{default:t}}e.FeatureInteraction=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.hitTolerance_=t.hitTolerance||0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,l.MapEventInteraction),r(e,[{key:"handleMapEvent",value:function(t){var e=[];this.getMap().forEachFeatureAtPixel(t.pixel,function(t,n){e.push({feature:t,layer:n})},{hitTolerance:this.hitTolerance_}),e=(0,i.sortBy)(e,function(t){var e=t.feature;return e.getGeometry()instanceof o.default||e.getGeometry()instanceof a.default?1:e.getGeometry()instanceof s.default||e.getGeometry()instanceof u.default?2:3}),this.dispatchEvent({type:"interaction",coordinate:t.coordinate,interacted:e})}},{key:"triggerEmptyMapEvent",value:function(){this.dispatchEvent({type:"interaction",interacted:[]})}},{key:"setHitTolerance",value:function(t){this.hitTolerance_=t}},{key:"getHitTolerance",value:function(){return this.hitTolerance_}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CustomTile=void 0;var r=n(174),i=p(n(285)),o=p(n(45)),a=n(143),s=n(16),u=n(27),l=n(1),c=n(87),h=p(n(84)),f=p(n(165));function p(t){return t&&t.__esModule?t:{default:t}}var d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g={DEFAULT:"default",TRUNCATED:"truncated"},v=function(t){function e(e,n,r,i,o,a,s,u){var l=t.call(this,r,i,o,a,s,u)||this;return l.zoomifyImage_=null,l.tileSize_=(0,c.toSize)(n.getTileSize(r[0])).map(function(t){return t*e}),l}return d(e,t),e.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var e=t.prototype.getImage.call(this);if(this.state==o.default.LOADED){var n=this.tileSize_;if(e.width==n[0]&&e.height==n[1])return this.zoomifyImage_=e,e;var r=(0,u.createCanvasContext2D)(n[0],n[1]);return r.drawImage(e,0,0),this.zoomifyImage_=r.canvas,r.canvas}return e},e}(i.default);e.CustomTile=v;var y=function(t){function e(e){var n=this,i=e||{},o=i.size,u=void 0!==i.tierSizeCalculation?i.tierSizeCalculation:g.DEFAULT,c=o[0],h=o[1],p=i.extent||[0,-o[1],o[0],0],d=[],y=i.tileSize||r.DEFAULT_TILE_SIZE,_=i.tilePixelRatio||1,m=y;switch(u){case g.DEFAULT:for(;c>m||h>m;)d.push([Math.ceil(c/m),Math.ceil(h/m)]),m+=m;break;case g.TRUNCATED:for(var b=c,w=h;b>m||w>m;)d.push([Math.ceil(b/m),Math.ceil(w/m)]),b>>=1,w>>=1;break;default:(0,s.assert)(!1,53)}d.push([1,1]),d.reverse();for(var E=[1],x=[0],O=1,C=d.length;O<C;O++)E.push(1<<O),x.push(d[O-1][0]*d[O-1][1]+x[O-1]);E.reverse();var S=new f.default({tileSize:y,extent:p,origin:(0,l.getTopLeft)(p),resolutions:E}),P=i.url;P&&-1==P.indexOf("{TileGroup}")&&-1==P.indexOf("{tileIndex}")&&(P+="{TileGroup}/{z}-{x}-{y}.jpg");var M=(0,a.expandUrl)(P);var T=(0,a.createFromTileUrlFunctions)(M.map(function(t){return function(e,n,r){if(e){var i=e[0],o=e[1],a=e[2],s=o+a*d[i][0],u=S.getTileSize(i),l=Array.isArray(u)?u[0]:u,c={z:i,x:o,y:a,tileIndex:s,TileGroup:"TileGroup"+((s+x[i])/l|0)};return t.replace(/\{(\w+?)\}/g,function(t,e){return c[e]})}}})),A=v.bind(null,_,S);return(n=t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,projection:i.projection,tilePixelRatio:_,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:A,tileGrid:S,tileUrlFunction:T,transition:i.transition})||this).zDirection=i.zDirection,n}return d(e,t),e}(h.default);e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(119)),i=o(n(45));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,a)||this;return s.consumers=0,s.extent=null,s.format_=i,s.features_=null,s.loader_,s.projection=null,s.resolution,s.tileLoadFunction_=o,s.url_=r,s}return a(e,t),e.prototype.getFormat=function(){return this.format_},e.prototype.getFeatures=function(){return this.features_},e.prototype.getKey=function(){return this.url_},e.prototype.load=function(){this.state==i.default.IDLE&&(this.setState(i.default.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(this.extent,this.resolution,this.projection))},e.prototype.onLoad=function(t,e){this.setFeatures(t)},e.prototype.onError=function(){this.setState(i.default.ERROR)},e.prototype.setFeatures=function(t){this.features_=t,this.setState(i.default.LOADED)},e.prototype.setLoader=function(t){this.loader_=t},e}(r.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=function(t){return t&&t.__esModule?t:{default:t}}(n(119)),o=n(27),a=n(26);var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,{transition:0})||this;return s.context_={},s.executorGroups={},s.loadingSourceTiles=0,s.errorSourceTileKeys={},s.hitDetectionImageData=null,s.replayState_={},s.wantedResolution,s.getSourceTiles=o.bind(s,s),s.removeSourceTiles_=a,s.sourceTileGrid_=i,s.sourceTileListenerKeys=[],s.sourceZ=-1,s.hifi=!1,s.wrappedTileCoord=r,s}return s(e,t),e.prototype.disposeInternal=function(){for(var e in this.sourceTileListenerKeys.forEach(a.unlistenByKey),this.sourceTileListenerKeys.length=0,this.removeSourceTiles_(this),this.context_){var n=this.context_[e].canvas;n.width=0,n.height=0}for(var e in this.executorGroups)for(var r=this.executorGroups[e],i=0,o=r.length;i<o;++i)r[i].disposeInternal();t.prototype.disposeInternal.call(this)},e.prototype.getContext=function(t){var e=(0,r.getUid)(t);return e in this.context_||(this.context_[e]=(0,o.createCanvasContext2D)()),this.context_[e]},e.prototype.hasContext=function(t){return(0,r.getUid)(t)in this.context_},e.prototype.getImage=function(t){return this.hasContext(t)?this.getContext(t).canvas:null},e.prototype.getReplayState=function(t){var e=(0,r.getUid)(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1}),this.replayState_[e]},e.prototype.load=function(){this.getSourceTiles()},e}(i.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrintButton=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(25),a=n(53),s=n(9);n(1203);e.PrintButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-printbutton",t.element=(0,i.default)("<button>").get(0);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.get$Element().addClass(n.className_).addClass(s.cssClasses.mainButton).html(n.getLocaliser().localiseUsingDictionary("PrintButton title")),(0,a.addTooltip)(n.get$Element(),n.getLocaliser().localiseUsingDictionary("PrintButton tipLabel")),n.get$Element().on("click",function(){return n.onClick_()}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Control),r(e,[{key:"onClick_",value:function(){var t=function(t,e){(0,i.default)(t).innerWidth(e[0]),(0,i.default)(t).innerHeight(e[1])};if(function(){try{return this.getMap().getViewport().getElementsByTagName("canvas")[0].getContext("2d").getImageData(1,1,1,1),!1}catch(t){return!0}}()){var e=(0,i.default)(this.getMap().getViewport()),n=e.parent(),r=n.clone().empty().append(e);t(r,this.getMap().getSize());var o=(0,i.default)("body"),a=(0,i.default)("<body>").append(r);document.body=a.get(0),window.print(),document.body=o.get(0),n.append(e)}else{var s=window.open("","_blank"),u=(0,i.default)("<div>").append((0,i.default)("style").clone()).append((0,i.default)('link[type="text/css"]').clone()),l=this.getMap().getViewport(),c=l.parentNode.cloneNode(!0);t(c,this.getMap().getSize());var h=l.getElementsByTagName("canvas")[0];c.getElementsByTagName("canvas")[0].getContext("2d").drawImage(h,0,0);var f=s.document;f.open(),f.write("<!doctype html>"),f.write("<html>"),f.write("<head>"),f.write("<title>"),f.write(this.getLocaliser().localiseUsingDictionary("PrintButton windowTitle")),f.write("</title>"),f.write(u.html()),f.write('<script type="text/javascript">'),f.write("window.onload = function () {\n"),f.write("\twindow.focus();\n"),f.write("\tsetTimeout( function () {\n"),f.write("\t\twindow.print();\n"),f.write("\t\twindow.close();\n"),f.write("\t}, 50);\n"),f.write("};"),f.write("<\/script>"),f.write("</head>"),f.write("</html>"),f.close(),s.onload=function(){f.getElementsByTagName("body")[0].appendChild(c)},s.focus()}this.dispatchEvent("click")}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MeasurementButton=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=d(n(2)),o=d(n(44)),a=d(n(36)),s=d(n(148)),u=n(151),l=n(25),c=n(9),h=n(96);n(1220);var f=n(6),p=n(111);function d(t){return t&&t.__esModule?t:{default:t}}e.MeasurementButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.element=(0,i.default)("<div>").get(0),t.className=t.className||"g4u-measurement",t.singleButton=!1;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));if(n.style_=t.style||"#defaultStyle",!t.hasOwnProperty("type"))throw new Error("Measurement needs a type (Polygon, LineString, etc)");return n.type_=t.type,n.dimension_=t.dimension||1,n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("MeasurementButton dim"+n.dimension_+" title")),n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("MeasurementButton dim"+n.dimension_+" tipLabel")),n.atDrawEnd_=t.atDrawEnd,n.value_=0,n.$valueDisplay_=(0,i.default)("<span>").html("0"),n.$unitPlaceholder_=(0,i.default)("<span>"),n.on("change:active",function(){return n.handleActiveChange_()}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,f.mixin)(l.Control,p.ActivatableMixin)),r(e,[{key:"setMap",value:function(t){var n=this;if(this.getMap()&&(this.getMap().getLayers().remove(this.layer_),this.getMap().removeInteraction(this.drawInteraction_)),function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t){this.get$Element().append(this.getLocaliser().localiseUsingDictionary("MeasurementButton dim"+this.dimension_+" measured")).append((0,i.default)("<span>").addClass(this.className_+"-value").append(this.$valueDisplay_).append("&nbsp;").append(this.$unitPlaceholder_)).append("<br/>").append(this.getLocaliser().localiseUsingDictionary("MeasurementButton doubleClickEndsMeasurement")),1===this.dimension_&&this.$unitPlaceholder_.replaceWith("m"),2===this.dimension_&&this.$unitPlaceholder_.replaceWith("m&sup2;"),this.source_=new a.default({}),this.layer_=new h.VectorLayer({source:this.source_});var r=t.get("styling").getStyle(this.style_),l=function(e){var i=void 0;1===n.dimension_?i=e.getGeometry().getCoordinates():2===n.dimension_&&(i=e.getGeometry().getCoordinates()[0]);for(var a=[],s=0;s<i.length-1;s++){var l=new o.default([i[s],i[s+1]]),c=r.clone(),h=(0,u.getLength)(l,{projection:t.getView().getProjection()});c.getText().setText(h.toFixed(0)+" m"),c.setGeometry(l),a.push(c)}return a};this.layer_.setStyle(l),t.get("styling").manageLayer(this.layer_),t.addLayer(this.layer_);var f=void 0;this.drawInteraction_=new s.default({source:this.source_,type:this.type_,style:function(t,e){if(t===f)return l(t)}}),this.drawInteraction_.setActive(!1),t.addSupersedingInteraction("singleclick dblclick pointermove",this.drawInteraction_),this.drawInteraction_.on("drawstart",function(t){n.clear(),f=t.feature,n.dispatchEvent("measurement")}),t.on("click",function(){n.getActive()&&(1===n.dimension_?n.setValue((0,u.getLength)(f.getGeometry(),{projection:t.getView().getProjection()})):2===n.dimension_&&n.setValue((0,u.getArea)(f.getGeometry(),{projection:t.getView().getProjection()})))}),(0,i.default)(t.getViewport()).parent().on("keydown",function(t){t.which===c.keyCodes.ESCAPE&&n.drawInteraction_.getActive()&&n.drawInteraction_.finishDrawing()}),this.drawInteraction_.on("drawend",function(){switch(n.atDrawEnd_){case"newMeasurement":break;case"closeWindow":n.setActive(!1);break;default:n.drawInteraction_.setActive(!1)}}),this.activateOnMapChange()}}},{key:"getValue",value:function(){return this.value_}},{key:"setValue",value:function(t){this.value_=t,this.$valueDisplay_.html(""+Math.round(t)),this.changed()}},{key:"getType",value:function(){return this.type_}},{key:"handleActiveChange_",value:function(){var t=this.getActive();if(this.layer_.setVisible(t),t){this.getMap().get("localiser").isRtl()?this.get$Element().prop("dir","rtl"):this.get$Element().prop("dir",void 0);var e=this.getMap().get("featurePopup");e&&e.setVisible(!1),(0,i.default)(this.getMap().getViewport()).addClass(c.cssClasses.crosshair),this.clear(),this.drawInteraction_.setActive(!0)}else(0,i.default)(this.getMap().getViewport()).removeClass(c.cssClasses.crosshair),this.drawInteraction_.setActive(!1);this.get$Element().toggleClass(c.cssClasses.active,t)}},{key:"clear",value:function(){this.source_.clear(),this.setValue(0)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(21),i=c(r),o=c(n(37)),a=c(n(4)),s=n(32),u=n(14),l=n(3);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},p=function(t){function e(e){var n=t.call(this,a.default.ERROR)||this;return n.code=e.code,n.message=e.message,n}return h(e,t),e}(o.default),d=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.position_=null,n.transform_=l.identityTransform,n.watchId_=void 0,n.addEventListener((0,r.getChangeEventType)(f.PROJECTION),n.handleProjectionChanged_),n.addEventListener((0,r.getChangeEventType)(f.TRACKING),n.handleTrackingChanged_),void 0!==i.projection&&n.setProjection(i.projection),void 0!==i.trackingOptions&&n.setTrackingOptions(i.trackingOptions),n.setTracking(void 0!==i.tracking&&i.tracking),n}return h(e,t),e.prototype.disposeInternal=function(){this.setTracking(!1),t.prototype.disposeInternal.call(this)},e.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=(0,l.getTransformFromProjections)((0,l.get)("EPSG:4326"),t),this.position_&&this.set(f.POSITION,this.transform_(this.position_)))},e.prototype.handleTrackingChanged_=function(){if("geolocation"in navigator){var t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},e.prototype.positionChange_=function(t){var e=t.coords;this.set(f.ACCURACY,e.accuracy),this.set(f.ALTITUDE,null===e.altitude?void 0:e.altitude),this.set(f.ALTITUDE_ACCURACY,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(f.HEADING,null===e.heading?void 0:(0,u.toRadians)(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var n=this.transform_(this.position_);this.set(f.POSITION,n),this.set(f.SPEED,null===e.speed?void 0:e.speed);var r=(0,s.circular)(this.position_,e.accuracy);r.applyTransform(this.transform_),this.set(f.ACCURACY_GEOMETRY,r),this.changed()},e.prototype.positionError_=function(t){this.setTracking(!1),this.dispatchEvent(new p(t))},e.prototype.getAccuracy=function(){return this.get(f.ACCURACY)},e.prototype.getAccuracyGeometry=function(){return this.get(f.ACCURACY_GEOMETRY)||null},e.prototype.getAltitude=function(){return this.get(f.ALTITUDE)},e.prototype.getAltitudeAccuracy=function(){return this.get(f.ALTITUDE_ACCURACY)},e.prototype.getHeading=function(){return this.get(f.HEADING)},e.prototype.getPosition=function(){return this.get(f.POSITION)},e.prototype.getProjection=function(){return this.get(f.PROJECTION)},e.prototype.getSpeed=function(){return this.get(f.SPEED)},e.prototype.getTracking=function(){return this.get(f.TRACKING)},e.prototype.getTrackingOptions=function(){return this.get(f.TRACKING_OPTIONS)},e.prototype.setProjection=function(t){this.set(f.PROJECTION,(0,l.get)(t))},e.prototype.setTracking=function(t){this.set(f.TRACKING,t)},e.prototype.setTrackingOptions=function(t){this.set(f.TRACKING_OPTIONS,t)},e}(i.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),a=n(254),s=n(632);e.Button=function(t){function e(t,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));return i.deactivatable_=!1!==n.deactivatable,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Element),r(e,[{key:"buildButton",value:function(t){var e=this;if(this.$button_=(0,o.default)("<span>").addClass("button").addClass("g4u-layerselector-layerbutton"),this.config.refId&&this.$button_.attr("id",this.config.refId),this.config.hasOwnProperty("class")&&this.$button_.addClass(this.config.class),this.map.get("localiser").isRtl()&&this.$button_.prop("dir","rtl"),this.config.hasOwnProperty("window")&&this.addWindowToButton(this.$button_,this.config),this.$button_.html(t),this.$element_=(0,o.default)("<div>").addClass("g4u-layerselector-button-frame").append(this.$button_),this.listenAt(this.$button_).on("click",function(){!e.deactivatable_&&e.getActive()||e.setActive(!e.getActive())}),this.config.hasOwnProperty("accordion")&&this.config.accordion){this.accordion=new s.Accordion(this.map,this.config.accordion,this.map.get("localiser"));var n=!0,r=!1,i=void 0;try{for(var a,u=this.config.accordion[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value;this.addAccordionOption(l)}}catch(t){r=!0,i=t}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}this.$element_.append(this.accordion.get$Element())}}},{key:"setActive",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",this).call(this,t)}},{key:"addAccordionOption",value:function(t){if("window"===t.type)return this.accordion.addWindow(t),!0}},{key:"update",value:function(){this.$button_.toggleClass("g4u-layerselector-menu-active",this.getActive()),this.$button_.toggleClass("g4u-layer-loading",this.getActive()&&this.getLoading()),this.$button_.toggleClass("g4u-layerselector-disabled",this.getDisabled()),this.accordion&&this.accordion.setActive(this.getActive()),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this)}},{key:"getActive",value:function(){return!1}},{key:"getLoading",value:function(){return!1}},{key:"count",value:function(){return 1}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayerButton=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=n(358);e.LayerButton=function(t){function e(t,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));if(i.layer_=r.getLayerGroup().getLayerById(i.config.refId),i.layer_&&i.layer_.get("available")){var o=void 0!==i.config.title?i.config.title:i.layer_.get("title");i.buildButton(o),i.listenAt(i.layer_).on(["change:visible","loadcountstart","loadcountend"],function(){i.debouncedUpdate()}),i.debouncedUpdate()}return i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Button),r(e,[{key:"addAccordionOption",value:function(t){return!!i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addAccordionOption",this).call(this,t)||("transparency"===t.type?(this.accordion.addTransparencySlider(this.layer_),!0):void 0)}},{key:"getActive",value:function(){return this.layer_.getVisible()}},{key:"getLoading",value:function(){return this.layer_.isLoading()}},{key:"setActive",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",this).call(this,t),this.layer_.setVisible(t)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ButtonBox=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(n(2)),o=s(n(21)),a=n(9);function s(t){return t&&t.__esModule?t:{default:t}}e.ButtonBox=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(n.className_=t.className||"g4u-menu",n.classNames_={body:n.className_+"-content",collapseButton:n.className_+"-collapsebutton",titleButton:n.className_+"-titlebutton",title:n.className_+"-title",active:n.className_+"-active",collapsed:n.className_+"-collapsed",lastVisible:n.className_+"-last-visible"},n.$element_=(0,i.default)("<div>").addClass(n.className_),t.hasOwnProperty("id")&&n.$element_.attr("id",t.id),t.addClass&&n.$element_.addClass(t.addClass),n.titleButton_=t.titleButton||!1,n.collapsible_=!t.hasOwnProperty("collapsible")||t.collapsible,n.collapsed_=!!t.hasOwnProperty("collapsed")&&t.collapsed,n.$body_=(0,i.default)("<div>").addClass(n.classNames_.body),t.hasOwnProperty("content")&&n.$body_.append(t.content),t.hasOwnProperty("title"))if(n.$title_=(0,i.default)("<div>").addClass(n.classNames_.title).addClass("g4u-layerselector-button-frame"),n.$element_.append(n.$title_),n.collapsible_){var r=(0,i.default)("<button>").addClass(n.classNames_.collapseButton);if(r.on("click",function(){n.setCollapsed(!n.collapsed_),r.blur()}),n.titleButton_){var o=(0,i.default)("<span>").addClass("button").addClass(n.classNames_.titleButton).on("click",function(){n.dispatchEvent("title:click"),o.blur()}).html(t.title);t.rtl&&o.prop("dir","rtl"),n.$title_.append(r).append(o)}else r.addClass(n.classNames_.titleButton).html(t.title),t.rtl&&r.prop("dir","rtl"),n.$title_.append(r)}else n.$title_.html(t.title),t.rtl&&n.$title_.prop("dir","rtl");else n.collapsible_=!1,n.collapsed_=!1;return n.$element_.append(n.$body_),n.collapsed_?n.setCollapsed(!0):n.setCollapsed(!1),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),r(e,[{key:"setCollapsed",value:function(t,e){t?(this.$body_.addClass(a.cssClasses.hidden),this.$element_.addClass(this.classNames_.collapsed)):(this.$body_.removeClass(a.cssClasses.hidden),this.$element_.removeClass(this.classNames_.collapsed)),this.collapsed_=t,this.lastVisibleClass_(),e||this.dispatchEvent("change:collapsed")}},{key:"getCollapsed",value:function(){return this.collapsed_}},{key:"lastVisibleClass_",value:function(){this.takeLastVisible(this.$element_)&&this.giveLastVisible(this.$element_)}},{key:"get$Body",value:function(){return this.$body_}},{key:"get$Element",value:function(){return this.$element_}},{key:"get$LastChild_",value:function(t){return t.children("."+this.classNames_.body).children(":last-child")}},{key:"setCollapseButtonActive",value:function(t){this.$title_.children("."+this.classNames_.collapseButton).toggleClass(this.classNames_.active,t)}},{key:"setTitleButtonActive",value:function(t){this.$title_.children("."+this.classNames_.titleButton).toggleClass(this.classNames_.active,t)}},{key:"giveLastVisible",value:function(t){if(t.hasClass(this.classNames_.collapsed))t.addClass(this.classNames_.lastVisible);else if(t.hasClass(this.className_)){var e=this.get$LastChild_(t);e?this.giveLastVisible(e):t.addClass(this.classNames_.lastVisible)}else t.addClass(this.classNames_.lastVisible)}},{key:"takeLastVisible",value:function(t){if(t.hasClass(this.classNames_.lastVisible))return t.removeClass(this.classNames_.lastVisible),!0;if(t.hasClass(this.className_)){var e=this.get$LastChild_(t);return!!e&&this.takeLastVisible(e)}return!1}},{key:"finish",value:function(){this.takeLastVisible(this.$element_),this.giveLastVisible(this.$element_)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ControlLogicMixin=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(9);e.ControlLogicMixin=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.className_=t.hasOwnProperty("className")?t.className:"",t.hasOwnProperty("target")){var e=void 0;e="string"==typeof t.target&&"#"!==t.target[0]?(0,i.default)("#"+t.target):(0,i.default)(t.target),this.set$Target(e)}t.hasOwnProperty("element")&&(0,i.default)(t.element).addClass(this.className_).addClass("ol-unselectable ol-control"),this.singleButton=!0===t.singleButton,this.singleButton&&(0,i.default)(t.element).addClass(o.cssClasses.mainButton),this.controlName_=t.controlName,this.windowed_=!!t.hasOwnProperty("windowed")&&t.windowed,this.localiser_=t.localiser,this.title_=t.hasOwnProperty("title")?this.getLocaliser().selectL10N(t.title):void 0,this.tipLabel_=t.hasOwnProperty("tipLabel")?this.getLocaliser().selectL10N(t.tipLabel):void 0,this.float_=void 0===t.float?["top","left"]:t.float,this.importance_=t.importance||0,this.visible_=!0}},{key:"getFloat",value:function(){return this.float_}},{key:"getImportance",value:function(){return this.importance_}},{key:"getLocaliser",value:function(){return this.localiser_}},{key:"isSingleButton",value:function(){return this.singleButton}},{key:"isWindowed",value:function(){return this.windowed_}},{key:"getControlName",value:function(){return this.controlName_}},{key:"getTitle",value:function(){return this.title_}},{key:"setTitle",value:function(t){this.title_=this.getLocaliser().selectL10N(t)}},{key:"getTipLabel",value:function(){return this.tipLabel_}},{key:"setTipLabel",value:function(t){this.tipLabel_=this.getLocaliser().selectL10N(t)}},{key:"get$Element",value:function(){return(0,i.default)(this.element)}},{key:"get$Target",value:function(){return this.catched$Target_?this.catched$Target_:this.getMap()?(this.catched$Target_=(0,i.default)(this.getMap().getViewport()).children(".ol-overlaycontainer-stopevent"),this.catched$Target_):void 0}},{key:"getClassName",value:function(){return this.className_}},{key:"set$Target",value:function(t){this.catched$Target_=t,this.setTarget(t[0]),t.append(this.get$Element())}},{key:"setVisible",value:function(t){t!==this.visible_&&(this.get$Element().toggleClass(o.cssClasses.hidden,!t),this.visible_=t,this.dispatchEvent("change:visible"))}},{key:"getVisible",value:function(){return this.visible_}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Attribution=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(25),a=n(54),s=n(6),u=n(9),l=n(53);n(1270);e.Attribution=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-attribution",t.singleButton=!1,t.element=(0,i.default)("<div>").get(0);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("Attribution tipLabel")),n.createStaticHTML(t),n.setCollapsed(!0===t.collapsed),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,s.mixin)(o.Control,a.ListenerOrganizerMixin)),r(e,[{key:"setCollapsed",value:function(t,e){var n=this.collapsed_;n!==t&&(this.collapsed_=t,this.dispatchEvent({type:"change:collapsed",oldValue:n}),e||this.dispatchEvent("change:size"),this.get$Element().toggleClass(u.cssClasses.collapsed,t))}},{key:"getCollapsed",value:function(){return this.collapsed_}},{key:"createStaticHTML",value:function(t){var e=this,n=(0,i.default)("<button>").on("click",function(){e.setCollapsed(!e.getCollapsed())});if((0,l.addTooltip)(n,this.getTipLabel()),this.$list_=(0,i.default)("<ul>"),this.get$Element().append(n).append(this.$list_),this.showPoweredBy_=!1!==t.poweredBy,this.showPoweredBy_){var r=void 0===t.poweredBy?'<a href="https://github.com/KlausBenndorf/guide4you" target="_blank">Guide4You</a>':this.getLocaliser().selectL10N(t.poweredBy);Array.isArray(r)||(r=[r]),this.$poweredBy_=r.map(function(t){return(0,i.default)("<li>").append(t).addClass(e.className_+"-poweredby")})}}},{key:"updateList",value:function(t){this.$list_.empty(),this.showPoweredBy_&&this.$list_.append(this.$poweredBy_);var e=!0,n=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value;this.$list_.append((0,i.default)("<li>").html(s))}}catch(t){n=!0,r=t}finally{try{!e&&a.return&&a.return()}finally{if(n)throw r}}this.getCollapsed()||this.dispatchEvent("change:size")}},{key:"updateRtl",value:function(){this.getMap().get("localiser").isRtl()?this.$list_.prop("dir","rtl"):this.$list_.prop("dir",void 0)}},{key:"setMap",value:function(t){var n=this;this.getMap()&&this.detachAllListeners(),function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&t.asSoonAs("ready:layers",!0,function(){if(n.getMap()){var t=n.getMap().get("attributions");n.updateList(t.getArray()),n.listenAt(t).on("change",function(){n.updateList(t.getArray())}),n.updateRtl(),n.listenAt(n.getMap().get("localiser")).on("change:language",function(){n.updateRtl()})}},0)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeaturePopup=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=g(n(2)),o=g(n(267)),a=n(1),s=g(n(28)),u=g(n(21)),l=g(n(209)),c=g(n(206)),h=n(54),f=n(256),p=n(9),d=n(6);function g(t){return t&&t.__esModule?t:{default:t}}n(1276);e.FeaturePopup=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.className_=t.hasOwnProperty("className")?t.className:"g4u-featurepopup",n.classNameFeatureName_=n.className_+"-feature-name",n.classNameFeatureDescription_=n.className_+"-feature-description",n.$name_=(0,i.default)("<h3>").addClass(n.classNameFeatureName_),n.$description_=(0,i.default)("<p>").addClass(n.classNameFeatureDescription_),n.feature_=null,n.visible_=!1,n.referencingVisibleLayers_=[],n.pixelOffset_=t.hasOwnProperty("offset")?t.offset:[0,0],n.iconSizedOffset_=t.hasOwnProperty("iconSizedOffset")?t.iconSizedOffset:[0,0],n.centerOnPopup_=!t.hasOwnProperty("centerOnPopup")||t.centerOnPopup,n.centerOnPopupInitial_=n.centerOnPopup_,n.animated_=!t.hasOwnProperty("animated")||t.animated,n.$element_=(0,i.default)("<div>").addClass(n.className_).addClass(p.cssClasses.hidden),n.overlay_=new l.default({element:n.$element_.get(0),offset:n.pixelOffset_,positioning:t.hasOwnProperty("positioning")?t.positioning:"center-center",stopEvent:!0}),n.defaultPopupModifiers_=t.popupModifier||[],n.draggable_=t.draggable||!1,n.currentPopupModifiers_=[],n.window_=null,n.map__=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,d.mixin)(u.default,h.ListenerOrganizerMixin)),r(e,[{key:"setMap",value:function(t){var n=this;if(this.getMap()&&(this.detachAllListeners(),this.getMap().removeOverlay(this.overlay_)),t){this.window_=new f.Window({parentClassName:this.className_,draggable:this.draggable_,fixedPosition:!0,map:t}),this.window_.get$Body().append(this.$name_).append(this.$description_),this.listenAt(this.window_).on("change:visible",function(){n.window_.getVisible()||n.setVisible(!1)}),this.$element_.append(this.window_.get$Element()),this.listenAt(t.get("clickInteraction")).on("interaction",function(t){var r=t.interacted.filter(function(t){var n=t.feature;return e.canDisplay(n)});if(r.length){var i=r[0],o=i.feature,a=i.layer;n.onFeatureClick_(o,a,t.coordinate)}}),t.get("clickableInteraction").addFilter(function(n){return t.forEachFeatureAtPixel(n.pixel,e.canDisplay)});var r=function(t,e){e.getFeatures&&n.listenAt(e).on("removefeature",function(t){if(t.feature===n.getFeature()){var r=!0,i=!1,o=void 0;try{for(var a,s=n.referencingVisibleLayers_[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;u.getSource()===e&&n.removeReferencingLayer_(u)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}})};!function t(e){if(e.getSource){var i=e.getSource();i&&r(0,i),n.listenAt(e).on("change:source",function(t){n.detachFrom(t.oldValue),r(0,e.getSource())}),n.listenAt(e).on("change:visible",function(){e.getVisible()?n.layerContainsFeature(e,n.getFeature())&&n.addReferencingLayer_(e):n.removeReferencingLayer_(e)})}e.getLayers&&(e.getLayers().forEach(t),n.listenAt(e.getLayers()).on("add",function(e){t(e.element)}).on("remove",function(t){t.element.getSource&&t.element.getSource()&&n.detachFrom(t.element.getSource()),n.detachFrom(t.element)}))}(t.getLayerGroup()),t.addOverlay(this.overlay_),this.$element_.parent().addClass(this.className_+"-container");var i=function(){t.get("mobile")?n.centerOnPopup_=!1:n.centerOnPopup_=n.centerOnPopupInitial_};i(),this.listenAt(t).on("change:mobile",i),t.once("postrender",function(){n.window_.updateSize()})}this.map__=t}},{key:"onFeatureClick_",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.getFeature()===t?(this.setVisible(!1),this.setFeature(null)):(t.get("features")&&(t=t.get("features")[0]),this.setFeature(t,e,t.getStyle()||e.getStyle(),n),this.setVisible(!0),this.centerOnPopup_&&this.centerMapOnPopup())}},{key:"removeReferencingLayer_",value:function(t){var e=this.referencingVisibleLayers_.indexOf(t);e>-1&&(this.referencingVisibleLayers_.splice(e,1),0===this.referencingVisibleLayers_.length&&this.setVisible(!1))}},{key:"getMap",value:function(){return this.map__}},{key:"getFeature",value:function(){return this.feature_}},{key:"getLayers",value:function(){return this.referencingVisibleLayers_}},{key:"updateContent",value:function(){var t=this;return this.getMap().get("localiser").isRtl()?this.window_.get$Body().prop("dir","rtl"):this.window_.get$Body().prop("dir",void 0),this.getMap().get("popupModifiers").apply({name:this.getFeature().get("name"),description:this.getFeature().get("description")},this.getMap(),this.currentPopupModifiers_).then(function(e){return e.name?(t.$name_.removeClass(p.cssClasses.hidden),t.$name_.html(e.name)):t.$name_.addClass(p.cssClasses.hidden),e.description?(t.$description_.removeClass(p.cssClasses.hidden),t.$description_.html(e.description)):t.$description_.addClass(p.cssClasses.hidden),t.dispatchEvent("update:content"),(0,d.finishAllImages)(t.$description_)}).then(function(){t.updateSize()})}},{key:"update",value:function(t){var e=this,n=this.getFeature();n&&(this.$name_.empty(),this.$description_.empty(),this.updateContent().then(function(){if(n.get("observedByPopup")||(n.on("change:name",function(){return e.updateContent()}),n.on("change:description",function(){return e.updateContent()}),n.set("observedByPopup",!0)),e.once("change:feature",function(){n.un("change:name",function(){return e.updateContent()}),n.un("change:description",function(){return e.updateContent()}),n.set("observedByPopup",!1)}),!e.getMap().get("mobile")){var r=e.getMap().getView().getResolution();e.addIconSizedOffset(n,t,r)}var i=!0,o=!1,a=void 0;try{for(var s,u=e.referencingVisibleLayers_[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;l.get("addClass")&&e.window_.get$Element().addClass(l.get("addClass"))}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}e.getVisible()&&setTimeout(function(){return e.window_.updateSize()},0)}))}},{key:"updateSize",value:function(){this.getVisible()&&this.window_&&this.window_.updateSize&&this.window_.updateSize()}},{key:"setFeature",value:function(t,e,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=this.feature_;if(t){var l=i;void 0!==t.get("origCoords")?l=t.get("origCoords"):(t.getGeometry()instanceof s.default||!i)&&(l=(0,a.getCenter)(t.getGeometry().getExtent())),this.overlay_.setPosition(l)}if(u!==t){this.feature_&&this.feature_.un("change:geometry",this.geometryChangeHandler_),this.feature_=t,this.referencingVisibleLayers_=[],e&&this.addReferencingLayer_(e),this.getMap().getLayerGroup().recursiveForEach(function(e){r.layerContainsFeature(e,t)&&r.addReferencingLayer_(e)}),this.currentPopupModifiers_=this.defaultPopupModifiers_.slice();var c=!0,h=!1,f=void 0;try{for(var p,d=this.referencingVisibleLayers_[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var g=p.value;this.currentPopupModifiers_=this.currentPopupModifiers_.concat((0,o.default)(g.get("popupModifiers")))}}catch(t){h=!0,f=t}finally{try{!c&&d.return&&d.return()}finally{if(h)throw f}}this.feature_&&(this.geometryChangeHandler_=function(){var e=i;(t.getGeometry()instanceof s.default||!i)&&(e=(0,a.getCenter)(t.getGeometry().getExtent())),r.overlay_.setPosition(e),r.getVisible()&&r.update(n)},this.feature_.on("change:geometry",this.geometryChangeHandler_)),this.dispatchEvent({type:"change:feature",oldValue:u,key:"feature"}),this.update(n)}}},{key:"layerContainsFeature",value:function(t,e){var n=t.getSource&&t.getSource();return!(!n||!n.getFeatures)&&n.getFeatures().indexOf(e)>-1}},{key:"getVisible",value:function(){return this.visible_}},{key:"setVisible",value:function(t){var e=this,n=this.visible_;n!==t&&(this.visible_=t,!0===t&&this.getFeature()?(this.$element_.removeClass(p.cssClasses.hidden),this.window_.setVisible(!0)):(this.$element_.addClass(p.cssClasses.hidden),this.window_.setVisible(!1),this.window_.resetDragged()),t||this.setFeature(null),this.dispatchEvent({type:"change:visible",oldValue:n,key:"visible"})),t&&setTimeout(function(){return e.window_.updateSize()},0)}},{key:"addIconSizedOffset",value:function(t,e,n){var r=this;if((0!==this.iconSizedOffset_[0]||0!==this.iconSizedOffset_[1])&&e&&(e=this.getMap().get("styling").manifestStyle(e,t,n))){var i=e.getImage();i instanceof c.default&&new Promise(function(t){var e=i.getImage();e.complete&&e.src?t():(e.addEventListener("load",function(){r.getMap().render(),r.getMap().once("postcompose",t)}),i.load())}).then(function(){var t=i.getSize(),e=[r.pixelOffset_[0]+r.iconSizedOffset_[0]*t[0]*(i.getScale()||1),r.pixelOffset_[1]+r.iconSizedOffset_[1]*t[1]*(i.getScale()||1)];r.overlay_.setOffset(e)})}}},{key:"centerMapOnPopup",value:function(t){var e=this;t=void 0===t?this.animated_:t;var n=function(){e.window_.updateSize(),e.getMap().get("move").toPoint(e.getCenter(),{animated:t})};(0,d.finishAllImages)(this.window_.get$Body()).then(function(){e.getMap().getPixelFromCoordinate([0,0])?n():e.getMap().once("postrender",n)})}},{key:"getCenter",value:function(){var t=this.overlay_.getOffset(),e=this.getMap().getPixelFromCoordinate(this.overlay_.getPosition());e[0]+=t[0],e[1]+=t[1];var n=this.overlay_.getPositioning().split("-"),r=this.$element_.outerWidth(),i=this.$element_.outerHeight();return"left"===n[1]&&(e[0]+=r/2),"right"===n[1]&&(e[0]-=r/2),"top"===n[0]&&(e[1]+=i/2),"bottom"===n[0]&&(e[1]-=i/2),this.getMap().getCoordinateFromPixel(e)}},{key:"addReferencingLayer_",value:function(t){this.referencingVisibleLayers_.indexOf(t)<0&&this.referencingVisibleLayers_.push(t)}}],[{key:"canDisplay",value:function(t){return t.get("features")&&1===t.get("features").length&&(t=t.get("features")[0]),!t.get("disabled")&&(t.get("name")||t.get("description")&&(0,i.default)("<span>").html(t.get("description")).text().match(/\S/))}}]),e}()},function(t,e,n){var r=n(18),i=n(83),o=n(139),a=n(112),s=r(function(t,e){var n=a(e,o(s));return i(t,32,void 0,e,n)});s.placeholder={},t.exports=s},function(t,e){var n="Expected a function";t.exports=function(t,e,r){if("function"!=typeof t)throw new TypeError(n);return setTimeout(function(){t.apply(void 0,r)},e)}},function(t,e,n){var r=n(49),i=n(660),o=n(177),a="Expected a function",s=Math.max,u=Math.min;t.exports=function(t,e,n){var l,c,h,f,p,d,g=0,v=!1,y=!1,_=!0;if("function"!=typeof t)throw new TypeError(a);function m(e){var n=l,r=c;return l=c=void 0,g=e,f=t.apply(r,n)}function b(t){var n=t-d;return void 0===d||n>=e||n<0||y&&t-g>=h}function w(){var t=i();if(b(t))return E(t);p=setTimeout(w,function(t){var n=e-(t-d);return y?u(n,h-(t-g)):n}(t))}function E(t){return p=void 0,_&&l?m(t):(l=c=void 0,f)}function x(){var t=i(),n=b(t);if(l=arguments,c=this,d=t,n){if(void 0===p)return function(t){return g=t,p=setTimeout(w,e),v?m(t):f}(d);if(y)return clearTimeout(p),p=setTimeout(w,e),m(d)}return void 0===p&&(p=setTimeout(w,e)),f}return e=o(e)||0,r(n)&&(v=!!n.leading,h=(y="maxWait"in n)?s(o(n.maxWait)||0,e):h,_="trailing"in n?!!n.trailing:_),x.cancel=function(){void 0!==p&&clearTimeout(p),g=0,l=d=c=p=void 0},x.flush=function(){return void 0===p?f:E(i())},x}},function(t,e,n){var r=n(22),i="Expected a function";t.exports=function(t,e){var n;if("function"!=typeof e)throw new TypeError(i);return t=r(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}},function(t,e,n){var r=n(670),i=n(669),o=n(271),a=n(668);t.exports=function(t,e,n){var s=e+"";return o(t,i(s,a(r(s),n)))}},function(t,e,n){var r=n(377),i=n(415)(r);t.exports=i},function(t,e,n){var r=n(224),i=n(258);function o(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}o.prototype=r(i.prototype),o.prototype.constructor=o,t.exports=o},function(t,e,n){var r=n(376),i=n(402),o=r?function(t){return r.get(t)}:i;t.exports=o},function(t,e,n){var r=n(675),i=n(369),o=n(368),a=1,s=2,u=4,l=8,c=32,h=64;t.exports=function(t,e,n,f,p,d,g,v,y,_){var m=e&l;e|=m?c:h,(e&=~(m?h:c))&u||(e&=~(a|s));var b=[t,e,p,m?d:void 0,m?g:void 0,m?void 0:d,m?void 0:g,v,y,_],w=n.apply(void 0,b);return r(t)&&i(w,b),w.placeholder=f,o(w,t,e)}},function(t,e){var n=Math.max;t.exports=function(t,e,r,i){for(var o=-1,a=t.length,s=-1,u=r.length,l=-1,c=e.length,h=n(a-u,0),f=Array(h+c),p=!i;++o<h;)f[o]=t[o];for(var d=o;++l<c;)f[d+l]=e[l];for(;++s<u;)(p||o<a)&&(f[d+r[s]]=t[o++]);return f}},function(t,e){var n=Math.max;t.exports=function(t,e,r,i){for(var o=-1,a=t.length,s=r.length,u=-1,l=e.length,c=n(a-s,0),h=Array(l+c),f=!i;++u<l;)h[u]=e[u];for(;++o<s;)(f||o<a)&&(h[r[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}},function(t,e,n){var r=n(374),i=n(373),o=n(676),a=n(189),s=n(372),u=n(139),l=n(667),c=n(112),h=n(39),f=1,p=2,d=8,g=16,v=128,y=512;t.exports=function t(e,n,_,m,b,w,E,x,O,C){var S=n&v,P=n&f,M=n&p,T=n&(d|g),A=n&y,D=M?void 0:a(e);return function f(){for(var p=arguments.length,d=Array(p),g=p;g--;)d[g]=arguments[g];if(T)var v=u(f),y=o(d,v);if(m&&(d=r(d,m,b,T)),w&&(d=i(d,w,E,T)),p-=y,T&&p<C){var I=c(d,v);return s(e,n,t,f.placeholder,_,d,I,x,O,C-p)}var L=P?_:this,F=M?L[e]:e;return p=d.length,x?d=l(d,x):A&&p>1&&d.reverse(),S&&O<p&&(d.length=O),this&&this!==h&&this instanceof f&&(F=D||a(F)),F.apply(L,d)}}},function(t,e,n){var r=n(497),i=r&&new r;t.exports=i},function(t,e,n){var r=n(115),i=n(376),o=i?function(t,e){return i.set(t,e),t}:r;t.exports=o},function(t,e,n){var r=n(83),i=128;t.exports=function(t,e,n){return e=n?void 0:e,e=t&&null==e?t.length:e,r(t,i,void 0,void 0,void 0,void 0,e)}},function(t,e){var n=Math.floor,r=Math.random;t.exports=function(t,e){return t+n(r()*(e-t+1))}},function(t,e,n){var r=n(379);t.exports=function(t){var e=t.length;return e?t[r(0,e-1)]:void 0}},function(t,e){var n="Expected a function";t.exports=function(t){if("function"!=typeof t)throw new TypeError(n);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},function(t,e){t.exports=function(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}},function(t,e,n){var r=n(42),i=n(19),o=n(384),a=n(702),s=n(71),u=n(701),l=n(115);t.exports=function(t,e,n){var c=-1;e=r(e.length?e:[l],s(i));var h=o(t,function(t,n,i){return{criteria:r(e,function(e){return e(t)}),index:++c,value:t}});return a(h,function(t,e){return u(t,e,n)})}},function(t,e,n){var r=n(94),i=n(48);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,function(t,r,i){o[++n]=e(t,r,i)}),o}},function(t,e,n){var r=n(19),i=n(48),o=n(91);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var u=r(n,3);e=o(e),n=function(t){return u(s[t],t,s)}}var l=t(e,n,a);return l>-1?s[u?e[l]:l]:void 0}}},function(t,e,n){var r=n(94);t.exports=function(t,e){var n=[];return r(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}},function(t,e,n){var r=n(719),i=n(390)(r,!0);t.exports=i},function(t,e,n){var r=n(720),i=n(387),o=n(260),a=n(12);t.exports=function(t,e){return(a(t)?r:i)(t,o(e))}},function(t,e,n){var r=n(317),i=n(94),o=n(260),a=n(12);t.exports=function(t,e){return(a(t)?r:i)(t,o(e))}},function(t,e,n){var r=n(48);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},function(t,e,n){t.exports={countBy:n(727),each:n(722),eachRight:n(721),every:n(717),filter:n(714),find:n(713),findLast:n(712),flatMap:n(711),flatMapDeep:n(710),flatMapDepth:n(709),forEach:n(389),forEachRight:n(388),groupBy:n(708),includes:n(707),invokeMap:n(706),keyBy:n(704),map:n(192),orderBy:n(703),partition:n(700),reduce:n(699),reduceRight:n(697),reject:n(695),sample:n(694),sampleSize:n(692),shuffle:n(689),size:n(686),some:n(682),sortBy:n(680)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=n(16),o=f(n(33)),a=f(n(20)),s=n(78),u=f(n(4)),l=n(1),c=f(n(28)),h=f(n(36));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,wrapX:e.wrapX})||this;return n.resolution=void 0,n.distance=void 0!==e.distance?e.distance:20,n.features=[],n.geometryFunction=e.geometryFunction||function(t){var e=t.getGeometry();return(0,i.assert)(e.getType()==a.default.POINT,10),e},n.source=e.source,n.source.addEventListener(u.default.CHANGE,n.refresh.bind(n)),n}return p(e,t),e.prototype.getDistance=function(){return this.distance},e.prototype.getSource=function(){return this.source},e.prototype.loadFeatures=function(t,e,n){this.source.loadFeatures(t,e,n),e!==this.resolution&&(this.clear(),this.resolution=e,this.cluster(),this.addFeatures(this.features))},e.prototype.setDistance=function(t){this.distance=t,this.refresh()},e.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},e.prototype.cluster=function(){if(void 0!==this.resolution){this.features.length=0;for(var t=(0,l.createEmpty)(),e=this.distance*this.resolution,n=this.source.getFeatures(),i={},o=0,a=n.length;o<a;o++){var s=n[o];if(!((0,r.getUid)(s)in i)){var u=this.geometryFunction(s);if(u){var c=u.getCoordinates();(0,l.createOrUpdateFromCoordinate)(c,t),(0,l.buffer)(t,e,t);var h=this.source.getFeaturesInExtent(t);h=h.filter(function(t){var e=(0,r.getUid)(t);return!(e in i)&&(i[e]=!0,!0)}),this.features.push(this.createCluster(h))}}}}},e.prototype.createCluster=function(t){for(var e=[0,0],n=t.length-1;n>=0;--n){var r=this.geometryFunction(t[n]);r?(0,s.add)(e,r.getCoordinates()):t.splice(n,1)}(0,s.scale)(e,1/t.length);var i=new o.default(new c.default(e));return i.set("features",t),i},e}(h.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(396),i=n(16),o=n(1),a=n(10),s=n(14),u=n(3),l=n(201),c=n(87),h=v(n(84)),f=v(n(395)),p=n(55),d=n(214),g=n(141);function v(t){return t&&t.__esModule?t:{default:t}}var y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=function(t){function e(e){var n=this,r=e||{},i=r.params||{},a=!("TRANSPARENT"in i)||i.TRANSPARENT;return(n=t.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,opaque:!a,projection:r.projection,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileClass:r.tileClass,tileGrid:r.tileGrid,tileLoadFunction:r.tileLoadFunction,tileUrlFunction:m,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition})||this).gutter_=void 0!==r.gutter?r.gutter:0,n.params_=i,n.v13_=!0,n.serverType_=r.serverType,n.hidpi_=void 0===r.hidpi||r.hidpi,n.tmpExtent_=(0,o.createEmpty)(),n.updateV13_(),n.setKey(n.getKeyForParams_()),n}return y(e,t),e.prototype.getFeatureInfoUrl=function(t,e,n,i){var s=(0,u.get)(n),h=this.getProjection(),f=this.getTileGrid();f||(f=this.getTileGridForProjection(s));var p=f.getZForResolution(e,this.zDirection),d=f.getTileCoordForCoordAndZ(t,p);if(!(f.getResolutions().length<=d[0])){var g=f.getResolution(d[0]),v=f.getTileCoordExtent(d,this.tmpExtent_),y=(0,c.toSize)(f.getTileSize(d[0]),this.tmpSize),_=this.gutter_;0!==_&&(y=(0,c.buffer)(y,_,this.tmpSize),v=(0,o.buffer)(v,g*_,v)),h&&h!==s&&(g=(0,l.calculateSourceResolution)(h,s,t,g),v=(0,u.transformExtent)(v,s,h),t=(0,u.transform)(t,s,h));var m={SERVICE:"WMS",VERSION:r.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,a.assign)(m,this.params_,i);var b=Math.floor((t[0]-v[0])/g),w=Math.floor((v[3]-t[1])/g);return m[this.v13_?"I":"X"]=b,m[this.v13_?"J":"Y"]=w,this.getRequestUrl_(d,y,v,1,h||s,m)}},e.prototype.getLegendUrl=function(t,e){if(void 0!==this.urls[0]){var n={SERVICE:"WMS",VERSION:r.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){var i=this.params_.LAYERS;if(!(!Array.isArray(i)||1===i.length))return;n.LAYER=i}if(void 0!==t){var o=this.getProjection()?this.getProjection().getMetersPerUnit():1;n.SCALE=t*o*39.37*(25.4/.28)}return(0,a.assign)(n,e),(0,g.appendParams)(this.urls[0],n)}},e.prototype.getGutter=function(){return this.gutter_},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,n,r,o,a){var u=this.urls;if(u){if(a.WIDTH=e[0],a.HEIGHT=e[1],a[this.v13_?"CRS":"SRS"]=o.getCode(),"STYLES"in this.params_||(a.STYLES=""),1!=r)switch(this.serverType_){case f.default.GEOSERVER:var l=90*r+.5|0;"FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+=";dpi:"+l:a.FORMAT_OPTIONS="dpi:"+l;break;case f.default.MAPSERVER:a.MAP_RESOLUTION=90*r;break;case f.default.CARMENTA_SERVER:case f.default.QGIS:a.DPI=90*r;break;default:(0,i.assert)(!1,52)}var c,h=o.getAxisOrientation(),d=n;if(this.v13_&&"ne"==h.substr(0,2)){var v=void 0;v=n[0],d[0]=n[1],d[1]=v,v=n[2],d[2]=n[3],d[3]=v}if(a.BBOX=d.join(","),1==u.length)c=u[0];else c=u[(0,s.modulo)((0,p.hash)(t),u.length)];return(0,g.appendParams)(c,a)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var n in this.params_)e[t++]=n+"-"+this.params_[n];return e.join("/")},e.prototype.updateParams=function(t){(0,a.assign)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},e.prototype.updateV13_=function(){var t=this.params_.VERSION||r.DEFAULT_WMS_VERSION;this.v13_=(0,d.compareVersions)(t,"1.3")>=0},e}(h.default);function m(t,e,n){var i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(n)),!(i.getResolutions().length<=t[0])){1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);var s=i.getResolution(t[0]),u=i.getTileCoordExtent(t,this.tmpExtent_),l=(0,c.toSize)(i.getTileSize(t[0]),this.tmpSize),h=this.gutter_;0!==h&&(l=(0,c.buffer)(l,h,this.tmpSize),u=(0,o.buffer)(u,s*h,u)),1!=e&&(l=(0,c.scale)(l,e,this.tmpSize));var f={SERVICE:"WMS",VERSION:r.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return(0,a.assign)(f,this.params_),this.getRequestUrl_(t,l,u,e,n,f)}}e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DEFAULT_WMS_VERSION="1.3.0"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(396),i=v(n(120)),o=n(16),a=v(n(4)),s=n(1),u=n(10),l=n(3),c=n(201),h=n(117),f=v(h),p=v(n(395)),d=n(214),g=n(141);function v(t){return t&&t.__esModule?t:{default:t}}var y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=[101,101],m=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,{attributions:r.attributions,projection:r.projection,resolutions:r.resolutions})||this).crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null,n.url_=r.url,n.imageLoadFunction_=void 0!==r.imageLoadFunction?r.imageLoadFunction:h.defaultImageLoadFunction,n.params_=r.params||{},n.v13_=!0,n.updateV13_(),n.serverType_=r.serverType,n.hidpi_=void 0===r.hidpi||r.hidpi,n.image_=null,n.imageSize_=[0,0],n.renderedRevision_=0,n.ratio_=void 0!==r.ratio?r.ratio:1.5,n}return y(e,t),e.prototype.getFeatureInfoUrl=function(t,e,n,i){if(void 0!==this.url_){var o=(0,l.get)(n),a=this.getProjection();a&&a!==o&&(e=(0,c.calculateSourceResolution)(a,o,t,e),t=(0,l.transform)(t,o,a));var h=(0,s.getForViewAndSize)(t,e,0,_),f={SERVICE:"WMS",VERSION:r.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,u.assign)(f,this.params_,i);var p=Math.floor((t[0]-h[0])/e),d=Math.floor((h[3]-t[1])/e);return f[this.v13_?"I":"X"]=p,f[this.v13_?"J":"Y"]=d,this.getRequestUrl_(h,_,1,a||o,f)}},e.prototype.getLegendUrl=function(t,e){if(void 0!==this.url_){var n={SERVICE:"WMS",VERSION:r.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){var i=this.params_.LAYERS;if(!(!Array.isArray(i)||1===i.length))return;n.LAYER=i}if(void 0!==t){var o=this.getProjection()?this.getProjection().getMetersPerUnit():1;n.SCALE=t*o*39.37*(25.4/.28)}return(0,u.assign)(n,e),(0,g.appendParams)(this.url_,n)}},e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,n,o){if(void 0===this.url_)return null;e=this.findNearestResolution(e),1==n||this.hidpi_&&void 0!==this.serverType_||(n=1);var l=e/n,c=(0,s.getCenter)(t),h=Math.ceil((0,s.getWidth)(t)/l),f=Math.ceil((0,s.getHeight)(t)/l),p=(0,s.getForViewAndSize)(c,l,0,[h,f]),d=Math.ceil(this.ratio_*(0,s.getWidth)(t)/l),g=Math.ceil(this.ratio_*(0,s.getHeight)(t)/l),v=(0,s.getForViewAndSize)(c,l,0,[d,g]),y=this.image_;if(y&&this.renderedRevision_==this.getRevision()&&y.getResolution()==e&&y.getPixelRatio()==n&&(0,s.containsExtent)(y.getExtent(),p))return y;var _={SERVICE:"WMS",VERSION:r.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,u.assign)(_,this.params_),this.imageSize_[0]=Math.round((0,s.getWidth)(v)/l),this.imageSize_[1]=Math.round((0,s.getHeight)(v)/l);var m=this.getRequestUrl_(v,this.imageSize_,n,o,_);return this.image_=new i.default(v,e,n,m,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(a.default.CHANGE,this.handleImageChange.bind(this)),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,n,r,i){if((0,o.assert)(void 0!==this.url_,9),i[this.v13_?"CRS":"SRS"]=r.getCode(),"STYLES"in this.params_||(i.STYLES=""),1!=n)switch(this.serverType_){case p.default.GEOSERVER:var a=90*n+.5|0;"FORMAT_OPTIONS"in i?i.FORMAT_OPTIONS+=";dpi:"+a:i.FORMAT_OPTIONS="dpi:"+a;break;case p.default.MAPSERVER:i.MAP_RESOLUTION=90*n;break;case p.default.CARMENTA_SERVER:case p.default.QGIS:i.DPI=90*n;break;default:(0,o.assert)(!1,8)}i.WIDTH=e[0],i.HEIGHT=e[1];var s,u=r.getAxisOrientation();return s=this.v13_&&"ne"==u.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,i.BBOX=s.join(","),(0,g.appendParams)(this.url_,i)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){(0,u.assign)(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},e.prototype.updateV13_=function(){var t=this.params_.VERSION||r.DEFAULT_WMS_VERSION;this.v13_=(0,d.compareVersions)(t,"1.3")>=0},e}(f.default);e.default=m},function(t,e){t.exports=function(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}},function(t,e,n){var r=n(18)(n(262));t.exports=r},function(t,e,n){var r=n(95),i=n(42),o=n(262);t.exports=function(t,e){if(!t||!t.length)return[];var n=o(t);return null==e?n:i(n,function(t){return r(e,void 0,t)})}},function(t,e,n){var r=n(113);t.exports=function(t){return t&&t.length?r(t):[]}},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(107);t.exports=function(t,e){for(var n=-1,i=t.length,o=0,a=[];++n<i;){var s=t[n],u=e?e(s):s;if(!n||!r(u,l)){var l=u;a[o++]=0===s?0:s}}return a}},function(t,e,n){var r=n(267),i=n(416),o=n(271);t.exports=function(t){return o(i(t,void 0,r),t+"")}},function(t,e,n){var r=n(103);t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t==t,a=r(t),s=void 0!==e,u=null===e,l=e==e,c=r(e);if(!u&&!c&&!a&&t>e||a&&s&&l&&!u&&!c||i&&s&&l||!n&&l||!o)return 1;if(!i&&!a&&!c&&t<e||c&&n&&o&&!i&&!a||u&&n&&o||!s&&o||!l)return-1}return 0}},function(t,e,n){var r=n(270),i=n(64);t.exports=function(t,e){return e.length<2?t:r(t,i(e,0,-1))}},function(t,e,n){var r=n(762),i=n(106),o=Array.prototype.splice;t.exports=function(t,e){for(var n=t?e.length:0,a=n-1;n--;){var s=e[n];if(n==a||s!==u){var u=s;i(s)?o.call(t,s,1):r(t,s)}}return t}},function(t,e,n){var r=n(264);t.exports=function(t,e){return t&&t.length&&e&&e.length?r(t,e):t}},function(t,e){t.exports=function(t){return t&&t.length?t[0]:void 0}},function(t,e,n){var r=n(196),i=n(19),o=n(22),a=Math.max,s=Math.min;t.exports=function(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var l=u-1;return void 0!==n&&(l=o(n),l=n<0?a(u+l,0):s(l,u-1)),r(t,i(e,3),l,!0)}},function(t,e,n){var r=n(196),i=n(19),o=n(22),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var u=null==n?0:o(n);return u<0&&(u=a(s+u,0)),r(t,i(e,3),u)}},function(t,e,n){var r=n(318),i="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(270);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},function(t,e){var n=800,r=16,i=Date.now;t.exports=function(t){var e=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(95),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);++a<s;)u[a]=o[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=o[a];return l[e]=n(u),r(t,this,l)}}},function(t,e){t.exports=function(t){return t!=t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.getDefaultFillStyle=function(){return H},e.getDefaultImageStyle=function(){return K},e.getDefaultStrokeStyle=function(){return J},e.getDefaultTextStyle=function(){return Q},e.getDefaultStyle=function(){return tt},e.getDefaultStyleArray=function(){return et},e.readFlatCoordinates=ot;var i=A(n(33)),o=n(17),a=n(16),s=n(171),u=n(118),l=A(n(809)),c=n(278),h=A(n(279)),f=A(n(77)),p=A(n(20)),d=A(n(44)),g=A(n(147)),v=A(n(99)),y=A(n(170)),_=A(n(28)),m=A(n(32)),b=n(14),w=n(3),E=A(n(121)),x=A(n(206)),O=A(n(291)),C=A(n(441)),S=A(n(146)),P=A(n(65)),M=A(n(204)),T=n(142);function A(t){return t&&t.__esModule?t:{default:t}}var D,I,L,F,k,R,j,N=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=["http://www.google.com/kml/ext/2.2"],G=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],U={fraction:O.default.FRACTION,pixels:O.default.PIXELS,insetPixels:O.default.PIXELS},z=(0,T.makeStructureNS)(G,{ExtendedData:kt,Region:Rt,MultiGeometry:(0,T.makeObjectPropertySetter)(St,"geometry"),LineString:(0,T.makeObjectPropertySetter)(xt,"geometry"),LinearRing:(0,T.makeObjectPropertySetter)(Ot,"geometry"),Point:(0,T.makeObjectPropertySetter)(Pt,"geometry"),Polygon:(0,T.makeObjectPropertySetter)(Tt,"geometry"),Style:(0,T.makeObjectPropertySetter)(Dt),StyleMap:function(t,e){var n=lt(t,e);if(!n)return;var r=e[e.length-1];Array.isArray(n)?r.Style=n:"string"==typeof n?r.styleUrl=n:(0,a.assert)(!1,38)},address:(0,T.makeObjectPropertySetter)(c.readString),description:(0,T.makeObjectPropertySetter)(c.readString),name:(0,T.makeObjectPropertySetter)(c.readString),open:(0,T.makeObjectPropertySetter)(c.readBoolean),phoneNumber:(0,T.makeObjectPropertySetter)(c.readString),styleUrl:(0,T.makeObjectPropertySetter)(at),visibility:(0,T.makeObjectPropertySetter)(c.readBoolean)},(0,T.makeStructureNS)(B,{MultiTrack:(0,T.makeObjectPropertySetter)(function(t,e){var n=(0,T.pushParseAndPop)([],vt,t,e);if(!n)return;return new g.default(n)},"geometry"),Track:(0,T.makeObjectPropertySetter)(_t,"geometry")})),V=(0,T.makeStructureNS)(G,{ExtendedData:kt,Region:Rt,Link:function(t,e){(0,T.parseNode)(Y,t,e)},address:(0,T.makeObjectPropertySetter)(c.readString),description:(0,T.makeObjectPropertySetter)(c.readString),name:(0,T.makeObjectPropertySetter)(c.readString),open:(0,T.makeObjectPropertySetter)(c.readBoolean),phoneNumber:(0,T.makeObjectPropertySetter)(c.readString),visibility:(0,T.makeObjectPropertySetter)(c.readBoolean)}),Y=(0,T.makeStructureNS)(G,{href:(0,T.makeObjectPropertySetter)(at)}),W=(0,T.makeStructureNS)(G,{LatLonAltBox:function(t,e){var n=(0,T.pushParseAndPop)({},Bt,t,e);if(!n)return;var r=e[e.length-1],i=[parseFloat(n.west),parseFloat(n.south),parseFloat(n.east),parseFloat(n.north)];r.extent=i,r.altitudeMode=n.altitudeMode,r.minAltitude=parseFloat(n.minAltitude),r.maxAltitude=parseFloat(n.maxAltitude)},Lod:function(t,e){var n=(0,T.pushParseAndPop)({},Gt,t,e);if(!n)return;var r=e[e.length-1];r.minLodPixels=parseFloat(n.minLodPixels),r.maxLodPixels=parseFloat(n.maxLodPixels),r.minFadeExtent=parseFloat(n.minFadeExtent),r.maxFadeExtent=parseFloat(n.maxFadeExtent)}}),X=(0,T.makeStructureNS)(G,["Document","Placemark"]),q=(0,T.makeStructureNS)(G,{Document:(0,T.makeChildAppender)(function(t,e,n){var r={node:t};(0,T.pushSerializeAndPop)(r,Wt,Xt,e,n,void 0,this)}),Placemark:(0,T.makeChildAppender)(ve)}),H=null;var $,K=null;var Z,J=null;var Q=null;var tt=null;var et=null;var nt=function(t){function e(e){var n=t.call(this)||this,r=e||{};return et||(D=[255,255,255,1],H=new E.default({color:D}),I=[20,2],L=O.default.PIXELS,F=O.default.PIXELS,k=[64,64],R="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",j=.5,K=new x.default({anchor:I,anchorOrigin:C.default.BOTTOM_LEFT,anchorXUnits:L,anchorYUnits:F,crossOrigin:"anonymous",rotation:0,scale:j,size:k,src:R}),$="NO_IMAGE",J=new S.default({color:D,width:1}),Z=new S.default({color:[51,51,51,1],width:2}),Q=new M.default({font:"bold 16px Helvetica",fill:H,stroke:Z,scale:.8}),tt=new P.default({fill:H,image:K,text:Q,stroke:J,zIndex:0}),et=[tt]),n.dataProjection=(0,w.get)("EPSG:4326"),n.defaultStyle_=r.defaultStyle?r.defaultStyle:et,n.extractStyles_=void 0===r.extractStyles||r.extractStyles,n.writeStyles_=void 0===r.writeStyles||r.writeStyles,n.sharedStyles_={},n.showPointNames_=void 0===r.showPointNames||r.showPointNames,n}return N(e,t),e.prototype.readDocumentOrFolder_=function(t,e){var n=(0,T.makeStructureNS)(G,{Document:(0,T.makeArrayExtender)(this.readDocumentOrFolder_,this),Folder:(0,T.makeArrayExtender)(this.readDocumentOrFolder_,this),Placemark:(0,T.makeArrayPusher)(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),r=(0,T.pushParseAndPop)([],n,t,e,this);return r||void 0},e.prototype.readPlacemark_=function(t,e){var n=(0,T.pushParseAndPop)({geometry:null},z,t,e);if(n){var r=new i.default,o=t.getAttribute("id");null!==o&&r.setId(o);var a=e[0],s=n.geometry;if(s&&(0,u.transformGeometryWithOptions)(s,!1,a),r.setGeometry(s),delete n.geometry,this.extractStyles_){var l=function(t,e,n,r,i){return function(o,a){var s,u=i,l="";if(u){var c=o.getGeometry();c&&(u=c.getType()===p.default.POINT)}if(u&&(l=o.get("name"),u=u&&!!l),t)return u?(s=rt(t[0],l),t.concat(s)):t;if(e){var h=function t(e,n,r){return Array.isArray(e)?e:"string"==typeof e?(!(e in r)&&"#"+e in r&&(e="#"+e),t(r[e],n,r)):n}(e,n,r);return u?(s=rt(h[0],l),h.concat(s)):h}return u?(s=rt(n[0],l),n.concat(s)):n}}(n.Style,n.styleUrl,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);r.setStyle(l)}return delete n.Style,r.setProperties(n,!0),r}},e.prototype.readSharedStyle_=function(t,e){var n=t.getAttribute("id");if(null!==n){var r=Dt(t,e);if(r){var i=void 0,o=t.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o)i=new URL("#"+n,o).href;else i="#"+n;this.sharedStyles_[i]=r}}},e.prototype.readSharedStyleMap_=function(t,e){var n=t.getAttribute("id");if(null!==n){var r=lt(t,e);if(r){var i,o=t.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o)i=new URL("#"+n,o).href;else i="#"+n;this.sharedStyles_[i]=r}}},e.prototype.readFeatureFromNode=function(t,e){if(!(0,o.includes)(G,t.namespaceURI))return null;var n=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return n||null},e.prototype.readFeaturesFromNode=function(t,e){if(!(0,o.includes)(G,t.namespaceURI))return[];var n,r=t.localName;if("Document"==r||"Folder"==r)return(n=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]))||[];if("Placemark"==r){var i=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return i?[i]:[]}if("kml"==r){n=[];for(var a=t.firstElementChild;a;a=a.nextElementSibling){var s=this.readFeaturesFromNode(a,e);s&&(0,o.extend)(n,s)}return n}return[]},e.prototype.readName=function(t){if(t){if("string"==typeof t){var e=(0,T.parse)(t);return this.readNameFromDocument(e)}return(0,T.isDocument)(t)?this.readNameFromDocument(t):this.readNameFromNode(t)}},e.prototype.readNameFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var n=this.readNameFromNode(e);if(n)return n}},e.prototype.readNameFromNode=function(t){for(var e=t.firstElementChild;e;e=e.nextElementSibling)if((0,o.includes)(G,e.namespaceURI)&&"name"==e.localName)return(0,c.readString)(e);for(e=t.firstElementChild;e;e=e.nextElementSibling){var n=e.localName;if((0,o.includes)(G,e.namespaceURI)&&("Document"==n||"Folder"==n||"Placemark"==n||"kml"==n)){var r=this.readNameFromNode(e);if(r)return r}}},e.prototype.readNetworkLinks=function(t){var e=[];if("string"==typeof t){var n=(0,T.parse)(t);(0,o.extend)(e,this.readNetworkLinksFromDocument(n))}else(0,T.isDocument)(t)?(0,o.extend)(e,this.readNetworkLinksFromDocument(t)):(0,o.extend)(e,this.readNetworkLinksFromNode(t));return e},e.prototype.readNetworkLinksFromDocument=function(t){for(var e=[],n=t.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&(0,o.extend)(e,this.readNetworkLinksFromNode(n));return e},e.prototype.readNetworkLinksFromNode=function(t){for(var e=[],n=t.firstElementChild;n;n=n.nextElementSibling)if((0,o.includes)(G,n.namespaceURI)&&"NetworkLink"==n.localName){var r=(0,T.pushParseAndPop)({},V,n,[]);e.push(r)}for(n=t.firstElementChild;n;n=n.nextElementSibling){var i=n.localName;!(0,o.includes)(G,n.namespaceURI)||"Document"!=i&&"Folder"!=i&&"kml"!=i||(0,o.extend)(e,this.readNetworkLinksFromNode(n))}return e},e.prototype.readRegion=function(t){var e=[];if("string"==typeof t){var n=(0,T.parse)(t);(0,o.extend)(e,this.readRegionFromDocument(n))}else(0,T.isDocument)(t)?(0,o.extend)(e,this.readRegionFromDocument(t)):(0,o.extend)(e,this.readRegionFromNode(t));return e},e.prototype.readRegionFromDocument=function(t){for(var e=[],n=t.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&(0,o.extend)(e,this.readRegionFromNode(n));return e},e.prototype.readRegionFromNode=function(t){for(var e=[],n=t.firstElementChild;n;n=n.nextElementSibling)if((0,o.includes)(G,n.namespaceURI)&&"Region"==n.localName){var r=(0,T.pushParseAndPop)({},W,n,[]);e.push(r)}for(n=t.firstElementChild;n;n=n.nextElementSibling){var i=n.localName;!(0,o.includes)(G,n.namespaceURI)||"Document"!=i&&"Folder"!=i&&"kml"!=i||(0,o.extend)(e,this.readRegionFromNode(n))}return e},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var n=(0,T.createElementNS)(G[4],"kml"),r="http://www.w3.org/2000/xmlns/";n.setAttributeNS(r,"xmlns:gx",B[0]),n.setAttributeNS(r,"xmlns:xsi",T.XML_SCHEMA_INSTANCE_URI),n.setAttributeNS(T.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var i={node:n},o={};t.length>1?o.Document=t:1==t.length&&(o.Placemark=t[0]);var a=X[n.namespaceURI],s=(0,T.makeSequence)(o,a);return(0,T.pushSerializeAndPop)(i,q,T.OBJECT_PROPERTY_NODE_FACTORY,s,[e],a,this),n},e}(l.default);function rt(t,e){var n=null,r=[0,0],i="start";if(t.getImage()){var o=t.getImage().getImageSize();if(null===o&&(o=k),2==o.length){var a=t.getImage().getScale();r[0]=a*o[0]/2,r[1]=-a*o[1]/2,i="left"}}if(null!==t.getText()){var s=t.getText();(n=s.clone()).setFont(s.getFont()||Q.getFont()),n.setScale(s.getScale()||Q.getScale()),n.setFill(s.getFill()||Q.getFill()),n.setStroke(s.getStroke()||Z)}else n=Q.clone();return n.setText(e),n.setOffsetX(r[0]),n.setOffsetY(r[1]),n.setTextAlign(i),new P.default({text:n})}function it(t){var e=(0,T.getAllTextContent)(t,!1),n=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(n){var r=n[1];return[parseInt(r.substr(6,2),16),parseInt(r.substr(4,2),16),parseInt(r.substr(2,2),16),parseInt(r.substr(0,2),16)/255]}}function ot(t){for(var e,n=(0,T.getAllTextContent)(t,!1),r=[],i=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=i.exec(n);){var o=parseFloat(e[1]),a=parseFloat(e[2]),s=e[3]?parseFloat(e[3]):0;r.push(o,a,s),n=n.substr(e[0].length)}if(""===n)return r}function at(t){var e=(0,T.getAllTextContent)(t,!1).trim(),n=t.baseURI;return n&&"about:blank"!=n||(n=window.location.href),n?new URL(e,n).href:e}function st(t){return(0,c.readDecimal)(t)}var ut=(0,T.makeStructureNS)(G,{Pair:function(t,e){var n=(0,T.pushParseAndPop)({},jt,t,e);if(!n)return;var r=n.key;if(r&&"normal"==r){var i=n.styleUrl;i&&(e[e.length-1]=i);var o=n.Style;o&&(e[e.length-1]=o)}}});function lt(t,e){return(0,T.pushParseAndPop)(void 0,ut,t,e)}var ct=(0,T.makeStructureNS)(G,{Icon:(0,T.makeObjectPropertySetter)(function(t,e){var n=(0,T.pushParseAndPop)({},mt,t,e);return n||null}),heading:(0,T.makeObjectPropertySetter)(c.readDecimal),hotSpot:(0,T.makeObjectPropertySetter)(function(t){var e,n=t.getAttribute("xunits"),r=t.getAttribute("yunits");return e="insetPixels"!==n?"insetPixels"!==r?C.default.BOTTOM_LEFT:C.default.TOP_LEFT:"insetPixels"!==r?C.default.BOTTOM_RIGHT:C.default.TOP_RIGHT,{x:parseFloat(t.getAttribute("x")),xunits:U[n],y:parseFloat(t.getAttribute("y")),yunits:U[r],origin:e}}),scale:(0,T.makeObjectPropertySetter)(st)});var ht=(0,T.makeStructureNS)(G,{color:(0,T.makeObjectPropertySetter)(it),scale:(0,T.makeObjectPropertySetter)(st)});var ft=(0,T.makeStructureNS)(G,{color:(0,T.makeObjectPropertySetter)(it),width:(0,T.makeObjectPropertySetter)(c.readDecimal)});var pt=(0,T.makeStructureNS)(G,{color:(0,T.makeObjectPropertySetter)(it),fill:(0,T.makeObjectPropertySetter)(c.readBoolean),outline:(0,T.makeObjectPropertySetter)(c.readBoolean)});var dt=(0,T.makeStructureNS)(G,{coordinates:(0,T.makeReplacer)(ot)});function gt(t,e){return(0,T.pushParseAndPop)(null,dt,t,e)}var vt=(0,T.makeStructureNS)(B,{Track:(0,T.makeArrayPusher)(_t)});var yt=(0,T.makeStructureNS)(G,{when:function(t,e){var n=e[e.length-1].whens,r=(0,T.getAllTextContent)(t,!1),i=Date.parse(r);n.push(isNaN(i)?0:i)}},(0,T.makeStructureNS)(B,{coord:function(t,e){var n=e[e.length-1].flatCoordinates,r=(0,T.getAllTextContent)(t,!1),i=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(r);if(i){var o=parseFloat(i[1]),a=parseFloat(i[2]),s=parseFloat(i[3]);n.push(o,a,s,0)}else n.push(0,0,0,0)}}));function _t(t,e){var n=(0,T.pushParseAndPop)({flatCoordinates:[],whens:[]},yt,t,e);if(n){for(var r=n.flatCoordinates,i=n.whens,o=0,a=Math.min(r.length,i.length);o<a;++o)r[4*o+3]=i[o];return new d.default(r,f.default.XYZM)}}var mt=(0,T.makeStructureNS)(G,{href:(0,T.makeObjectPropertySetter)(at)},(0,T.makeStructureNS)(B,{x:(0,T.makeObjectPropertySetter)(c.readDecimal),y:(0,T.makeObjectPropertySetter)(c.readDecimal),w:(0,T.makeObjectPropertySetter)(c.readDecimal),h:(0,T.makeObjectPropertySetter)(c.readDecimal)}));var bt=(0,T.makeStructureNS)(G,{coordinates:(0,T.makeReplacer)(ot)});function wt(t,e){return(0,T.pushParseAndPop)(null,bt,t,e)}var Et=(0,T.makeStructureNS)(G,{extrude:(0,T.makeObjectPropertySetter)(c.readBoolean),tessellate:(0,T.makeObjectPropertySetter)(c.readBoolean),altitudeMode:(0,T.makeObjectPropertySetter)(c.readString)});function xt(t,e){var n=(0,T.pushParseAndPop)({},Et,t,e),r=wt(t,e);if(r){var i=new d.default(r,f.default.XYZ);return i.setProperties(n,!0),i}}function Ot(t,e){var n=(0,T.pushParseAndPop)({},Et,t,e),r=wt(t,e);if(r){var i=new m.default(r,f.default.XYZ,[r.length]);return i.setProperties(n,!0),i}}var Ct=(0,T.makeStructureNS)(G,{LineString:(0,T.makeArrayPusher)(xt),LinearRing:(0,T.makeArrayPusher)(Ot),MultiGeometry:(0,T.makeArrayPusher)(St),Point:(0,T.makeArrayPusher)(Pt),Polygon:(0,T.makeArrayPusher)(Tt)});function St(t,e){var n,r=(0,T.pushParseAndPop)([],Ct,t,e);if(!r)return null;if(0===r.length)return new h.default(r);for(var i,s=!0,u=r[0].getType(),l=1,c=r.length;l<c;++l)if((i=r[l]).getType()!=u){s=!1;break}if(s){var f=void 0,d=void 0;if(u==p.default.POINT){var _=r[0];f=_.getLayout(),d=_.getFlatCoordinates();for(l=1,c=r.length;l<c;++l)i=r[l],(0,o.extend)(d,i.getFlatCoordinates());It(n=new v.default(d,f),r)}else u==p.default.LINE_STRING?It(n=new g.default(r),r):u==p.default.POLYGON?It(n=new y.default(r),r):u==p.default.GEOMETRY_COLLECTION?n=new h.default(r):(0,a.assert)(!1,37)}else n=new h.default(r);return n}function Pt(t,e){var n=(0,T.pushParseAndPop)({},Et,t,e),r=wt(t,e);if(r){var i=new _.default(r,f.default.XYZ);return i.setProperties(n,!0),i}}var Mt=(0,T.makeStructureNS)(G,{innerBoundaryIs:function(t,e){var n=(0,T.pushParseAndPop)(void 0,Ut,t,e);if(n){var r=e[e.length-1];r.push(n)}},outerBoundaryIs:function(t,e){var n=(0,T.pushParseAndPop)(void 0,zt,t,e);if(n){var r=e[e.length-1];r[0]=n}}});function Tt(t,e){var n=(0,T.pushParseAndPop)({},Et,t,e),r=(0,T.pushParseAndPop)([null],Mt,t,e);if(r&&r[0]){for(var i=r[0],a=[i.length],s=1,u=r.length;s<u;++s)(0,o.extend)(i,r[s]),a.push(i.length);var l=new m.default(i,f.default.XYZ,a);return l.setProperties(n,!0),l}}var At=(0,T.makeStructureNS)(G,{IconStyle:function(t,e){var n=(0,T.pushParseAndPop)({},ct,t,e);if(n){var r,i,o,a,s=e[e.length-1],u="Icon"in n?n.Icon:{},l=!("Icon"in n)||Object.keys(u).length>0,c=u.href;c?r=c:l&&(r=R);var h,f=C.default.BOTTOM_LEFT,p=n.hotSpot;p?(i=[p.x,p.y],o=p.xunits,a=p.yunits,f=p.origin):r===R?(i=I,o=L,a=F):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(r)&&(i=[.5,0],o=O.default.FRACTION,a=O.default.FRACTION);var d,g=u.x,v=u.y;void 0!==g&&void 0!==v&&(h=[g,v]);var y,_=u.w,m=u.h;void 0!==_&&void 0!==m&&(d=[_,m]);var w=n.heading;void 0!==w&&(y=(0,b.toRadians)(w));var E=n.scale;if(l){r==R&&(d=k,void 0===E&&(E=j));var S=new x.default({anchor:i,anchorOrigin:f,anchorXUnits:o,anchorYUnits:a,crossOrigin:"anonymous",offset:h,offsetOrigin:C.default.BOTTOM_LEFT,rotation:y,scale:E,size:d,src:r});s.imageStyle=S}else s.imageStyle=$}},LabelStyle:function(t,e){var n=(0,T.pushParseAndPop)({},ht,t,e);if(n){var r=e[e.length-1],i=new M.default({fill:new E.default({color:"color"in n?n.color:D}),scale:n.scale});r.textStyle=i}},LineStyle:function(t,e){var n=(0,T.pushParseAndPop)({},ft,t,e);if(n){var r=e[e.length-1],i=new S.default({color:"color"in n?n.color:D,width:"width"in n?n.width:1});r.strokeStyle=i}},PolyStyle:function(t,e){var n=(0,T.pushParseAndPop)({},pt,t,e);if(n){var r=e[e.length-1],i=new E.default({color:"color"in n?n.color:D});r.fillStyle=i;var o=n.fill;void 0!==o&&(r.fill=o);var a=n.outline;void 0!==a&&(r.outline=a)}}});function Dt(t,e){var n=(0,T.pushParseAndPop)({},At,t,e);if(!n)return null;var r,i="fillStyle"in n?n.fillStyle:H,o=n.fill;void 0===o||o||(i=null),"imageStyle"in n?n.imageStyle!=$&&(r=n.imageStyle):r=K;var a="textStyle"in n?n.textStyle:Q,s="strokeStyle"in n?n.strokeStyle:J,u=n.outline;return void 0===u||u||(s=null),[new P.default({fill:i,image:r,stroke:s,text:a,zIndex:void 0})]}function It(t,e){var n,r,i,o=e.length,a=new Array(e.length),s=new Array(e.length),u=new Array(e.length);n=!1,r=!1,i=!1;for(var l=0;l<o;++l){var c=e[l];a[l]=c.get("extrude"),s[l]=c.get("tessellate"),u[l]=c.get("altitudeMode"),n=n||void 0!==a[l],r=r||void 0!==s[l],i=i||u[l]}n&&t.set("extrude",a),r&&t.set("tessellate",s),i&&t.set("altitudeMode",u)}var Lt=(0,T.makeStructureNS)(G,{displayName:(0,T.makeObjectPropertySetter)(c.readString),value:(0,T.makeObjectPropertySetter)(c.readString)});var Ft=(0,T.makeStructureNS)(G,{Data:function(t,e){var n=t.getAttribute("name");(0,T.parseNode)(Lt,t,e);var r=e[e.length-1];n&&r.displayName?r[n]={value:r.value,displayName:r.displayName,toString:function(){return r.value}}:null!==n?r[n]=r.value:null!==r.displayName&&(r[r.displayName]=r.value),delete r.value},SchemaData:function(t,e){(0,T.parseNode)(Nt,t,e)}});function kt(t,e){(0,T.parseNode)(Ft,t,e)}function Rt(t,e){(0,T.parseNode)(W,t,e)}var jt=(0,T.makeStructureNS)(G,{Style:(0,T.makeObjectPropertySetter)(Dt),key:(0,T.makeObjectPropertySetter)(c.readString),styleUrl:(0,T.makeObjectPropertySetter)(at)});var Nt=(0,T.makeStructureNS)(G,{SimpleData:function(t,e){var n=t.getAttribute("name");if(null!==n){var r=(0,c.readString)(t),i=e[e.length-1];i[n]=r}}});var Bt=(0,T.makeStructureNS)(G,{altitudeMode:(0,T.makeObjectPropertySetter)(c.readString),minAltitude:(0,T.makeObjectPropertySetter)(c.readDecimal),maxAltitude:(0,T.makeObjectPropertySetter)(c.readDecimal),north:(0,T.makeObjectPropertySetter)(c.readDecimal),south:(0,T.makeObjectPropertySetter)(c.readDecimal),east:(0,T.makeObjectPropertySetter)(c.readDecimal),west:(0,T.makeObjectPropertySetter)(c.readDecimal)});var Gt=(0,T.makeStructureNS)(G,{minLodPixels:(0,T.makeObjectPropertySetter)(c.readDecimal),maxLodPixels:(0,T.makeObjectPropertySetter)(c.readDecimal),minFadeExtent:(0,T.makeObjectPropertySetter)(c.readDecimal),maxFadeExtent:(0,T.makeObjectPropertySetter)(c.readDecimal)});var Ut=(0,T.makeStructureNS)(G,{LinearRing:(0,T.makeReplacer)(gt)});var zt=(0,T.makeStructureNS)(G,{LinearRing:(0,T.makeReplacer)(gt)});function Vt(t,e){for(var n=(0,s.asArray)(e),r=[255*(4==n.length?n[3]:1),n[2],n[1],n[0]],i=0;i<4;++i){var o=Math.floor(r[i]).toString(16);r[i]=1==o.length?"0"+o:o}(0,c.writeStringTextNode)(t,r.join(""))}var Yt=(0,T.makeStructureNS)(G,{Data:(0,T.makeChildAppender)(function(t,e,n){t.setAttribute("name",e.name);var i={node:t},o=e.value;"object"==(void 0===o?"undefined":r(o))?(null!==o&&o.displayName&&(0,T.pushSerializeAndPop)(i,Yt,T.OBJECT_PROPERTY_NODE_FACTORY,[o.displayName],n,["displayName"]),null!==o&&o.value&&(0,T.pushSerializeAndPop)(i,Yt,T.OBJECT_PROPERTY_NODE_FACTORY,[o.value],n,["value"])):(0,T.pushSerializeAndPop)(i,Yt,T.OBJECT_PROPERTY_NODE_FACTORY,[o],n,["value"])}),value:(0,T.makeChildAppender)(function(t,e){(0,c.writeStringTextNode)(t,e)}),displayName:(0,T.makeChildAppender)(function(t,e){(0,c.writeCDATASection)(t,e)})});var Wt=(0,T.makeStructureNS)(G,{Placemark:(0,T.makeChildAppender)(ve)}),Xt=function(t,e,n){var r=e[e.length-1].node;return(0,T.createElementNS)(r.namespaceURI,"Placemark")};var qt=(0,T.makeSimpleNodeFactory)("Data");var Ht=(0,T.makeStructureNS)(G,["href"],(0,T.makeStructureNS)(B,["x","y","w","h"])),$t=(0,T.makeStructureNS)(G,{href:(0,T.makeChildAppender)(c.writeStringTextNode)},(0,T.makeStructureNS)(B,{x:(0,T.makeChildAppender)(c.writeDecimalTextNode),y:(0,T.makeChildAppender)(c.writeDecimalTextNode),w:(0,T.makeChildAppender)(c.writeDecimalTextNode),h:(0,T.makeChildAppender)(c.writeDecimalTextNode)})),Kt=function(t,e,n){return(0,T.createElementNS)(B[0],"gx:"+n)};var Zt=(0,T.makeStructureNS)(G,["scale","heading","Icon","hotSpot"]),Jt=(0,T.makeStructureNS)(G,{Icon:(0,T.makeChildAppender)(function(t,e,n){var r={node:t},i=n[n.length-1].node,o=Ht[i.namespaceURI],a=(0,T.makeSequence)(e,o);(0,T.pushSerializeAndPop)(r,$t,T.OBJECT_PROPERTY_NODE_FACTORY,a,n,o),o=Ht[B[0]],a=(0,T.makeSequence)(e,o),(0,T.pushSerializeAndPop)(r,$t,Kt,a,n,o)}),heading:(0,T.makeChildAppender)(c.writeDecimalTextNode),hotSpot:(0,T.makeChildAppender)(function(t,e){t.setAttribute("x",String(e.x)),t.setAttribute("y",String(e.y)),t.setAttribute("xunits",e.xunits),t.setAttribute("yunits",e.yunits)}),scale:(0,T.makeChildAppender)(Se)});var Qt=(0,T.makeStructureNS)(G,["color","scale"]),te=(0,T.makeStructureNS)(G,{color:(0,T.makeChildAppender)(Vt),scale:(0,T.makeChildAppender)(Se)});var ee=(0,T.makeStructureNS)(G,["color","width"]),ne=(0,T.makeStructureNS)(G,{color:(0,T.makeChildAppender)(Vt),width:(0,T.makeChildAppender)(c.writeDecimalTextNode)});var re={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},ie=function(t,e,n){if(t){var r=e[e.length-1].node;return(0,T.createElementNS)(r.namespaceURI,re[t.getType()])}},oe=(0,T.makeSimpleNodeFactory)("Point"),ae=(0,T.makeSimpleNodeFactory)("LineString"),se=(0,T.makeSimpleNodeFactory)("LinearRing"),ue=(0,T.makeSimpleNodeFactory)("Polygon"),le=(0,T.makeStructureNS)(G,{LineString:(0,T.makeChildAppender)(me),Point:(0,T.makeChildAppender)(me),Polygon:(0,T.makeChildAppender)(xe),GeometryCollection:(0,T.makeChildAppender)(ce)});function ce(t,e,n){var r,i,o={node:t},s=e.getType();s==p.default.GEOMETRY_COLLECTION?(r=e.getGeometries(),i=ie):s==p.default.MULTI_POINT?(r=e.getPoints(),i=oe):s==p.default.MULTI_LINE_STRING?(r=e.getLineStrings(),i=ae):s==p.default.MULTI_POLYGON?(r=e.getPolygons(),i=ue):(0,a.assert)(!1,39),(0,T.pushSerializeAndPop)(o,le,i,r,n)}var he=(0,T.makeStructureNS)(G,{LinearRing:(0,T.makeChildAppender)(me)});function fe(t,e,n){var r={node:t};(0,T.pushSerializeAndPop)(r,he,se,[e],n)}var pe=(0,T.makeStructureNS)(G,{ExtendedData:(0,T.makeChildAppender)(function(t,e,n){for(var r={node:t},i=e.names,o=e.values,a=i.length,s=0;s<a;s++)(0,T.pushSerializeAndPop)(r,Yt,qt,[{name:i[s],value:o[s]}],n)}),MultiGeometry:(0,T.makeChildAppender)(ce),LineString:(0,T.makeChildAppender)(me),LinearRing:(0,T.makeChildAppender)(me),Point:(0,T.makeChildAppender)(me),Polygon:(0,T.makeChildAppender)(xe),Style:(0,T.makeChildAppender)(function(t,e,n){var r={node:t},i={},o=e.getFill(),a=e.getStroke(),s=e.getImage(),u=e.getText();s&&"function"==typeof s.getSrc&&(i.IconStyle=s);u&&(i.LabelStyle=u);a&&(i.LineStyle=a);o&&(i.PolyStyle=o);var l=n[n.length-1].node,c=Pe[l.namespaceURI],h=(0,T.makeSequence)(i,c);(0,T.pushSerializeAndPop)(r,Me,T.OBJECT_PROPERTY_NODE_FACTORY,h,n,c)}),address:(0,T.makeChildAppender)(c.writeStringTextNode),description:(0,T.makeChildAppender)(c.writeStringTextNode),name:(0,T.makeChildAppender)(c.writeStringTextNode),open:(0,T.makeChildAppender)(c.writeBooleanTextNode),phoneNumber:(0,T.makeChildAppender)(c.writeStringTextNode),styleUrl:(0,T.makeChildAppender)(c.writeStringTextNode),visibility:(0,T.makeChildAppender)(c.writeBooleanTextNode)}),de=(0,T.makeStructureNS)(G,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),ge=(0,T.makeSimpleNodeFactory)("ExtendedData");function ve(t,e,n){var r={node:t};e.getId()&&t.setAttribute("id",e.getId());var i=e.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[e.getGeometryName()]=1;var a=Object.keys(i||{}).sort().filter(function(t){return!o[t]}),s=e.getStyleFunction();if(s){var l=s(e,0);if(l){var c=Array.isArray(l)?l[0]:l;this.writeStyles_&&(i.Style=c);var h=c.getText();h&&(i.name=h.getText())}}var f=n[n.length-1].node,p=de[f.namespaceURI],d=(0,T.makeSequence)(i,p);if((0,T.pushSerializeAndPop)(r,pe,T.OBJECT_PROPERTY_NODE_FACTORY,d,n,p),a.length>0){var g={names:a,values:(0,T.makeSequence)(i,a)};(0,T.pushSerializeAndPop)(r,pe,ge,[g],n)}var v=n[0],y=e.getGeometry();y&&(y=(0,u.transformGeometryWithOptions)(y,!0,v)),(0,T.pushSerializeAndPop)(r,pe,ie,[y],n)}var ye=(0,T.makeStructureNS)(G,["extrude","tessellate","altitudeMode","coordinates"]),_e=(0,T.makeStructureNS)(G,{extrude:(0,T.makeChildAppender)(c.writeBooleanTextNode),tessellate:(0,T.makeChildAppender)(c.writeBooleanTextNode),altitudeMode:(0,T.makeChildAppender)(c.writeStringTextNode),coordinates:(0,T.makeChildAppender)(function(t,e,n){var r,i=n[n.length-1],o=i.layout,s=i.stride;o==f.default.XY||o==f.default.XYM?r=2:o==f.default.XYZ||o==f.default.XYZM?r=3:(0,a.assert)(!1,34);var u=e.length,l="";if(u>0){l+=e[0];for(var h=1;h<r;++h)l+=","+e[h];for(var p=s;p<u;p+=s)for(l+=" "+e[p],h=1;h<r;++h)l+=","+e[p+h]}(0,c.writeStringTextNode)(t,l)})});function me(t,e,n){var r=e.getFlatCoordinates(),i={node:t};i.layout=e.getLayout(),i.stride=e.getStride();var o=e.getProperties();o.coordinates=r;var a=n[n.length-1].node,s=ye[a.namespaceURI],u=(0,T.makeSequence)(o,s);(0,T.pushSerializeAndPop)(i,_e,T.OBJECT_PROPERTY_NODE_FACTORY,u,n,s)}var be=(0,T.makeStructureNS)(G,{outerBoundaryIs:(0,T.makeChildAppender)(fe),innerBoundaryIs:(0,T.makeChildAppender)(fe)}),we=(0,T.makeSimpleNodeFactory)("innerBoundaryIs"),Ee=(0,T.makeSimpleNodeFactory)("outerBoundaryIs");function xe(t,e,n){var r=e.getLinearRings(),i=r.shift(),o={node:t};(0,T.pushSerializeAndPop)(o,be,we,r,n),(0,T.pushSerializeAndPop)(o,be,Ee,[i],n)}var Oe=(0,T.makeStructureNS)(G,{color:(0,T.makeChildAppender)(Vt)}),Ce=(0,T.makeSimpleNodeFactory)("color");function Se(t,e){(0,c.writeDecimalTextNode)(t,Math.round(1e6*e)/1e6)}var Pe=(0,T.makeStructureNS)(G,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Me=(0,T.makeStructureNS)(G,{IconStyle:(0,T.makeChildAppender)(function(t,e,n){var r={node:t},i={},o=e.getSrc(),a=e.getSize(),s=e.getImageSize(),u={href:o};if(a){u.w=a[0],u.h=a[1];var l=e.getAnchor(),c=e.getOrigin();if(c&&s&&0!==c[0]&&c[1]!==a[1]&&(u.x=c[0],u.y=s[1]-(c[1]+a[1])),l&&(l[0]!==a[0]/2||l[1]!==a[1]/2)){var h={x:l[0],xunits:O.default.PIXELS,y:a[1]-l[1],yunits:O.default.PIXELS};i.hotSpot=h}}i.Icon=u;var f=e.getScale();1!==f&&(i.scale=f);var p=e.getRotation();0!==p&&(i.heading=p);var d=n[n.length-1].node,g=Zt[d.namespaceURI],v=(0,T.makeSequence)(i,g);(0,T.pushSerializeAndPop)(r,Jt,T.OBJECT_PROPERTY_NODE_FACTORY,v,n,g)}),LabelStyle:(0,T.makeChildAppender)(function(t,e,n){var r={node:t},i={},o=e.getFill();o&&(i.color=o.getColor());var a=e.getScale();a&&1!==a&&(i.scale=a);var s=n[n.length-1].node,u=Qt[s.namespaceURI],l=(0,T.makeSequence)(i,u);(0,T.pushSerializeAndPop)(r,te,T.OBJECT_PROPERTY_NODE_FACTORY,l,n,u)}),LineStyle:(0,T.makeChildAppender)(function(t,e,n){var r={node:t},i={color:e.getColor(),width:e.getWidth()},o=n[n.length-1].node,a=ee[o.namespaceURI],s=(0,T.makeSequence)(i,a);(0,T.pushSerializeAndPop)(r,ne,T.OBJECT_PROPERTY_NODE_FACTORY,s,n,a)}),PolyStyle:(0,T.makeChildAppender)(function(t,e,n){var r={node:t};(0,T.pushSerializeAndPop)(r,Oe,Ce,[e.getColor()],n)})});e.default=nt},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SourceServerVector=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=h(n(2)),o=h(n(810)),a=h(n(418)),s=n(3),u=h(n(36)),l=n(56),c=n(11);function h(t){return t&&t.__esModule?t:{default:t}}e.SourceServerVector=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=(0,l.copy)(t),r=(0,l.take)(t,"url"),i=(0,l.take)(t,"type")||"";n.loader=function(){return s.loader.apply(s,arguments)};var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));s.strategyType_=t.loadingStrategyType,s.localiser_=t.localiser,s.localised_=t.localised||!1,s.urlTemplate=r,s.type_=i;var u={};t.hasOwnProperty("defaultStyle")&&(u.defaultStyle=t.defaultStyle),t.hasOwnProperty("extractStyles")&&(u.extractStyles=t.extractStyles),t.hasOwnProperty("showPointNames")?u.showPointNames=t.showPointNames:u.showPointNames=!1;var c=void 0;switch(s.type_){case"KML":s.format_=new a.default(u),s.dataType_="text xml",c="EPSG:4326";break;case"GeoJSON":s.format_=new o.default(u),s.dataType_="text json",c="EPSG:4326";break;default:throw new Error(s.type_+" is not supported by SourceServerVector!")}return s.refresh_=0,t.hasOwnProperty("refresh")&&s.setRefresh(t.refresh),s.refreshTimeoutId_=null,s.doClear_=!1,s.urlProjection_=t.urlProjection||c,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),r(e,[{key:"loader",value:function(t,e,n){var r=this,o=this.urlTemplate.clone();if("BBOX"===this.strategyType_||"TILE"===this.strategyType_){var a=(0,s.transformExtent)(t,n,this.urlProjection_);o.url.includes("{bbox")&&(c.Debug.warn("The {bbox...} url parameters are deprecated, please use {minx}, {miny}, {maxx}, {maxy} instead."),o.url.replace(/{bboxleft}/g,"{minx}"),o.url.replace(/{bboxbottom}/g,"{miny}"),o.url.replace(/{bboxright}/g,"{maxx}"),o.url.replace(/{bboxtop}/g,"{maxy}")),o.expandTemplate("minx",a[0].toString()).expandTemplate("miny",a[1].toString()).expandTemplate("maxx",a[2].toString()).expandTemplate("maxy",a[3].toString()).expandTemplate("resolution",e.toString(),!1)}this.refresh_&&(this.refreshTimeoutId_&&clearTimeout(this.refreshTimeoutId_),this.refreshTimeoutId_=setTimeout(function(){r.doClear_=!0,r.loader(t,e,n)},this.refresh_)),this.localised_&&(o.cache=!1);var u=o.finalize();i.default.ajax({url:u,dataType:this.dataType_,beforeSend:function(){return r.dispatchEvent("vectorloadstart")},success:function(t){o.useProxy&&/xml$/.test(r.dataType_)&&(t=r.addProxyToHrefTags(t)),r.doClear_&&(r.clear(!0),r.doClear_=!1);var e=r.format_.readFeatures(t,{featureProjection:n});r.addFeatures(e),r.dispatchEvent("vectorloadend")},error:function(){c.Debug.error("Getting Feature resource failed with url "+u),r.dispatchEvent("vectorloaderror")},headers:this.localiser_?{"Accept-Language":this.localiser_.getCurrentLang()}:{}})}},{key:"setRefresh",value:function(t){this.refresh_=t>0?t:0}},{key:"addProxyToHrefTags",value:function(t){var e,n=t.getElementsByTagName("href"),r=void 0;for(r=0,e=n.length;r<e;r++)if(n[r].textContent)n[r].textContent=this.urlTemplate.useProxyFor(n[r].textContent.trim()).finalize();else{if(!n[r].innerHTML)throw new Error("Can't prepend proxy inside KML (textContent and innerHTML missing)");n[r].innerHTML=this.urlTemplate.useProxyFor(n[r].innerHTML.trim()).finalize()}return t}},{key:"getUrlTemplate",value:function(){return this.urlTemplate}},{key:"setUrlTemplate",value:function(t){this.urlTemplate=t}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=a(n(118)),o=a(n(203));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.getType=function(){return o.default.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(l(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(l(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return(0,r.abstract)()},e.prototype.readFeaturesFromObject=function(t,e){return(0,r.abstract)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(l(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return(0,r.abstract)()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(l(t))},e.prototype.readProjectionFromObject=function(t){return(0,r.abstract)()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return(0,r.abstract)()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return(0,r.abstract)()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return(0,r.abstract)()},e}(i.default);function l(t){if("string"==typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(817)),i=o(n(815));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.createRenderer=function(){return new i.default(this)},e}(r.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseLayerMixin=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(202);e.BaseLayerMixin=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,[{key:"initialize",value:function(t){this.groupLayer_=t.groupLayer,this.on("change:available",this.onChangeAvailable.bind(this)),this.on("change:visible",this.onChangeVisible.bind(this)),this.isBaseLayer=!0}},{key:"onChangeAvailable",value:function(){!this.get("available")&&this.getVisible()&&this.groupLayer_.recursiveForEach(function(t){t instanceof i.GroupLayer||!t.get("available")||t.setVisible(!0)})}},{key:"onChangeVisible",value:function(){var t=this;if(this.getVisible())this.groupLayer_.recursiveForEach(function(e){e instanceof i.GroupLayer||e===t||e.setVisible(!1)});else{var e=!1;this.groupLayer_.recursiveForEach(function(t){t instanceof i.GroupLayer||!t.getVisible()||(e=!0)}),e||this.setVisible(!0)}}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(166),i=l(n(173)),o=n(1),a=n(3),s=l(n(292)),u=n(41);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(e){var n=t.call(this,e)||this;return n.image_=null,n}return c(e,t),e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.prepareFrame=function(t){var e=t.layerStatesArray[t.layerIndex],n=t.pixelRatio,s=t.viewState,u=s.resolution,l=this.getLayer().getSource(),c=t.viewHints,h=t.extent;if(void 0!==e.extent&&(h=(0,o.getIntersection)(h,(0,a.fromUserExtent)(e.extent,s.projection))),!c[i.default.ANIMATING]&&!c[i.default.INTERACTING]&&!(0,o.isEmpty)(h)){var f=s.projection;if(!r.ENABLE_RASTER_REPROJECTION){var p=l.getProjection();p&&(f=p)}var d=l.getImage(h,u,n,f);d&&this.loadImage(d)&&(this.image_=d)}return!!this.image_},e.prototype.renderFrame=function(t,e){var n=this.image_,r=n.getExtent(),i=n.getResolution(),s=n.getPixelRatio(),l=t.layerStatesArray[t.layerIndex],c=t.pixelRatio,h=t.viewState,f=h.center,p=h.resolution,d=t.size,g=c*i/(p*s),v=Math.round(d[0]*c),y=Math.round(d[1]*c),_=h.rotation;if(_){var m=Math.round(Math.sqrt(v*v+y*y));v=m,y=m}(0,u.compose)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/c,1/c,_,-v/2,-y/2),(0,u.makeInverse)(this.inversePixelTransform,this.pixelTransform);var b=this.createTransformString(this.pixelTransform);this.useContainer(e,b,l.opacity);var w=this.context,E=w.canvas;E.width!=v||E.height!=y?(E.width=v,E.height=y):this.containerReused||w.clearRect(0,0,v,y);var x=!1;if(l.extent){var O=(0,a.fromUserExtent)(l.extent,h.projection);(x=!(0,o.containsExtent)(O,t.extent)&&(0,o.intersects)(O,t.extent))&&this.clipUnrotated(w,t,O)}var C=n.getImage(),S=(0,u.compose)(this.tempTransform_,v/2,y/2,g,g,0,s*(r[0]-f[0])/i,s*(f[1]-r[3])/i);this.renderedResolution=i*c/s;var P=S[4],M=S[5],T=C.width*S[0],A=C.height*S[3];if(this.preRender(w,t),T>=.5&&A>=.5){var D=l.opacity,I=void 0;1!==D&&(I=this.context.globalAlpha,this.context.globalAlpha=D),this.context.drawImage(C,0,0,+C.width,+C.height,Math.round(P),Math.round(M),Math.round(T),Math.round(A)),1!==D&&(this.context.globalAlpha=I)}return this.postRender(w,t),x&&w.restore(),b!==E.style.transform&&(E.style.transform=b),this.container},e}(s.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseLayerImage=e.ImageLayer=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(275)),i=n(274),o=n(422),a=n(6),s=n(167);var u=e.ImageLayer=(0,a.mixin)(r.default,[s.ProvideMapMixin,i.LayerLoadProcessCountMixin]);e.BaseLayerImage=(0,a.mixin)(u,o.BaseLayerMixin)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(142),i=function(){function t(){}return t.prototype.read=function(t){if(t){if("string"==typeof t){var e=(0,r.parse)(t);return this.readFromDocument(e)}return(0,r.isDocument)(t)?this.readFromDocument(t):this.readFromNode(t)}return null},t.prototype.readFromDocument=function(t){},t.prototype.readFromNode=function(t){},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readHref=function(t){return t.getAttributeNS(r,"href")};var r="http://www.w3.org/1999/xlink"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFromCapabilitiesMatrixSet=function(t,e,n){var o=[],a=[],u=[],l=[],c=[],h=void 0!==n?n:[],f=t.SupportedCRS,p=(0,i.get)(f.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||(0,i.get)(f),d=p.getMetersPerUnit(),g="ne"==p.getAxisOrientation().substr(0,2);return t.TileMatrix.sort(function(t,e){return e.ScaleDenominator-t.ScaleDenominator}),t.TileMatrix.forEach(function(e){if(!(h.length>0)||(0,r.find)(h,function(n){return e.Identifier==n.TileMatrix||-1===e.Identifier.indexOf(":")&&t.Identifier+":"+e.Identifier===n.TileMatrix})){a.push(e.Identifier);var n=28e-5*e.ScaleDenominator/d,i=e.TileWidth,s=e.TileHeight;g?u.push([e.TopLeftCorner[1],e.TopLeftCorner[0]]):u.push(e.TopLeftCorner),o.push(n),l.push(i==s?i:[i,s]),c.push([e.MatrixWidth,e.MatrixHeight])}}),new s({extent:e,origins:u,resolutions:o,matrixIds:a,tileSizes:l,sizes:c})};var r=n(17),i=n(3),o=function(t){return t&&t.__esModule?t:{default:t}}(n(165));var a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e){var n=t.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes})||this;return n.matrixIds_=e.matrixIds,n}return a(e,t),e.prototype.getMatrixId=function(t){return this.matrixIds_[t]},e.prototype.getMatrixIds=function(){return this.matrixIds_},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quadKey=p;var r=n(143),i=n(1),o=n(280),a=n(3),s=h(n(69)),u=h(n(84)),l=n(55),c=n(97);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function p(t){var e,n,r=t[0],i=new Array(r),o=1<<r-1;for(e=0;e<r;++e)n=48,t[1]&o&&(n+=1),t[2]&o&&(n+=2),i[e]=String.fromCharCode(n),o>>=1;return i.join("")}var d=function(t){function e(e){var n=this,r=void 0!==e.hidpi&&e.hidpi;(n=t.call(this,{cacheSize:e.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:(0,a.get)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:s.default.LOADING,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:r?2:1,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition})||this).hidpi_=r,n.culture_=void 0!==e.culture?e.culture:"en-us",n.maxZoom_=void 0!==e.maxZoom?e.maxZoom:-1,n.apiKey_=e.key,n.imagerySet_=e.imagerySet;var i="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+n.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+n.apiKey_+"&c="+n.culture_;return(0,o.jsonp)(i,n.handleImageryMetadataResponse.bind(n),void 0,"jsonp"),n}return f(e,t),e.prototype.getApiKey=function(){return this.apiKey_},e.prototype.getImagerySet=function(){return this.imagerySet_},e.prototype.handleImageryMetadataResponse=function(t){if(200==t.statusCode&&"OK"==t.statusDescription&&"ValidCredentials"==t.authenticationResultCode&&1==t.resourceSets.length&&1==t.resourceSets[0].resources.length){var e=t.resourceSets[0].resources[0],n=-1==this.maxZoom_?e.zoomMax:this.maxZoom_,o=this.getProjection(),u=(0,c.extentFromProjection)(o),h=this.hidpi_?2:1,f=e.imageWidth==e.imageHeight?e.imageWidth/h:[e.imageWidth/h,e.imageHeight/h],d=(0,c.createXYZ)({extent:u,minZoom:e.zoomMin,maxZoom:n,tileSize:f});this.tileGrid=d;var g=this.culture_,v=this.hidpi_;if(this.tileUrlFunction=(0,r.createFromTileUrlFunctions)(e.imageUrlSubdomains.map(function(t){var n=[0,0,0],r=e.imageUrl.replace("{subdomain}",t).replace("{culture}",g);return function(t,e,i){if(t){(0,l.createOrUpdate)(t[0],t[1],t[2],n);var o=r;return v&&(o+="&dpi=d1&device=mobile"),o.replace("{quadkey}",p(n))}}})),e.imageryProviders){var y=(0,a.getTransformFromProjections)((0,a.get)("EPSG:4326"),this.getProjection());this.setAttributions(function(t){var n=[],r=t.viewState,o=this.getTileGrid(),a=o.getZForResolution(r.resolution,this.zDirection),s=o.getTileCoordForCoordAndZ(r.center,a)[0];return e.imageryProviders.map(function(e){for(var r=!1,o=e.coverageAreas,a=0,u=o.length;a<u;++a){var l=o[a];if(s>=l.zoomMin&&s<=l.zoomMax){var c=l.bbox,h=[c[1],c[0],c[3],c[2]],f=(0,i.applyTransform)(h,y);if((0,i.intersects)(f,t.extent)){r=!0;break}}}r&&n.push(e.attribution)}),n.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>'),n}.bind(this))}this.setState(s.default.READY)}else this.setState(s.default.ERROR)},e}(u.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(281),i=function(t){return t&&t.__esModule?t:{default:t}}(n(144));var o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=['Map tiles by <a href="https://stamen.com/" target="_blank">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC BY 3.0</a>.',r.ATTRIBUTION],s={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},u={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}},l=function(t){function e(e){var n=e.layer.indexOf("-"),r=-1==n?e.layer:e.layer.slice(0,n),i=u[r],o=s[e.layer],l=void 0!==e.url?e.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+e.layer+"/{z}/{x}/{y}."+o.extension;return t.call(this,{attributions:a,cacheSize:e.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=e.maxZoom?e.maxZoom:i.maxZoom,minZoom:void 0!=e.minZoom?e.minZoom:i.minZoom,opaque:o.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:l,wrapX:e.wrapX})||this}return o(e,t),e}(i.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(14),o=n(3),a=10,s=function(){function t(t,e,n,i,s){this.sourceProj_=t,this.targetProj_=e;var u={},l=(0,o.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return u[e]||(u[e]=l(t)),u[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&(0,r.getWidth)(i)==(0,r.getWidth)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,r.getWidth)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,r.getWidth)(this.targetProj_.getExtent()):null;var c=(0,r.getTopLeft)(n),h=(0,r.getTopRight)(n),f=(0,r.getBottomRight)(n),p=(0,r.getBottomLeft)(n),d=this.transformInv_(c),g=this.transformInv_(h),v=this.transformInv_(f),y=this.transformInv_(p);if(this.addQuad_(c,h,f,p,d,g,v,y,a),this.wrapsXInSource_){var _=1/0;this.triangles_.forEach(function(t,e,n){_=Math.min(_,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-_>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-_>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-_>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-_>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}u={}}return t.prototype.addTriangle_=function(t,e,n,r,i,o){this.triangles_.push({source:[r,i,o],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,o,a,s,u,l,c){var h=(0,r.boundingExtent)([a,s,u,l]),f=this.sourceWorldWidth_?(0,r.getWidth)(h)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&f>.5&&f<1,g=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var v=(0,r.boundingExtent)([t,e,n,o]);g=(0,r.getWidth)(v)/this.targetWorldWidth_>.25||g}!d&&this.sourceProj_.isGlobal()&&f&&(g=f>.25||g)}if(g||!this.maxSourceExtent_||(0,r.intersects)(h,this.maxSourceExtent_)){if(!(g||isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(u[0])&&isFinite(u[1])&&isFinite(l[0])&&isFinite(l[1]))){if(!(c>0))return;g=!0}if(c>0){if(!g){var y=[(t[0]+n[0])/2,(t[1]+n[1])/2],_=this.transformInv_(y),m=void 0;if(d)m=((0,i.modulo)(a[0],p)+(0,i.modulo)(u[0],p))/2-(0,i.modulo)(_[0],p);else m=(a[0]+u[0])/2-_[0];var b=(a[1]+u[1])/2-_[1];g=m*m+b*b>this.errorThresholdSquared_}if(g){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var w=[(e[0]+n[0])/2,(e[1]+n[1])/2],E=this.transformInv_(w),x=[(o[0]+t[0])/2,(o[1]+t[1])/2],O=this.transformInv_(x);this.addQuad_(t,e,w,x,a,s,E,O,c-1),this.addQuad_(x,w,n,o,O,E,u,l,c-1)}else{var C=[(t[0]+e[0])/2,(t[1]+e[1])/2],S=this.transformInv_(C),P=[(n[0]+o[0])/2,(n[1]+o[1])/2],M=this.transformInv_(P);this.addQuad_(t,C,P,o,a,S,M,l,c-1),this.addQuad_(C,e,n,P,S,s,u,M,c-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,o,a,u,l),this.addTriangle_(t,e,n,a,s,u)}},t.prototype.calculateSourceExtent=function(){var t=(0,r.createEmpty)();return this.triangles_.forEach(function(e,n,i){var o=e.source;(0,r.extendCoordinate)(t,o[0]),(0,r.extendCoordinate)(t,o[1]),(0,r.extendCoordinate)(t,o[2])}),t},t.prototype.getTriangles=function(){return this.triangles_},t}();e.default=s},function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(t){return(t=Math.round(t))<0?0:t>255?255:t}function i(t){return t<0?0:t>1?1:t}function o(t){return"%"===t[t.length-1]?r(parseFloat(t)/100*255):r(parseInt(t))}function a(t){return"%"===t[t.length-1]?i(parseFloat(t)/100):i(parseFloat(t))}function s(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,i=t.replace(/ /g,"").toLowerCase();if(i in n)return n[i].slice();if("#"===i[0])return 4===i.length?(e=parseInt(i.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===i.length&&(e=parseInt(i.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var u=i.indexOf("("),l=i.indexOf(")");if(-1!==u&&l+1===i.length){var c=i.substr(0,u),h=i.substr(u+1,l-(u+1)).split(","),f=1;switch(c){case"rgba":if(4!==h.length)return null;f=a(h.pop());case"rgb":return 3!==h.length?null:[o(h[0]),o(h[1]),o(h[2]),f];case"hsla":if(4!==h.length)return null;f=a(h.pop());case"hsl":if(3!==h.length)return null;var p=(parseFloat(h[0])%360+360)%360/360,d=a(h[1]),g=a(h[2]),v=g<=.5?g*(d+1):g+d-g*d,y=2*g-v;return[r(255*s(y,v,p+1/3)),r(255*s(y,v,p)),r(255*s(y,v,p-1/3)),f];default:return null}}return null}}catch(t){}},function(t,e,n){t.exports=function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var e=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),n=t(function(t){var e=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=e)}),r=(n.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),i=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t},o=function(t){try{return!!t()}catch(t){return!0}},a=!o(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),s=e.document,u=r(s)&&r(s.createElement),l=!a&&!o(function(){return 7!=Object.defineProperty(function(t){return u?s.createElement(t):{}}("div"),"a",{get:function(){return 7}}).a}),c=Object.defineProperty,h={f:a?Object.defineProperty:function(t,e,n){if(i(t),e=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}(e,!0),i(n),l)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},f=a?function(t,e,n){return h.f(t,e,function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}(1,n))}:function(t,e,n){return t[e]=n,t},p={}.hasOwnProperty,d=function(t,e){return p.call(t,e)},g=0,v=Math.random(),y=t(function(t){var r=e["__core-js_shared__"]||(e["__core-js_shared__"]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})})("native-function-to-string",Function.toString),_=t(function(t){var r=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++g+v).toString(36))}("src"),i=(""+y).split("toString");n.inspectSource=function(t){return y.call(t)},(t.exports=function(t,n,o,a){var s="function"==typeof o;s&&(d(o,"name")||f(o,"name",n)),t[n]!==o&&(s&&(d(o,r)||f(o,r,t[n]?""+t[n]:i.join(String(n)))),t===e?t[n]=o:a?t[n]?t[n]=o:f(t,n,o):(delete t[n],f(t,n,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[r]||y.call(this)})}),m=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},b=function(t,r,i){var o,a,s,u,l=t&b.F,c=t&b.G,h=t&b.S,p=t&b.P,d=t&b.B,g=c?e:h?e[r]||(e[r]={}):(e[r]||{}).prototype,v=c?n:n[r]||(n[r]={}),y=v.prototype||(v.prototype={});for(o in c&&(i=r),i)a=!l&&g&&void 0!==g[o],s=(a?g:i)[o],u=d&&a?m(s,e):p&&"function"==typeof s?m(Function.call,s):s,g&&_(g,o,s,t&b.U),v[o]!=s&&f(v,o,u),p&&y[o]!=s&&(y[o]=s)};e.core=n,b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,b.U=64,b.R=128;var w=b,E=Math.ceil,x=Math.floor,O=function(t){return isNaN(t=+t)?0:(t>0?x:E)(t)},C=function(t){return function(e,n){var r,i,o=String(function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}(e)),a=O(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}}(!1);w(w.P,"String",{codePointAt:function(t){return C(this,t)}}),n.String.codePointAt;var S=Math.max,P=Math.min,M=function(t,e){return(t=O(t))<0?S(t+e,0):P(t,e)},T=String.fromCharCode,A=String.fromCodePoint;w(w.S+w.F*(!!A&&1!=A.length),"String",{fromCodePoint:function(t){for(var e,n=arguments,r=[],i=arguments.length,o=0;i>o;){if(e=+n[o++],M(e,1114111)!==e)throw RangeError(e+" is not a valid code point");r.push(e<65536?T(e):T(55296+((e-=65536)>>10),e%1024+56320))}return r.join("")}}),n.String.fromCodePoint;var D,I,L,F,k,R,j,N,B,G,U,z,V,Y,W={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},X={isSpaceSeparator:function(t){return W.Space_Separator.test(t)},isIdStartChar:function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||"$"===t||"_"===t||W.ID_Start.test(t)},isIdContinueChar:function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||"$"===t||"_"===t||""===t||""===t||W.ID_Continue.test(t)},isDigit:function(t){return/[0-9]/.test(t)},isHexDigit:function(t){return/[0-9A-Fa-f]/.test(t)}};function q(){for(G="default",U="",z=!1,V=1;;){Y=H();var t=K[G]();if(t)return t}}function H(){if(D[F])return String.fromCodePoint(D.codePointAt(F))}function $(){var t=H();return"\n"===t?(k++,R=0):t?R+=t.length:R++,t&&(F+=t.length),t}var K={default:function(){switch(Y){case"\t":case"\v":case"\f":case" ":case"":case"\ufeff":case"\n":case"\r":case"\u2028":case"\u2029":return void $();case"/":return $(),void(G="comment");case void 0:return $(),Z("eof")}if(!X.isSpaceSeparator(Y))return K[I]();$()},comment:function(){switch(Y){case"*":return $(),void(G="multiLineComment");case"/":return $(),void(G="singleLineComment")}throw rt($())},multiLineComment:function(){switch(Y){case"*":return $(),void(G="multiLineCommentAsterisk");case void 0:throw rt($())}$()},multiLineCommentAsterisk:function(){switch(Y){case"*":return void $();case"/":return $(),void(G="default");case void 0:throw rt($())}$(),G="multiLineComment"},singleLineComment:function(){switch(Y){case"\n":case"\r":case"\u2028":case"\u2029":return $(),void(G="default");case void 0:return $(),Z("eof")}$()},value:function(){switch(Y){case"{":case"[":return Z("punctuator",$());case"n":return $(),J("ull"),Z("null",null);case"t":return $(),J("rue"),Z("boolean",!0);case"f":return $(),J("alse"),Z("boolean",!1);case"-":case"+":return"-"===$()&&(V=-1),void(G="sign");case".":return U=$(),void(G="decimalPointLeading");case"0":return U=$(),void(G="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return U=$(),void(G="decimalInteger");case"I":return $(),J("nfinity"),Z("numeric",1/0);case"N":return $(),J("aN"),Z("numeric",NaN);case'"':case"'":return z='"'===$(),U="",void(G="string")}throw rt($())},identifierNameStartEscape:function(){if("u"!==Y)throw rt($());$();var t=Q();switch(t){case"$":case"_":break;default:if(!X.isIdStartChar(t))throw ot()}U+=t,G="identifierName"},identifierName:function(){switch(Y){case"$":case"_":case"":case"":return void(U+=$());case"\\":return $(),void(G="identifierNameEscape")}if(!X.isIdContinueChar(Y))return Z("identifier",U);U+=$()},identifierNameEscape:function(){if("u"!==Y)throw rt($());$();var t=Q();switch(t){case"$":case"_":case"":case"":break;default:if(!X.isIdContinueChar(t))throw ot()}U+=t,G="identifierName"},sign:function(){switch(Y){case".":return U=$(),void(G="decimalPointLeading");case"0":return U=$(),void(G="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return U=$(),void(G="decimalInteger");case"I":return $(),J("nfinity"),Z("numeric",V*(1/0));case"N":return $(),J("aN"),Z("numeric",NaN)}throw rt($())},zero:function(){switch(Y){case".":return U+=$(),void(G="decimalPoint");case"e":case"E":return U+=$(),void(G="decimalExponent");case"x":case"X":return U+=$(),void(G="hexadecimal")}return Z("numeric",0*V)},decimalInteger:function(){switch(Y){case".":return U+=$(),void(G="decimalPoint");case"e":case"E":return U+=$(),void(G="decimalExponent")}if(!X.isDigit(Y))return Z("numeric",V*Number(U));U+=$()},decimalPointLeading:function(){if(X.isDigit(Y))return U+=$(),void(G="decimalFraction");throw rt($())},decimalPoint:function(){switch(Y){case"e":case"E":return U+=$(),void(G="decimalExponent")}return X.isDigit(Y)?(U+=$(),void(G="decimalFraction")):Z("numeric",V*Number(U))},decimalFraction:function(){switch(Y){case"e":case"E":return U+=$(),void(G="decimalExponent")}if(!X.isDigit(Y))return Z("numeric",V*Number(U));U+=$()},decimalExponent:function(){switch(Y){case"+":case"-":return U+=$(),void(G="decimalExponentSign")}if(X.isDigit(Y))return U+=$(),void(G="decimalExponentInteger");throw rt($())},decimalExponentSign:function(){if(X.isDigit(Y))return U+=$(),void(G="decimalExponentInteger");throw rt($())},decimalExponentInteger:function(){if(!X.isDigit(Y))return Z("numeric",V*Number(U));U+=$()},hexadecimal:function(){if(X.isHexDigit(Y))return U+=$(),void(G="hexadecimalInteger");throw rt($())},hexadecimalInteger:function(){if(!X.isHexDigit(Y))return Z("numeric",V*Number(U));U+=$()},string:function(){switch(Y){case"\\":return $(),void(U+=function(){switch(H()){case"b":return $(),"\b";case"f":return $(),"\f";case"n":return $(),"\n";case"r":return $(),"\r";case"t":return $(),"\t";case"v":return $(),"\v";case"0":if($(),X.isDigit(H()))throw rt($());return"\0";case"x":return $(),function(){var t="",e=H();if(!X.isHexDigit(e))throw rt($());if(t+=$(),e=H(),!X.isHexDigit(e))throw rt($());return t+=$(),String.fromCodePoint(parseInt(t,16))}();case"u":return $(),Q();case"\n":case"\u2028":case"\u2029":return $(),"";case"\r":return $(),"\n"===H()&&$(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw rt($())}return $()}());case'"':return z?($(),Z("string",U)):void(U+=$());case"'":return z?void(U+=$()):($(),Z("string",U));case"\n":case"\r":throw rt($());case"\u2028":case"\u2029":!function(t){console.warn("JSON5: '"+at(t)+"' in strings is not valid ECMAScript; consider escaping")}(Y);break;case void 0:throw rt($())}U+=$()},start:function(){switch(Y){case"{":case"[":return Z("punctuator",$())}G="value"},beforePropertyName:function(){switch(Y){case"$":case"_":return U=$(),void(G="identifierName");case"\\":return $(),void(G="identifierNameStartEscape");case"}":return Z("punctuator",$());case'"':case"'":return z='"'===$(),void(G="string")}if(X.isIdStartChar(Y))return U+=$(),void(G="identifierName");throw rt($())},afterPropertyName:function(){if(":"===Y)return Z("punctuator",$());throw rt($())},beforePropertyValue:function(){G="value"},afterPropertyValue:function(){switch(Y){case",":case"}":return Z("punctuator",$())}throw rt($())},beforeArrayValue:function(){if("]"===Y)return Z("punctuator",$());G="value"},afterArrayValue:function(){switch(Y){case",":case"]":return Z("punctuator",$())}throw rt($())},end:function(){throw rt($())}};function Z(t,e){return{type:t,value:e,line:k,column:R}}function J(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e],i=H();if(i!==r)throw rt($());$()}}function Q(){for(var t="",e=4;e-- >0;){var n=H();if(!X.isHexDigit(n))throw rt($());t+=$()}return String.fromCodePoint(parseInt(t,16))}var tt={start:function(){if("eof"===j.type)throw it();et()},beforePropertyName:function(){switch(j.type){case"identifier":case"string":return N=j.value,void(I="afterPropertyName");case"punctuator":return void nt();case"eof":throw it()}},afterPropertyName:function(){if("eof"===j.type)throw it();I="beforePropertyValue"},beforePropertyValue:function(){if("eof"===j.type)throw it();et()},beforeArrayValue:function(){if("eof"===j.type)throw it();"punctuator"!==j.type||"]"!==j.value?et():nt()},afterPropertyValue:function(){if("eof"===j.type)throw it();switch(j.value){case",":return void(I="beforePropertyName");case"}":nt()}},afterArrayValue:function(){if("eof"===j.type)throw it();switch(j.value){case",":return void(I="beforeArrayValue");case"]":nt()}},end:function(){}};function et(){var t;switch(j.type){case"punctuator":switch(j.value){case"{":t={};break;case"[":t=[]}break;case"null":case"boolean":case"numeric":case"string":t=j.value}if(void 0===B)B=t;else{var e=L[L.length-1];Array.isArray(e)?e.push(t):e[N]=t}if(null!==t&&"object"==typeof t)L.push(t),I=Array.isArray(t)?"beforeArrayValue":"beforePropertyName";else{var n=L[L.length-1];I=null==n?"end":Array.isArray(n)?"afterArrayValue":"afterPropertyValue"}}function nt(){L.pop();var t=L[L.length-1];I=null==t?"end":Array.isArray(t)?"afterArrayValue":"afterPropertyValue"}function rt(t){return st(void 0===t?"JSON5: invalid end of input at "+k+":"+R:"JSON5: invalid character '"+at(t)+"' at "+k+":"+R)}function it(){return st("JSON5: invalid end of input at "+k+":"+R)}function ot(){return st("JSON5: invalid identifier character at "+k+":"+(R-=5))}function at(t){var e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[t])return e[t];if(t<" "){var n=t.charCodeAt(0).toString(16);return"\\x"+("00"+n).substring(n.length)}return t}function st(t){var e=new SyntaxError(t);return e.lineNumber=k,e.columnNumber=R,e}return{parse:function(t,e){D=String(t),I="start",L=[],F=0,k=1,R=0,j=void 0,N=void 0,B=void 0;do{j=q(),tt[I]()}while("eof"!==j.type);return"function"==typeof e?function t(e,n,r){var i=e[n];if(null!=i&&"object"==typeof i)for(var o in i){var a=t(i,o,r);void 0===a?delete i[o]:i[o]=a}return r.call(e,n,i)}({"":B},"",e):B},stringify:function(t,e,n){var r,i,o,a=[],s="",u="";if(null==e||"object"!=typeof e||Array.isArray(e)||(n=e.space,o=e.quote,e=e.replacer),"function"==typeof e)i=e;else if(Array.isArray(e)){r=[];for(var l=0,c=e;l<c.length;l+=1){var h=c[l],f=void 0;"string"==typeof h?f=h:("number"==typeof h||h instanceof String||h instanceof Number)&&(f=String(h)),void 0!==f&&r.indexOf(f)<0&&r.push(f)}}return n instanceof Number?n=Number(n):n instanceof String&&(n=String(n)),"number"==typeof n?n>0&&(n=Math.min(10,Math.floor(n)),u="          ".substr(0,n)):"string"==typeof n&&(u=n.substr(0,10)),p("",{"":t});function p(t,e){var n=e[t];switch(null!=n&&("function"==typeof n.toJSON5?n=n.toJSON5(t):"function"==typeof n.toJSON&&(n=n.toJSON(t))),i&&(n=i.call(e,t,n)),n instanceof Number?n=Number(n):n instanceof String?n=String(n):n instanceof Boolean&&(n=n.valueOf()),n){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof n?d(n):"number"==typeof n?String(n):"object"==typeof n?Array.isArray(n)?function(t){if(a.indexOf(t)>=0)throw TypeError("Converting circular structure to JSON5");a.push(t);var e=s;s+=u;for(var n,r=[],i=0;i<t.length;i++){var o=p(String(i),t);r.push(void 0!==o?o:"null")}if(0===r.length)n="[]";else if(""===u){var l=r.join(",");n="["+l+"]"}else{var c=",\n"+s,h=r.join(c);n="[\n"+s+h+",\n"+e+"]"}return a.pop(),s=e,n}(n):function(t){if(a.indexOf(t)>=0)throw TypeError("Converting circular structure to JSON5");a.push(t);var e=s;s+=u;for(var n,i,o=[],l=0,c=r||Object.keys(t);l<c.length;l+=1){var h=c[l],f=p(h,t);if(void 0!==f){var d=g(h)+":";""!==u&&(d+=" "),d+=f,o.push(d)}}if(0===o.length)n="{}";else if(""===u)i=o.join(","),n="{"+i+"}";else{var v=",\n"+s;i=o.join(v),n="{\n"+s+i+",\n"+e+"}"}return a.pop(),s=e,n}(n):void 0}function d(t){for(var e={"'":.1,'"':.2},n={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},r="",i=0;i<t.length;i++){var a=t[i];switch(a){case"'":case'"':e[a]++,r+=a;continue;case"\0":if(X.isDigit(t[i+1])){r+="\\x00";continue}}if(n[a])r+=n[a];else if(a<" "){var s=a.charCodeAt(0).toString(16);r+="\\x"+("00"+s).substring(s.length)}else r+=a}var u=o||Object.keys(e).reduce(function(t,n){return e[t]<e[n]?t:n});return r=r.replace(new RegExp(u,"g"),n[u]),u+r+u}function g(t){if(0===t.length)return d(t);var e=String.fromCodePoint(t.codePointAt(0));if(!X.isIdStartChar(e))return d(t);for(var n=e.length;n<t.length;n++)if(!X.isIdContinueChar(String.fromCodePoint(t.codePointAt(n))))return d(t);return t}}}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TranslateEvent=void 0;var r=c(n(46)),i=n(21),o=c(n(37)),a=n(34),s=n(17),u=c(n(57)),l=c(n(294));function c(t){return t&&t.__esModule?t:{default:t}}var h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f="translatestart",p="translating",d="translateend",g=function(t){function e(e,n,r,i,o){var a=t.call(this,e)||this;return a.features=n,a.coordinate=r,a.startCoordinate=i,a.mapBrowserEvent=o,a}return h(e,t),e}(o.default);e.TranslateEvent=g;var v=function(t){function e(e){var n,r=this,o=e||{};if((r=t.call(this,o)||this).lastCoordinate_=null,r.startCoordinate_=null,r.features_=void 0!==o.features?o.features:null,o.layers)if("function"==typeof o.layers)n=o.layers;else{var u=o.layers;n=function(t){return(0,s.includes)(u,t)}}else n=a.TRUE;return r.layerFilter_=n,r.filter_=o.filter?o.filter:a.TRUE,r.hitTolerance_=o.hitTolerance?o.hitTolerance:0,r.lastFeature_=null,r.addEventListener((0,i.getChangeEventType)(l.default.ACTIVE),r.handleActiveChanged_),r}return h(e,t),e.prototype.handleDownEvent=function(t){if(this.lastFeature_=this.featuresAtPixel_(t.pixel,t.map),!this.lastCoordinate_&&this.lastFeature_){this.startCoordinate_=t.coordinate,this.lastCoordinate_=t.coordinate,this.handleMoveEvent(t);var e=this.features_||new r.default([this.lastFeature_]);return this.dispatchEvent(new g(f,e,t.coordinate,this.startCoordinate_,t)),!0}return!1},e.prototype.handleUpEvent=function(t){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(t);var e=this.features_||new r.default([this.lastFeature_]);return this.dispatchEvent(new g(d,e,t.coordinate,this.startCoordinate_,t)),this.startCoordinate_=null,!0}return!1},e.prototype.handleDragEvent=function(t){if(this.lastCoordinate_){var e=t.coordinate,n=e[0]-this.lastCoordinate_[0],i=e[1]-this.lastCoordinate_[1],o=this.features_||new r.default([this.lastFeature_]);o.forEach(function(t){var e=t.getGeometry();e.translate(n,i),t.setGeometry(e)}),this.lastCoordinate_=e,this.dispatchEvent(new g(p,o,e,this.startCoordinate_,t))}},e.prototype.handleMoveEvent=function(t){var e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")},e.prototype.featuresAtPixel_=function(t,e){return e.forEachFeatureAtPixel(t,function(t,e){if(this.filter_(t,e)&&(!this.features_||(0,s.includes)(this.features_.getArray(),t)))return t}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var n=this.getMap();t.prototype.setMap.call(this,e),this.updateState_(n)},e.prototype.handleActiveChanged_=function(){this.updateState_(null)},e.prototype.updateState_=function(t){var e=this.getMap(),n=this.getActive();e&&n||(e=e||t)&&e.getViewport().classList.remove("ol-grab","ol-grabbing")},e}(u.default);e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(34),i=n(57),o=function(t){return t&&t.__esModule?t:{default:t}}(i);var a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e){var n=this,i=e||{},o=i;return o.stopDown||(o.stopDown=r.FALSE),(n=t.call(this,o)||this).anchor_=null,n.duration_=void 0!==i.duration?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return a(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],r=this.targetPointers[1],o=n.clientX-r.clientX,a=n.clientY-r.clientY,s=Math.sqrt(o*o+a*a);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var u=t.map,l=u.getView();1!=e&&(this.lastScaleDelta_=e);var c=u.getViewport().getBoundingClientRect(),h=(0,i.centroid)(this.targetPointers);h[0]-=c.left,h[1]-=c.top,this.anchor_=u.getCoordinateFromPixelInternal(h),u.render(),l.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(34),i=n(57),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=n(298);var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e){var n=this,i=e||{},o=i;return o.stopDown||(o.stopDown=r.FALSE),(n=t.call(this,o)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==i.threshold?i.threshold:.3,n.duration_=void 0!==i.duration?i.duration:250,n}return s(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){var s=o-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=s}this.lastAngle_=o;var u=t.map,l=u.getView();if(l.getConstraints().rotation!==a.disable){var c=u.getViewport().getBoundingClientRect(),h=(0,i.centroid)(this.targetPointers);h[0]-=c.left,h[1]-=c.top,this.anchor_=u.getCoordinateFromPixelInternal(h),this.rotating_&&(u.render(),l.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mode=void 0;var r=n(58),i=l(n(4)),o=n(123),a=n(86),s=l(a),u=n(14);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=e.Mode={TRACKPAD:"trackpad",WHEEL:"wheel"},f=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,i)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,n.duration_=void 0!==i.duration?i.duration:250,n.timeout_=void 0!==i.timeout?i.timeout:80,n.useAnchor_=void 0===i.useAnchor||i.useAnchor,n.condition_=i.condition?i.condition:r.always,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.trackpadDeltaPerZoom_=300,n}return c(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,Math.sign(this.lastDelta_),this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==i.default.WHEEL)return!0;t.preventDefault();var e,n=t.map,r=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==i.default.WHEEL&&(e=r.deltaY,o.FIREFOX&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=o.DEVICE_PIXEL_RATIO),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var a=Date.now();if(void 0===this.startTime_&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?h.TRACKPAD:h.WHEEL),this.mode_===h.TRACKPAD){var s=n.getView();return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):s.beginInteraction(),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.trackpadEventGap_),s.adjustZoom(-e/this.trackpadDeltaPerZoom_,this.lastAnchor_),this.startTime_=a,!1}this.totalDelta_+=e;var u=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),u),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=(0,u.clamp)(this.totalDelta_,-this.maxDelta_,this.maxDelta_);(0,a.zoomByDelta)(e,-n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(s.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(4)),i=n(58),o=n(86),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e){var n=t.call(this,{handleEvent:c})||this,r=e||{};return n.condition_=r.condition?r.condition:i.targetNotEditable,n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:100,n}return u(e,t),e}(a.default);function c(t){var e=!1;if(t.type==r.default.KEYDOWN||t.type==r.default.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var i=t.map,a=n=="+".charCodeAt(0)?this.delta_:-this.delta_,s=i.getView();(0,o.zoomByDelta)(s,a,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(78),i=l(n(4)),o=l(n(836)),a=n(58),s=n(86),u=l(s);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(e){var n=t.call(this,{handleEvent:f})||this,r=e||{};return n.defaultCondition_=function(t){return(0,a.noModifierKeys)(t)&&(0,a.targetNotEditable)(t)},n.condition_=void 0!==r.condition?r.condition:n.defaultCondition_,n.duration_=void 0!==r.duration?r.duration:100,n.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128,n}return c(e,t),e}(u.default);function f(t){var e=!1;if(t.type==i.default.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==o.default.DOWN||n==o.default.LEFT||n==o.default.RIGHT||n==o.default.UP)){var a=t.map.getView(),u=a.getResolution()*this.pixelDelta_,l=0,c=0;n==o.default.DOWN?c=-u:n==o.default.LEFT?l=-u:n==o.default.RIGHT?l=u:c=u;var h=[l,c];(0,r.rotate)(h,a.getRotation()),(0,s.pan)(a,h,this.duration_),t.preventDefault(),e=!0}}return!e}e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=v(n(33)),i=v(n(102)),o=n(78),a=v(n(37)),s=n(1),u=v(n(20)),l=v(n(28)),c=n(32),h=v(n(57)),f=v(n(85)),p=v(n(36)),d=n(65),g=n(3);function v(t){return t&&t.__esModule?t:{default:t}}var y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_={EXTENTCHANGED:"extentchanged"},m=function(t){function e(e){var n=t.call(this,_.EXTENTCHANGED)||this;return n.extent=e,n}return y(e,t),e}(a.default),b=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,r)||this).extent_=null,n.pointerHandler_=null,n.pixelTolerance_=void 0!==r.pixelTolerance?r.pixelTolerance:10,n.snappedToVertex_=!1,n.extentFeature_=null,n.vertexFeature_=null,e||(e={}),n.extentOverlay_=new f.default({source:new p.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:function(){var t=(0,d.createEditingStyle)();return function(e,n){return t[u.default.POLYGON]}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),n.vertexOverlay_=new f.default({source:new p.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:function(){var t=(0,d.createEditingStyle)();return function(e,n){return t[u.default.POINT]}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&n.setExtent(e.extent),n}return y(e,t),e.prototype.snapToVertex_=function(t,e){var n=e.getCoordinateFromPixelInternal(t),r=this.getExtentInternal();if(r){var i=function(t){return[[[t[0],t[1]],[t[0],t[3]]],[[t[0],t[3]],[t[2],t[3]]],[[t[2],t[3]],[t[2],t[1]]],[[t[2],t[1]],[t[0],t[1]]]]}(r);i.sort(function(t,e){return(0,o.squaredDistanceToSegment)(n,t)-(0,o.squaredDistanceToSegment)(n,e)});var a=i[0],s=(0,o.closestOnSegment)(n,a),u=e.getPixelFromCoordinateInternal(s);if((0,o.distance)(t,u)<=this.pixelTolerance_){var l=e.getPixelFromCoordinateInternal(a[0]),c=e.getPixelFromCoordinateInternal(a[1]),h=(0,o.squaredDistance)(u,l),f=(0,o.squaredDistance)(u,c),p=Math.sqrt(Math.min(h,f));return this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(s=h>f?a[1]:a[0]),s}}return null},e.prototype.handlePointerMove_=function(t){var e=t.pixel,n=t.map,r=this.snapToVertex_(e,n);r||(r=n.getCoordinateFromPixelInternal(e)),this.createOrUpdatePointerFeature_(r)},e.prototype.createOrUpdateExtentFeature_=function(t){var e=this.extentFeature_;return e?t?e.setGeometry((0,c.fromExtent)(t)):e.setGeometry(void 0):(e=t?new r.default((0,c.fromExtent)(t)):new r.default({}),this.extentFeature_=e,this.extentOverlay_.getSource().addFeature(e)),e},e.prototype.createOrUpdatePointerFeature_=function(t){var e=this.vertexFeature_;e?e.getGeometry().setCoordinates(t):(e=new r.default(new l.default(t)),this.vertexFeature_=e,this.vertexOverlay_.getSource().addFeature(e));return e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(e.type!=i.default.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),t.prototype.handleEvent.call(this,e),!1)},e.prototype.handleDownEvent=function(t){var e=t.pixel,n=t.map,r=this.getExtentInternal(),i=this.snapToVertex_(e,n),o=function(t){var e=null,n=null;return t[0]==r[0]?e=r[2]:t[0]==r[2]&&(e=r[0]),t[1]==r[1]?n=r[3]:t[1]==r[3]&&(n=r[1]),null!==e&&null!==n?[e,n]:null};if(i&&r){var a=i[0]==r[0]||i[0]==r[2]?i[0]:null,s=i[1]==r[1]||i[1]==r[3]?i[1]:null;null!==a&&null!==s?this.pointerHandler_=w(o(i)):null!==a?this.pointerHandler_=E(o([a,r[1]]),o([a,r[3]])):null!==s&&(this.pointerHandler_=E(o([r[0],s]),o([r[2],s])))}else i=n.getCoordinateFromPixelInternal(e),this.setExtent([i[0],i[1],i[0],i[1]]),this.pointerHandler_=w(i);return!0},e.prototype.handleDragEvent=function(t){if(this.pointerHandler_){var e=t.coordinate;this.setExtent(this.pointerHandler_(e)),this.createOrUpdatePointerFeature_(e)}return!0},e.prototype.handleUpEvent=function(t){this.pointerHandler_=null;var e=this.getExtentInternal();return e&&0!==(0,s.getArea)(e)||this.setExtent(null),!1},e.prototype.setMap=function(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getExtent=function(){return(0,g.toUserExtent)(this.getExtentInternal(),this.getMap().getView().getProjection())},e.prototype.getExtentInternal=function(){return this.extent_},e.prototype.setExtent=function(t){this.extent_=t||null,this.createOrUpdateExtentFeature_(t),this.dispatchEvent(new m(this.extent_))},e}(h.default);function w(t){return function(e){return(0,s.boundingExtent)([t,e])}}function E(t,e){return t[0]==e[0]?function(n){return(0,s.boundingExtent)([t,[n[0],e[1]]])}:t[1]==e[1]?function(n){return(0,s.boundingExtent)([t,[e[0],n[1]]])}:null}e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loadFeaturesXhr=a,e.xhr=function(t,e){return a(t,e,function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)},r.VOID)},e.setWithCredentials=function(t){o=t};var r=n(34),i=function(t){return t&&t.__esModule?t:{default:t}}(n(203));var o=!1;function a(t,e,n,r){return function(a,s,u){var l=new XMLHttpRequest;l.open("GET","function"==typeof t?t(a,s,u):t,!0),e.getType()==i.default.ARRAY_BUFFER&&(l.responseType="arraybuffer"),l.withCredentials=o,l.onload=function(t){if(!l.status||l.status>=200&&l.status<300){var o=e.getType(),s=void 0;o==i.default.JSON||o==i.default.TEXT?s=l.responseText:o==i.default.XML?(s=l.responseXML)||(s=(new DOMParser).parseFromString(l.responseText,"application/xml")):o==i.default.ARRAY_BUFFER&&(s=l.response),s?n.call(this,e.readFeatures(s,{extent:a,featureProjection:u}),e.readProjection(s)):r.call(this)}else r.call(this)}.bind(this),l.onerror=function(){r.call(this)}.bind(this),l.send()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.get=function(t,e,n,r,i,o){var a=s.shared.get(e,r,o);a||(a=new h(t,e,n,r,i,o),s.shared.set(e,r,o,a));return a};var r=n(27),i=l(n(155)),o=l(n(4)),a=l(n(66)),s=n(466),u=n(120);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==i&&(s.image_.crossOrigin=i),s.canvas_=a?document.createElement("canvas"):null,s.color_=a,s.unlisten_=null,s.imageState_=o,s.size_=r,s.src_=n,s.tainted_,s}return c(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===a.default.LOADED){this.tainted_=!1;var t=(0,r.createCanvasContext2D)(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(o.default.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=a.default.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=a.default.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],i=(0,r.createCanvasContext2D)(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==a.default.IDLE){this.imageState_=a.default.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=(0,u.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),n=e.data,r=this.color_[0]/255,i=this.color_[1]/255,o=this.color_[2]/255,a=0,s=n.length;a<s;a+=4)n[a]*=r,n[a+1]*=i,n[a+2]*=o;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(i.default);e.default=h},function(t,e,n){t.exports=function(){"use strict";function t(t,r,i,o,a){!function t(n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=r-i+1,l=Math.log(s),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1),f=Math.max(i,Math.floor(r-u*c/s+h)),p=Math.min(o,Math.floor(r+(s-u)*c/s+h));t(n,r,f,p,a)}var d=n[r],g=i,v=o;for(e(n,i,r),a(n[o],d)>0&&e(n,i,o);g<v;){for(e(n,g,v),g++,v--;a(n[g],d)<0;)g++;for(;a(n[v],d)>0;)v--}0===a(n[i],d)?e(n,i,v):e(n,++v,o),v<=r&&(i=v+1),r<=v&&(o=v-1)}}(t,r,i||0,o||t.length-1,a||n)}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,i){i||(i=d(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<n;o++){var a=t.children[o];s(i,t.leaf?r(a):a)}return i}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,n,r,i,o){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=i)){var s=n+Math.ceil((r-n)/i/2)*i;t(e,s,n,r,o),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,n=[];if(!p(t,e))return n;for(var r=this.toBBox,i=[];e;){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?r(a):a;p(t,s)&&(e.leaf?n.push(a):f(t,s)?this._all(a,n):i.push(a))}e=i.pop()}return n},r.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var i=e.children[r],o=e.leaf?this.toBBox(i):i;if(p(t,o)){if(e.leaf||f(t,o))return!0;n.push(i)}}e=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=d([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var n,r,o,a=this.data,s=this.toBBox(t),u=[],l=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),a.leaf){var c=i(t,a.children,e);if(-1!==c)return a.children.splice(c,1),u.push(a),this._condense(u),this}o||a.leaf||!f(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(u.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},r.prototype._build=function(t,e,n,r){var i,a=n-e+1,s=this._maxEntries;if(a<=s)return o(i=d(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(i=d([])).leaf=!1,i.height=r;var u=Math.ceil(a/s),l=u*Math.ceil(Math.sqrt(s));g(t,e,n,l,this.compareMinX);for(var c=e;c<=n;c+=l){var h=Math.min(c+l-1,n);g(t,c,h,u,this.compareMinY);for(var f=c;f<=h;f+=u){var p=Math.min(f+u-1,h);i.children.push(this._build(t,f,p,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var u=e.children[s],l=c(u),h=(f=t,p=u,(Math.max(p.maxX,f.maxX)-Math.min(p.minX,f.minX))*(Math.max(p.maxY,f.maxY)-Math.min(p.minY,f.minY))-l);h<o?(o=h,i=l<i?l:i,a=u):h===o&&l<i&&(i=l,a=u)}e=a||e.children[0]}var f,p;return e},r.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),s(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},r.prototype._split=function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var a=this._chooseSplitIndex(n,i,r),s=d(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,o(n,this.toBBox),o(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,n){for(var r,i,o,s,u,l,h,f=1/0,p=1/0,d=e;d<=n-e;d++){var g=a(t,0,d,this.toBBox),v=a(t,d,n,this.toBBox),y=(i=g,o=v,s=void 0,u=void 0,l=void 0,h=void 0,s=Math.max(i.minX,o.minX),u=Math.max(i.minY,o.minY),l=Math.min(i.maxX,o.maxX),h=Math.min(i.maxY,o.maxY),Math.max(0,l-s)*Math.max(0,h-u)),_=c(g)+c(v);y<f?(f=y,r=d,p=_<p?_:p):y===f&&_<p&&(p=_,r=d)}return r||n-e},r.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,o=a(t,0,e,i),u=a(t,n-e,n,i),l=h(o)+h(u),c=e;c<n-e;c++){var f=t.children[c];s(o,t.leaf?i(f):f),l+=h(o)}for(var p=n-e-1;p>=e;p--){var d=t.children[p];s(u,t.leaf?i(d):d),l+=h(u)}return l},r.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)s(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},r}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={POINT:"point",LINE:"line"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TEXT_ALIGN=void 0;var r=n(7),i=n(210),o=n(1),a=n(843),s=f(n(20)),u=n(100),l=f(n(145)),c=f(n(169)),h=f(n(444));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=e.TEXT_ALIGN={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},g=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.declutterGroups_,o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",u.labelCache.prune(),o}return p(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textFillState_,r=this.textStrokeState_,i=this.textState_;if(""!==this.text_&&i&&(n||r)){var c,f,p=this.coordinates.length,d=t.getType(),g=null,v=2,y=2;if(i.placement===h.default.LINE){if(!(0,o.intersects)(this.getBufferedMaxExtent(),t.getExtent()))return;var _=void 0;if(g=t.getFlatCoordinates(),y=t.getStride(),d==s.default.LINE_STRING)_=[g.length];else if(d==s.default.MULTI_LINE_STRING)_=t.getEnds();else if(d==s.default.POLYGON)_=t.getEnds().slice(0,1);else if(d==s.default.MULTI_POLYGON){var m=t.getEndss();for(_=[],c=0,f=m.length;c<f;++c)_.push(m[c][0])}this.beginGeometry(t,e);for(var b=i.textAlign,w=0,E=void 0,x=0,O=_.length;x<O;++x){if(void 0==b){var C=(0,a.matchingChunk)(i.maxAngle,g,w,_[x],y);w=C[0],E=C[1]}else E=_[x];for(c=w;c<E;c+=y)this.coordinates.push(g[c],g[c+1]);v=this.coordinates.length,w=_[x];var S=this.declutterGroups_?0===x?this.declutterGroups_[0]:[].concat(this.declutterGroups_[0]):null;this.drawChars_(p,v,S),p=v}this.endGeometry(e)}else{var P=null;switch(i.overflow||(P=[]),d){case s.default.POINT:case s.default.MULTI_POINT:v=(g=t.getFlatCoordinates()).length;break;case s.default.LINE_STRING:g=t.getFlatMidpoint();break;case s.default.CIRCLE:g=t.getCenter();break;case s.default.MULTI_LINE_STRING:v=(g=t.getFlatMidpoints()).length;break;case s.default.POLYGON:g=t.getFlatInteriorPoint(),i.overflow||P.push(g[2]/this.resolution),y=3;break;case s.default.MULTI_POLYGON:var M=t.getFlatInteriorPoints();for(g=[],c=0,f=M.length;c<f;c+=3)i.overflow||P.push(M[c+2]/this.resolution),g.push(M[c],M[c+1]);if(0==(v=g.length))return}v=this.appendFlatCoordinates(g,0,v,y,!1,!1),this.saveTextStates_(),(i.backgroundFill||i.backgroundStroke)&&(this.setFillStrokeStyle(i.backgroundFill,i.backgroundStroke),i.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),i.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var T=this.pixelRatio;this.instructions.push([l.default.DRAW_IMAGE,p,v,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1,NaN,i.padding==u.defaultPadding?u.defaultPadding:i.padding.map(function(t){return t*T}),!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,P]),this.hitDetectionInstructions.push([l.default.DRAW_IMAGE,p,v,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1/this.pixelRatio,NaN,i.padding,!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,P]),this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var i=this.textKey_;i in this.textStates||(this.textStates[i]={font:e.font,textAlign:e.textAlign||u.defaultTextAlign,textBaseline:e.textBaseline||u.defaultTextBaseline,scale:e.scale});var o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e,n){var r=this.textStrokeState_,i=this.textState_,o=this.strokeKey_,a=this.textKey_,s=this.fillKey_;this.saveTextStates_();var u=this.pixelRatio,c=d[i.textBaseline],h=this.textOffsetY_*u,f=this.text_,p=i.scale,g=r?r.lineWidth*p/2:0;this.instructions.push([l.default.DRAW_CHARS,t,e,c,n,i.overflow,s,i.maxAngle,u,h,o,g*u,f,a,1]),this.hitDetectionInstructions.push([l.default.DRAW_CHARS,t,e,c,n,i.overflow,s,i.maxAngle,1,h,o,g,f,a,1/u])},e.prototype.setTextStyle=function(t,e){var n,o,a;if(t){this.declutterGroups_=e;var s=t.getFill();s?((o=this.textFillState_)||(o={},this.textFillState_=o),o.fillStyle=(0,i.asColorLike)(s.getColor()||u.defaultFillStyle)):(o=null,this.textFillState_=o);var l=t.getStroke();if(l){(a=this.textStrokeState_)||(a={},this.textStrokeState_=a);var c=l.getLineDash(),h=l.getLineDashOffset(),f=l.getWidth(),p=l.getMiterLimit();a.lineCap=l.getLineCap()||u.defaultLineCap,a.lineDash=c?c.slice():u.defaultLineDash,a.lineDashOffset=void 0===h?u.defaultLineDashOffset:h,a.lineJoin=l.getLineJoin()||u.defaultLineJoin,a.lineWidth=void 0===f?u.defaultLineWidth:f,a.miterLimit=void 0===p?u.defaultMiterLimit:p,a.strokeStyle=(0,i.asColorLike)(l.getColor()||u.defaultStrokeStyle)}else a=null,this.textStrokeState_=a;n=this.textState_;var d=t.getFont()||u.defaultFont;(0,u.checkFont)(d);var g=t.getScale();n.overflow=t.getOverflow(),n.font=d,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||u.defaultTextBaseline,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||u.defaultPadding,n.scale=void 0===g?1:g;var v=t.getOffsetX(),y=t.getOffsetY(),_=t.getRotateWithView(),m=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===v?0:v,this.textOffsetY_=void 0===y?0:y,this.textRotateWithView_=void 0!==_&&_,this.textRotation_=void 0===m?0:m,this.strokeKey_=a?("string"==typeof a.strokeStyle?a.strokeStyle:(0,r.getUid)(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=o?"string"==typeof o.fillStyle?o.fillStyle:"|"+(0,r.getUid)(o.fillStyle):""}else this.text_=""},e}(c.default);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=d(n(173)),o=n(1),a=n(3),s=d(n(847)),u=n(842),l=d(u),c=d(n(292)),h=n(461),f=n(41),p=n(838);function d(t){return t&&t.__esModule?t:{default:t}}var g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=(0,o.createEmpty)(),n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n}return g(e,t),e.prototype.useContainer=function(e,n,r){r<1&&(e=null),t.prototype.useContainer.call(this,e,n,r)},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,r=t.layerStatesArray[t.layerIndex];(0,f.makeScale)(this.pixelTransform,1/n,1/n),(0,f.makeInverse)(this.inversePixelTransform,this.pixelTransform);var s=(0,f.toString)(this.pixelTransform);this.useContainer(e,s,r.opacity);var l=this.context,c=l.canvas,h=this.replayGroup_;if(!h||h.isEmpty())return!this.containerReused&&c.width>0&&(c.width=0),this.container;var p=Math.round(t.size[0]*n),d=Math.round(t.size[1]*n);c.width!=p||c.height!=d?(c.width=p,c.height=d,c.style.transform!==s&&(c.style.transform=s)):this.containerReused||l.clearRect(0,0,p,d),this.preRender(l,t);var g=t.extent,v=t.viewState,y=v.center,_=v.resolution,m=v.projection,b=v.rotation,w=m.getExtent(),E=this.getLayer().getSource(),x=!1;if(r.extent){var O=(0,a.fromUserExtent)(r.extent,m);(x=!(0,o.containsExtent)(O,t.extent)&&(0,o.intersects)(O,t.extent))&&this.clip(l,t,O)}var C=t.viewHints,S=!(C[i.default.ANIMATING]||C[i.default.INTERACTING]),P=this.getRenderTransform(y,_,b,n,p,d,0),M=this.getLayer().getDeclutter()?{}:null;if(h.execute(l,P,b,S,void 0,M),E.getWrapX()&&m.canWrapX()&&!(0,o.containsExtent)(w,g)){for(var T=g[0],A=(0,o.getWidth)(w),D=0,I=void 0;T<w[0];){I=A*--D;var L=this.getRenderTransform(y,_,b,n,p,d,I);h.execute(l,L,b,S,void 0,M),T+=A}for(D=0,T=g[2];T>w[2];){I=A*++D;var F=this.getRenderTransform(y,_,b,n,p,d,I);h.execute(l,F,b,S,void 0,M),T-=A}}if(M){var k=t.viewHints,R=!(k[i.default.ANIMATING]||k[i.default.INTERACTING]);(0,u.replayDeclutter)(M,l,b,1,R,t.declutterItems)}x&&l.restore(),this.postRender(l,t);var j=r.opacity,N=this.container;return j!==parseFloat(N.style.opacity)&&(N.style.opacity=1===j?"":j),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e,n){this.hitDetectionImageData_||this.animatingOrInteracting_?e((0,p.hitDetect)(t,this.renderedFeatures_,this.hitDetectionImageData_)):requestAnimationFrame(function(){var n=[this.context.canvas.width,this.context.canvas.height];(0,f.apply)(this.pixelTransform,n);var r=this.renderedCenter_,i=this.renderedResolution_,a=this.renderedRotation_,s=this.renderedProjection_,u=this.renderedExtent_,l=this.getLayer(),c=[],h=n[0]/2,d=n[1]/2;c.push(this.getRenderTransform(r,i,a,.5,h,d,0).slice());var g=l.getSource(),v=s.getExtent();if(g.getWrapX()&&s.canWrapX()&&!(0,o.containsExtent)(v,u)){for(var y=u[0],_=(0,o.getWidth)(v),m=0,b=void 0;y<v[0];)b=_*--m,c.push(this.getRenderTransform(r,i,a,.5,h,d,b).slice()),y+=_;for(m=0,y=u[2];y>v[2];)b=_*++m,c.push(this.getRenderTransform(r,i,a,.5,h,d,b).slice()),y-=_}this.hitDetectionImageData_=(0,p.createHitDetectionImageData)(n,c,this.renderedFeatures_,l.getStyleFunction(),u,i,a),e((0,p.hitDetect)(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){if(this.replayGroup_){var a=e.viewState.resolution,s=e.viewState.rotation,u=this.getLayer(),l={};return this.replayGroup_.forEachFeatureAtCoordinate(t,a,s,n,function(t){var e=(0,r.getUid)(t);if(!(e in l))return l[e]=!0,i(t,u)},u.getDeclutter()?o:null)}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource(),r=t.viewHints[i.default.ANIMATING],u=t.viewHints[i.default.INTERACTING],c=e.getUpdateWhileAnimating(),f=e.getUpdateWhileInteracting();if(!this.dirty_&&!c&&r||!f&&u)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var p=t.extent,d=t.viewState,g=d.projection,v=d.resolution,y=t.pixelRatio,_=e.getRevision(),m=e.getRenderBuffer(),b=e.getRenderOrder();void 0===b&&(b=h.defaultOrder);var w=d.center.slice(),E=(0,o.buffer)(p,m*v),x=d.projection.getExtent();if(n.getWrapX()&&d.projection.canWrapX()&&!(0,o.containsExtent)(x,t.extent)){var O=(0,o.getWidth)(x),C=Math.max((0,o.getWidth)(E)/2,O);E[0]=x[0]-C,E[2]=x[2]+C;var S=Math.floor((w[0]-x[0])/O);w[0]-=S*O}if(!this.dirty_&&this.renderedResolution_==v&&this.renderedRevision_==_&&this.renderedRenderOrder_==b&&(0,o.containsExtent)(this.renderedExtent_,E))return this.replayGroupChanged=!1,!0;this.replayGroup_&&this.replayGroup_.dispose(),this.replayGroup_=null,this.dirty_=!1;var P,M=new s.default((0,h.getTolerance)(v,y),E,v,y,e.getDeclutter()),T=(0,a.getUserProjection)();T?(n.loadFeatures((0,a.toUserExtent)(E,g),v,T),P=(0,a.getTransformFromProjections)(T,g)):n.loadFeatures(E,v,g);var A=(0,h.getSquaredTolerance)(v,y),D=function(t){var n,r=t.getStyleFunction()||e.getStyleFunction();if(r&&(n=r(t,v)),n){var i=this.renderFeature(t,A,n,M,P);this.dirty_=this.dirty_||i}}.bind(this),I=(0,a.toUserExtent)(E,g),L=n.getFeaturesInExtent(I);b&&L.sort(b);for(var F=0,k=L.length;F<k;++F)D(L[F]);this.renderedFeatures_=L;var R=M.finish(),j=new l.default(E,v,y,n.getOverlaps(),R,e.getRenderBuffer());return this.renderedResolution_=v,this.renderedRevision_=_,this.renderedRenderOrder_=b,this.renderedExtent_=E,this.renderedRotation_=d.rotation,this.renderedCenter_=w,this.renderedProjection_=g,this.replayGroup_=j,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,r,i){if(!n)return!1;var o=!1;if(Array.isArray(n))for(var a=0,s=n.length;a<s;++a)o=(0,h.renderFeature)(r,t,n[a],e,this.boundHandleStyleImageChange_,i)||o;else o=(0,h.renderFeature)(r,t,n,e,this.boundHandleStyleImageChange_,i);return o},e}(c.default);e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(149)),i=n(10),o=n(65);var a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s="renderOrder",u=function(t){function e(e){var n=this,r=e||{},o=(0,i.assign)({},r);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,(n=t.call(this,o)||this).declutter_=void 0!==r.declutter&&r.declutter,n.renderBuffer_=void 0!==r.renderBuffer?r.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(r.style),n.updateWhileAnimating_=void 0!==r.updateWhileAnimating&&r.updateWhileAnimating,n.updateWhileInteracting_=void 0!==r.updateWhileInteracting&&r.updateWhileInteracting,n}return a(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(s)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(s,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:o.createDefaultStyle,this.styleFunction_=null===t?void 0:(0,o.toFunction)(this.style_),this.changed()},e}(r.default);e.default=u},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=t[e],o=t[e+1],a=0,s=e+r;s<n;s+=r){var u=t[s],l=t[s+1];a+=Math.sqrt((u-i)*(u-i)+(l-o)*(l-o)),i=u,o=l}return a}Object.defineProperty(e,"__esModule",{value:!0}),e.lineStringLength=r,e.linearRingLength=function(t,e,n,i){var o=r(t,e,n,i),a=t[n-i]-t[e],s=t[n-i+1]-t[e+1];return o+=Math.sqrt(a*a+s*s)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.interpolatePoint=function(t,e,n,o,a,s){var u=NaN,l=NaN,c=(n-e)/o;if(1===c)u=t[e],l=t[e+1];else if(2==c)u=(1-a)*t[e]+a*t[e+o],l=(1-a)*t[e+1]+a*t[e+o+1];else if(0!==c){for(var h=t[e],f=t[e+1],p=0,d=[0],g=e+o;g<n;g+=o){var v=t[g],y=t[g+1];p+=Math.sqrt((v-h)*(v-h)+(y-f)*(y-f)),d.push(p),h=v,f=y}var _=a*p,m=(0,r.binarySearch)(d,_);if(m<0){var b=(_-d[-m-2])/(d[-m-1]-d[-m-2]),w=e+(-m-2)*o;u=(0,i.lerp)(t[w],t[w+o],b),l=(0,i.lerp)(t[w+1],t[w+o+1],b)}else u=t[e+m*o],l=t[e+m*o+1]}return s?(s[0]=u,s[1]=l,s):[u,l]},e.lineStringCoordinateAtM=o,e.lineStringsCoordinateAtM=function(t,e,n,r,i,a,s){if(s)return o(t,e,n[n.length-1],r,i,a);var u;if(i<t[r-1])return a?((u=t.slice(0,r))[r-1]=i,u):null;if(t[t.length-1]<i)return a?((u=t.slice(t.length-r))[r-1]=i,u):null;for(var l=0,c=n.length;l<c;++l){var h=n[l];if(e!=h){if(i<t[e+r-1])return null;if(i<=t[h-1])return o(t,e,h,r,i,!1);e=h}}return null};var r=n(17),i=n(14);function o(t,e,n,r,o,a){if(n==e)return null;var s;if(o<t[e+r-1])return a?((s=t.slice(e,e+r))[r-1]=o,s):null;if(t[n-1]<o)return a?((s=t.slice(n-r,n))[r-1]=o,s):null;if(o==t[e+r-1])return t.slice(e,e+r);for(var u=e/r,l=n/r;u<l;){var c=u+l>>1;o<t[(c+1)*r-1]?l=c:u=c+1}var h=t[u*r-1];if(o==h)return t.slice((u-1)*r,(u-1)*r+r);var f=(o-h)/(t[(u+1)*r-1]-h);s=[];for(var p=0;p<r-1;++p)s.push((0,i.lerp)(t[(u-1)*r+p],t[u*r+p],f));return s.push(o),s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=u(n(20)),o=u(n(90)),a=n(88),s=n(152);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e,n,r){var i=t.call(this)||this;if(void 0!==r&&void 0===n)i.setFlatCoordinates(r,e);else{var o=n||0;i.setCenterAndRadius(e,o,r)}return i}return l(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),void 0,this.layout)},e.prototype.closestPointXY=function(t,e,n,r){var i=this.flatCoordinates,o=t-i[0],a=e-i[1],s=o*o+a*a;if(s<r){if(0===s)for(var u=0;u<this.stride;++u)n[u]=i[u];else{var l=this.getRadius()/Math.sqrt(s);n[0]=i[0]+l*o,n[1]=i[1]+l*a;for(u=2;u<this.stride;++u)n[u]=i[u]}return n.length=this.stride,s}return r},e.prototype.containsXY=function(t,e){var n=this.flatCoordinates,r=t-n[0],i=e-n[1];return r*r+i*i<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,n=e[this.stride]-e[0];return(0,r.createOrUpdate)(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return i.default.CIRCLE},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if((0,r.intersects)(t,e)){var n=this.getCenter();return t[0]<=n[0]&&t[2]>=n[0]||(t[1]<=n[1]&&t[3]>=n[1]||(0,r.forEachCorner)(t,this.intersectsCoordinate.bind(this)))}return!1},e.prototype.setCenter=function(t){var e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],r=t.slice();r[e]=r[0]+n;for(var i=1;i<e;++i)r[e+i]=t[i];this.setFlatCoordinates(this.layout,r),this.changed()},e.prototype.setCenterAndRadius=function(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var r=this.flatCoordinates,i=(0,a.deflateCoordinate)(r,0,t,this.stride);r[i++]=r[0]+e;for(var o=1,s=this.stride;o<s;++o)r[i++]=r[o];r.length=i,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e.prototype.rotate=function(t,e){var n=this.getCenter(),r=this.getStride();this.setCenter((0,s.rotate)(n,0,n.length,r,t,e,n)),this.changed()},e.prototype.translate=function(t,e){var n=this.getCenter(),r=this.getStride();this.setCenter((0,s.translate)(n,0,n.length,r,t,e,n)),this.changed()},e}(o.default);c.prototype.transform,e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(101),i=n(58),o=n(1),a=function(t){return t&&t.__esModule?t:{default:t}}(n(454));var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e){var n=this,r=e||{},o=r.condition?r.condition:i.shiftKeyOnly;return(n=t.call(this,{condition:o,className:r.className||"ol-dragzoom",minArea:r.minArea,onBoxEnd:l})||this).duration_=void 0!==r.duration?r.duration:200,n.out_=void 0!==r.out&&r.out,n}return s(e,t),e}(a.default);function l(){var t=this.getMap(),e=t.getView(),n=t.getSize(),i=this.getGeometry().getExtent();if(this.out_){var a=e.calculateExtentInternal(n),s=(0,o.createOrUpdateFromCoordinates)([t.getPixelFromCoordinateInternal((0,o.getBottomLeft)(i)),t.getPixelFromCoordinateInternal((0,o.getTopRight)(i))]),u=e.getResolutionForExtentInternal(s,n);(0,o.scaleFromCenter)(a,1/u),i=a}var l=e.getConstrainedResolution(e.getResolutionForExtentInternal(i,n)),c=e.getConstrainedCenter((0,o.getCenter)(i),l);e.animateInternal({resolution:l,center:c,duration:this.duration_,easing:r.easeOut})}e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(298),i=n(58),o=n(34),a=function(t){return t&&t.__esModule?t:{default:t}}(n(57));var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,{stopDown:o.FALSE})||this).condition_=r.condition?r.condition:i.altShiftKeysOnly,n.lastAngle_=void 0,n.duration_=void 0!==r.duration?r.duration:250,n}return s(e,t),e.prototype.handleDragEvent=function(t){if((0,i.mouseOnly)(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==r.disable){var o=e.getSize(),a=t.pixel,s=Math.atan2(o[1]/2-a[1],a[0]-o[0]/2);if(void 0!==this.lastAngle_){var u=s-this.lastAngle_;n.adjustRotationInternal(-u)}this.lastAngle_=s}}},e.prototype.handleUpEvent=function(t){return!(0,i.mouseOnly)(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!!(0,i.mouseOnly)(t)&&(!(!(0,i.mouseActionButton)(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},e}(a.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(78),i=n(101),o=n(58),a=n(34),s=n(57),u=function(t){return t&&t.__esModule?t:{default:t}}(s);var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e){var n=t.call(this,{stopDown:a.FALSE})||this,r=e||{};return n.kinetic_=r.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1,n.condition_=r.condition?r.condition:h,n.noKinetic_=!1,n}return l(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,n=(0,s.centroid)(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var i=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],o=t.map.getView();(0,r.scale)(i,o.getResolution()),(0,r.rotate)(i,o.getRotation()),o.adjustCenterInternal(i)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),a=n.getCenterInternal(),s=e.getPixelFromCoordinateInternal(a),u=e.getCoordinateFromPixelInternal([s[0]-r*Math.cos(o),s[1]-r*Math.sin(o)]);n.animateInternal({center:n.getConstrainedCenter(u),duration:500,easing:i.easeOut})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(u.default);function h(t){return(0,o.noModifierKeys)(t)&&(0,o.primaryAction)(t)}e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(37)),i=n(58),o=n(34),a=u(n(57)),s=u(n(850));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c="boxstart",h="boxdrag",f="boxend",p=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.coordinate=n,i.mapBrowserEvent=r,i}return l(e,t),e}(r.default),d=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.box_=new s.default(r.className||"ol-dragbox"),n.minArea_=void 0!==r.minArea?r.minArea:64,n.onBoxEnd_=r.onBoxEnd?r.onBoxEnd:o.VOID,n.startPixel_=null,n.condition_=r.condition?r.condition:i.always,n.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:n.defaultBoxEndCondition,n}return l(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var r=n[0]-e[0],i=n[1]-e[1];return r*r+i*i>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){(0,i.mouseOnly)(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new p(h,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!(0,i.mouseOnly)(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new p(f,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!(0,i.mouseOnly)(t)&&(!(!(0,i.mouseActionButton)(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new p(c,t.coordinate,t)),!0))},e}(a.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(102)),i=n(86),o=a(i);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e){var n=t.call(this,{handleEvent:l})||this,r=e||{};return n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:250,n}return s(e,t),e}(o.default);function l(t){var e=!1;if(t.type==r.default.DBLCLICK){var n=t.originalEvent,o=t.map,a=t.coordinate,s=n.shiftKey?-this.delta_:this.delta_,u=o.getView();(0,i.zoomByDelta)(u,s,a,this.duration_),t.preventDefault(),e=!0}return!e}e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.render=g;var r=h(n(68)),i=n(67),o=n(101),a=n(26),s=n(37),u=h(n(4)),l=n(14),c=h(n(300));function h(t){return t&&t.__esModule?t:{default:t}}n(302);var f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p={VERTICAL:0,HORIZONTAL:1},d=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{element:document.createElement("div"),render:r.render||g})||this).dragListenerKeys_=[],n.currentResolution_=void 0,n.direction_=p.VERTICAL,n.dragging_,n.heightLimit_=0,n.widthLimit_=0,n.startX_,n.startY_,n.thumbSize_=null,n.sliderInitialized_=!1,n.duration_=void 0!==r.duration?r.duration:200;var o=void 0!==r.className?r.className:"ol-zoomslider",a=document.createElement("button");a.setAttribute("type","button"),a.className=o+"-thumb "+i.CLASS_UNSELECTABLE;var l=n.element;return l.setAttribute("touch-action","none"),l.className=o+" "+i.CLASS_UNSELECTABLE+" "+i.CLASS_CONTROL,l.appendChild(a),l.addEventListener(c.default.POINTERDOWN,n.handleDraggerStart_.bind(n),!1),l.addEventListener(c.default.POINTERMOVE,n.handleDraggerDrag_.bind(n),!1),l.addEventListener(c.default.POINTERUP,n.handleDraggerEnd_.bind(n),!1),l.addEventListener(u.default.CLICK,n.handleContainerClick_.bind(n),!1),a.addEventListener(u.default.CLICK,s.stopPropagation,!1),n}return f(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&e.render()},e.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,n=t.offsetHeight,r=t.firstElementChild,i=getComputedStyle(r),o=r.offsetWidth+parseFloat(i.marginRight)+parseFloat(i.marginLeft),a=r.offsetHeight+parseFloat(i.marginTop)+parseFloat(i.marginBottom);this.thumbSize_=[o,a],e>n?(this.direction_=p.HORIZONTAL,this.widthLimit_=e-o):(this.direction_=p.VERTICAL,this.heightLimit_=n-a),this.sliderInitialized_=!0},e.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),n=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),r=this.getResolutionForPosition_(n),i=e.getConstrainedZoom(e.getZoomForResolution(r));e.animateInternal({zoom:i,duration:this.duration_,easing:o.easeOut})},e.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.target===this.element.firstElementChild){var e=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=t.clientX-parseFloat(e.style.left),this.startY_=t.clientY-parseFloat(e.style.top),this.dragging_=!0,0===this.dragListenerKeys_.length){var n=this.handleDraggerDrag_,r=this.handleDraggerEnd_;this.dragListenerKeys_.push((0,a.listen)(document,c.default.POINTERMOVE,n,this),(0,a.listen)(document,c.default.POINTERUP,r,this))}}},e.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=t.clientX-this.startX_,n=t.clientY-this.startY_,r=this.getRelativePosition_(e,n);this.currentResolution_=this.getResolutionForPosition_(r),this.getMap().getView().setResolution(this.currentResolution_)}},e.prototype.handleDraggerEnd_=function(t){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(a.unlistenByKey),this.dragListenerKeys_.length=0)},e.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),n=this.element.firstElementChild;this.direction_==p.HORIZONTAL?n.style.left=this.widthLimit_*e+"px":n.style.top=this.heightLimit_*e+"px"},e.prototype.getRelativePosition_=function(t,e){var n;return n=this.direction_===p.HORIZONTAL?t/this.widthLimit_:e/this.heightLimit_,(0,l.clamp)(n,0,1)},e.prototype.getResolutionForPosition_=function(t){return this.getMap().getView().getResolutionForValueFunction()(1-t)},e.prototype.getPositionForResolution_=function(t){var e=this.getMap().getView().getValueForResolutionFunction();return(0,l.clamp)(1-e(t),0,1)},e}(r.default);function g(t){if(t.frameState){this.sliderInitialized_||this.initSlider_();var e=t.frameState.viewState.resolution;this.currentResolution_=e,this.setThumbPosition_(e)}}e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(4)),i=s(n(68)),o=n(67),a=n(101);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),target:i.target})||this;var a=void 0!==i.className?i.className:"ol-zoom",s=void 0!==i.delta?i.delta:1,u=void 0!==i.zoomInLabel?i.zoomInLabel:"+",l=void 0!==i.zoomOutLabel?i.zoomOutLabel:"",c=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",h=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",f=document.createElement("button");f.className=a+"-in",f.setAttribute("type","button"),f.title=c,f.appendChild("string"==typeof u?document.createTextNode(u):u),f.addEventListener(r.default.CLICK,n.handleClick_.bind(n,s),!1);var p=document.createElement("button");p.className=a+"-out",p.setAttribute("type","button"),p.title=h,p.appendChild("string"==typeof l?document.createTextNode(l):l),p.addEventListener(r.default.CLICK,n.handleClick_.bind(n,-s),!1);var d=a+" "+o.CLASS_UNSELECTABLE+" "+o.CLASS_CONTROL,g=n.element;return g.className=d,g.appendChild(f),g.appendChild(p),n.duration_=void 0!==i.duration?i.duration:250,n}return u(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var r=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:r,duration:this.duration_,easing:a.easeOut})):e.setZoom(r)}}},e}(i.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Units=void 0,e.render=g;var r=n(21),i=n(16),o=l(n(68)),a=n(67),s=n(3),u=l(n(89));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h="units",f=e.Units={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},p=[1,2,5],d=function(t){function e(e){var n=this,i=e||{},o=void 0!==i.className?i.className:i.bar?"ol-scale-bar":"ol-scale-line";return(n=t.call(this,{element:document.createElement("div"),render:i.render||g,target:i.target})||this).innerElement_=document.createElement("div"),n.innerElement_.className=o+"-inner",n.element.className=o+" "+a.CLASS_UNSELECTABLE,n.element.appendChild(n.innerElement_),n.viewState_=null,n.minWidth_=void 0!==i.minWidth?i.minWidth:64,n.renderedVisible_=!1,n.renderedWidth_=void 0,n.renderedHTML_="",n.addEventListener((0,r.getChangeEventType)(h),n.handleUnitsChanged_),n.setUnits(i.units||f.METRIC),n.scaleBar_=i.bar||!1,n.scaleBarSteps_=i.steps||4,n.scaleBarText_=i.text||!1,n}return c(e,t),e.prototype.getUnits=function(){return this.get(h)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(h,t)},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,n=t.projection,r=this.getUnits(),o=r==f.DEGREES?u.default.DEGREES:u.default.METERS,a=(0,s.getPointResolution)(n,t.resolution,e,o),l=this.minWidth_*a,c="";if(r==f.DEGREES){var h=s.METERS_PER_UNIT[u.default.DEGREES];(l*=h)<h/60?(c="",a*=3600):l<h?(c="",a*=60):c=""}else r==f.IMPERIAL?l<.9144?(c="in",a/=.0254):l<1609.344?(c="ft",a/=.3048):(c="mi",a/=1609.344):r==f.NAUTICAL?(a/=1852,c="nm"):r==f.METRIC?l<.001?(c="m",a*=1e6):l<1?(c="mm",a*=1e3):l<1e3?c="m":(c="km",a/=1e3):r==f.US?l<.9144?(c="in",a*=39.37):l<1609.344?(c="ft",a/=.30480061):(c="mi",a/=1609.3472):(0,i.assert)(!1,33);for(var d,g,v,y,_=3*Math.floor(Math.log(this.minWidth_*a)/Math.log(10));;){v=Math.floor(_/3);var m=Math.pow(10,v);if(d=p[(_%3+3)%3]*m,g=Math.round(d/a),isNaN(g))return this.element.style.display="none",void(this.renderedVisible_=!1);if(g>=this.minWidth_)break;++_}y=this.scaleBar_?this.createScaleBar(g,d,c):d.toFixed(v<0?-v:0)+" "+c,this.renderedHTML_!=y&&(this.innerElement_.innerHTML=y,this.renderedHTML_=y),this.renderedWidth_!=g&&(this.innerElement_.style.width=g+"px",this.renderedWidth_=g),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.createScaleBar=function(t,e,n){for(var r="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),i=[],o=t/this.scaleBarSteps_,a="#ffffff",s=0;s<this.scaleBarSteps_;s++)0===s&&i.push(this.createMarker("absolute",s)),i.push('<div><div class="ol-scale-singlebar" style="width: '+o+"px;background-color: "+a+';"></div>'+this.createMarker("relative",s)+(s%2==0||2===this.scaleBarSteps_?this.createStepText(s,t,!1,e,n):"")+"</div>"),s===this.scaleBarSteps_-1&&i.push(this.createStepText(s+1,t,!0,e,n)),a="#ffffff"===a?"#000000":"#ffffff";return'<div style="display: flex;">'+(this.scaleBarText_?'<div class="ol-scale-text" style="width: '+t+'px;">'+r+"</div>":"")+i.join("")+"</div>"},e.prototype.createMarker=function(t,e){return'<div class="ol-scale-step-marker" style="position: '+t+";top: "+("absolute"===t?3:-10)+'px;"></div>'},e.prototype.createStepText=function(t,e,n,r,i){var o=(0===t?0:Math.round(r/this.scaleBarSteps_*t*100)/100)+(0===t?"":" "+i),a=0===t?-3:e/this.scaleBarSteps_*-1,s=0===t?0:e/this.scaleBarSteps_*2;return'<div class="ol-scale-step-text" style="margin-left: '+a+"px;text-align: "+(0===t?"left":"center")+"; min-width: "+s+"px;left: "+(n?e+"px":"unset")+';">'+o+"</div>"},e.prototype.getScaleForResolution=function(){var t=this.getMap().getView().getResolution(),e=this.viewState_.projection.getMetersPerUnit();return parseFloat(t.toString())*e*39.37*(25.4/.28)},e}(o.default);function g(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOrder=function(t,e){return parseInt((0,r.getUid)(t),10)-parseInt((0,r.getUid)(e),10)},e.getSquaredTolerance=function(t,e){var n=c(t,e);return n*n},e.getTolerance=c,e.renderFeature=function(t,e,n,r,s,u){var c=!1,h=n.getImage();if(h){var f=h.getImageState();f==i.default.LOADED||f==i.default.ERROR?h.unlistenImageChange(s):(f==i.default.IDLE&&h.load(),f=h.getImageState(),h.listenImageChange(s),c=!0)}return function(t,e,n,r,i){var s=n.getGeometryFunction()(e);if(s){var u=s.simplifyTransformed(r,i);if(n.getRenderer())!function t(e,n,r,i){if(n.getType()!=o.default.GEOMETRY_COLLECTION){var s=e.getBuilder(r.getZIndex(),a.default.DEFAULT);s.drawCustom(n,i,r.getRenderer())}else for(var u=n.getGeometries(),l=0,c=u.length;l<c;++l)t(e,u[l],r,i)}(t,u,n,e);else{var c=l[u.getType()];c(t,u,n,e)}}}(t,e,n,r,u),c};var r=n(7),i=s(n(66)),o=s(n(20)),a=s(n(460));function s(t){return t&&t.__esModule?t:{default:t}}var u=.5,l={Point:function(t,e,n,r){var o=n.getImage();if(o){if(o.getImageState()!=i.default.LOADED)return;var s=t.getBuilder(n.getZIndex(),a.default.IMAGE);s.setImageStyle(o,t.addDeclutter(!1)),s.drawPoint(e,r)}var u=n.getText();if(u){var l=t.getBuilder(n.getZIndex(),a.default.TEXT);l.setTextStyle(u,t.addDeclutter(!!o)),l.drawText(e,r)}},LineString:function(t,e,n,r){var i=n.getStroke();if(i){var o=t.getBuilder(n.getZIndex(),a.default.LINE_STRING);o.setFillStrokeStyle(null,i),o.drawLineString(e,r)}var s=n.getText();if(s){var u=t.getBuilder(n.getZIndex(),a.default.TEXT);u.setTextStyle(s,t.addDeclutter(!1)),u.drawText(e,r)}},Polygon:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(i||o){var s=t.getBuilder(n.getZIndex(),a.default.POLYGON);s.setFillStrokeStyle(i,o),s.drawPolygon(e,r)}var u=n.getText();if(u){var l=t.getBuilder(n.getZIndex(),a.default.TEXT);l.setTextStyle(u,t.addDeclutter(!1)),l.drawText(e,r)}},MultiPoint:function(t,e,n,r){var o=n.getImage();if(o){if(o.getImageState()!=i.default.LOADED)return;var s=t.getBuilder(n.getZIndex(),a.default.IMAGE);s.setImageStyle(o,t.addDeclutter(!1)),s.drawMultiPoint(e,r)}var u=n.getText();if(u){var l=t.getBuilder(n.getZIndex(),a.default.TEXT);l.setTextStyle(u,t.addDeclutter(!!o)),l.drawText(e,r)}},MultiLineString:function(t,e,n,r){var i=n.getStroke();if(i){var o=t.getBuilder(n.getZIndex(),a.default.LINE_STRING);o.setFillStrokeStyle(null,i),o.drawMultiLineString(e,r)}var s=n.getText();if(s){var u=t.getBuilder(n.getZIndex(),a.default.TEXT);u.setTextStyle(s,t.addDeclutter(!1)),u.drawText(e,r)}},MultiPolygon:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(o||i){var s=t.getBuilder(n.getZIndex(),a.default.POLYGON);s.setFillStrokeStyle(i,o),s.drawMultiPolygon(e,r)}var u=n.getText();if(u){var l=t.getBuilder(n.getZIndex(),a.default.TEXT);l.setTextStyle(u,t.addDeclutter(!1)),l.drawText(e,r)}},GeometryCollection:function(t,e,n,r){var i,o,a=e.getGeometriesArray();for(i=0,o=a.length;i<o;++i){var s=l[a[i].getType()];s(t,a[i],n,r)}},Circle:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(i||o){var s=t.getBuilder(n.getZIndex(),a.default.CIRCLE);s.setFillStrokeStyle(i,o),s.drawCircle(e,r)}var u=n.getText();if(u){var l=t.getBuilder(n.getZIndex(),a.default.TEXT);l.setTextStyle(u,t.addDeclutter(!1)),l.drawText(e,r)}}};function c(t,e){return u*t/e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(16),i=a(n(155)),o=a(n(4));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e){var n=t.call(this)||this;return n.highWaterMark=void 0!==e?e:2048,n.count_=0,n.entries_={},n.oldest_=null,n.newest_=null,n}return s(e,t),e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(o.default.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},e.prototype.get=function(t,e){var n=this.entries_[t];return(0,r.assert)(void 0!==n,15),n===this.newest_?n.value_:(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n,n.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return(0,r.assert)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){(0,r.assert)(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e}(i.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.drawCustom=function(t,e,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),i=n(210),o=n(1),a=f(n(20)),s=n(90),u=n(152),l=f(n(463)),c=n(100),h=n(41);function f(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(e,n,r,i,o,a,s){var u=t.call(this)||this;return u.context_=e,u.pixelRatio_=n,u.extent_=r,u.transform_=i,u.viewRotation_=o,u.squaredTolerance_=a,u.userTransform_=s,u.contextFillState_=null,u.contextStrokeState_=null,u.contextTextState_=null,u.fillState_=null,u.strokeState_=null,u.image_=null,u.imageAnchorX_=0,u.imageAnchorY_=0,u.imageHeight_=0,u.imageOpacity_=0,u.imageOriginX_=0,u.imageOriginY_=0,u.imageRotateWithView_=!1,u.imageRotation_=0,u.imageScale_=0,u.imageWidth_=0,u.text_="",u.textOffsetX_=0,u.textOffsetY_=0,u.textRotateWithView_=!1,u.textRotation_=0,u.textScale_=0,u.textFillState_=null,u.textStrokeState_=null,u.textState_=null,u.pixelCoordinates_=[],u.tmpLocalTransform_=(0,h.create)(),u}return p(e,t),e.prototype.drawImages_=function(t,e,n,r){if(this.image_){var i=(0,u.transform2D)(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var c=0,f=i.length;c<f;c+=2){var p=i[c]-this.imageAnchorX_,d=i[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_){var g=p+this.imageAnchorX_,v=d+this.imageAnchorY_;(0,h.compose)(a,g,v,this.imageScale_,this.imageScale_,l,-g,-v),o.setTransform.apply(o,a)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,d,this.imageWidth_,this.imageHeight_)}0===l&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=(0,u.transform2D)(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=r){var s=i[e]+this.textOffsetX_,l=i[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var c=(0,h.compose)(this.tmpLocalTransform_,s,l,this.textScale_,this.textScale_,a,-s,-l);o.setTransform.apply(o,c)}this.textStrokeState_&&o.strokeText(this.text_,s,l),this.textFillState_&&o.fillText(this.text_,s,l)}0===a&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,r,i){var o=this.context_,a=(0,u.transform2D)(t,e,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;i&&(s-=2);for(var l=2;l<s;l+=2)o.lineTo(a[l],a[l+1]);return i&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)e=this.moveToLineTo_(t,e,n[i],r,!0);return e},e.prototype.drawCircle=function(t){if((0,o.intersects)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,s.transformGeom2D)(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],i=Math.sqrt(n*n+r*r),a=this.context_;a.beginPath(),a.arc(e[0],e[1],i,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case a.default.POINT:this.drawPoint(t);break;case a.default.LINE_STRING:this.drawLineString(t);break;case a.default.POLYGON:this.drawPolygon(t);break;case a.default.MULTI_POINT:this.drawMultiPoint(t);break;case a.default.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case a.default.MULTI_POLYGON:this.drawMultiPolygon(t);break;case a.default.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case a.default.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&(0,o.intersects)(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,r=e.length;n<r;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,o.intersects)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if((0,o.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,r=t.getFlatCoordinates(),i=0,a=t.getEnds(),s=t.getStride();n.beginPath();for(var u=0,l=a.length;u<l;++u)i=this.moveToLineTo_(r,i,a[u],s,!1);n.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,o.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,o.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),r=0,i=t.getEndss(),a=t.getStride();e.beginPath();for(var s=0,u=i.length;s<u;++s){var l=i[s];r=this.drawRings_(n,r,l,a)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var c=t.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&((0,r.equals)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:c.defaultTextAlign;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=r&&(n.textAlign=r,e.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:(0,i.asColorLike)(n||c.defaultFillStyle)}}else this.fillState_=null;if(e){var r=e.getColor(),o=e.getLineCap(),a=e.getLineDash(),s=e.getLineDashOffset(),u=e.getLineJoin(),l=e.getWidth(),h=e.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:c.defaultLineCap,lineDash:a||c.defaultLineDash,lineDashOffset:s||c.defaultLineDashOffset,lineJoin:void 0!==u?u:c.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==l?l:c.defaultLineWidth),miterLimit:void 0!==h?h:c.defaultMiterLimit,strokeStyle:(0,i.asColorLike)(r||c.defaultStrokeStyle)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),r=t.getOrigin(),i=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=i[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=i[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:(0,i.asColorLike)(n||c.defaultFillStyle)}}else this.textFillState_=null;var r=t.getStroke();if(r){var o=r.getColor(),a=r.getLineCap(),s=r.getLineDash(),u=r.getLineDashOffset(),l=r.getLineJoin(),h=r.getWidth(),f=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==a?a:c.defaultLineCap,lineDash:s||c.defaultLineDash,lineDashOffset:u||c.defaultLineDashOffset,lineJoin:void 0!==l?l:c.defaultLineJoin,lineWidth:void 0!==h?h:c.defaultLineWidth,miterLimit:void 0!==f?f:c.defaultMiterLimit,strokeStyle:(0,i.asColorLike)(o||c.defaultStrokeStyle)}}else this.textStrokeState_=null;var p=t.getFont(),d=t.getOffsetX(),g=t.getOffsetY(),v=t.getRotateWithView(),y=t.getRotation(),_=t.getScale(),m=t.getText(),b=t.getTextAlign(),w=t.getTextBaseline();this.textState_={font:void 0!==p?p:c.defaultFont,textAlign:void 0!==b?b:c.defaultTextAlign,textBaseline:void 0!==w?w:c.defaultTextBaseline},this.text_=void 0!==m?m:"",this.textOffsetX_=void 0!==d?this.pixelRatio_*d:0,this.textOffsetY_=void 0!==g?this.pixelRatio_*g:0,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0!==y?y:0,this.textScale_=this.pixelRatio_*(void 0!==_?_:1)}else this.text_=""},e}(l.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toContext=function(t,e){var n=t.canvas,a=e||{},s=a.pixelRatio||r.DEVICE_PIXEL_RATIO,u=a.size;u&&(n.width=u[0]*s,n.height=u[1]*s,n.style.width=u[0]+"px",n.style.height=u[1]+"px");var l=[0,0,n.width,n.height],c=(0,i.scale)((0,i.create)(),s,s);return new o.default(t,s,l,c,0)},e.getVectorContext=function(t){var e,n=t.frameState,r=(0,i.multiply)(t.inversePixelTransform.slice(),n.coordinateToPixelTransform),u=(0,a.getSquaredTolerance)(n.viewState.resolution,n.pixelRatio),l=(0,s.getUserProjection)();l&&(e=(0,s.getTransformFromProjections)(l,n.viewState.projection));return new o.default(t.context,n.pixelRatio,n.extent,r,n.viewState.rotation,u,e)},e.getRenderPixel=function(t,e){var n=e.slice(0);return(0,i.apply)(t.inversePixelTransform.slice(),n),n},e.renderDeclutterItems=function(t,e){e&&e.clear();for(var n=t.declutterItems,r=n.length-1;r>=0;--r)for(var i=n[r],o=i.items,a=0,s=o.length;a<s;a+=3)e=o[a].renderDeclutter(o[a+1],o[a+2],i.opacity,e);return n.length=0,e};var r=n(123),i=n(41),o=function(t){return t&&t.__esModule?t:{default:t}}(n(464)),a=n(461),s=n(3)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shared=void 0;var r=n(171),i=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,n){var r=o(t,e,n);return r in this.cache_?this.cache_[r]:null},t.prototype.set=function(t,e,n,r){var i=o(t,e,n);this.cache_[i]=r,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}();function o(t,e,n){return e+":"+t+":"+(n?(0,r.asString)(n):"null")}e.default=i;e.shared=new i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(37));var i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.inversePixelTransform=n,o.frameState=r,o.context=i,o}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(67),i=n(149),o=p(n(467)),a=p(n(215)),s=p(n(856)),u=p(n(69)),l=n(27),c=n(100),h=p(n(4)),f=n(26);function p(t){return t&&t.__esModule?t:{default:t}}var d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(t){function e(e){var n=t.call(this,e)||this;n.labelCacheKey_=(0,f.listen)(c.labelCache,h.default.CLEAR,e.redrawText.bind(e)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className=r.CLASS_UNSELECTABLE+" ol-layers";var o=e.getViewport();return o.insertBefore(n.element_,o.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return d(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var r=new o.default(t,void 0,e);n.dispatchEvent(r)}},e.prototype.disposeInternal=function(){(0,f.unlistenByKey)(this.labelCacheKey_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(a.default.PRECOMPOSE,e);var n=e.layerStatesArray.sort(function(t,e){return t.zIndex-e.zIndex}),r=e.viewState;this.children_.length=0;for(var o=null,s=0,c=n.length;s<c;++s){var h=n[s];if(e.layerIndex=s,(0,i.inView)(h,r)&&(h.sourceState==u.default.READY||h.sourceState==u.default.UNDEFINED)){var f=h.layer.render(e,o);f&&f!==o&&(this.children_.push(f),o=f)}}t.prototype.renderFrame.call(this,e),(0,l.replaceChildren)(this.element_,this.children_),this.dispatchRenderEvent(a.default.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,r,o){for(var a=e.viewState,s=e.layerStatesArray,u=s.length-1;u>=0;--u){var l=s[u],c=l.layer;if(c.hasRenderer()&&(0,i.inView)(l,a)&&o(c)){var h=c.getRenderer().getDataAtPixel(t,e,n);if(h){var f=r(c,h);if(f)return f}}}},e}(s.default);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.render=x;var r=m(n(306)),i=m(n(468)),o=m(n(216)),a=m(n(482)),s=n(21),u=m(n(175)),l=m(n(209)),c=m(n(459)),h=m(n(478)),f=m(n(68)),p=n(32),d=n(67),g=n(27),v=n(26),y=m(n(4)),_=n(1);function m(t){return t&&t.__esModule?t:{default:t}}var b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return b(e,t),e.prototype.createRenderer=function(){return new i.default(this)},e}(r.default),E=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{element:document.createElement("div"),render:r.render||x,target:r.target})||this).boundHandleRotationChanged_=n.handleRotationChanged_.bind(n),n.collapsed_=void 0===r.collapsed||r.collapsed,n.collapsible_=void 0===r.collapsible||r.collapsible,n.collapsible_||(n.collapsed_=!1),n.rotateWithView_=void 0!==r.rotateWithView&&r.rotateWithView,n.viewExtent_=void 0;var i=void 0!==r.className?r.className:"ol-overviewmap",o=void 0!==r.tipLabel?r.tipLabel:"Overview map",a=void 0!==r.collapseLabel?r.collapseLabel:"";"string"==typeof a?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=a):n.collapseLabel_=a;var s=void 0!==r.label?r.label:"";"string"==typeof s?(n.label_=document.createElement("span"),n.label_.textContent=s):n.label_=s;var u=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=o,h.appendChild(u),h.addEventListener(y.default.CLICK,n.handleClick_.bind(n),!1),n.ovmapDiv_=document.createElement("div"),n.ovmapDiv_.className="ol-overviewmap-map",n.ovmap_=new w({view:r.view});var f=n.ovmap_;r.layers&&r.layers.forEach(function(t){f.addLayer(t)});var p=document.createElement("div");p.className="ol-overviewmap-box",p.style.boxSizing="border-box",n.boxOverlay_=new l.default({position:[0,0],positioning:c.default.CENTER_CENTER,element:p}),n.ovmap_.addOverlay(n.boxOverlay_);var g=i+" "+d.CLASS_UNSELECTABLE+" "+d.CLASS_CONTROL+(n.collapsed_&&n.collapsible_?" "+d.CLASS_COLLAPSED:"")+(n.collapsible_?"":" ol-uncollapsible"),v=n.element;v.className=g,v.appendChild(n.ovmapDiv_),v.appendChild(h);var _=n,m=n.boxOverlay_,b=function(t){var e=function(t){return{clientX:t.clientX,clientY:t.clientY}}(t),n=f.getEventCoordinateInternal(e);m.setPosition(n)},E=function t(e){var n=f.getEventCoordinateInternal(e);_.getMap().getView().setCenterInternal(n),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",t)};return n.boxOverlay_.getElement().addEventListener("mousedown",function(){window.addEventListener("mousemove",b),window.addEventListener("mouseup",E)}),n}return b(e,t),e.prototype.setMap=function(e){var n=this.getMap();if(e!==n){if(n){var r=n.getView();r&&this.unbindView_(r),this.ovmap_.setTarget(null)}if(t.prototype.setMap.call(this,e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push((0,v.listen)(e,u.default.PROPERTYCHANGE,this.handleMapPropertyChange_,this));var i=e.getView();i&&(this.bindView_(i),i.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},e.prototype.handleMapPropertyChange_=function(t){if(t.key===a.default.VIEW){var e=t.oldValue;e&&this.unbindView_(e);var n=this.getMap().getView();this.bindView_(n)}},e.prototype.bindView_=function(t){t.addEventListener((0,s.getChangeEventType)(h.default.ROTATION),this.boundHandleRotationChanged_)},e.prototype.unbindView_=function(t){t.removeEventListener((0,s.getChangeEventType)(h.default.ROTATION),this.boundHandleRotationChanged_)},e.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},e.prototype.validateExtent_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var n=t.getSize(),r=t.getView().calculateExtentInternal(n);if(!this.viewExtent_||!(0,_.equals)(r,this.viewExtent_)){this.viewExtent_=r;var i=e.getSize(),o=e.getView().calculateExtentInternal(i),a=e.getPixelFromCoordinateInternal((0,_.getTopLeft)(r)),s=e.getPixelFromCoordinateInternal((0,_.getBottomRight)(r)),u=Math.abs(a[0]-s[0]),l=Math.abs(a[1]-s[1]),c=i[0],h=i[1];u<.1*c||l<.1*h||u>.75*c||l>.75*h?this.resetExtent_():(0,_.containsExtent)(o,r)||this.recenter_()}}},e.prototype.resetExtent_=function(){var t=this.getMap(),e=this.ovmap_,n=t.getSize(),r=t.getView().calculateExtentInternal(n),i=e.getView(),o=Math.log(7.5)/Math.LN2,a=1/(.1*Math.pow(2,o/2));(0,_.scaleFromCenter)(r,a),i.fitInternal((0,p.fromExtent)(r))},e.prototype.recenter_=function(){var t=this.getMap(),e=this.ovmap_,n=t.getView();e.getView().setCenterInternal(n.getCenterInternal())},e.prototype.updateBox_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var n=t.getSize(),r=t.getView(),i=e.getView(),o=this.rotateWithView_?0:-r.getRotation(),a=this.boxOverlay_,s=this.boxOverlay_.getElement(),u=r.getCenterInternal(),l=r.getResolution(),c=i.getResolution(),h=n[0]*l/c,f=n[1]*l/c;if(a.setPosition(u),s){s.style.width=h+"px",s.style.height=f+"px";var p="rotate("+o+"rad)";s.style.transform=p}}},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(d.CLASS_COLLAPSED),this.collapsed_?(0,g.replaceNode)(this.collapseLabel_,this.label_):(0,g.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var t=this.ovmap_;if(!this.collapsed_){if(t.isRendered())return this.viewExtent_=void 0,void t.render();t.updateSize(),this.resetExtent_(),(0,v.listenOnce)(t,o.default.POSTRENDER,function(t){this.updateBox_()},this)}},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.setRotateWithView=function(t){this.rotateWithView_!==t&&(this.rotateWithView_=t,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))},e.prototype.getOverviewMap=function(){return this.ovmap_},e}(f.default);function x(t){this.validateExtent_(),this.updateBox_()}e.default=E},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.render=f;var r=n(26),i=u(n(300)),o=n(21),a=u(n(68)),s=n(3);function u(t){return t&&t.__esModule?t:{default:t}}n(302);var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c="projection",h=function(t){function e(e){var n=this,r=e||{},i=document.createElement("div");return i.className=void 0!==r.className?r.className:"ol-mouse-position",(n=t.call(this,{element:i,render:r.render||f,target:r.target})||this).addEventListener((0,o.getChangeEventType)(c),n.handleProjectionChanged_),r.coordinateFormat&&n.setCoordinateFormat(r.coordinateFormat),r.projection&&n.setProjection(r.projection),n.undefinedHTML_=void 0!==r.undefinedHTML?r.undefinedHTML:"&#160;",n.renderOnMouseOut_=!!n.undefinedHTML_,n.renderedHTML_=i.innerHTML,n.mapProjection_=null,n.transform_=null,n}return l(e,t),e.prototype.handleProjectionChanged_=function(){this.transform_=null},e.prototype.getCoordinateFormat=function(){return this.get("coordinateFormat")},e.prototype.getProjection=function(){return this.get(c)},e.prototype.handleMouseMove=function(t){var e=this.getMap();this.updateHTML_(e.getEventPixel(t))},e.prototype.handleMouseOut=function(t){this.updateHTML_(null)},e.prototype.setMap=function(e){if(t.prototype.setMap.call(this,e),e){var n=e.getViewport();this.listenerKeys.push((0,r.listen)(n,i.default.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,r.listen)(n,i.default.POINTEROUT,this.handleMouseOut,this))}},e.prototype.setCoordinateFormat=function(t){this.set("coordinateFormat",t)},e.prototype.setProjection=function(t){this.set(c,(0,s.get)(t))},e.prototype.updateHTML_=function(t){var e=this.undefinedHTML_;if(t&&this.mapProjection_){if(!this.transform_){var n=this.getProjection();this.transform_=n?(0,s.getTransformFromProjections)(this.mapProjection_,n):s.identityTransform}var r=this.getMap().getCoordinateFromPixelInternal(t);if(r){var i=(0,s.getUserProjection)();i&&(this.transform_=(0,s.getTransformFromProjections)(this.mapProjection_,i)),this.transform_(r,r);var o=this.getCoordinateFormat();e=o?o(r):r.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)},e}(a.default);function f(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null}e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=l(n(21)),o=l(n(471)),a=n(14),s=n(10),u=n(16);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(e){var n=t.call(this)||this,r=(0,s.assign)({},e);return r[o.default.OPACITY]=void 0!==e.opacity?e.opacity:1,(0,u.assert)("number"==typeof r[o.default.OPACITY],64),r[o.default.VISIBLE]=void 0===e.visible||e.visible,r[o.default.Z_INDEX]=e.zIndex,r[o.default.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,r[o.default.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,r[o.default.MIN_ZOOM]=void 0!==e.minZoom?e.minZoom:-1/0,r[o.default.MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==r.className?e.className:"ol-layer",delete r.className,n.setProperties(r),n.state_=null,n}return c(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=(0,a.clamp)(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n?n:!1===e.managed?1/0:0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return(0,r.abstract)()},e.prototype.getLayerStatesArray=function(t){return(0,r.abstract)()},e.prototype.getExtent=function(){return this.get(o.default.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(o.default.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(o.default.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(o.default.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(o.default.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(o.default.OPACITY)},e.prototype.getSourceState=function(){return(0,r.abstract)()},e.prototype.getVisible=function(){return this.get(o.default.VISIBLE)},e.prototype.getZIndex=function(){return this.get(o.default.Z_INDEX)},e.prototype.setExtent=function(t){this.set(o.default.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(o.default.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(o.default.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(o.default.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(o.default.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){(0,u.assert)("number"==typeof t,64),this.set(o.default.OPACITY,t)},e.prototype.setVisible=function(t){this.set(o.default.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(o.default.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(i.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=function(t,e,n,r,i){for(var o,a=[t[e],t[e+1]],s=[];e+r<n;e+=r){if(s[0]=t[e+r],s[1]=t[e+r+1],o=i(a,s))return o;a[0]=s[0],a[1]=s[1]}return!1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getInteriorPointOfArray=o,e.getInteriorPointsOfMultiArray=function(t,e,n,r,i){for(var a=[],s=0,u=n.length;s<u;++s){var l=n[s];a=o(t,e,l,r,i,2*s,a),e=l[l.length-1]}return a};var r=n(17),i=n(212);function o(t,e,n,o,a,s,u){for(var l,c,h,f,p,d,g,v=a[s+1],y=[],_=0,m=n.length;_<m;++_){var b=n[_];for(f=t[b-o],d=t[b-o+1],l=e;l<b;l+=o)p=t[l],g=t[l+1],(v<=d&&g<=v||d<=v&&v<=g)&&(h=(v-d)/(g-d)*(p-f)+f,y.push(h)),f=p,d=g}var w=NaN,E=-1/0;for(y.sort(r.numberSafeCompareFunction),f=y[0],l=1,c=y.length;l<c;++l){p=y[l];var x=Math.abs(p-f);x>E&&(h=(f+p)/2,(0,i.linearRingsContainsXY)(t,e,n,o,h,v)&&(w=h,E=x)),f=p}return isNaN(w)&&(w=a[s]),u?(u.push(w,v,E),u):[w,v,E]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clear=function(){i={}},e.add=function(t,e,n){var r=t.getCode(),o=e.getCode();r in i||(i[r]={});i[r][o]=n},e.remove=function(t,e){var n=t.getCode(),o=e.getCode(),a=i[n][o];delete i[n][o],(0,r.isEmpty)(i[n])&&delete i[n];return a},e.get=function(t,e){var n;t in i&&e in i[t]&&(n=i[t][e]);return n};var r=n(10),i={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=h(n(21)),o=n(1),a=n(152),s=n(3),u=h(n(89)),l=n(41),c=n(34);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=(0,l.create)(),d=function(t){function e(){var e=t.call(this)||this;return e.extent_=(0,o.createEmpty)(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=(0,c.memoizeOne)(function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(e)}),e}return f(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return(0,r.abstract)()},e.prototype.closestPointXY=function(t,e,n,i){return(0,r.abstract)()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return(0,r.abstract)()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),(0,o.returnOrUpdate)(this.extent_,t)},e.prototype.rotate=function(t,e){(0,r.abstract)()},e.prototype.scale=function(t,e,n){(0,r.abstract)()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return(0,r.abstract)()},e.prototype.getType=function(){return(0,r.abstract)()},e.prototype.applyTransform=function(t){(0,r.abstract)()},e.prototype.intersectsExtent=function(t){return(0,r.abstract)()},e.prototype.translate=function(t,e){(0,r.abstract)()},e.prototype.transform=function(t,e){var n=(0,s.get)(t),r=n.getUnits()==u.default.TILE_PIXELS?function(t,r,i){var u=n.getExtent(),c=n.getWorldExtent(),h=(0,o.getHeight)(c)/(0,o.getHeight)(u);return(0,l.compose)(p,c[0],c[3],h,-h,0,0,0),(0,a.transform2D)(t,0,t.length,i,p,r),(0,s.getTransform)(n,e)(t,r,i)}:(0,s.getTransform)(n,e);return this.applyTransform(r),this},e}(i.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=f(n(77)),o=f(n(20)),a=f(n(90)),s=n(297),u=n(172),l=n(88),c=n(122),h=n(150);function f(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(e,n){var r=t.call(this)||this;return r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return p(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<(0,r.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,u.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,u.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return(0,s.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return(0,c.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=(0,h.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,i.default.XY)},e.prototype.getType=function(){return o.default.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,l.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DROP=void 0;var r=n(16),i=n(10),o=e.DROP=1/0,a=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,(0,i.clear)(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(n);return delete this.queuedElements_[r],n},t.prototype.enqueue=function(t){(0,r.assert)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=o&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,r=e.length,i=e[t],o=n[t],a=t;t<r>>1;){var s=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),l=u<r&&n[u]<n[s]?u:s;e[t]=e[l],n[t]=n[l],t=l}e[t]=i,n[t]=o,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,r=this.priorities_,i=n[e],o=r[e];e>t;){var a=this.getParentIndex_(e);if(!(r[a]>o))break;n[e]=n[a],r[e]=r[a],e=a}n[e]=i,r[e]=o},t.prototype.reprioritize=function(){var t,e,n,r=this.priorityFunction_,i=this.elements_,a=this.priorities_,s=0,u=i.length;for(e=0;e<u;++e)(n=r(t=i[e]))==o?delete this.queuedElements_[this.keyFunction_(t)]:(a[s]=n,i[s++]=t);i.length=s,a.length=s,this.heapify_()},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(302);var r=n(123),i=l(n(102)),o=l(n(301)),a=n(26),s=l(n(155)),u=l(n(300));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(e,n){var i=t.call(this,e)||this;i.map_=e,i.clickTimeoutId_,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=n?n*r.DEVICE_PIXEL_RATIO:r.DEVICE_PIXEL_RATIO,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=(0,a.listen)(o,u.default.POINTERDOWN,i.handlePointerDown_,i),i.relayedListenerKey_=(0,a.listen)(o,u.default.POINTERMOVE,i.relayEvent_,i),i}return c(e,t),e.prototype.emulateClick_=function(t){var e=new o.default(i.default.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new o.default(i.default.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new o.default(i.default.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==i.default.POINTERUP||e.type==i.default.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==i.default.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new o.default(i.default.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(a.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new o.default(i.default.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&this.dragListenerKeys_.push((0,a.listen)(document,i.default.POINTERMOVE,this.handlePointerMove_,this),(0,a.listen)(document,i.default.POINTERUP,this.handlePointerUp_,this),(0,a.listen)(this.element_,i.default.POINTERCANCEL,this.handlePointerUp_,this))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new o.default(i.default.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new o.default(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,a.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&((0,a.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(a.unlistenByKey),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(s.default);e.default=h},function(t,e,n){var r=n(866);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(217),i=n(22),o=4294967295;t.exports=function(t){return t?r(i(t),0,o):0}},function(t,e){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return n.test(t)}},function(t,e,n){var r=n(43),i=n(29),o="[object Number]";t.exports=function(t){return"number"==typeof t||i(t)&&r(t)==o}},function(t,e,n){var r=n(49);t.exports=function(t){return t==t&&!r(t)}},function(t,e,n){var r=n(177),i=1/0,o=1.7976931348623157e308;t.exports=function(t){return t?(t=r(t))===i||t===-i?(t<0?-1:1)*o:t==t?t:0:0===t?t:0}},function(t,e,n){var r=n(22);t.exports=function(t){return"number"==typeof t&&t==r(t)}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(221),i=n(492),o=n(220),a=1,s=2;t.exports=function(t,e,n,u,l,c){var h=n&a,f=t.length,p=e.length;if(f!=p&&!(h&&p>f))return!1;var d=c.get(t);if(d&&c.get(e))return d==e;var g=-1,v=!0,y=n&s?new r:void 0;for(c.set(t,e),c.set(e,t);++g<f;){var _=t[g],m=e[g];if(u)var b=h?u(m,_,g,e,t,c):u(_,m,g,t,e,c);if(void 0!==b){if(b)continue;v=!1;break}if(y){if(!i(e,function(t,e){if(!o(y,e)&&(_===t||l(_,t,n,u,c)))return y.push(e)})){v=!1;break}}else if(_!==m&&!l(_,m,n,u,c)){v=!1;break}}return c.delete(t),c.delete(e),v}},function(t,e,n){var r=n(915),i=n(71),o=n(156),a=o&&o.isSet,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(916),i=n(71),o=n(156),a=o&&o.isMap,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(39).Uint8Array;t.exports=r},function(t,e,n){var r=n(127)(n(39),"WeakMap");t.exports=r},function(t,e,n){var r=n(127)(n(39),"Set");t.exports=r},function(t,e,n){var r=n(178),i=n(12);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e,n){var r=n(499),i=n(313),o=n(91);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(178),i=n(312),o=n(313),a=n(502),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},function(t,e){t.exports=function(){return[]}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e){t.exports=function(){return!1}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(505),i=n(180),o=n(12),a=n(179),s=n(106),u=n(227),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&i(t),h=!n&&!c&&a(t),f=!n&&!c&&!h&&u(t),p=n||c||h||f,d=p?r(t.length,String):[],g=d.length;for(var v in t)!e&&!l.call(t,v)||p&&("length"==v||h&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||d.push(v);return d}},function(t,e,n){var r=n(127),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(39)["__core-js_shared__"];t.exports=r},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(349))},function(t,e,n){var r=n(231),i=n(950),o=n(49),a=n(508),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,h=l.hasOwnProperty,f=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?f:s).test(a(t))}},function(t,e){t.exports=Math.scale||function(t,e,n,r,i){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||i!=i?NaN:t===1/0||t===-1/0?t:(t-e)*(i-r)/(n-e)+r}},function(t,e,n){var r=n(130);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e,n){var r=n(160),i=n(513);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(136),i=n(61),o=n(185).f;t.exports=function(t){return function(e){for(var n,a=i(e),s=r(a),u=s.length,l=0,c=[];u>l;)o.call(a,n=s[l++])&&c.push(t?[n,a[n]]:a[n]);return c}}},function(t,e,n){var r=n(24),i=n(340),o=n(81);t.exports=function(t,e,n,a){var s=String(o(t)),u=s.length,l=void 0===n?" ":String(n),c=r(e);if(c<=u||""==l)return s;var h=c-u,f=i.call(l,Math.ceil(h/l.length));return f.length>h&&(f=f.slice(0,h)),a?f+s:s+f}},function(t,e,n){"use strict";var r=n(246),i=n(15),o=n(24),a=n(75),s=n(23)("isConcatSpreadable");t.exports=function t(e,n,u,l,c,h,f,p){for(var d,g,v=c,y=0,_=!!f&&a(f,p,3);y<l;){if(y in u){if(d=_?_(u[y],y,n):u[y],g=!1,i(d)&&(g=void 0!==(g=d[s])?!!g:r(d)),g&&h>0)v=t(e,n,d,o(d.length),v,h-1)-1;else{if(v>=9007199254740991)throw TypeError();e[v]=d}v++}y++}return v}},function(t,e,n){var r=n(133),i=n(247),o=n(5),a=n(8).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(73),i=n(24);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){"use strict";var r=n(129),i=n(110).getWeak,o=n(5),a=n(15),s=n(131),u=n(130),l=n(79),c=n(62),h=n(157),f=l(5),p=l(6),d=0,g=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},y=function(t,e){return f(t.a,function(t){return t[0]===e})};v.prototype={get:function(t){var e=y(this,t);if(e)return e[1]},has:function(t){return!!y(this,t)},set:function(t,e){var n=y(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var l=t(function(t,r){s(t,l,e,"_i"),t._t=e,t._i=d++,t._l=void 0,void 0!=r&&u(r,n,t[o],t)});return r(l.prototype,{delete:function(t){if(!a(t))return!1;var n=i(t);return!0===n?g(h(this,e)).delete(t):n&&c(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=i(t);return!0===n?g(h(this,e)).has(t):n&&c(n,this._i)}}),l},def:function(t,e,n){var r=i(o(e),!0);return!0===r?g(t).set(e,n):r[t._i]=n,t},ufstore:g}},function(t,e,n){"use strict";var r,i=n(79)(0),o=n(51),a=n(110),s=n(542),u=n(520),l=n(15),c=n(13),h=n(157),f=a.getWeak,p=Object.isExtensible,d=u.ufstore,g={},v=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(t){if(l(t)){var e=f(t);return!0===e?d(h(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(h(this,"WeakMap"),t,e)}},_=t.exports=n(239)("WeakMap",v,y,u,!0,!0);c(function(){return 7!=(new _).set((Object.freeze||Object)(g),7).get(g)})&&(s((r=u.getConstructor(v,"WeakMap")).prototype,y),a.NEED=!0,i(["delete","has","get","set"],function(t){var e=_.prototype,n=e[t];o(e,t,function(e,i){if(l(e)&&!p(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)})}))},function(t,e,n){"use strict";var r=n(523),i=n(157);t.exports=n(239)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r=n(30).f,i=n(134),o=n(129),a=n(75),s=n(131),u=n(130),l=n(337),c=n(529),h=n(132),f=n(31),p=n(110).fastKey,d=n(157),g=f?"_s":"size",v=function(t,e){var n,r=p(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var c=t(function(t,r){s(t,c,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=r&&u(r,n,t[l],t)});return o(c.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=d(this,e),r=v(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function(t){d(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!v(d(this,e),t)}}),f&&r(c.prototype,"size",{get:function(){return d(this,e)[g]}}),c},def:function(t,e,n){var r,i,o=v(t,e);return o?o.v=n:(t._l=o={i:i=p(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[g]++,"F"!==i&&(t._i[i]=o)),t},getEntry:v,setStrong:function(t,e,n){l(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?c(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,c(1))},n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){"use strict";var r=n(523),i=n(157);t.exports=n(239)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){var r=n(5),i=n(15),o=n(323);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){n(31)&&"g"!=/./g.flags&&n(30).f(RegExp.prototype,"flags",{configurable:!0,get:n(184)})},function(t,e,n){"use strict";var r=n(327);n(0)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(35),i=n(135),o=n(24);t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),s=i(t,a),u=i(e,a),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?a:i(l,a))-u,a-s),h=1;for(u<s&&s<u+c&&(h=-1,u+=c-1,s+=c-1);c-- >0;)u in n?n[s]=n[u]:delete n[s],s+=h,u+=h;return n}},function(t,e,n){var r=n(40),i=n(35),o=n(186),a=n(24);t.exports=function(t,e,n,s,u){r(e);var l=i(t),c=o(l),h=a(l.length),f=u?h-1:0,p=u?-1:1;if(n<2)for(;;){if(f in c){s=c[f],f+=p;break}if(f+=p,u?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:h>f;f+=p)f in c&&(s=e(s,c[f],f,l));return s}},function(t,e,n){var r=n(5);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(339),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),l=r(t);return i<u?l*function(t){return t+1/o-1/o}(i/u/a)*u*a:(n=(e=(1+a/o)*i)-(e-i))>s||n!=n?l*(1/0):l*n}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var r=n(15),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e,n){var r=n(74);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(8).parseFloat,i=n(159).trim;t.exports=1/r(n(342)+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(8).parseInt,i=n(159).trim,o=n(342),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){"use strict";var r=n(40),i=n(15),o=n(539),a=[].slice,s={};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)}(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(u.prototype=e.prototype),u}},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var r=n(136),i=n(247),o=n(185),a=n(35),s=n(186),u=Object.assign;t.exports=!u||n(13)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,l=1,c=i.f,h=o.f;u>l;)for(var f,p=s(arguments[l++]),d=c?r(p).concat(c(p)):r(p),g=d.length,v=0;g>v;)h.call(p,f=d[v++])&&(n[f]=p[f]);return n}:u},function(t,e,n){var r=n(61),i=n(133).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(30),i=n(5),o=n(136);t.exports=n(31)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(62),i=n(61),o=n(248)(!1),a=n(346)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){e.f=n(23)},function(t,e,n){t.exports=!n(31)&&!n(13)(function(){return 7!=Object.defineProperty(n(348)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=n.p+"conf/styles.json5"},function(t,e,n){t.exports=n.p+"files/l10n.json"},function(t,e,n){t.exports=n.p+"conf/layers.json5"},function(t,e,n){t.exports=n.p+"conf/client.json5"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MaximizeButton=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(25),a=n(9),s=n(140);n(1171);e.MaximizeButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-maximize-button",t.element=(0,i.default)("<div>").get(0);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("MaximizeButton tipLabel")),(0,i.default)("<button>").addClass(a.cssClasses.mainButton).on("click",function(){n.handleClick_()}).appendTo(n.get$Element()),n.parameters_=t.URLParameters,n.baseURL_=s.URL.extractFromConfig(t,"baseURL"),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Control),r(e,[{key:"setMap",value:function(t){t&&this.baseURL_&&this.baseURL_.extractParamsFromMap(t),function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t)}},{key:"handleClick_",value:function(){var t=Object.assign({clsBtn:!0},this.parameters_),e=null!==this.baseURL_?this.baseURL_.finalize():void 0,n=this.getMap().get("urlApi").makeURL({baseURL:e,parameters:t});window.open(n)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CloseWindowButton=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(25);n(1174);e.CloseWindowButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-close-window-button",t.element=(0,i.default)("<div>")[0];var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.label_="label"in t?n.getLocaliser().selectL10N(t.label):n.getLocaliser().localiseUsingDictionary("CloseWindowButton label");var r=(0,i.default)("<button>").html(n.label_).on("click",function(){window.close()});return n.get$Element().append(r),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Control),r(e,[{key:"getFloat",value:function(){return this.getMap().get("mobile")?"fixed":function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getFloat",this).call(this)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkGenerator=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(25);e.LinkGenerator=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-minimaptaggenerator",t.element=(0,i.default)("<div>").get(0),t.singleButton=!1;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.baseURL_=t.hasOwnProperty("baseURL")?t.baseURL:window.location.origin+window.location.pathname,n.type_=t.type||"url","iframe"===n.type_||"url"===n.type_?(n.$textfield_=(0,i.default)("<textarea>"),n.get$Element().append(n.$textfield_)):"link"===n.type_&&(n.get$Element().append(n.getLocaliser().localiseUsingDictionary("LinkGenerator beforeLinkText")),n.$link_=(0,i.default)('<a target="_new">').text(n.getLocaliser().localiseUsingDictionary("LinkGenerator linkText")),n.get$Element().append(n.$link_),n.get$Element().append(n.getLocaliser().localiseUsingDictionary("LinkGenerator afterLinkText"))),n.generateHandler_=n.generate_.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Control),r(e,[{key:"setMap",value:function(t){var n=this;this.getMap()&&(this.getMap().un("click",this.generateHandler_),(0,i.default)(document).off("click keydown keyup touch mousewheel wheel DOMMouseScroll",this.generateHandler_)),function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&((0,i.default)(document).on("click keydown keyup touch mousewheel wheel DOMMouseScroll",this.generateHandler_),t.on("click",this.generateHandler_),t.asSoonAs("ready",!0,function(){return n.generate_()}))}},{key:"generate_",value:function(){var t=this.getMap(),e=t.get("urlApi").makeURL({baseURL:this.baseURL_,exclude:["lang"]});if("iframe"===this.type_){var n=t.getSize(),r='<iframe style="border:0;" width="'+n[0]+'" height="'+n[1]+'" src="'+e+'"></iframe>';this.$textfield_.val(r)}else"url"===this.type_?this.$textfield_.val(e):"link"===this.type_&&this.$link_.attr("href",e)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkGeneratorButton=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=h(n(2)),o=h(n(46)),a=h(n(148)),s=n(25),u=n(9),l=n(11),c=n(187);function h(t){return t&&t.__esModule?t:{default:t}}n(1177);e.LinkGeneratorButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-linkgenerator",t.element=(0,i.default)("<div>")[0];var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.active_=!1,n.style_=t.style||"#defaultStyle",n.baseURL_=t.baseURL,n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("LinkGeneratorButton title")),n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("LinkGeneratorButton tipLabel")),n.createHTML(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.Control),r(e,[{key:"createHTML",value:function(){var t=this,e=this.get$Element();this.getLocaliser().isRtl()&&e.prop("dir","rtl"),e.append((0,i.default)("<h3>").html(this.getTipLabel())),this.$markerCheckbox_=(0,i.default)('<input type="checkbox">');var n=(0,i.default)("<label>").addClass(this.className_+"-setmarker-checkbox").html(this.getLocaliser().localiseUsingDictionary("LinkGeneratorButton setMarkerText")).prepend(this.$markerCheckbox_);e.append(n),this.$markerCheckbox_.on("click",function(){t.$markerCheckbox_.is(":checked")?t.placeMarker():t.hideMarker()}),this.$markerDescriptionTextArea_=(0,i.default)("<textarea>"),this.$markerDescriptionTextArea_.on("input",function(){return t.updateDescription()}),this.$markerDescription_=(0,i.default)("<label>").addClass(this.className_+"-setmarker-textbox").addClass(u.cssClasses.hidden).html(this.getLocaliser().localiseUsingDictionary("LinkGeneratorButton setMarkerTextBoxText")).append(this.$markerDescriptionTextArea_),e.append(this.$markerDescription_),this.$linkDisplay_=(0,i.default)('<input type="text">').prop("readonly",!0),e.append((0,i.default)("<label>").addClass(this.className_+"-input").html(this.getLocaliser().localiseUsingDictionary("LinkGeneratorButton hint")).append(this.$linkDisplay_)),this.$linkDisplay_.on("mousedown click",function(e){1===e.which&&e.preventDefault(),t.$linkDisplay_.focus().select()})}},{key:"placeMarker",value:function(){var t=this;this.enableMap(),this.drawMarkerPoint().then(function(e){t.updateMarker(e),t.disableMap(),t.$markerDescription_.removeClass(u.cssClasses.hidden),t.$linkDisplay_.focus().select(),t.changed()})}},{key:"hideMarker",value:function(){this.marker_.setActive(!1),this.updateURL(),this.$linkDisplay_.focus().select(),this.$markerDescription_.addClass(u.cssClasses.hidden),this.changed()}},{key:"updateDescription",value:function(){var t=(0,c.filterText)(this.$markerDescriptionTextArea_.val());this.marker_.setText(t),t?this.marker_.setPopupVisible(!0):this.marker_.setPopupVisible(!1),this.updateURL()}},{key:"enableMap",value:function(){this.shield_.setActive(!1),(0,i.default)(this.getMap().getViewport()).children(".ol-overlaycontainer-stopevent, .ol-overlaycontainer").addClass(u.cssClasses.hidden)}},{key:"disableMap",value:function(){this.shield_.setActive(!0),(0,i.default)(this.getMap().getViewport()).children(".ol-overlaycontainer-stopevent, .ol-overlaycontainer").removeClass(u.cssClasses.hidden)}},{key:"updateMarker",value:function(t){this.marker_.setPosition(t);var e=this.getLocaliser().localiseUsingDictionary("LinkGeneratorButton markerText");this.marker_.setText(e),this.$markerDescriptionTextArea_.val((0,c.restoreText)(e)),e?this.marker_.setPopupVisible(!0):this.marker_.setPopupVisible(!1),this.marker_.setActive(!0),this.updateURL()}},{key:"setMap",value:function(t){if(t){this.marker_=t.get("marker"),this.shield_=t.get("shield");var n=new o.default;this.drawPoint_=new a.default({features:n,type:"Point",style:t.get("styling").getStyle(this.style_)}),this.drawPoint_.setActive(!1),t.addSupersedingInteraction("singleclick dblclick pointermove",this.drawPoint_)}(function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t)}},{key:"drawMarkerPoint",value:function(){var t=this;return new Promise(function(e){t.drawPoint_.setActive(!0),(0,i.default)(t.getMap().getViewport()).addClass(u.cssClasses.crosshair),t.drawPoint_.once("drawend",function(n){t.drawPoint_.setActive(!1),(0,i.default)(t.getMap().getViewport()).removeClass(u.cssClasses.crosshair),e(n.feature.getGeometry().getCoordinates())})}).catch(l.Debug.defaultErrorHandler)}},{key:"updateURL",value:function(){var t=this.getMap().get("urlApi");this.$linkDisplay_.val(t.makeURL({baseURL:this.baseURL_}))}},{key:"setActive",value:function(t){var e=this.active_;e!==t&&(this.active_=t,!0===t?(this.marker_.getActive()&&(this.resetMarker_={position:this.marker_.getPosition(),text:this.marker_.getText(),popVis:this.marker_.getPopupVisible()}),this.shield_.setActive(!0),this.shield_.add$OnTop(this.get$Element()),this.updateURL(),this.$linkDisplay_.focus().select(),this.marker_.getActive()&&(this.$markerCheckbox_.prop("checked",!0),this.$markerDescription_.removeClass(u.cssClasses.hidden),this.marker_.getText()&&this.$markerDescriptionTextArea_.val((0,c.restoreText)(this.marker_.getText())),this.marker_.setPopupVisible(!0))):(this.shield_.setActive(!1),this.shield_.remove$OnTop(this.get$Element()),this.$markerDescriptionTextArea_.val(""),this.$markerCheckbox_.prop("checked",!1),this.$markerDescription_.addClass(u.cssClasses.hidden),this.resetMarker_?(this.marker_.setActive(!0),this.marker_.setPosition(this.resetMarker_.position),this.marker_.setText(this.resetMarker_.text),this.marker_.setPopupVisible(this.resetMarker_.popVis),delete this.resetMarker_):this.marker_.setActive(!1)),this.dispatchEvent({type:"change:active",oldValue:e}))}},{key:"getActive",value:function(){return this.active_}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Marker=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(96),o=u(n(33)),a=n(251),s=u(n(28));function u(t){return t&&t.__esModule?t:{default:t}}e.Marker=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.active_=!1,this.style_=e.style||"#defaultStyle",this.popupVisible_=!1}return r(t,[{key:"setMap",value:function(t){var e=this;if(t){if(this.map_=t,this.feature_=new o.default,this.vectorLayer_=new i.VectorLayer({source:new a.Vector({features:[this.feature_]}),visible:!1}),t.addLayer(this.vectorLayer_),this.vectorLayer_.setStyle(t.get("styling").getStyle(this.style_)),t.get("styling").manageLayer(this.vectorLayer_),t.get("featurePopup")){var n=t.get("featurePopup");n.on("change:visible",function(){n.getFeature()===e.feature_&&(e.popupVisible_=n.get("visible"))})}}else this.map_.removeLayer(this.vectorLayer_),this.map_=t}},{key:"getPopupVisible",value:function(){return this.popupVisible_}},{key:"setPopupVisible",value:function(t){this.popupVisible_=t;var e=this.map_.get("featurePopup");e&&(!0===t?(e.setFeature(this.feature_,null,this.vectorLayer_.getStyle()),e.setVisible(!0)):e.setVisible(!1))}},{key:"setActive",value:function(t){this.active_!==t&&(this.active_=t,this.vectorLayer_.setVisible(t),t||this.setPopupVisible(!1))}},{key:"getActive",value:function(){return this.active_}},{key:"getPosition",value:function(){var t=this.feature_.getGeometry();if(t)return t.getCoordinates()}},{key:"setPosition",value:function(t){var e=new s.default(t);this.feature_.setGeometry(e)}},{key:"getText",value:function(){return this.feature_.get("description")}},{key:"setText",value:function(t){this.feature_.set("description",t)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.zoomParam={keys:["zoom"],setEvent:"afterConfiguring",setToMap:function(t,e){e.isSet("zoom")&&t.getView().setZoom(parseFloat(e.getSanitizedVal("zoom")))},getFromMap:function(t,e){if(!e.isExcluded("zoom"))return{zoom:t.getView().getZoom()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.visibleLayersParam={keys:["vislay"],setEvent:"afterConfiguring",setToMap:function(t,e){if(e.isSet("vislay")){var n=e.getArray("vislay");t.getLayerGroup().recursiveForEach(function(t){t.setVisible(n.indexOf(t.get("id").toString())>-1)})}},getFromMap:function(t,e){if(!e.isExcluded("vislay")){var n=[];return t.getLayerGroup().recursiveForEach(function(t){t.getVisible()&&n.push(t.get("id"))}),{vislay:n.join(",")}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.searchParam={keys:["search"],setEvent:"ready",setToMap:function(t,e){if(e.isSet("search")){var n=t.getControlsByName("searchControl")[0];n&&n.setSearchValue(e.getSanitizedVal("search"))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.rotationParam={keys:["rot"],setEvent:"afterConfiguring",setToMap:function(t,e){e.isSet("rot")&&t.getView().setRotation(Math.PI*e.getSanitizedVal("rot")/180)},getFromMap:function(t,e){if(!e.isExcluded("rot"))return{rot:180*t.getView().getRotation()/Math.PI}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.responsivenessParam={keys:["responsive"],setEvent:"ready",setToMap:function(t,e){e.isSet("responsive")&&t.set("responsive",JSON.parse(e.getSanitizedVal("responsive")))},getFromMap:function(t){return{responsive:t.get("responsive")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.markerParam=void 0;var r=n(11),i=n(187),o=n(3);e.markerParam={keys:["marklat","marklon","markx","marky","marktext","markpop","srid"],setEvent:"ready",setToMap:function(t,e){var n=t.get("marker"),i=void 0,a=void 0;n?(e.isSet("markx")&&e.isSet("marky")?(i=[parseFloat(e.getSanitizedVal("markx")),parseFloat(e.getSanitizedVal("marky"))],a=e.isSet("srid")?e.getSanitizedVal("srid"):t.get("interfaceProjection")):e.isSet("marklat")&&e.isSet("marklon")?(i=[parseFloat(e.getSanitizedVal("marklon")),parseFloat(e.getSanitizedVal("marklat"))],a="EPSG:4326"):(i=t.getView().getCenter(),a=t.getView().getProjection()),n.setPosition((0,o.transform)(i,a,t.get("mapProjection"))),(e.isSet("marklat")||e.isSet("marklon")||e.isSet("markx")||e.isSet("marky"))&&n.setActive(!0),e.isSet("marktext")&&(n.setActive(!0),n.setText(e.getSanitizedVal("marktext")),e.isTrue("markpop")||!e.isSet("markpop")?n.setPopupVisible(!0):n.setPopupVisible(!1))):r.Debug.warn("There is no marker configured for the map, but it was tried to set it via the urlapi.")},getFromMap:function(t,e){var n=t.get("marker");if(n&&n.getActive()&&!e.isExcluded("marker")){var r={srid:t.get("interfaceProjection")},a=(0,o.transform)(n.getPosition(),t.get("mapProjection"),t.get("interfaceProjection")),s=(0,i.restoreText)(n.getText()),u=n.getPopupVisible();return r.markx=a[0].toFixed(5),r.marky=a[1].toFixed(5),s&&(r.marktext=s,r.markpop=u),r}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.layerConfigurationFileParam={keys:["layconf"],setEvent:"beforeConfigLoad",setToMap:function(t,e){if(e.isSet("layconf")){var n=e.getInjectUnsafeVal("layconf").trim();if(n.match(/^(?:[a-z]+:)?\/\//i))throw new Error("The provided layconf parameter is absolute. Only relative paths are allowed.");t.set("layerConfigFileName",n)}},getFromMap:function(t){return{layconf:t.get("layerConfigFileName")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.languageParam={keys:["lang"],setEvent:"change:localiser",setToMap:function(t,e){e.isSet("lang")&&t.get("localiser").setCurrentLang(e.getSanitizedVal("lang"))},getFromMap:function(t){return{lang:t.get("localiser").getCurrentLang()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fitRectangleParam=void 0;var r=n(11),i=n(3);e.fitRectangleParam={keys:["x0","y0","x1","y1","srid","pad"],setEvent:"afterConfiguring",setToMap:function(t,e){if(e.isSet("x0")&&e.isSet("y0")&&e.isSet("x1")&&e.isSet("y1")){var n=parseFloat(e.getSanitizedVal("x0")),o=parseFloat(e.getSanitizedVal("y0")),a=parseFloat(e.getSanitizedVal("x1")),s=parseFloat(e.getSanitizedVal("y1"));if(!(isNaN(n)||isNaN(o)||isNaN(a)||isNaN(s))){var u={};if(e.isSet("srid")){var l=e.getSanitizedVal("srid");(0,i.get)(l)?u.srId=l:r.Debug.error("Unknown Projection '"+l+"'")}else u.srId=t.get("interfaceProjection");if(e.isSet("pad")){var c=parseFloat(e.getSanitizedVal("pad"));u.padding=[c,c,c,c]}t.get("api").fitRectangle([[n,o],[a,s]],u)}}},getFromMap:function(t,e){var n=t.getView(),r=(0,i.transform)(n.getCenter(),n.getProjection(),t.get("interfaceProjection"));if(!e.isExcluded("center"))return{x:r[0].toFixed(5),y:r[1].toFixed(5),srid:t.get("interfaceProjection")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.configurationFileParam={keys:["conf"],setEvent:"beforeConfigLoad",setToMap:function(t,e){if(e.isSet("conf")){var n=e.getInjectUnsafeVal("conf").trim();if(n.match(/^(?:[a-z]+:)?\/\//i))throw new Error("The provided conf parameter is absolute. Only relative paths are allowed.");t.set("configFileName",n)}},getFromMap:function(t){return{conf:t.get("configFileName")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.closeButtonParam={keys:["clsbtn"],setEvent:"ready:ui",setToMap:function(t,e){if(e.isTrue("clsbtn")){t.get("UIConfigurator").controlFactory.addControlTo(t,"closeWindowButton"),t.get("history").setOnLeave(function(){return window.close()});var n=!0,r=!1,i=void 0;try{for(var o,a=t.getControlsByName("maximizeButton")[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.removeControl(s)}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.centerParam=void 0;var r=n(3),i=n(11);e.centerParam={keys:["lon","lat","x","y","srid"],setEvent:"afterConfiguring",setToMap:function(t,e){if(e.isSet("lon")&&e.isSet("lat")&&Math.abs(parseFloat(e.getSanitizedVal("lat")))<90){var n=parseFloat(e.getSanitizedVal("lon")),o=parseFloat(e.getSanitizedVal("lat"));isNaN(n)||isNaN(o)||(e.setUrlValue("x",n.toString()),e.setUrlValue("y",o.toString()),e.setUrlValue("srid","EPSG:4326"),e.setJsValue("x",n),e.setJsValue("y",o),e.setJsValue("srid","EPSG:4326"))}if(e.isSet("x")&&e.isSet("y")){var a=parseFloat(e.getSanitizedVal("x")),s=parseFloat(e.getSanitizedVal("y")),u=t.get("interfaceProjection");if(e.isSet("srid")&&(u=e.getSanitizedVal("srid")),!isNaN(a)&&!isNaN(s)){var l=t.getView();(0,r.get)(u)?l.setCenter((0,r.transform)([a,s],u,l.getProjection())):i.Debug.error("Unknown Projection '"+u+"'")}}},getFromMap:function(t,e){var n=t.getView(),i=(0,r.transform)(n.getCenter(),n.getProjection(),t.get("interfaceProjection"));if(!e.isExcluded("center"))return{x:i[0].toFixed(5),y:i[1].toFixed(5),srid:t.get("interfaceProjection")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.availableLayersParam={keys:["avalay"],setEvent:"afterConfiguring",setToMap:function(t,e){if(e.isSet("avalay")){var n=e.getArray("avalay");n.length>0&&t.getLayerGroup().recursiveForEach(function(t){var e=n.indexOf(t.get("id").toString())>-1;t.set("available",e)}),t.get("configurator").configureUI()}},getFromMap:function(t,e){var n=[];return t.getLayerGroup().recursiveForEach(function(t){t.get("available")&&n.push(t.get("id"))}),{avalay:n.join(",")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Query=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(187);e.Query=function(){function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.urlValues_={},this.jsValues_=i,this.parameterKeys_=e,this.excluded_=n;var o=!0,a=!1,s=void 0;try{for(var u,l=this.excluded_[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;this.jsValues_.hasOwnProperty(c)&&(this.jsValues_[c]=void 0)}}catch(t){a=!0,s=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw s}}var h=void 0,f=window.location.search;if(""!==f)for(var p=f.substring(1).split("&"),d=0;d<p.length;d+=1)if(p[d].indexOf("=")>-1){h=p[d].split("=");var g=decodeURIComponent(h[0]).trim().toLowerCase(),v=decodeURIComponent(h[1]).trim();this.parameterKeys_.indexOf(g)>-1&&(this.urlValues_[g]=v)}}return r(t,[{key:"isSet",value:function(t){return this.jsValues_.hasOwnProperty(t)||this.urlValues_.hasOwnProperty(t)}},{key:"getSanitizedVal",value:function(t){return this.urlValues_.hasOwnProperty(t)?(0,i.filterText)(this.urlValues_[t]):this.jsValues_[t]}},{key:"getInjectUnsafeVal",value:function(t){return this.urlValues_.hasOwnProperty(t)?this.urlValues_[t]:this.jsValues_[t]}},{key:"isExcluded",value:function(t){return this.excluded_.indexOf(t)>-1}},{key:"isTrue",value:function(t){return this.urlValues_.hasOwnProperty(t)?JSON.parse(this.urlValues_[t]):this.jsValues_.hasOwnProperty(t)&&this.jsValues_[t]}},{key:"getArray",value:function(t){return this.urlValues_.hasOwnProperty(t)?this.urlValues_[t].split(",").map(i.filterText):this.jsValues_[t]}},{key:"setUrlValue",value:function(t,e){this.urlValues_[t]=e}},{key:"setJsValue",value:function(t,e){this.jsValues_[t]=e}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URLAPI=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),a=n(11),s=n(570),u=n(569),l=n(568),c=n(567),h=n(566),f=n(565),p=n(564),d=n(563),g=n(562),v=n(561),y=n(560),_=n(559),m=n(558),b=n(557);e.URLAPI=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map_=e.map,this.initialValues_={},this.parameters_=[u.availableLayersParam,l.centerParam,c.closeButtonParam,h.configurationFileParam,f.fitRectangleParam,p.languageParam,d.layerConfigurationFileParam,g.markerParam,v.responsivenessParam,y.rotationParam,_.searchParam,m.visibleLayersParam,b.zoomParam],e.hasOwnProperty("moduleParameters")&&Array.isArray(e.moduleParameters)&&e.moduleParameters.length&&(this.parameters_=this.parameters_.concat(e.moduleParameters)),this.parameterKeys_=[],this.parameterGetters_=[];var r=function(t){n.parameterKeys_=n.parameterKeys_.concat(t.keys),t.hasOwnProperty("setToMap")&&n.map_.once(t.setEvent,function(){t.hasOwnProperty("getFromMap")&&o.default.extend(n.initialValues_,t.getFromMap(n.map_,n.query_)),t.setToMap(n.map_,n.query_)}),t.hasOwnProperty("getFromMap")&&n.parameterGetters_.push(t.getFromMap)},i=!0,a=!1,w=void 0;try{for(var E,x=this.parameters_[Symbol.iterator]();!(i=(E=x.next()).done);i=!0){r(E.value)}}catch(t){a=!0,w=t}finally{try{!i&&x.return&&x.return()}finally{if(a)throw w}}var O="js"!==e.mode,C="url"!==e.mode?e.init:{};this.query_=new s.Query(this.parameterKeys_,e.excluded||[],O,C)}return i(t,[{key:"addApiLayer",value:function(t,e){if(this.parameterKeys_.indexOf(e)>-1)a.Debug.error("Key is already in use.");else if(e.toLowerCase()!==e)a.Debug.error("Key should be lowercase.");else{e=decodeURIComponent(e);var n=window.location.search.match(new RegExp("(\\?|&)"+e+"=(.*?)(&|$)","i"));if(n){var r=decodeURIComponent(n[2]).trim();this.query_.setUrlValue(e,r)}var i=function(){var n={};return n[e]=t.getSource().getQueryValues(),n};this.parameterGetters_.push(i),this.initialValues_[e]=i()[e],this.query_.isSet(e)&&(t.getSource().setQueryValues(this.query_.getArray(e)),t.setVisible(!0))}}},{key:"getCurrentParameters",value:function(){var t={};function e(t,e){if((void 0===t?"undefined":r(t))!==(void 0===e?"undefined":r(e)))return!1;if(t instanceof Array){if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}if("object"===(void 0===t?"undefined":r(t)))throw new Error("object comparsion not supported atm.");return t===e}var n=!0,i=!1,o=void 0;try{for(var a,s=this.parameterGetters_[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=(0,a.value)(this.map_,this.query_);if(u)for(var l in u)u.hasOwnProperty(l)&&void 0!==u[l]&&(!this.query_.isSet(l)&&this.initialValues_.hasOwnProperty(l)&&e(this.initialValues_[l],u[l])||(t[l]=u[l].toString()))}}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return t}},{key:"makeURL",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.baseURL||window.location.href.match(/^[^?]*/)[0],n=[],r=this.getCurrentParameters();for(var i in r)n.push(encodeURIComponent(i)+"="+encodeURIComponent(r[i]));if(void 0!==t.parameters)for(var o in t.parameters)n.push(encodeURIComponent(o)+"="+encodeURIComponent(t.parameters[o]));var a=e||"";return 0===n.length?a:a.indexOf("?")>-1?a+"&"+n.join("&"):a+"?"+n.join("&")}},{key:"makeHTMLSnippet",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).baseURL||window.location.href.match(/^[^?]*/)[0],e=Math.random().toString(36).substring(7),n=this.map_.get("configFileName"),r=this.map_.get("layerConfigFileName"),i=this.getCurrentParameters();return delete i.conf,delete i.layconf,'\n      <div>\n        <script src="'+t+'/js/ol.js"><\/script>\n        <script src="'+t+'/js/jquery.min.js"><\/script>\n        <script src="'+t+'/js/g4u.js"><\/script>\n        <link rel="stylesheet" href="'+this.mapUrl+'/css/g4u.css" />\n        <div id="#g4u-'+e+"\"></div>\n          <script>\n            g4u.createMap('#g4u-"+e+"', '"+n+"', '"+r+"', { apiInit: "+JSON.stringify(i)+"})\n        <\/script>\n      </div>\n    "}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URLAPIModule=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(6),o=n(350),a=n(571),s=n(556),u=n(252),l=n(555),c=n(554),h=n(553),f=n(552);e.URLAPIModule=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return t&&t.hasOwnProperty("moduleParameters")?n.moduleParameters_=t.moduleParameters:n.moduleParameters_=[],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Module),r(e,[{key:"setMap",value:function(t){(function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t);var n=t.get("options");t.set("urlApi",new a.URLAPI({map:t,moduleParameters:this.moduleParameters_,mode:n.apiMode,init:n.apiInit}))}},{key:"configureUI",value:function(t){var e=this.getMap().get("marker");e&&e.setMap(null),(0,i.getConfig)(t,"marker")?((e=new s.Marker(t.marker)).setMap(this.getMap()),this.getMap().set("marker",e)):this.getMap().set("marker",void 0)}},{key:"createControl",value:function(t,e,n){switch(t){case"linkGeneratorButton":return new u.WindowDecorator({component:new l.LinkGeneratorButton(e)});case"linkGenerator":return new c.LinkGenerator(e);case"closeWindowButton":return new h.CloseWindowButton(e);case"maximizeButton":return new f.MaximizeButton(e)}}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SearchConnector=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(399)),o=n(140);e.SearchConnector=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.serviceURL=o.URL.extractFromConfig(e,"serviceURL"),this.localiser=e.localiser}return r(t,[{key:"setMap",value:function(t){t&&(this.serviceURL.extractParamsFromMap(t),this.featureProjection=t.getView().getProjection(),this.map_=t)}},{key:"getMap",value:function(){return this.map_}},{key:"getAutoComplete",value:function(t){throw new Error("Function getAutoComplete not implemented!")}},{key:"getSearchResult",value:function(t){throw new Error("Function getSearchResult not implemented!")}},{key:"getByHandle",value:function(t){throw new Error("Function getByHandle not implemented!")}}],[{key:"flipTuples",value:function(t){return t.length?i.default.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t)):[[],[]]}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NominatimSearchConnector=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=h(n(2)),o=n(3),a=h(n(32)),s=h(n(28)),u=h(n(33)),l=n(11),c=n(573);function h(t){return t&&t.__esModule?t:{default:t}}e.NominatimSearchConnector=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.dataProjection="EPSG:4326",t.extent&&(n.userExtent_=t.extent),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,c.SearchConnector),r(e,[{key:"setExtent",value:function(t){var e=t.join(",");this.serviceURL.addParam("format=json&q={searchstring}&addressdetails=1&dedupe=1&viewboxlbrt="+e+"&bounded=1&extratags=1&namedetails=1")}},{key:"setMap",value:function(t){if(function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t){var n=this.userExtent_;if(t.get("mapConfig").view.extent&&(n=t.get("mapConfig").view.extent),n)this.setExtent((0,o.transformExtent)(n,t.get("interfaceProjection"),this.dataProjection));else{var r=t.getView().calculateExtent(t.getSize());this.setExtent((0,o.transformExtent)(r,this.featureProjection,this.dataProjection))}}}},{key:"getAutoComplete",value:function(t){return new Promise(function(t){return t([[],[]])})}},{key:"getSearchResult",value:function(t){var e=this;return new Promise(function(n,r){var o=e.serviceURL.clone().expandTemplate("searchstring",t).finalize();i.default.ajax({url:o,dataType:"json",success:function(t){n(c.SearchConnector.flipTuples(t.map(function(t){return e.readFeature_(t)})))},error:function(t,e){r(new Error("Problem while trying to get search results from the Server: "+e+" - "+t.responseText+" (SearchURL: "+o+")"))}})})}},{key:"readFeature_",value:function(t){var e=[];function n(t){(e.length<1||t!==e[e.length-1])&&e.push(t)}var r={},i=void 0;if(t.hasOwnProperty("place_id")&&(i=t.place_id),t.hasOwnProperty("display_name")&&(r.searchtext=t.display_name),!t.hasOwnProperty("namedetails"))throw new Error("Please add the option namedetails=1 to your searchstring in the config.");var c=this.localiser.getCurrentLang();if(t.namedetails.hasOwnProperty("name:"+c)?n(t.namedetails["name:"+c]):t.namedetails.hasOwnProperty("name")&&n(t.namedetails.name),!t.hasOwnProperty("address"))throw new Error("Please add the option addressdetails=1 to your searchstring in the config.");t&&t.address.hasOwnProperty("type")?n(t.address[t.type]):"administrative"===t.type&&n(t.display_name.split(", ")[0]);var h=void 0;t.address.hasOwnProperty("road")?h=t.address.road:t.address.hasOwnProperty("pedestrian")?h=t.address.pedestrian:t.address.hasOwnProperty("cycleway")&&(h=t.address.cycleway),h&&(t.address.hasOwnProperty("house_number")&&(h+=" "+t.address.house_number),n(h));var f=void 0;t.address.hasOwnProperty("postcode")&&(f=t.address.postcode);var p="";t.address.hasOwnProperty("city")?p=t.address.city:t.address.hasOwnProperty("town")?p=t.address.town:t.address.hasOwnProperty("village")&&(p=t.address.village),f&&p?n(f+" "+p):f?n(f):p&&n(p),t.address&&p!==t.address.hasOwnProperty("county")&&n(t.address.county);var d=e.join(",<br />");if(r.name=e.shift(),t.hasOwnProperty("extratags")){if(t.extratags.hasOwnProperty("website")){var g=this.localiser.localiseUsingDictionary("Nominatim website"),v=t.extratags.website;"http://"!==v.slice(0,7)&&(v="http://"+v),n('<a href="'+v+'" target="_blank">'+g+"</a>")}if(t.extratags.hasOwnProperty("wikipedia")){var y=t.extratags.wikipedia.split(":"),_=this.localiser.localiseUsingDictionary("Nominatim wikipedia");n('<a href="'+("http://"+y[0]+".wikipedia.org/wiki/"+y[1])+'" target="_blank">'+_+"</a>")}}else l.Debug.info("You can add the option extratags=1 to your searchstring in the config.");if(r.description=e.join("<br />"),t.hasOwnProperty("polygonpoints")){for(var m=[],b=0,w=t.polygonpoints.length;b<w;b++)m.push([parseFloat(t.polygonpoints[b][0]),parseFloat(t.polygonpoints[b][1])]);this.featureProjection&&(0,o.transform)(m,this.dataProjection,this.featureProjection),r.geometry=new a.default(m)}else if(t.hasOwnProperty("lon")&&t.hasOwnProperty("lat")){var E=[parseFloat(t.lon),parseFloat(t.lat)];if(this.featureProjection){var x=[parseFloat(t.lon),parseFloat(t.lat)];E=(0,o.transform)(x,this.dataProjection,this.featureProjection)}r.geometry=new s.default(E)}var O=new u.default(r);return t.hasOwnProperty("icon")&&O.set("iconStyle",t.icon),i&&O.setId(i),[d,O]}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SearchView=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(251),o=n(1),a=l(n(28)),s=l(n(99)),u=n(96);function l(t){return t&&t.__esModule?t:{default:t}}e.SearchView=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.style_=e.style||{},this.features_=[],this.searchlayerBottom_=null,this.searchlayerTop_=null}return r(t,[{key:"setMap",value:function(t){this.getMap()&&(this.getMap().getLayers().remove(this.searchlayerBottom_),this.getMap().getLayers().remove(this.searchlayerTop_)),this.map_=t,t&&(this.olStyle_=t.get("styling").getStyle(this.style_),this.searchlayerBottom_=new u.VectorLayer({source:new i.Vector({projection:t.getView().getProjection()})}),t.addLayer(this.searchlayerBottom_),this.searchlayerBottom_.setStyle(this.olStyle_),t.get("styling").manageLayer(this.searchlayerBottom_),this.searchlayerTop_=new u.VectorLayer({source:new i.Vector({projection:t.getView().getProjection()})}),t.addLayer(this.searchlayerTop_),this.searchlayerTop_.setStyle(this.olStyle_),t.get("styling").manageLayer(this.searchlayerTop_))}},{key:"getMap",value:function(){return this.map_}},{key:"getStyle",value:function(){return this.olStyle_}},{key:"centerOnSearchlayer",value:function(){if(this.searchlayerBottom_.getVisible()){var t=(0,o.extend)(this.searchlayerBottom_.getSource().getExtent(),this.searchlayerTop_.getSource().getExtent());(0,o.isEmpty)(t)||this.getMap().get("move").toExtent(t,{animated:this.animated_})}}},{key:"getFeatures",value:function(){return this.searchlayerBottom_.getSource().getFeatures().concat(this.searchlayerTop_.getSource().getFeatures())}},{key:"showSearchResults",value:function(t){var e=this.searchlayerBottom_.getSource();e.clear();var n=this.searchlayerTop_.getSource();n.clear(),t.forEach(function(t){t.getGeometry()&&(t.getGeometry()instanceof a.default||t.getGeometry()instanceof s.default?n.addFeature(t):e.addFeature(t))}),this.searchlayerBottom_.setVisible(!0),this.searchlayerTop_.setVisible(!0)}},{key:"hideSearchResults",value:function(){this.searchlayerBottom_&&this.searchlayerBottom_.setVisible(!1),this.searchlayerTop_&&this.searchlayerTop_.setVisible(!1)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SearchControl=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=d(n(2)),a=d(n(33)),s=n(53),u=n(253),l=n(9),c=n(6),h=n(25),f=n(575),p=n(187);function d(t){return t&&t.__esModule?t:{default:t}}n(1180),n(98);var g={NEVER:"never",ANY:"anyResult",EXACT:"exactResult"};e.SearchControl=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n.className=n.className||"g4u-search-control",n.element=(0,o.default)("<div>").get(0),n.singleButton=!1;var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));r.module_=t,r.getLocaliser().isRtl()&&r.get$Element().prop("dir","rtl"),r.searchView_=new f.SearchView({style:n.style}),n.connector.localiser=r.getLocaliser(),r.searchConnector_=r.module_.getConnector(n.connector),r.classNameTextfield_=r.className_+"-textfield",r.classNameSearchbutton_=r.className_+"-searchbutton",r.amountDropdownEntries_=n.hasOwnProperty("amountDropdownEntries")?n.amountDropdownEntries:4,r.autocompleteStart_=n.hasOwnProperty("autocompleteStart")?n.autocompleteStart:2;var i=n.slideDuration||400;r.autocompleteDelay_=n.hasOwnProperty("autocompleteDelay")?n.autocompleteDelay:300,r.animated_=n.animated,r.deactivateMobileSearch_=n.hasOwnProperty("deactivateMobileSearch")?n.deactivateMobileSearch:g.EXACT,r.projectionOfServer_=n.projectionOfServer;var a=n.hasOwnProperty("placeholder")?r.getLocaliser().selectL10N(n.placeholder):r.getLocaliser().localiseUsingDictionary("SearchControl placeholder");return r.$textfield_=(0,o.default)('<input autocomplete="off" type="search">').prop("placeholder",a).addClass(r.classNameTextfield_),r.$submitButton_=(0,o.default)("<button>").addClass(r.classNameSearchbutton_).text("S").on("click",function(){return r.onSubmit_()}),(0,s.addTooltip)(r.$submitButton_,r.getLocaliser().localiseUsingDictionary("SearchControl searchButton")),r.dropdown_=new u.Dropdown({ghostentry:n.hasOwnProperty("ghostentry")?n.ghostentry:r.getLocaliser().localiseUsingDictionary("SearchControl noSearchResults"),slideDuration:i}),r.dropdown_.on("select",function(){return r.onDropdownSelect_()}),r.dropdownActive_=!1,r.dropdownData_=[],r.active_=!1,r.$textfield_.on("input",function(t){r.onTextInput_(t)}),r.get$Element().on("keydown",function(t){t.which===l.keyCodes.ESCAPE?(r.dropdown_.slideUp(),(0,o.default)(r.getMap().getViewport()).focus()):t.which===l.keyCodes.ENTER&&r.onSubmit_()}),r.$textfield_.on("keydown",function(t){t.which===l.keyCodes.ARROW_DOWN?r.dropdown_.isSelectable()&&r.dropdown_.focus():t.which!==l.keyCodes.TAB||t.shiftKey||r.dropdown_.slideUp()}),r.dropdown_.on("leave:backwards",function(t){t.originalEvent.preventDefault(),r.$textfield_.focus()}),r.dropdown_.on("leave:forwards",function(t){t.originalEvent.preventDefault(),r.$submitButton_.focus()}),r.get$Element().append(r.$textfield_).append(r.$submitButton_).append(r.dropdown_.get$Element()),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,h.Control),i(e,[{key:"setMap",value:function(t){var n=this;if(t){this.searchView_.setMap(t),this.searchConnector_.setMap(t);var r=void 0;document.addEventListener("click",function(){r=!t.get("mobile")},!0),(0,o.default)(t.getViewport()).find(".ol-overlaycontainer-stopevent").add(document).on("click",function(){r&&n.setActive(!1)}),this.$textfield_.on("click",function(){r=!1,n.setActive(!0)})}(function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t)}},{key:"setActive",value:function(t){var e=this,n=this.active_;n!==t&&(t?(this.dropdownActive_&&this.dropdown_.slideDown(),setTimeout(function(){return e.$textfield_.focus()},0)):this.dropdownActive_&&this.dropdown_.slideUp(),this.active_=t,this.dispatchEvent({type:"change:active",oldValue:n}))}},{key:"getActive",value:function(){return this.active_}},{key:"updateDropdown_",value:function(t,e){var n=this;if(this.dropdown_.getValue()&&1===t.length&&this.dropdown_.getText()===(0,c.html2Text)(t[0])||0===t.length)return this.dropdown_.setLength(0),this.dropdownActive_=!1,this.dropdown_.slideUp().then(function(){return n.changed()});var r=Math.min(this.amountDropdownEntries_,t.length);return this.dropdown_.setEntries(e.slice(0,r),t.slice(0,r)),this.dropdownActive_=!0,this.dropdown_.slideDown().then(function(){return n.changed()})}},{key:"onDropdownSelect_",value:function(){var t=this,e=this.dropdown_.getValue();this.$textfield_.val((0,c.html2Text)(this.dropdown_.getText())),this.updateDropdown_([],[]),e instanceof a.default?this.onSearchEnd_([e]):this.searchConnector_.getByHandle(e).then(function(e){t.onSearchEnd_([e])})}},{key:"onTextInput_",value:function(){var t=this;this.searchView_.hideSearchResults(),clearTimeout(this.autocompleteTimeout_),this.autocompleteTimeout_=setTimeout(function(){var e=t.$textfield_.val();t.autocompleteStart_>=0&&e.length>=t.autocompleteStart_?t.searchConnector_.getAutoComplete(e).then(function(e){var n=r(e,2),i=n[0],o=n[1];t.updateDropdown_(i,o)}):t.autocompleteStart_>=0&&t.dropdown_.slideUp()},this.autocompleteDelay_)}},{key:"onSubmit_",value:function(){var t=this,e=this.$textfield_.val();this.dropdown_.getValue()&&e===(0,c.html2Text)(this.dropdown_.getText())||(this.searchView_.hideSearchResults(),""!==e?this.searchConnector_.getSearchResult(e).then(function(e){var n=r(e,2),i=n[0],o=n[1];t.updateDropdown_(i,o),t.onSearchEnd_(o)}):this.updateDropdown_([],[]))}},{key:"onSearchEnd_",value:function(t){if(t.length>0){this.searchView_.showSearchResults(t);var e=1===t.length;if(!this.getMap().get("mobile")&&e){var n=this.getMap().get("featurePopup");n.setFeature(t[0],null,t[0].getStyle()||this.searchView_.getStyle()),n.setVisible(!0,!1),n.centerMapOnPopup()}else this.searchView_.centerOnSearchlayer(),(e&&this.deactivateMobileSearch_===g.EXACT||this.deactivateMobileSearch_===g.ANY)&&this.setActive(!1);this.dispatchEvent({type:"searchEnd",success:!0,searchTerm:this.getSanitizedSearchValue()})}else this.dropdown_.showGhostEntry(),this.dispatchEvent({type:"searchEnd",success:!1,searchTerm:this.getSanitizedSearchValue()})}},{key:"getSanitizedSearchValue",value:function(){return(0,p.filterText)(this.$textfield_.val())}},{key:"getSearchView",value:function(){return this.searchView_}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SearchModule=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(350),o=n(11),a=n(576);e.SearchModule=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.searchControls_=[],n.searchConnectors_=t.connectors,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Module),r(e,[{key:"getConnector",value:function(t){return this.searchConnectors_.hasOwnProperty(t.type)||o.Debug.error('No valid connector for searchControl specified! (Option "connector.type", current value: '+t.type+")"),new this.searchConnectors_[t.type](t)}},{key:"createControl",value:function(t,e,n){if("searchControl"===t){var r=new a.SearchControl(this,e);return this.searchControls_.push(r),r}}},{key:"enableUserActionTracking",value:function(){var t=this,e=!0,n=!1,r=void 0;try{for(var i,o=this.searchControls_[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){i.value.on("searchEnd",function(e){t.getMap().dispatchEvent({type:"userActionTracking",action:"search",value:e.searchTerm})})}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}}]),e}()},function(t,e,n){t.exports=n.p+"images/g4u-logo.png"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMapInternal=function(t,e,n){var u=(0,s.copy)(n),l=void 0;e.length>0&&((0,i.isPlainObject)(e[0])?(Object.assign(u,e[0]),e.length>1&&(l=e[1])):(a.Debug.warn("You are not using a config files object. Please use createMap like this: `createMap(target, { client: 'path/to/conf.json', layer: 'path/to/other.json' }, options)` \nYou can use an empty object if you want to pass options."),u.client=e[0],e.length>1&&(u.layer=e[1],e.length>2&&(l=e[2]))));return new Promise(function(e,n){(0,r.default)(document).ready(function(){if(r.default){var i=(0,r.default)().jquery.split(".");+i[0]<2&&+i[1]<9&&a.Debug.error("You are using an outdated version of jQuery. Please use version 1.9 or higher.")}else n(new Error("jQuery not available."));(0,r.default)(t).empty(),window.map=new o.G4UMap(t,u,l),window.map.asSoonAs("ready",!0,function(){e(window.map)})})})};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2));n(578),n(98);var i=n(128),o=n(321),a=n(11),s=n(56);window.jQuery=window.jQuery||r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PopupModifierManager=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(11);e.PopupModifierManager=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.popupModifiers_=new Map}return r(t,[{key:"register",value:function(t,e){this.popupModifiers_.set(t,e)}},{key:"apply",value:function(t,e,n){var r=this,o=Promise.resolve(t),a=function(t){var n=r.popupModifiers_.get(t);n?o=o.then(function(t){return n(t,e)}):i.Debug.error("Trying to use unregistered modifier "+t)},s=!0,u=!1,l=void 0;try{for(var c,h=n[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){a(c.value)}}catch(t){u=!0,l=t}finally{try{!s&&h.return&&h.return()}finally{if(u)throw l}}return o}}]),t}()},function(t,e,n){"use strict";var r=o(n(2)),i=o(n(21));function o(t){return t&&t.__esModule?t:{default:t}}i.default.prototype.asSoonAs=function(t,e,n){var i=this;if(!r.default.isFunction(n))throw new Error("You need to provide a callback to asSoonAs.");this.get(t)===e?n():this.once("change:"+t,function(){i.asSoonAs(t,e,n)})},i.default.prototype.onAvailable=function(t,e){var n=this;if(!r.default.isFunction(e))throw new Error("You need to provide a callback to asSoonAs.");void 0!==this.get(t)?e(this.get(t)):this.once("change:"+t,function(){n.onAvailable(t,e)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.layerConfigConverter=function(t){if(t.layers)return t;var e={menus:{baseLayers:[{type:"group",items:"exclusive",groupButton:"noButton",buttons:[]}],featureLayers:[]},queryLayers:[],layers:[]},n=!0,o=!1,a=void 0;try{for(var s,u=t.baseLayers[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var l=s.value;l.overview=!0,i(l,e.menus.baseLayers[0].buttons,e.layers)}}catch(t){o=!0,a=t}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}var c=!0,h=!1,f=void 0;try{for(var p,d=t.featureLayers[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var g=p.value;i(g,e.menus.featureLayers,e.layers)}}catch(t){h=!0,f=t}finally{try{!c&&d.return&&d.return()}finally{if(h)throw f}}return r.Debug.warn("You are using an old style layer configuration. You might consider updating it. Below is the transformed file content."),r.Debug.info(JSON.stringify(e,null,2)),e};var r=n(11);function i(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("Category"===t.type){var o={type:"group",title:t.title,buttons:[]};t.activateChildren&&(o.groupButton="activate",delete t.activateChildren);var a=!0,s=!1,u=void 0;try{for(var l,c=t.layers[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){i(l.value,o.buttons,n,r)}}catch(t){s=!0,u=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}e.push(o)}else if("WMS"===t.type||"TileWMS"===t.type)if(n.push(t),t.buttons){var h={type:"group",buttons:t.buttons.map(function(e){return e.type="WMS",e.refId=t.id,e})};delete t.buttons,t.source.categoryButton?(delete t.source.categoryButton,h.title=t.title):h.groupButton="noButton",e.push(h)}else e.push({type:"layer",refId:t.id});else{n.push(t);var f={type:"layer",refId:t.id};"SilentGroup"===t.type&&(t.type="Group"),e.push(f)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.L10N=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(70)),o=n(11),a=n(140);e.L10N=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.defaultLang_=n.defaultLanguage||"en",r.currentLang_=n.currentLanguage||r.defaultLang_,r.languageFileUrl_=a.URL.extractFromConfig(n,"languageFile","files/l10n.commented.json"),n.availableLanguages?r.availableLanguages_=n.availableLanguages:(r.availableLanguages_=[r.currentLang_],r.currentLang_!==r.defaultLang_&&r.availableLanguages_.push(r.defaultLang_)),r.dictionary=t,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),r(e,[{key:"getAvailableLanguages",value:function(){return this.availableLanguages_}},{key:"setAvailableLanguages",value:function(t){this.availableLanguages_=t}},{key:"selectL10N",value:function(t){if(t){if("string"==typeof t)return t;if(t[this.currentLang_]||""===t[this.currentLang_])return t[this.currentLang_];if(t[this.defaultLang_]||""===t[this.defaultLang_])return t[this.defaultLang_];if(t["*"]||""===t["*"])return t["*"];o.Debug.error("Unable to obtain localization")}}},{key:"localiseUsingDictionary",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t in this.dictionary)return this.selectL10N(this.dictionary[t]);e||o.Debug.error("Cannot localise '"+t+"': Not in dictionary")}},{key:"setCurrentLang",value:function(t){this.currentLang_=t,this.dispatchEvent("change:language",t)}},{key:"getCurrentLang",value:function(){return this.currentLang_}},{key:"getDefaultLang",value:function(){return this.defaultLang_}},{key:"isRtl",value:function(){return this.dictionary[this.currentLang_].rtl||!1}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrintToScaleAPI=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(33)),o=l(n(433)),a=l(n(85)),s=l(n(36)),u=n(32);function l(t){return t&&t.__esModule?t:{default:t}}e.PrintToScaleAPI=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mainAPI_=e,this.map_=n}return r(t,[{key:"showFrame",value:function(t){var e=this;this.frameSource_||(this.frameSource_=new s.default({useSpatialIndex:!1}),this.map_.addLayer(new a.default({source:this.frameSource_})),this.interaction_=new o.default({features:this.frameSource_.getFeaturesCollection()}),this.map_.addSupersedingInteraction("singleclick pointermove",this.interaction_)),this.interaction_.setActive(!0),this.frameGeometry_=(0,u.fromExtent)(t),this.frameSource_.addFeature(new i.default(this.frameGeometry_)),this.mainAPI_.once("cancelInteractions",function(){e.frameSource_.clear(),e.interaction_.setActive(!1)})}},{key:"getFrame",value:function(){return this.frameGeometry_.getExtent()}},{key:"hideFrame",value:function(){this.frameSource_.clear(),this.interaction_.setActive(!1)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PlacesAPI=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(33)),o=l(n(164)),a=l(n(28)),s=l(n(85)),u=l(n(36));function l(t){return t&&t.__esModule?t:{default:t}}e.PlacesAPI=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mainAPI_=e,this.map_=n,this.possiblePlaces_=[]}return r(t,[{key:"init",value:function(){this.source_||(this.wktParser_=new o.default,this.source_=new u.default,this.layer_=new s.default({source:this.source_}),this.map_.addLayer(this.layer_),this.nextId=0)}},{key:"addPlace",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.init();var o=void 0;o="array"!==r.format?this.wktParser_.readGeometry(t):new a.default(t),r.projection&&o.transform(r.projection,this.map_.getView().getProjection());var s=this.map_.get("styling"),u=s.getStyle(r.style||"#placesStyle"),l=void 0===r.id?this.nextId++:r.id,c=new i.default(o);return c.setId(l),c.set("name",e),c.set("description",n),c.setStyle(u),c.set("clustering",r.clustering),s.manageFeature(c),this.possiblePlaces_.push(c),(void 0===r.active||r.active)&&this.source_.addFeature(c),l}},{key:"activate",value:function(t){this.source_.addFeature(this.possiblePlaces_.find(function(e){return e.getId()===t}))}},{key:"deactivate",value:function(t){this.source_.removeFeature(this.possiblePlaces_.find(function(e){return e.getId()===t}))}},{key:"isActive",value:function(t){return null!==this.source_.getFeatureById(t)}},{key:"clear",value:function(){this.source_.clear()}},{key:"openPopup",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.map_.get("featurePopup"),r=this.source_.getFeatureById(t);n.setFeature(r,null,r.getStyle()),n.setVisible(!0),!1!==e.center&&n.centerMapOnPopup()}},{key:"closePopup",value:function(){this.map_.get("featurePopup").setVisible(!1)}},{key:"hasPopup",value:function(t){var e=this.map_.get("featurePopup");if(e.getVisible()){var n=this.possiblePlaces_.find(function(e){return e.getId()===t});if(n)return e.getFeature()===n}return!1}},{key:"getExtent",value:function(){return this.source_.getExtent()}},{key:"onPopup",value:function(t){var e=this,n=this.map_.get("featurePopup"),r=void 0;n.on("change:feature",function(){r=n.getFeature()||r}),n.on("change:visible",function(){var i=n.getVisible(),o=e.possiblePlaces_.find(function(t){return t===r});o&&t(o.getId(),i)})}},{key:"changeStyle",value:function(t,e){e=this.map_.get("styling").getStyle(e||"#placesStyle"),this.source_.getFeatureById(t).setStyle(e)}},{key:"activateClustering",value:function(){this.map_.get("clusterLayer").addLayer(this.layer_)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MeasureAPI=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=u(n(164)),o=u(n(44)),a=u(n(32)),s=n(151);function u(t){return t&&t.__esModule?t:{default:t}}e.MeasureAPI=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mainAPI_=e,this.map_=n,this.wktParser_=new i.default}return r(t,[{key:"getLength",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=e.format&&"array"===e.format?new o.default(t):this.wktParser_.readGeometryFromText(t),(0,s.getLength)(t,e)}},{key:"getDistance",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.format&&"array"===n.format||(t=this.wktParser_.readGeometryFromText(t).getFirstCoordinate(),e=this.wktParser_.readGeometryFromText(e).getFirstCoordinate()),(0,s.getDistance)(t,e,n)}},{key:"getArea",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=e.format&&"array"===e.format?new a.default(t):this.wktParser_.readGeometryFromText(t),(0,s.getArea)(t,e)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KMLAPI=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=u(n(418)),o=u(n(85)),a=u(n(36)),s=n(11);function u(t){return t&&t.__esModule?t:{default:t}}e.KMLAPI=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mainAPI_=e,this.map_=n,this.nextId_=0,this.layers_={}}return r(t,[{key:"add",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.map_.get("styling"),r=n.getStyle(e.style||"#defaultStyle"),s=new i.default({extractStyles:!!e.extractStyles,defaultStyle:r}).readFeatures(t,{featureProjection:this.map_.getView().getProjection()}),u=new o.default({source:new a.default({features:s}),style:r,visible:!0});n.manageLayer(u),this.map_.addLayer(u);var l=this.nextId_++;return this.layers_[l]=u,l}},{key:"update",value:function(t,e,n){this.layers_.hasOwnProperty(t)||s.Debug.error("layer does not exist");var r=this.map_.get("styling").getStyle(n.style||"#defaultStyle"),o=new i.default({extractStyles:!!n.extractStyles,defaultStyle:r}).readFeatures(e,{featureProjection:this.map_.getView().getProjection()}),a=this.layers_[t].getSource();a.clear(),a.addFeatures(o)}},{key:"remove",value:function(t){this.layers_.hasOwnProperty(t)||s.Debug.error("layer does not exist"),this.map_.removeLayer(this.layers_[t]),delete this.layers_[t]}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeometryAPI=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=y(n(46)),o=y(n(164)),a=y(n(44)),s=n(32),u=n(148),l=y(u),c=y(n(287)),h=y(n(85)),f=y(n(36)),p=n(151),d=y(n(208)),g=y(n(65)),v=n(11);function y(t){return t&&t.__esModule?t:{default:t}}e.GeometryAPI=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mainAPI_=e,this.map_=n,this.lastId_=0,this.wktParser_=new o.default}return r(t,[{key:"drawGeometry",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.mainAPI_.cancelInteractions();var r=new i.default,o=this.map_.get("styling").getStyle(n.style||this.mainAPI_.getDrawStyle()),c=n.cursorRadius||0,h=n.cssCursor||"crosshair",f=n.showCircleRadius,y=n.format||"wkt",_=n.projection||this.map_.getView().getProjection(),m=void 0,b=o.getText().clone(),w=void 0;c>0&&(o.getImage()instanceof d.default||v.Debug.error('Cursor radius can only be used with image style type "circle"'),(w=o.clone()).getImage().setRadius(c));var E={features:r};"Box"===t?(E.type="Circle",E.geometryFunction=(0,u.createBox)()):E.type=t,E.style="Circle"===t&&f?function(t){if(t===m)return o;if(void 0!==m){var n=new a.default([m.getGeometry().getCenter(),t.getGeometry().getCoordinates()]),r=(0,p.getLength)(n,{projection:e.map_.getView().getProjection()}).toFixed(0);return b.setText(r+" m"),new g.default({geometry:n,stroke:o.getStroke(),text:b})}return w}:function(t){return t===m?o:w};var x=new l.default(E);x.on("drawstart",function(t){m=t.feature}),this.map_.addSupersedingInteraction("singleclick dblclick pointermove",x);var O=this.map_.getViewport().style.cursor;return this.map_.getViewport().style.cursor=h,new Promise(function(n){e.mainAPI_.once("cancelInteractions",function(){x.getActive()&&(x.setActive(!1),e.map_.removeInteraction(x),e.map_.getViewport().style.cursor=O,n(null))}),x.on("drawend",function(r){x.setActive(!1),e.map_.removeInteraction(x),e.map_.getViewport().style.cursor=O;var i=r.feature.getGeometry();switch("Circle"===t&&(i=(0,s.fromCircle)(i)),y){case"wkt":n(e.wktParser_.writeGeometry(i,{dataProjection:_,featureProjection:e.map_.getView().getProjection()}));break;case"array":i=i.transform(e.map_.getView().getProjection(),_),n(i.getCoordinates())}})})}},{key:"showGeometry",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.map_.get("styling");this.geometrySource_||(this.geometrySource_=new f.default,this.map_.addLayer(new h.default({source:this.geometrySource_,style:n.getStyle("#defaultStyle")})),this.modifyCollection_=new i.default,n.manageFeatureCollection(this.modifyCollection_),this.modifyGeometryInteraction_=new c.default({features:this.modifyCollection_,style:n.getStyle(this.mainAPI_.getDrawStyle())}),this.map_.addDefaultInteraction("singleclick",this.modifyGeometryInteraction_),this.modifyGeometryInteraction_.setActive(!0));var r=++this.lastId_,o=this.wktParser_.readFeature(t,{dataProjection:e.projection||this.map_.get("interfaceProjection"),featureProjection:this.map_.get("mapProjection")});o.setId(r),e.style&&o.setStyle(n.getStyle(e.style));var a=this.geometrySource_;if(void 0!==e.target){var s=this.map_.getLayerGroup().getLayerById(e.target);void 0===s?v.Debug.error("No layer with id "+e.target+" found."):s.getSource&&s.getSource()instanceof f.default?a=s.getSource():v.Debug.error("The layer has to be a VectorLayer (KML, GeoJSON, Intern)")}return a.addFeature(o),e.modifiable&&this.modifyCollection_.add(o),r}},{key:"getGeometry",value:function(t){return this.wktParser_.writeFeature(this.geometrySource_.getFeatureById(t))}},{key:"hideGeometry",value:function(t){this.geometrySource_.removeFeature(this.geometrySource_.getFeatureById(t))}},{key:"clear",value:function(){this.geometrySource_&&this.geometrySource_.clear()}},{key:"getExtent",value:function(){return this.geometrySource_.getExtent()}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureAPI=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=c(n(2)),o=c(n(46)),a=c(n(148)),s=c(n(287)),u=n(9),l=n(351);function c(t){return t&&t.__esModule?t:{default:t}}e.FeatureAPI=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mainAPI_=e,this.map_=n}return r(t,[{key:"drawFeature",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mainAPI_.cancelInteractions();var n=new o.default,r=this.map_.get("styling").getStyle(e.style||this.mainAPI_.getDrawStyle());this.map_.get("styling").manageFeatureCollection(n);var s=new a.default({features:n,type:e.type||"Point",style:r});return this.map_.addSupersedingInteraction("singleclick dblclick pointermove",s),(0,i.default)(this.map_.getViewport()).addClass(u.cssClasses.crosshair),new Promise(function(e){t.mainAPI_.once("cancelInteractions",function(){s.getActive()&&(s.setActive(!1),t.map_.removeInteraction(s),(0,i.default)(t.map_.getViewport()).removeClass(u.cssClasses.crosshair),e(null))}),s.on("drawend",function(n){s.setActive(!1),t.map_.removeInteraction(s),(0,i.default)(t.map_.getViewport()).removeClass(u.cssClasses.crosshair),e(n.feature)})})}},{key:"selectFeature",value:function(){var t=this;this.mainAPI_.cancelInteractions();var e=new l.FeatureInteraction({type:"singleclick"});return this.map_.addSupersedingInteraction("singleclick",e),(0,i.default)(this.map_.getViewport()).addClass(u.cssClasses.arrow),new Promise(function(n){t.mainAPI_.once("cancelInteractions",function(){e.getActive()&&(e.setActive(!1),t.map_.removeInteraction(e),(0,i.default)(t.map_.getViewport()).removeClass(u.cssClasses.arrow),n(null))}),e.on("interaction",function(r){r.interacted.length&&(e.setActive(!1),t.map_.removeInteraction(e),(0,i.default)(t.map_.getViewport()).removeClass(u.cssClasses.arrow),n({feature:r.interacted[0].feature,layer:r.interacted[0].layer}))})})}},{key:"modifyFeature",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.mainAPI_.cancelInteractions(),t=Array.isArray(t)?t:[t],n.features=new o.default(t),n.style&&(n.style=this.map_.get("styling").getStyle(n.style));var r=new s.default(n);this.map_.addSupersedingInteraction("singleclick dblclick pointermove",r),(0,i.default)(this.map_.getViewport()).addClass(u.cssClasses.crosshair),this.mainAPI_.once("cancelInteractions",function(){(0,i.default)(e.map_.getViewport()).removeClass(u.cssClasses.crosshair),r.setActive(!1),e.map_.removeInteraction(r)})}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.API=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=y(n(2)),o=y(n(164)),a=n(3),s=y(n(21)),u=n(1),l=n(9),c=n(11),h=n(589),f=n(588),p=n(587),d=n(586),g=n(585),v=n(584);function y(t){return t&&t.__esModule?t:{default:t}}e.API=function(t){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.featureManipulationActive_=!1,r.extentPadding_=n.extentPadding,r.drawStyle_=n.drawStyle||"#drawStyle",r.map_=t,r.map_.once("ready",function(){r.layerConfigurator_=r.map_.get("configurator").layerConfigurator_}),(0,i.default)(r.map_.getViewport()).on("keydown",r.onKeyDown_.bind(r)),r.geometryAPI_=new f.GeometryAPI(r,t),r.printToScaleAPI_=new v.PrintToScaleAPI(r,t),r.featureAPI_=new h.FeatureAPI(r,t),r.kmlAPI_=new p.KMLAPI(r,t),r.measureAPI_=new d.MeasureAPI(r,t),r.placesAPI_=new g.PlacesAPI(r,t),r.setApiAccessObject(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),r(e,[{key:"cancelInteractions",value:function(){this.dispatchEvent("cancelInteractions")}},{key:"getDrawStyle",value:function(){return this.drawStyle_}},{key:"setApiAccessObject",value:function(){var t=this,e={cancelInteractions:this.cancelInteractions.bind(this),geometry:{draw:this.geometryAPI_.drawGeometry.bind(this.geometryAPI_),show:this.geometryAPI_.showGeometry.bind(this.geometryAPI_),hide:this.geometryAPI_.hideGeometry.bind(this.geometryAPI_),clear:this.geometryAPI_.clear.bind(this.geometryAPI_),extent:this.geometryAPI_.getExtent.bind(this.geometryAPI_)},printToScale:{showFrame:this.printToScaleAPI_.showFrame.bind(this.printToScaleAPI_),getFrame:this.printToScaleAPI_.getFrame.bind(this.printToScaleAPI_),hideFrame:this.printToScaleAPI_.hideFrame.bind(this.printToScaleAPI_)},feature:{modify:this.featureAPI_.modifyFeature.bind(this.featureAPI_),select:this.featureAPI_.selectFeature.bind(this.featureAPI_),draw:this.featureAPI_.drawFeature.bind(this.featureAPI_)},kml:{add:this.kmlAPI_.add.bind(this.kmlAPI_),update:this.kmlAPI_.update.bind(this.kmlAPI_),remove:this.kmlAPI_.remove.bind(this.kmlAPI_)},places:{add:this.placesAPI_.addPlace.bind(this.placesAPI_),clear:this.placesAPI_.clear.bind(this.placesAPI_),openPopup:this.placesAPI_.openPopup.bind(this.placesAPI_),closePopup:this.placesAPI_.closePopup.bind(this.placesAPI_),hasPopup:this.placesAPI_.hasPopup.bind(this.placesAPI_),onPopup:this.placesAPI_.onPopup.bind(this.placesAPI_),extent:this.placesAPI_.getExtent.bind(this.placesAPI_),activate:this.placesAPI_.activate.bind(this.placesAPI_),deactivate:this.placesAPI_.deactivate.bind(this.placesAPI_),isActive:this.placesAPI_.isActive.bind(this.placesAPI_),style:this.placesAPI_.changeStyle.bind(this.placesAPI_),cluster:this.placesAPI_.activateClustering.bind(this.placesAPI_)},view:{getExtent:this.transformResult(function(){return t.map_.getView().calculateExtent()},a.transformExtent),fitExtent:this.transformInput(function(e){return t.map_.getView().fit(e,{padding:t.extentPadding_})},a.transformExtent),getCenter:this.transformResult(function(){return t.map_.getView().getCenter()},a.transform),setCenter:this.transformInput(function(e){return t.map_.getView().setCenter(e)},a.transform),getZoom:function(){return t.map_.getView().getZoom()},setZoom:function(e){return t.map_.getView().setZoom(e)}},move:{toExtent:this.moveToExtent.bind(this),toPoint:this.moveToPoint.bind(this)},transform:{coordinate:a.transform,extent:a.transformExtent,WKT:this.transformWKT.bind(this)},measure:{length:this.measureAPI_.getLength.bind(this.measureAPI_),area:this.measureAPI_.getArea.bind(this.measureAPI_),distance:this.measureAPI_.getDistance.bind(this.measureAPI_)},popupModifier:{register:function(e,n){return t.map_.get("popupModifiers").register(e,n)}},version:this.getVersion.bind(this)};this.map_.api=Object.assign(this.map_.api||{},e)}},{key:"getVersion",value:function(){return this.map_.get("guide4youVersion")}},{key:"transformResult",value:function(t,e){var n=this;return function(r){var i=t();return r&&r.projection&&(i=e(i,n.map_.getView().getProjection(),r.projection)),i}}},{key:"transformInput",value:function(t,e){var n=this;return function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.projection&&(r=e(r,i.projection,n.map_.getView().getProjection())),t(r)}}},{key:"moveToExtent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.projection&&(t=(0,a.transformExtent)(t,e.projection,this.map_.getView().getProjection())),e.padding||(e.padding=this.extentPadding_),this.map_.get("move").toExtent(t,e)}},{key:"moveToPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.projection&&(t=(0,a.transform)(t,e.projection,this.map_.getView().getProjection())),this.map_.get("move").toPoint(t,e)}},{key:"endFeatureManipulationInternal_",value:function(){this.featureManipulationInteraction_&&(this.featureManipulationInteraction_.setActive(!1),this.map_.removeInteraction(this.featureManipulationInteraction_)),(0,i.default)(this.map_.getViewport()).removeClass(l.cssClasses.crosshair),(0,i.default)(this.map_.getViewport()).removeClass(l.cssClasses.arrow),this.featureManipulationActive_=!1,this.dispatchEvent("endManipulation")}},{key:"cancelFeatureManipulation",value:function(){this.featureManipulationActive_&&this.endFeatureManipulationInternal_()}},{key:"fitRectangle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.hasOwnProperty("projection")||(e.projection="EPSG:4326"),e.hasOwnProperty("constrainResolution")||(e.constrainResolution=!1),e.hasOwnProperty("padding")||(e.padding=[0,0,0,0]),(0,a.get)(e.projection)?this.map_.getView().fit((0,u.boundingExtent)([(0,a.transform)([parseFloat(t[0][0]),parseFloat(t[0][1])],e.projection,this.map_.get("mapProjection").getCode()),(0,a.transform)([parseFloat(t[1][0]),parseFloat(t[1][1])],e.projection,this.map_.get("mapProjection").getCode())]),e):c.Debug.error("Unknown Projection '"+e.projection+"'")}},{key:"setVisibleLayer",value:function(t){this.map_.getLayerGroup().recursiveForEach(function(e){e.get("id")===t&&e.setVisible(!0)})}},{key:"onKeyDown_",value:function(t){this.featureManipulationActive_&&t.which===l.keyCodes.ESCAPE&&this.endFeatureManipulationInternal_()}},{key:"addLayer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.layerConfigurator_.getFactory().createLayer(t);e?this.map_.getLayers().insertAt(0,n):this.map_.addLayer(n)}},{key:"loadLayerFromServer",value:function(t){var e=this;return(t=t||{}).visible=!0,t.source=t.source||{},new Promise(function(n,r){var i=e.addLayer(t),o=i.getSource(),a=function(){o.un("vectorloadend",s),n(i)},s=function(){o.un("vectorloaderror",a),r(new Error("vector load error"))};o.once("vectorloadend",a),o.once("vectorloaderror",s)})}},{key:"createFeature",value:function(t){return this.layerConfigurator_.getFactory().createFeature(t)}},{key:"removeLayer",value:function(t){this.map_.getLayerGroup().removeLayer(t)}},{key:"updateWmsLayer",value:function(t,e){this.map_.getLayerGroup().recursiveForEach(function(n){n.get("id")===t&&n.getSource().updateParams({LAYERS:e})})}},{key:"transformWKT",value:function(t,e,n){var r=new o.default;return r.writeGeometry(r.readGeometry(t).transform(e,n))}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.History=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.callbacks_=[],"future"!==window.history.state&&(window.history.replaceState("base",""),window.history.pushState("future","")),window.addEventListener("popstate",function(t){if("base"===t.state){var n=e.callbacks_.pop();n?(n.call(),window.history.forward()):(void 0!==e.onLeave_&&e.onLeave_.call(),window.history.back())}})}return r(t,[{key:"setOnLeave",value:function(t){this.onLeave_=t}},{key:"push",value:function(t){this.callbacks_.push(t)}},{key:"pop",value:function(){this.callbacks_.pop()()}},{key:"flush",value:function(){for(;this.callbacks_.length;)this.pop()}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowWMSFeatureInfo=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=c(n(33)),o=c(n(28)),a=c(n(36)),s=n(363),u=n(257),l=n(96);function c(t){return t&&t.__esModule?t:{default:t}}e.ShowWMSFeatureInfo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.separator_=e.hasOwnProperty("seperator")?e.seperator:"<br>",this.styleConf_=e.style||"#defaultStyle",this.animated_=e.animated,this.centerOnPopup_=!e.hasOwnProperty("centerOnPopup")||e.centerOnPopup,this.showClickable_=e.hasOwnProperty("showClickable")?e.showClickable:"layerAtPixel",this.centerOnPopupInitial_=this.centerOnPopup_}return r(t,[{key:"handleClickEvent",value:function(t){var e=this,n=this.getMap(),r=n.getView().getProjection(),i=this.layers_.filter(function(t){return t.getVisible()});n.forEachLayerAtPixel(t.mapEvent.pixel,function(t){return i.indexOf(t)>-1})&&!n.forEachFeatureAtPixel(t.mapEvent.pixel,s.FeaturePopup.canDisplay)&&function(){var o=t.mapEvent.coordinate;e.utilitySource_.clear();var a=function(t){t.getSource().getFeatureInfo(o,n.getView().getResolution(),r).then(function(n){return e.handleData(void 0,o,t,n)})},s=!0,u=!1,l=void 0;try{for(var c,h=i[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){a(c.value)}}catch(t){u=!0,l=t}finally{try{!s&&h.return&&h.return()}finally{if(u)throw l}}}()}},{key:"handleData",value:function(t,e,n,r){var a=this;if(""!==r){var s=this.getMap().get("featurePopup");t?t.set("description",t.get("description")+this.separator_+r):(this.utilitySource_.clear(),t=new i.default({geometry:new o.default(e),description:r,style:this.style_}),this.getMap().get("styling").manageFeature(t),this.utilitySource_.addFeature(t),s.setFeature(t,n,this.style_,e),s.setVisible(!0),this.setPointVisible(!0),this.centerOnPopup_&&s.centerMapOnPopup(this.animated_),s.once("change:visible",function(){return a.setPointVisible(!1)})),n.on("change:visible",function(){s.setVisible(!1)})}}},{key:"layerQueryable",value:function(t){var e=this;return this.layers_.some(function(n){return n.getVisible()&&e.layers_.indexOf(t)>-1&&t.getSource().getQueryable()})}},{key:"clickableFilter",value:function(t){var e=this;return"everywhere"===this.showClickable_?this.layers_.some(function(t){return t.getVisible()}):"layerAtPixel"===this.showClickable_&&this.getMap().forEachLayerAtPixel(t.pixel,function(t){return e.layerQueryable(t)})}},{key:"setMap",value:function(t){var e=this,n=function(){t.get("mobile")?e.centerOnPopup_=!1:e.centerOnPopup_=e.centerOnPopupInitial_};if(this.getMap()&&this.getMap().un("change:mobile",n),this.map_=t,t){this.style_=t.get("styling").getStyle(this.styleConf_),this.utilitySource_=new a.default,this.utilityLayer_=new l.VectorLayer({visible:!1,source:this.utilitySource_}),t.addLayer(this.utilityLayer_),this.layers_=[];var r=new u.MapEventInteraction({type:"singleclick"});r.on("mapevent",function(t){return e.handleClickEvent(t)}),t.addDefaultInteraction("singleclick",r),t.get("clickableInteraction").addFilter(function(t){return e.clickableFilter(t)}),n(),t.on("change:mobile",n)}}},{key:"getPointVisible",value:function(){return this.utilityLayer_.getVisible()}},{key:"setPointVisible",value:function(t){this.utilityLayer_.setVisible(t)}},{key:"getMap",value:function(){return this.map_}},{key:"addLayer",value:function(t){this.layers_.push(t)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultLoadFunction=_;var r=g(n(45)),i=g(n(354)),o=g(n(353)),a=n(87),s=g(n(283)),u=n(55),l=n(97),c=n(1),h=g(n(4)),f=n(440),p=n(17),d=n(26);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=function(t){function e(e){var n=this,r=e.projection||"EPSG:3857",i=e.extent||(0,l.extentFromProjection)(r),a=e.tileGrid||(0,l.createXYZ)({extent:i,maxZoom:void 0!==e.maxZoom?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});return(n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,opaque:!1,projection:r,state:e.state,tileGrid:a,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:_,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection})||this).format_=e.format?e.format:null,n.loadingTiles_={},n.sourceTileByCoordKey_={},n.sourceTilesByTileKey_={},n.overlaps_=void 0==e.overlaps||e.overlaps,n.tileClass=e.tileClass?e.tileClass:o.default,n.tileGrids_={},n}return v(e,t),e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.clear=function(){this.tileCache.clear(),this.sourceTileByCoordKey_={},this.sourceTilesByTileKey_={}},e.prototype.getSourceTiles=function(t,e,n){var i=n.wrappedTileCoord,o=this.getTileGridForProjection(e),a=o.getTileCoordExtent(i),s=i[0],l=o.getResolution(s);(0,c.buffer)(a,-l,a);var f=this.tileGrid,g=f.getExtent();g&&(0,c.getIntersection)(a,g,a);var v,y,_,m=f.getZForResolution(l,1),b=f.getMinZoom(),w=this.sourceTilesByTileKey_[n.getKey()];if(w&&w.length>0&&w[0].tileCoord[0]===m)v=w,y=!0,_=m;else{v=[],_=m+1;do{--_,y=!0,f.forEachTileCoord(a,_,function(i){var o,a=(0,u.getKey)(i);if(a in this.sourceTileByCoordKey_){var s=(o=this.sourceTileByCoordKey_[a]).getState();if(s===r.default.LOADED||s===r.default.ERROR||s===r.default.EMPTY)return void v.push(o)}else if(_===m){var l=this.tileUrlFunction(i,t,e);void 0!==l&&((o=new this.tileClass(i,r.default.IDLE,l,this.format_,this.tileLoadFunction)).extent=f.getTileCoordExtent(i),o.projection=e,o.resolution=f.getResolution(i[0]),this.sourceTileByCoordKey_[a]=o,o.addEventListener(h.default.CHANGE,this.handleTileChange.bind(this)),o.load())}if(y=!1,o&&o.getState()!==r.default.EMPTY&&n.getState()===r.default.IDLE){n.loadingSourceTiles++;var c=(0,d.listen)(o,h.default.CHANGE,function(){var t=o.getState(),e=o.getKey();if(t===r.default.LOADED||t===r.default.ERROR){t===r.default.LOADED?((0,p.remove)(n.sourceTileListenerKeys,c),(0,d.unlistenByKey)(c),n.loadingSourceTiles--,delete n.errorSourceTileKeys[e]):t===r.default.ERROR&&(n.errorSourceTileKeys[e]=!0);var i=Object.keys(n.errorSourceTileKeys).length;n.loadingSourceTiles-i==0&&(n.hifi=0===i,n.sourceZ=m,n.setState(r.default.LOADED))}});n.sourceTileListenerKeys.push(c)}}.bind(this)),y||(v.length=0)}while(!y&&_>b)}return n.getState()===r.default.IDLE&&n.setState(r.default.LOADING),y&&(n.hifi=m===_,n.sourceZ=_,n.getState()<r.default.LOADED?n.setState(r.default.LOADED):w&&(0,p.equals)(v,w)||(this.removeSourceTiles(n),this.addSourceTiles(n,v))),v},e.prototype.addSourceTiles=function(t,e){this.sourceTilesByTileKey_[t.getKey()]=e;for(var n=0,r=e.length;n<r;++n)e[n].consumers++},e.prototype.removeSourceTiles=function(t){var e=t.getKey();if(e in this.sourceTilesByTileKey_)for(var n=this.sourceTilesByTileKey_[e],r=0,i=n.length;r<i;++r){var o=n[r];o.consumers--,0===o.consumers&&(o.dispose(),delete this.sourceTileByCoordKey_[(0,u.getKey)(o.tileCoord)])}delete this.sourceTilesByTileKey_[e]},e.prototype.getTile=function(t,e,n,o,a){var s,l=(0,u.getKeyZXY)(t,e,n),h=this.getKey();if(this.tileCache.containsKey(l)&&(s=this.tileCache.get(l)).key===h)return s;var f=[t,e,n],p=this.getTileCoordForTileUrlFunction(f,a),d=this.getTileGrid().getExtent(),g=this.getTileGridForProjection(a);if(p&&d){var v=g.getTileCoordExtent(p);(0,c.buffer)(v,-g.getResolution(t),v),(0,c.intersects)(d,v)||(p=null)}var y=!0;if(null!==p){var _=this.tileGrid,m=g.getResolution(t),b=_.getZForResolution(m,1),w=g.getTileCoordExtent(p);(0,c.buffer)(w,-m,w),_.forEachTileCoord(w,b,function(t){y=y&&!this.tileUrlFunction(t,o,a)}.bind(this))}var E=new i.default(f,y?r.default.EMPTY:r.default.IDLE,p,this.tileGrid,this.getSourceTiles.bind(this,o,a),this.removeSourceTiles.bind(this));return E.key=h,s?(E.interimTile=s,E.refreshInterimChain(),this.tileCache.replace(l,E)):this.tileCache.set(l,E),E},e.prototype.getTileGridForProjection=function(t){var e=t.getCode(),n=this.tileGrids_[e];if(!n){var r=this.tileGrid;n=(0,l.createForProjection)(t,void 0,r?r.getTileSize(r.getMinZoom()):void 0),this.tileGrids_[e]=n}return n},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.getTilePixelSize=function(t,e,n){var r=this.getTileGridForProjection(n),i=(0,a.toSize)(r.getTileSize(t),this.tmpSize);return[Math.round(i[0]*e),Math.round(i[1]*e)]},e}(s.default);function _(t,e){var n=(0,f.loadFeaturesXhr)(e,t.getFormat(),t.onLoad.bind(t),t.onError.bind(t));t.setLoader(n)}e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CustomTile=void 0;var r=v(n(119)),i=v(n(45)),o=n(143),a=n(16),s=n(26),u=v(n(4)),l=n(1),c=n(280),h=n(3),f=v(n(69)),p=v(n(200)),d=n(55),g=n(97);function v(t){return t&&t.__esModule?t:{default:t}}var y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n)||this;return s.src_=r,s.extent_=i,s.preemptive_=o,s.grid_=null,s.keys_=null,s.data_=null,s.jsonp_=a,s}return y(e,t),e.prototype.getImage=function(){return null},e.prototype.getData=function(t){if(!this.grid_||!this.keys_)return null;var e=(t[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),n=(t[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]),r=this.grid_[Math.floor((1-n)*this.grid_.length)];if("string"!=typeof r)return null;var i=r.charCodeAt(Math.floor(e*r.length));i>=93&&i--,i>=35&&i--;var o=null;if((i-=32)in this.keys_){var a=this.keys_[i];o=this.data_&&a in this.data_?this.data_[a]:a}return o},e.prototype.forDataAtCoordinate=function(t,e,n){this.state==i.default.IDLE&&!0===n?((0,s.listenOnce)(this,u.default.CHANGE,function(n){e(this.getData(t))},this),this.loadInternal_()):!0===n?setTimeout(function(){e(this.getData(t))}.bind(this),0):e(this.getData(t))},e.prototype.getKey=function(){return this.src_},e.prototype.handleError_=function(){this.state=i.default.ERROR,this.changed()},e.prototype.handleLoad_=function(t){this.grid_=t.grid,this.keys_=t.keys,this.data_=t.data,this.state=i.default.EMPTY,this.changed()},e.prototype.loadInternal_=function(){if(this.state==i.default.IDLE)if(this.state=i.default.LOADING,this.jsonp_)(0,c.jsonp)(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{var t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",this.src_),t.send()}},e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var n=void 0;try{n=JSON.parse(e.responseText)}catch(t){return void this.handleError_()}this.handleLoad_(n)}else this.handleError_()},e.prototype.onXHRError_=function(t){this.handleError_()},e.prototype.load=function(){this.preemptive_&&this.loadInternal_()},e}(r.default);e.CustomTile=_;var m=function(t){function e(e){var n=t.call(this,{projection:(0,h.get)("EPSG:3857"),state:f.default.LOADING})||this;if(n.preemptive_=void 0===e.preemptive||e.preemptive,n.tileUrlFunction_=o.nullTileUrlFunction,n.template_=void 0,n.jsonp_=e.jsonp||!1,e.url)if(n.jsonp_)(0,c.jsonp)(e.url,n.handleTileJSONResponse.bind(n),n.handleTileJSONError.bind(n));else{var r=new XMLHttpRequest;r.addEventListener("load",n.onXHRLoad_.bind(n)),r.addEventListener("error",n.onXHRError_.bind(n)),r.open("GET",e.url),r.send()}else e.tileJSON?n.handleTileJSONResponse(e.tileJSON):(0,a.assert)(!1,51);return n}return y(e,t),e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var n=void 0;try{n=JSON.parse(e.responseText)}catch(t){return void this.handleTileJSONError()}this.handleTileJSONResponse(n)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTemplate=function(){return this.template_},e.prototype.forDataAtCoordinateAndResolution=function(t,e,n,r){if(this.tileGrid){var i=this.tileGrid.getZForResolution(e,this.zDirection),o=this.tileGrid.getTileCoordForCoordAndZ(t,i);this.getTile(o[0],o[1],o[2],1,this.getProjection()).forDataAtCoordinate(t,n,r)}else!0===r?setTimeout(function(){n(null)},0):n(null)},e.prototype.handleTileJSONError=function(){this.setState(f.default.ERROR)},e.prototype.handleTileJSONResponse=function(t){var e,n=(0,h.get)("EPSG:4326"),r=this.getProjection();if(void 0!==t.bounds){var i=(0,h.getTransformFromProjections)(n,r);e=(0,l.applyTransform)(t.bounds,i)}var a=t.minzoom||0,s=t.maxzoom||22,u=(0,g.createXYZ)({extent:(0,g.extentFromProjection)(r),maxZoom:s,minZoom:a});this.tileGrid=u,this.template_=t.template;var c=t.grids;if(c){if(this.tileUrlFunction_=(0,o.createFromTemplates)(c,u),void 0!==t.attribution){var p=void 0!==e?e:n.getExtent();this.setAttributions(function(e){return(0,l.intersects)(p,e.extent)?[t.attribution]:null})}this.setState(f.default.READY)}else this.setState(f.default.ERROR)},e.prototype.getTile=function(t,e,n,r,o){var a=(0,d.getKeyZXY)(t,e,n);if(this.tileCache.containsKey(a))return this.tileCache.get(a);var s=[t,e,n],u=this.getTileCoordForTileUrlFunction(s,o),l=this.tileUrlFunction_(u,r,o),c=new _(s,void 0!==l?i.default.IDLE:i.default.EMPTY,void 0!==l?l:"",this.tileGrid.getTileCoordExtent(s),this.preemptive_,this.jsonp_);return this.tileCache.set(a,c),c},e.prototype.useTile=function(t,e,n){var r=(0,d.getKeyZXY)(t,e,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(p.default);e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(143),i=n(16),o=n(1),a=n(280),s=n(3),u=h(n(69)),l=h(n(84)),c=n(97);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:(0,s.get)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:u.default.LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition})||this;if(n.tileJSON_=null,n.tileSize_=e.tileSize,e.url)if(e.jsonp)(0,a.jsonp)(e.url,n.handleTileJSONResponse.bind(n),n.handleTileJSONError.bind(n));else{var r=new XMLHttpRequest;r.addEventListener("load",n.onXHRLoad_.bind(n)),r.addEventListener("error",n.onXHRError_.bind(n)),r.open("GET",e.url),r.send()}else e.tileJSON?n.handleTileJSONResponse(e.tileJSON):(0,i.assert)(!1,51);return n}return f(e,t),e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var n=void 0;try{n=JSON.parse(e.responseText)}catch(t){return void this.handleTileJSONError()}this.handleTileJSONResponse(n)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTileJSON=function(){return this.tileJSON_},e.prototype.handleTileJSONResponse=function(t){var e,n=(0,s.get)("EPSG:4326"),i=this.getProjection();if(void 0!==t.bounds){var a=(0,s.getTransformFromProjections)(n,i);e=(0,o.applyTransform)(t.bounds,a)}var l=t.minzoom||0,h=t.maxzoom||22,f=(0,c.createXYZ)({extent:(0,c.extentFromProjection)(i),maxZoom:h,minZoom:l,tileSize:this.tileSize_});if(this.tileGrid=f,this.tileUrlFunction=(0,r.createFromTemplates)(t.tiles,f),void 0!==t.attribution&&!this.getAttributions()){var p=void 0!==e?e:n.getExtent();this.setAttributions(function(e){return(0,o.intersects)(p,e.extent)?[t.attribution]:null})}this.tileJSON_=t,this.setState(u.default.READY)},e.prototype.handleTileJSONError=function(){this.setState(u.default.ERROR)},e}(l.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=l(n(119)),i=l(n(45)),o=n(27),a=n(87),s=l(n(144)),u=n(55);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(e,n,r){var o=t.call(this,e,i.default.LOADED)||this;return o.tileSize_=n,o.text_=r,o.canvas_=null,o}return c(e,t),e.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var t=this.tileSize_,e=(0,o.createCanvasContext2D)(t[0],t[1]);return e.strokeStyle="grey",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="grey",e.strokeStyle="white",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.lineWidth=4,e.strokeText(this.text_,t[0]/2,t[1]/2,t[0]),e.fillText(this.text_,t[0]/2,t[1]/2,t[0]),this.canvas_=e.canvas,e.canvas},e.prototype.load=function(){},e}(r.default),f=function(t){function e(e){var n=e||{};return t.call(this,{opaque:!1,projection:n.projection,tileGrid:n.tileGrid,wrapX:void 0===n.wrapX||n.wrapX,zDirection:n.zDirection})||this}return c(e,t),e.prototype.getTile=function(t,e,n){var r=(0,u.getKeyZXY)(t,e,n);if(this.tileCache.containsKey(r))return this.tileCache.get(r);var i=(0,a.toSize)(this.tileGrid.getTileSize(t)),o=[t,e,n],s=this.getTileCoordForTileUrlFunction(o),l=void 0;l=s?"z:"+s[0]+" x:"+s[1]+" y:"+s[2]:"none";var c=new h(o,i,l);return this.tileCache.set(r,c),c},e}(s.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(14),o=n(10),a=n(87),s=function(t){return t&&t.__esModule?t:{default:t}}(n(84)),u=n(55),l=n(141);var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,tileUrlFunction:f,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition})||this).params_=i.params||{},n.hidpi_=void 0===i.hidpi||i.hidpi,n.tmpExtent_=(0,r.createEmpty)(),n.setKey(n.getKeyForParams_()),n}return c(e,t),e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var n in this.params_)e[t++]=n+"-"+this.params_[n];return e.join("/")},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,n,r,o,a){var s=this.urls;if(s){var c,h=o.getCode().split(":").pop();if(a.SIZE=e[0]+","+e[1],a.BBOX=n.join(","),a.BBOXSR=h,a.IMAGESR=h,a.DPI=Math.round(a.DPI?a.DPI*r:90*r),1==s.length)c=s[0];else c=s[(0,i.modulo)((0,u.hash)(t),s.length)];var f=c.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return(0,l.appendParams)(f,a)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_?t:1},e.prototype.updateParams=function(t){(0,o.assign)(this.params_,t),this.setKey(this.getKeyForParams_())},e}(s.default);function f(t,e,n){var r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(n)),!(r.getResolutions().length<=t[0])){1==e||this.hidpi_||(e=1);var i=r.getTileCoordExtent(t,this.tmpExtent_),s=(0,a.toSize)(r.getTileSize(t[0]),this.tmpSize);1!=e&&(s=(0,a.scale)(s,e,this.tmpSize));var u={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return(0,o.assign)(u,this.params_),this.getRequestUrl_(t,s,i,e,n,u)}}e.default=h},function(t,e){var n=!0;try{new ImageData(10,10)}catch(t){n=!1}var r=document.createElement("canvas").getContext("2d");e.newImageData=function(t,e,i){if(n)return new ImageData(t,e,i);var o=r.createImageData(e,i);return o.data.set(t),o}},function(t,e,n){var r=n(598).newImageData;function i(t){var e=!0;try{new ImageData(10,10)}catch(t){e=!1}function n(t,n,r){return e?new ImageData(t,n,r):{data:t,width:n,height:r}}return function(e){var r,i,o=e.buffers,a=e.meta,s=e.imageOps,u=e.width,l=e.height,c=o.length,h=o[0].byteLength;if(s){var f=new Array(c);for(i=0;i<c;++i)f[i]=n(new Uint8ClampedArray(o[i]),u,l);r=t(f,a).data}else{r=new Uint8ClampedArray(h);var p=new Array(c),d=new Array(c);for(i=0;i<c;++i)p[i]=new Uint8ClampedArray(o[i]),d[i]=[0,0,0,0];for(var g=0;g<h;g+=4){for(var v=0;v<c;++v){var y=p[v];d[v][0]=y[g],d[v][1]=y[g+1],d[v][2]=y[g+2],d[v][3]=y[g+3]}var _=t(d,a);r[g]=_[0],r[g+1]=_[1],r[g+2]=_[2],r[g+3]=_[3]}}return r.buffer}}function o(t,e){var n=Object.keys(t.lib||{}).map(function(e){return"var "+e+" = "+t.lib[e].toString()+";"}).concat(["var __minion__ = ("+i.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),r=new Blob(n,{type:"text/javascript"}),o=URL.createObjectURL(r),a=new Worker(o);return a.addEventListener("message",e),a}function a(t){var e;this._imageOps=!!t.imageOps;var n=[];if(e=0===t.threads?0:this._imageOps?1:t.threads||1)for(var r=0;r<e;++r)n[r]=o(t,this._onWorkerMessage.bind(this,r));else n[0]=function(t,e){var n=i(t.operation);return{postMessage:function(t){setTimeout(function(){e({data:{buffer:n(t),meta:t.meta}})},0)}}}(t,this._onWorkerMessage.bind(this,0));this._workers=n,this._queue=[],this._maxQueueLength=t.queue||1/0,this._running=0,this._dataLookup={},this._job=null}a.prototype.process=function(t,e,n){this._enqueue({inputs:t,meta:e,callback:n}),this._dispatch()},a.prototype.destroy=function(){for(var t in this)this[t]=null;this._destroyed=!0},a.prototype._enqueue=function(t){for(this._queue.push(t);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)},a.prototype._dispatch=function(){if(0===this._running&&this._queue.length>0){var t=this._job=this._queue.shift(),e=t.inputs[0].width,n=t.inputs[0].height,r=t.inputs.map(function(t){return t.data.buffer}),i=this._workers.length;if(this._running=i,1===i)this._workers[0].postMessage({buffers:r,meta:t.meta,imageOps:this._imageOps,width:e,height:n},r);else for(var o=t.inputs[0].data.length,a=4*Math.ceil(o/4/i),s=0;s<i;++s){for(var u=s*a,l=[],c=0,h=r.length;c<h;++c)l.push(r[s].slice(u,u+a));this._workers[s].postMessage({buffers:l,meta:t.meta,imageOps:this._imageOps,width:e,height:n},l)}}},a.prototype._onWorkerMessage=function(t,e){this._destroyed||(this._dataLookup[t]=e.data,--this._running,0===this._running&&this._resolveJob())},a.prototype._resolveJob=function(){var t,e,n=this._job,i=this._workers.length;if(1===i)t=new Uint8ClampedArray(this._dataLookup[0].buffer),e=this._dataLookup[0].meta;else{var o=n.inputs[0].data.length;t=new Uint8ClampedArray(o),e=new Array(o);for(var a=4*Math.ceil(o/4/i),s=0;s<i;++s){var u=this._dataLookup[s].buffer,l=s*a;t.set(new Uint8ClampedArray(u),l),e[s]=this._dataLookup[s].meta}}this._job=null,this._dataLookup={},n.callback(null,r(t,n.inputs[0].width,n.inputs[0].height),e),this._dispatch()},t.exports=a},function(t,e,n){var r=n(599);e.Processor=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RasterSourceEvent=void 0;var r=_(n(199)),i=_(n(299)),o=n(27),a=_(n(37)),s=_(n(4)),u=n(600),l=n(1),c=_(n(275)),h=_(n(421)),f=n(10),p=n(41),d=_(n(117)),g=_(n(200)),v=_(n(69)),y=_(n(168));function _(t){return t&&t.__esModule?t:{default:t}}var m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b="beforeoperations",w="afteroperations",E={PIXEL:"pixel",IMAGE:"image"},x=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.extent=n.extent,i.resolution=n.viewState.resolution/n.pixelRatio,i.data=r,i}return m(e,t),e}(a.default);e.RasterSourceEvent=x;var O=function(t){function e(e){var n=t.call(this,{projection:null})||this;n.worker_=null,n.operationType_=void 0!==e.operationType?e.operationType:E.PIXEL,n.threads_=void 0!==e.threads?e.threads:1,n.layers_=function(t){for(var e=t.length,n=new Array(e),r=0;r<e;++r)n[r]=P(t[r]);return n}(e.sources);for(var r=n.changed.bind(n),o=0,a=n.layers_.length;o<a;++o)n.layers_[o].addEventListener(s.default.CHANGE,r);return n.tileQueue_=new i.default(function(){return 1},n.changed.bind(n)),n.requestedFrameState_,n.renderedImageCanvas_=null,n.renderedRevision_,n.frameState_={animate:!1,coordinateToPixelTransform:(0,p.create)(),extent:null,index:0,layerIndex:0,layerStatesArray:function(t){return t.map(function(t){return t.getLayerState()})}(n.layers_),pixelRatio:1,pixelToCoordinateTransform:(0,p.create)(),postRenderFunctions:[],size:[0,0],tileQueue:n.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},declutterItems:[]},n.setAttributions(function(t){for(var n=[],r=0,i=e.sources.length;r<i;++r){var o=e.sources[r],a=(o instanceof y.default?o:o.getSource()).getAttributions();if("function"==typeof a){var s=a(t);n.push.apply(n,s)}}return 0!==n.length?n:null}),void 0!==e.operation&&n.setOperation(e.operation,e.lib),n}return m(e,t),e.prototype.setOperation=function(t,e){this.worker_=new u.Processor({operation:t,imageOps:this.operationType_===E.IMAGE,queue:1,lib:e,threads:this.threads_}),this.changed()},e.prototype.updateFrameState_=function(t,e,n){var r=(0,f.assign)({},this.frameState_);r.viewState=(0,f.assign)({},r.viewState);var i=(0,l.getCenter)(t);r.extent=t.slice(),r.size[0]=Math.round((0,l.getWidth)(t)/e),r.size[1]=Math.round((0,l.getHeight)(t)/e),r.time=1/0;var o=r.viewState;return o.center=i,o.projection=n,o.resolution=e,r},e.prototype.allSourcesReady_=function(){for(var t=!0,e=0,n=this.layers_.length;e<n;++e)if(this.layers_[e].getSource().getState()!==v.default.READY){t=!1;break}return t},e.prototype.getImage=function(t,e,n,r){if(!this.allSourcesReady_())return null;var i=this.updateFrameState_(t,e,r);if(this.requestedFrameState_=i,this.renderedImageCanvas_){var o=this.renderedImageCanvas_.getResolution(),a=this.renderedImageCanvas_.getExtent();e===o&&(0,l.equals)(t,a)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),i.tileQueue.loadMoreTiles(16,16),i.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_},e.prototype.processSources_=function(){for(var t=this.requestedFrameState_,e=this.layers_.length,n=new Array(e),r=0;r<e;++r){t.layerIndex=r;var i=S(this.layers_[r],t);if(!i)return;n[r]=i}var o={};this.dispatchEvent(new x(b,t,o)),this.worker_.process(n,o,this.onWorkerComplete_.bind(this,t))},e.prototype.onWorkerComplete_=function(t,e,n,i){if(!e&&n){var a=t.extent,s=t.viewState.resolution;if(s===this.requestedFrameState_.viewState.resolution&&(0,l.equals)(a,this.requestedFrameState_.extent)){var u;if(this.renderedImageCanvas_)u=this.renderedImageCanvas_.getImage().getContext("2d");else{var c=Math.round((0,l.getWidth)(a)/s),h=Math.round((0,l.getHeight)(a)/s);u=(0,o.createCanvasContext2D)(c,h),this.renderedImageCanvas_=new r.default(a,s,1,u.canvas)}u.putImageData(n,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new x(w,t,i))}}},e.prototype.getImageInternal=function(){return null},e}(d.default),C=null;function S(t,e){var n=t.getRenderer();if(!n)throw new Error("Unsupported layer type: "+t);if(!n.prepareFrame(e))return null;var r,i=e.size[0],a=e.size[1],s=n.renderFrame(e,null);if(s&&(r=s.firstElementChild),!(r instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+r);if(r.width===i&&r.height===a)return r.getContext("2d").getImageData(0,0,i,a);if(C){var u=C.canvas;u.width!==i||u.height!==a?C=(0,o.createCanvasContext2D)(i,a):C.clearRect(0,0,i,a)}else C=(0,o.createCanvasContext2D)(i,a);return C.drawImage(r,0,0,i,a),C.getImageData(0,0,i,a)}function P(t){var e;return t instanceof y.default?t instanceof g.default?e=new h.default({source:t}):t instanceof d.default&&(e=new c.default({source:t})):e=t,e}e.default=O},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(120)),i=h(n(66)),o=n(27),a=h(n(4)),s=n(1),u=n(3),l=n(117),c=h(l);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t){function e(e){var n=this,i=void 0!==e.crossOrigin?e.crossOrigin:null,o=void 0!==e.imageLoadFunction?e.imageLoadFunction:l.defaultImageLoadFunction;return(n=t.call(this,{attributions:e.attributions,projection:(0,u.get)(e.projection)})||this).url_=e.url,n.imageExtent_=e.imageExtent,n.image_=new r.default(n.imageExtent_,void 0,1,n.url_,i,o),n.imageSize_=e.imageSize?e.imageSize:null,n.image_.addEventListener(a.default.CHANGE,n.handleImageChange.bind(n)),n}return f(e,t),e.prototype.getImageExtent=function(){return this.imageExtent_},e.prototype.getImageInternal=function(t,e,n,r){return(0,s.intersects)(t,this.image_.getExtent())?this.image_:null},e.prototype.getUrl=function(){return this.url_},e.prototype.handleImageChange=function(e){if(this.image_.getState()==i.default.LOADED){var n=this.image_.getExtent(),r=this.image_.getImage(),a=void 0,u=void 0;this.imageSize_?(a=this.imageSize_[0],u=this.imageSize_[1]):(a=r.width,u=r.height);var l=(0,s.getHeight)(n)/u,c=Math.ceil((0,s.getWidth)(n)/l);if(c!=a){var h=(0,o.createCanvasContext2D)(c,u),f=h.canvas;h.drawImage(r,0,0,a,u,0,0,f.width,f.height),this.image_.setImage(f)}}t.prototype.handleImageChange.call(this,e)},e}(c.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(120)),i=c(n(4)),o=n(1),a=n(10),s=n(117),u=c(s),l=n(141);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(t){function e(e){var n=t.call(this,{projection:e.projection,resolutions:e.resolutions})||this;return n.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null,n.displayDpi_=void 0!==e.displayDpi?e.displayDpi:96,n.params_=e.params||{},n.url_=e.url,n.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:s.defaultImageLoadFunction,n.hidpi_=void 0===e.hidpi||e.hidpi,n.metersPerUnit_=void 0!==e.metersPerUnit?e.metersPerUnit:1,n.ratio_=void 0!==e.ratio?e.ratio:1,n.useOverlay_=void 0!==e.useOverlay&&e.useOverlay,n.image_=null,n.renderedRevision_=0,n}return h(e,t),e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,n,a){e=this.findNearestResolution(e),n=this.hidpi_?n:1;var s=this.image_;if(s&&this.renderedRevision_==this.getRevision()&&s.getResolution()==e&&s.getPixelRatio()==n&&(0,o.containsExtent)(s.getExtent(),t))return s;1!=this.ratio_&&(t=t.slice(),(0,o.scaleFromCenter)(t,this.ratio_));var u=[(0,o.getWidth)(t)/e*n,(0,o.getHeight)(t)/e*n];if(void 0!==this.url_){var l=this.getUrl(this.url_,this.params_,t,u,a);(s=new r.default(t,e,n,l,this.crossOrigin_,this.imageLoadFunction_)).addEventListener(i.default.CHANGE,this.handleImageChange.bind(this))}else s=null;return this.image_=s,this.renderedRevision_=this.getRevision(),s},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.updateParams=function(t){(0,a.assign)(this.params_,t),this.changed()},e.prototype.getUrl=function(t,e,n,r,i){var s=function(t,e,n,r){var i=(0,o.getWidth)(t),a=(0,o.getHeight)(t),s=e[0],u=e[1],l=.0254/r;return u*i>s*a?i*n/(s*l):a*n/(u*l)}(n,r,this.metersPerUnit_,this.displayDpi_),u=(0,o.getCenter)(n),c={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(r[0]),SETDISPLAYHEIGHT:Math.round(r[1]),SETVIEWSCALE:s,SETVIEWCENTERX:u[0],SETVIEWCENTERY:u[1]};return(0,a.assign)(c,e),(0,l.appendParams)(t,c)},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e}(u.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(120)),i=n(16),o=h(n(4)),a=n(1),s=n(10),u=n(117),l=h(u),c=n(141);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,{attributions:r.attributions,projection:r.projection,resolutions:r.resolutions})||this).crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null,n.hidpi_=void 0===r.hidpi||r.hidpi,n.url_=r.url,n.imageLoadFunction_=void 0!==r.imageLoadFunction?r.imageLoadFunction:u.defaultImageLoadFunction,n.params_=r.params||{},n.image_=null,n.imageSize_=[0,0],n.renderedRevision_=0,n.ratio_=void 0!==r.ratio?r.ratio:1.5,n}return f(e,t),e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,n,i){if(void 0===this.url_)return null;e=this.findNearestResolution(e),n=this.hidpi_?n:1;var u=this.image_;if(u&&this.renderedRevision_==this.getRevision()&&u.getResolution()==e&&u.getPixelRatio()==n&&(0,a.containsExtent)(u.getExtent(),t))return u;var l={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,s.assign)(l,this.params_);var c=((t=t.slice())[0]+t[2])/2,h=(t[1]+t[3])/2;if(1!=this.ratio_){var f=this.ratio_*(0,a.getWidth)(t)/2,p=this.ratio_*(0,a.getHeight)(t)/2;t[0]=c-f,t[1]=h-p,t[2]=c+f,t[3]=h+p}var d=e/n,g=Math.ceil((0,a.getWidth)(t)/d),v=Math.ceil((0,a.getHeight)(t)/d);t[0]=c-d*g/2,t[2]=c+d*g/2,t[1]=h-d*v/2,t[3]=h+d*v/2,this.imageSize_[0]=g,this.imageSize_[1]=v;var y=this.getRequestUrl_(t,this.imageSize_,n,i,l);return this.image_=new r.default(t,e,n,y,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(o.default.CHANGE,this.handleImageChange.bind(this)),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,n,r,o){var a=r.getCode().split(":").pop();o.SIZE=e[0]+","+e[1],o.BBOX=t.join(","),o.BBOXSR=a,o.IMAGESR=a,o.DPI=Math.round(90*n);var s=this.url_,u=s.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return u==s&&(0,i.assert)(!1,50),(0,c.appendParams)(u,o)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){(0,s.assign)(this.params_,t),this.image_=null,this.changed()},e}(l.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Versions=void 0;var r=n(16),i={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"},o={};o[i.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}},o[i.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByDistortedWh","sizeByWh"],formats:["jpg","png"],qualities:["default","bitonal"]}},o[i.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionSquare","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["default"]}},o.none={none:{supports:[],formats:[],qualities:[]}};var a=new RegExp("^https?://library.stanford.edu/iiif/image-api/(1.1/)?compliance.html#level[0-2]$"),s=new RegExp("^https?://iiif.io/api/image/2/level[0-2](.json)?$"),u=new RegExp("(^https?://iiif.io/api/image/3/level[0-2](.json)?$)|(^level[0-2]$)");var l={};l[i.VERSION1]=function(t){var e=t.getComplianceLevelSupportedFeatures();return void 0===e&&(e=o[i.VERSION1].level0),{url:void 0===t.imageInfo["@id"]?void 0:t.imageInfo["@id"].replace(/\/?(info.json)?$/g,""),supports:e.supports,formats:e.formats.concat([void 0===t.imageInfo.formats?[]:t.imageInfo.formats]),qualities:e.qualities.concat([void 0===t.imageInfo.qualities?[]:t.imageInfo.qualities]),resolutions:t.imageInfo.scale_factors,tileSize:void 0!==t.imageInfo.tile_width?void 0!==t.imageInfo.tile_height?[t.imageInfo.tile_width,t.imageInfo.tile_height]:[t.imageInfo.tile_width,t.imageInfo.tile_width]:void 0!=t.imageInfo.tile_height?[t.imageInfo.tile_height,t.imageInfo.tile_height]:void 0}},l[i.VERSION2]=function(t){var e=t.getComplianceLevelSupportedFeatures(),n=Array.isArray(t.imageInfo.profile)&&t.imageInfo.profile.length>1,r=n&&t.imageInfo.profile[1].supports?t.imageInfo.profile[1].supports:[],i=n&&t.imageInfo.profile[1].formats?t.imageInfo.profile[1].formats:[],o=n&&t.imageInfo.profile[1].qualities?t.imageInfo.profile[1].qualities:[];return{url:t.imageInfo["@id"].replace(/\/?(info.json)?$/g,""),sizes:void 0===t.imageInfo.sizes?void 0:t.imageInfo.sizes.map(function(t){return[t.width,t.height]}),tileSize:void 0===t.imageInfo.tiles?void 0:[t.imageInfo.tiles.map(function(t){return t.width})[0],t.imageInfo.tiles.map(function(t){return void 0===t.height?t.width:t.height})[0]],resolutions:void 0===t.imageInfo.tiles?void 0:t.imageInfo.tiles.map(function(t){return t.scaleFactors})[0],supports:e.supports.concat(r),formats:e.formats.concat(i),qualities:e.qualities.concat(o)}},l[i.VERSION3]=function(t){var e=t.getComplianceLevelSupportedFeatures(),n=void 0===t.imageInfo.extraFormats?e.formats:e.formats.concat(t.imageInfo.extraFormats),r=void 0!==t.imageInfo.preferredFormats&&Array.isArray(t.imageInfo.preferredFormats)&&t.imageInfo.preferredFormats.length>0?t.imageInfo.preferredFormats.filter(function(t){return["jpg","png","gif"].includes(t)}).reduce(function(t,e){return void 0===t&&n.includes(e)?e:t},void 0):void 0;return{url:t.imageInfo.id,sizes:void 0===t.imageInfo.sizes?void 0:t.imageInfo.sizes.map(function(t){return[t.width,t.height]}),tileSize:void 0===t.imageInfo.tiles?void 0:[t.imageInfo.tiles.map(function(t){return t.width})[0],t.imageInfo.tiles.map(function(t){return t.height})[0]],resolutions:void 0===t.imageInfo.tiles?void 0:t.imageInfo.tiles.map(function(t){return t.scaleFactors})[0],supports:void 0===t.imageInfo.extraFeatures?e.supports:e.supports.concat(t.imageInfo.extraFeatures),formats:n,qualities:void 0===t.imageInfo.extraQualities?e.qualities:e.qualities.concat(t.imageInfo.extraQualities),preferredFormat:r}};var c=function(){function t(t){this.setImageInfo(t)}return t.prototype.setImageInfo=function(t){this.imageInfo="string"==typeof t?JSON.parse(t):t},t.prototype.getImageApiVersion=function(){if(void 0!==this.imageInfo){var t=this.imageInfo["@context"]||"ol-no-context";"string"==typeof t&&(t=[t]);for(var e=0;e<t.length;e++)switch(t[e]){case"http://library.stanford.edu/iiif/image-api/1.1/context.json":case"http://iiif.io/api/image/1/context.json":return i.VERSION1;case"http://iiif.io/api/image/2/context.json":return i.VERSION2;case"http://iiif.io/api/image/3/context.json":return i.VERSION3;case"ol-no-context":if(this.getComplianceLevelEntryFromProfile(i.VERSION1)&&this.imageInfo.identifier)return i.VERSION1}(0,r.assert)(!1,61)}},t.prototype.getComplianceLevelEntryFromProfile=function(t){if(void 0!==this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===t&&(t=this.getImageApiVersion()),t){case i.VERSION1:if(a.test(this.imageInfo.profile))return this.imageInfo.profile;break;case i.VERSION3:if(u.test(this.imageInfo.profile))return this.imageInfo.profile;break;case i.VERSION2:if("string"==typeof this.imageInfo.profile&&s.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&this.imageInfo.profile.length>0&&"string"==typeof this.imageInfo.profile[0]&&s.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}},t.prototype.getComplianceLevelFromProfile=function(t){var e=this.getComplianceLevelEntryFromProfile(t);if(void 0!==e){var n=e.match(/level[0-2](\.json)?$/g);return Array.isArray(n)?n[0].replace(".json",""):void 0}},t.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var t=this.getImageApiVersion(),e=this.getComplianceLevelFromProfile(t);return void 0===e?o.none.none:o[t][e]}},t.prototype.getTileSourceOptions=function(t){var e=t||{},n=this.getImageApiVersion();if(void 0!==n){var r=void 0===n?void 0:l[n](this);if(void 0!==r)return{url:r.url,version:n,size:[this.imageInfo.width,this.imageInfo.height],sizes:r.sizes,format:void 0!==e.format&&r.formats.includes(e.format)?e.format:void 0!==r.preferredFormat?r.preferredFormat:"jpg",supports:r.supports,quality:e.quality&&r.qualities.includes(e.quality)?e.quality:r.qualities.includes("native")?"native":"default",resolutions:Array.isArray(r.resolutions)?r.resolutions.sort(function(t,e){return e-t}):void 0,tileSize:r.tileSize}}},t}();e.default=c,e.Versions=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(174),i=n(1),o=n(352),a=n(605),s=n(16),u=c(n(165)),l=c(n(84));function c(t){return t&&t.__esModule?t:{default:t}}var h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function f(t){return t.toLocaleString("en",{maximumFractionDigits:10})}var p=function(t){function e(e){var n=this,l=e||{},c=l.url||"";c+=c.lastIndexOf("/")===c.length-1||""===c?"":"/";var h=l.version||a.Versions.VERSION2,p=l.sizes||[],d=l.size;(0,s.assert)(void 0!=d&&Array.isArray(d)&&2==d.length&&!isNaN(d[0])&&d[0]>0&&!isNaN(d[1])&&d[1]>0,60);var g,v,y,_=d[0],m=d[1],b=l.tileSize,w=l.tilePixelRatio||1,E=l.format||"jpg",x=l.quality||(l.version==a.Versions.VERSION1?"native":"default"),O=l.resolutions||[],C=l.supports||[],S=l.extent||[0,-m,_,0],P=void 0!=p&&Array.isArray(p)&&p.length>0,M=void 0!=b&&("number"==typeof b&&Number.isInteger(b)&&b>0||Array.isArray(b)&&b.length>0),T=void 0!=C&&Array.isArray(C)&&(C.includes("regionByPx")||C.includes("regionByPct"))&&(C.includes("sizeByWh")||C.includes("sizeByH")||C.includes("sizeByW")||C.includes("sizeByPct"));if(O.sort(function(t,e){return e-t}),M||T)if(void 0!=b&&("number"==typeof b&&Number.isInteger(b)&&b>0?(g=b,v=b):Array.isArray(b)&&b.length>0&&((1==b.length||void 0==b[1]&&Number.isInteger(b[0]))&&(g=b[0],v=b[0]),2==b.length&&(Number.isInteger(b[0])&&Number.isInteger(b[1])?(g=b[0],v=b[1]):void 0==b[0]&&Number.isInteger(b[1])&&(g=b[1],v=b[1])))),void 0!==g&&void 0!==v||(g=r.DEFAULT_TILE_SIZE,v=r.DEFAULT_TILE_SIZE),0==O.length)for(var A=y=Math.max(Math.ceil(Math.log(_/g)/Math.LN2),Math.ceil(Math.log(m/v)/Math.LN2));A>=0;A--)O.push(Math.pow(2,A));else{var D=Math.max.apply(Math,O);y=Math.round(Math.log(D)/Math.LN2)}else if(g=_,v=m,O=[],P){p.sort(function(t,e){return t[0]-e[0]}),y=-1;var I=[];for(A=0;A<p.length;A++){var L=_/p[A][0];O.length>0&&O[O.length-1]==L?I.push(A):(O.push(L),y++)}if(I.length>0)for(A=0;A<I.length;A++)p.splice(I[A]-A,1)}else O.push(1),p.push([_,m]),y=0;var F=new u.default({tileSize:[g,v],extent:S,origin:(0,i.getTopLeft)(S),resolutions:O}),k=o.CustomTile.bind(null,w,F);return(n=t.call(this,{attributions:l.attributions,attributionsCollapsible:l.attributionsCollapsible,cacheSize:l.cacheSize,crossOrigin:l.crossOrigin,projection:l.projection,reprojectionErrorThreshold:l.reprojectionErrorThreshold,state:l.state,tileClass:k,tileGrid:F,tilePixelRatio:l.tilePixelRatio,tileUrlFunction:function(t,e,n){var r,i,o=t[0];if(!(o>y)){var s=t[1],u=t[2],l=O[o];if(!(void 0===s||void 0===u||void 0===l||s<0||Math.ceil(_/l/g)<=s||u<0||Math.ceil(m/l/v)<=u)){if(T||M){var d=s*g*l,b=u*v*l,w=g*l,S=v*l,A=g,D=v;d+w>_&&(w=_-d),b+S>m&&(S=m-b),d+g*l>_&&(A=Math.floor((_-d+l-1)/l)),b+v*l>m&&(D=Math.floor((m-b+l-1)/l)),0==d&&w==_&&0==b&&S==m?r="full":!T||C.includes("regionByPx")?r=d+","+b+","+w+","+S:C.includes("regionByPct")&&(r="pct:"+f(d/_*100)+","+f(b/m*100)+","+f(w/_*100)+","+f(S/m*100)),h!=a.Versions.VERSION3||T&&!C.includes("sizeByWh")?!T||C.includes("sizeByW")?i=A+",":C.includes("sizeByH")?i=","+D:C.includes("sizeByWh")?i=A+","+D:C.includes("sizeByPct")&&(i="pct:"+f(100/l)):i=A+","+D}else if(r="full",P){var I=p[o][0],L=p[o][1];i=h==a.Versions.VERSION3?I==_&&L==m?"max":I+","+L:I==_?"full":I+","}else i=h==a.Versions.VERSION3?"max":"full";return c+r+"/"+i+"/0/"+x+"."+E}}},transition:l.transition})||this).zDirection=l.zDirection,n}return h(e,t),e}(l.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=a(n(69)),o=a(n(144));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,maxZoom:void 0!==e.maxZoom?e.maxZoom:18,minZoom:e.minZoom,projection:e.projection,wrapX:e.wrapX})||this;return n.account_=e.account,n.mapId_=e.map||"",n.config_=e.config||{},n.templateCache_={},n.initializeMap_(),n}return s(e,t),e.prototype.getConfig=function(){return this.config_},e.prototype.updateConfig=function(t){(0,r.assign)(this.config_,t),this.initializeMap_()},e.prototype.setConfig=function(t){this.config_=t||{},this.initializeMap_()},e.prototype.initializeMap_=function(){var t=JSON.stringify(this.config_);if(this.templateCache_[t])this.applyTemplate_(this.templateCache_[t]);else{var e="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(e+="/named/"+this.mapId_);var n=new XMLHttpRequest;n.addEventListener("load",this.handleInitResponse_.bind(this,t)),n.addEventListener("error",this.handleInitError_.bind(this)),n.open("POST",e),n.setRequestHeader("Content-type","application/json"),n.send(JSON.stringify(this.config_))}},e.prototype.handleInitResponse_=function(t,e){var n=e.target;if(!n.status||n.status>=200&&n.status<300){var r=void 0;try{r=JSON.parse(n.responseText)}catch(t){return void this.setState(i.default.ERROR)}this.applyTemplate_(r),this.templateCache_[t]=r,this.setState(i.default.READY)}else this.setState(i.default.ERROR)},e.prototype.handleInitError_=function(t){this.setState(i.default.ERROR)},e.prototype.applyTemplate_=function(t){var e="https://"+t.cdn_url.https+"/"+this.account_+"/api/v1/map/"+t.layergroupid+"/{z}/{x}/{y}.png";this.setUrl(e)},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaticOverviewMap=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=b(n(2)),o=n(3),a=b(n(33)),s=b(n(307)),u=b(n(153)),l=b(n(275)),c=n(251),h=b(n(36)),f=b(n(65)),p=b(n(146)),d=b(n(207)),g=b(n(121)),v=b(n(28)),y=n(25),_=n(96);n(1184);var m=b(n(32));function b(t){return t&&t.__esModule?t:{default:t}}e.StaticOverviewMap=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.element=(0,i.default)("<div>")[0],t.className=t.className||"g4u-static-overviewmap";var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.doNotShowArrow_=!1!==t.doNotShowArrow,n.$mapElement_=(0,i.default)("<div>").addClass(n.getClassName()+"-map"),n.get$Element().append(n.$mapElement_),n.collapsible_=t.collapsible||!0,n.getCollapsible()&&n.get$Element().append((0,i.default)("<button>").on("click",function(){return n.setCollapsed(!n.getCollapsed())})),n.setCollapsed(t.collapsed||!1),n.projection=t.projection,n.extent=t.extent,n.url=t.url,n.boundCalculateOrientationFeatures_=function(){return n.calculateOrientationFeatures()},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,y.Control),r(e,[{key:"getCollapsible",value:function(){return this.collapsible_}},{key:"setCollapsed",value:function(t){var e=this.collapsed_;e!==t&&(this.collapsed_=t,t?this.get$Element().addClass("ol-collapsed"):(this.get$Element().removeClass("ol-collapsed"),this.ovmap_&&(this.ovmap_.updateSize(),this.ovmap_.render()),this.calculateOrientationFeatures()),this.dispatchEvent({type:"change:collapsed",oldValue:e}))}},{key:"getCollapsed",value:function(){return this.collapsed_}},{key:"getOverviewMap",value:function(){return this.ovmap_}},{key:"setMap",value:function(t){var n=this;this.getMap()&&(this.ovmap_&&this.ovmap_.un("postrender",this.boundCalculateOrientationFeatures_),this.ovmap_=null,this.getMap().getView().un("change:center",this.boundCalculateOrientationFeatures_),this.getMap().getView().un("change:resolution",this.boundCalculateOrientationFeatures_)),function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&t.asSoonAs("mobile",!1,function(){var e=t.getView().getProjection(),r=(0,o.transformExtent)(n.extent,n.projection,e);n.frame=new a.default,n.doNotShowArrow_||(n.arrow=new a.default);var d=function(){n.ovmap_.getView().fit(r)},g=[n.frame];n.doNotShowArrow_||g.push(n.arrow),n.ovmap_=new s.default({target:n.$mapElement_[0],view:new u.default({projection:e,constrainResolution:!1}),layers:[new l.default({source:new c.ImageStatic({imageExtent:r,url:n.url,imageLoadFunction:function(t,e){var r=(0,i.default)(t.getImage());r.on("load",function(){!function(t,e){n.ovmap_&&(n.$mapElement_.innerWidth(t),n.$mapElement_.innerHeight(e),n.ovmap_.updateSize(),d())}(r.prop("width"),r.prop("height"))}).prop("src",e)}})}),new _.VectorLayer({source:new h.default({features:g}),style:new f.default({stroke:new p.default({color:"rgb(0,0,0)",width:2})})})],interactions:[],controls:[]}),n.ovmap_.once("postrender",n.boundCalculateOrientationFeatures_),d(),t.getView().on("change:center",n.boundCalculateOrientationFeatures_),t.getView().on("change:resolution",n.boundCalculateOrientationFeatures_);var v=n.get$Element().find("."+n.getClassName()+"-map"),y=!1;(v=v.add(v.find("."+n.getClassName()+"-box"))).on("click",function(e){y||t.getView().setCenter(n.getOverviewMap().getEventCoordinate(e))});var m=!1;v.on("mousedown",function(){y=!1,m=!0}),v.on("mouseup",function(){m=!1}),v.on("mousemove",function(e){m&&t.getView().setCenter(n.getOverviewMap().getEventCoordinate(e))}),n.getOverviewMap().getView().on("change:center",function(){m=!1,y=!0})})}},{key:"calculateOrientationFeatures",value:function(){if(this.getMap()&&!this.getCollapsed()){var t=this.getMap().getView().calculateExtent(this.getMap().getSize());if(this.frame.setGeometry(new m.default([[[t[0],t[1]],[t[2],t[1]],[t[2],t[3]],[t[0],t[3]],[t[0],t[1]]]])),!this.doNotShowArrow_){var e=[this.getMap().getView().getCenter()[0],t[3]],n=this.ovmap_.getPixelFromCoordinate(e),r=[n[0],n[1]-7],i=this.ovmap_.getCoordinateFromPixel(r);this.arrow.setGeometry(new v.default(i)),this.arrow.setStyle(new f.default({image:new d.default({fill:new g.default({color:"rgb(0,0,0)"}),points:3,radius:5,stroke:new p.default({width:0,color:"rgb(0,0,0)"}),rotation:0})}))}}}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.greatCircleArc=function(t,e,n,a,s,u){var l=(0,i.get)("EPSG:4326"),c=Math.cos((0,r.toRadians)(e)),h=Math.sin((0,r.toRadians)(e)),f=Math.cos((0,r.toRadians)(a)),p=Math.sin((0,r.toRadians)(a)),d=Math.cos((0,r.toRadians)(n-t)),g=Math.sin((0,r.toRadians)(n-t)),v=h*p+c*f*d;return o(function(e){if(1<=v)return[n,a];var i=e*Math.acos(v),o=Math.cos(i),s=Math.sin(i),u=g*f,l=c*p-h*f*d,y=Math.atan2(u,l),_=Math.asin(h*o+c*s*Math.cos(y)),m=(0,r.toRadians)(t)+Math.atan2(Math.sin(y)*s*c,o-h*Math.sin(_));return[(0,r.toDegrees)(m),(0,r.toDegrees)(_)]},(0,i.getTransform)(l,s),u)},e.meridian=function(t,e,n,r,a){var s=(0,i.get)("EPSG:4326");return o(function(r){return[t,e+(n-e)*r]},(0,i.getTransform)(s,r),a)},e.parallel=function(t,e,n,r,a){var s=(0,i.get)("EPSG:4326");return o(function(r){return[e+(n-e)*r,t]},(0,i.getTransform)(s,r),a)};var r=n(14),i=n(3);function o(t,e,n){for(var i,o,a,s,u,l,c=[],h=t(0),f=t(1),p=e(h),d=e(f),g=[f,h],v=[d,p],y=[1,0],_={},m=1e5;--m>0&&y.length>0;)a=y.pop(),h=g.pop(),p=v.pop(),(l=a.toString())in _||(c.push(p[0],p[1]),_[l]=!0),s=y.pop(),f=g.pop(),d=v.pop(),o=e(i=t(u=(a+s)/2)),(0,r.squaredSegmentDistance)(o[0],o[1],p[0],p[1],d[0],d[1])<n?(c.push(d[0],d[1]),_[l=s.toString()]=!0):(y.push(s,u,u,a),v.push(d,o,o,p),g.push(f,i,i,h));return c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=w(n(85)),i=n(10),o=n(78),a=w(n(204)),s=w(n(121)),u=w(n(146)),l=w(n(44)),c=w(n(36)),h=n(3),f=n(1),p=n(14),d=w(n(65)),g=w(n(33)),v=n(290),y=n(609),_=w(n(77)),m=w(n(28)),b=w(n(46));function w(t){return t&&t.__esModule?t:{default:t}}var E=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=new u.default({color:"rgba(0,0,0,0.2)"}),O=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],C=function(t){function e(e){var n=this,r=e||{},l=(0,i.assign)({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},r);return delete l.maxLines,delete l.strokeStyle,delete l.targetSize,delete l.showLabels,delete l.lonLabelFormatter,delete l.latLabelFormatter,delete l.lonLabelPosition,delete l.latLabelPosition,delete l.lonLabelStyle,delete l.latLabelStyle,delete l.intervals,(n=t.call(this,l)||this).projection_=null,n.maxLat_=1/0,n.maxLon_=1/0,n.minLat_=-1/0,n.minLon_=-1/0,n.maxLatP_=1/0,n.maxLonP_=1/0,n.minLatP_=-1/0,n.minLonP_=-1/0,n.targetSize_=void 0!==r.targetSize?r.targetSize:100,n.maxLines_=void 0!==r.maxLines?r.maxLines:100,n.meridians_=[],n.parallels_=[],n.strokeStyle_=void 0!==r.strokeStyle?r.strokeStyle:x,n.fromLonLatTransform_=void 0,n.toLonLatTransform_=void 0,n.projectionCenterLonLat_=null,n.meridiansLabels_=null,n.parallelsLabels_=null,r.showLabels&&(n.lonLabelFormatter_=void 0==r.lonLabelFormatter?o.degreesToStringHDMS.bind(n,"EW"):r.lonLabelFormatter,n.latLabelFormatter_=void 0==r.latLabelFormatter?o.degreesToStringHDMS.bind(n,"NS"):r.latLabelFormatter,n.lonLabelPosition_=void 0==r.lonLabelPosition?0:r.lonLabelPosition,n.latLabelPosition_=void 0==r.latLabelPosition?1:r.latLabelPosition,n.lonLabelStyleBase_=new d.default({text:void 0!==r.lonLabelStyle?r.lonLabelStyle.clone():new a.default({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new s.default({color:"rgba(0,0,0,1)"}),stroke:new u.default({color:"rgba(255,255,255,1)",width:3})})}),n.lonLabelStyle_=function(t){var e=t.get("graticule_label");return this.lonLabelStyleBase_.getText().setText(e),this.lonLabelStyleBase_}.bind(n),n.latLabelStyleBase_=new d.default({text:void 0!==r.latLabelStyle?r.latLabelStyle.clone():new a.default({font:"12px Calibri,sans-serif",textAlign:"right",fill:new s.default({color:"rgba(0,0,0,1)"}),stroke:new u.default({color:"rgba(255,255,255,1)",width:3})})}),n.latLabelStyle_=function(t){var e=t.get("graticule_label");return this.latLabelStyleBase_.getText().setText(e),this.latLabelStyleBase_}.bind(n),n.meridiansLabels_=[],n.parallelsLabels_=[]),n.intervals_=void 0!==r.intervals?r.intervals:O,n.setSource(new c.default({loader:n.loaderFunction.bind(n),strategy:v.bbox,features:new b.default,overlaps:!1,useSpatialIndex:!1,wrapX:r.wrapX})),n.featurePool_=[],n.lineStyle_=new d.default({stroke:n.strokeStyle_}),n.renderedExtent_=null,n.setRenderOrder(null),n.tmpExtent_=null,n}return E(e,t),e.prototype.loaderFunction=function(t,e,n){var r=this.getSource(),i=this.getExtent()||[-1/0,-1/0,1/0,1/0],o=(0,f.getIntersection)(i,t,this.tmpExtent_);if(setTimeout(function(){r.removeLoadedExtent(t)},0),!(this.renderedExtent_&&(0,f.equals)(this.renderedExtent_,o)||(this.renderedExtent_=o,(0,f.isEmpty)(o)))){var a=(0,f.getCenter)(o),s=e*e/4;(!this.projection_||!(0,h.equivalent)(this.projection_,n))&&this.updateProjectionInfo_(n),this.createGraticule_(o,a,e,s);var u,l=this.meridians_.length+this.parallels_.length;for(this.meridiansLabels_&&(l+=this.meridiansLabels_.length),this.parallelsLabels_&&(l+=this.parallelsLabels_.length);l>this.featurePool_.length;)u=new g.default,this.featurePool_.push(u);var c=r.getFeaturesCollection();c.clear();var p,d,v,y=0;for(p=0,d=this.meridians_.length;p<d;++p)(u=this.featurePool_[y++]).setGeometry(this.meridians_[p]),u.setStyle(this.lineStyle_),c.push(u);for(p=0,d=this.parallels_.length;p<d;++p)(u=this.featurePool_[y++]).setGeometry(this.parallels_[p]),u.setStyle(this.lineStyle_),c.push(u);if(this.meridiansLabels_)for(p=0,d=this.meridiansLabels_.length;p<d;++p)v=this.meridiansLabels_[p],(u=this.featurePool_[y++]).setGeometry(v.geom),u.setStyle(this.lonLabelStyle_),u.set("graticule_label",v.text),c.push(u);if(this.parallelsLabels_)for(p=0,d=this.parallelsLabels_.length;p<d;++p)v=this.parallelsLabels_[p],(u=this.featurePool_[y++]).setGeometry(v.geom),u.setStyle(this.latLabelStyle_),u.set("graticule_label",v.text),c.push(u)}},e.prototype.addMeridian_=function(t,e,n,r,i,o){var a=this.getMeridian_(t,e,n,r,o);if((0,f.intersects)(a.getExtent(),i)){if(this.meridiansLabels_){var s=this.getMeridianPoint_(a,i,o);this.meridiansLabels_[o]={geom:s,text:this.lonLabelFormatter_(t)}}this.meridians_[o++]=a}return o},e.prototype.addParallel_=function(t,e,n,r,i,o){var a=this.getParallel_(t,e,n,r,o);if((0,f.intersects)(a.getExtent(),i)){if(this.parallelsLabels_){var s=this.getParallelPoint_(a,i,o);this.parallelsLabels_[o]={geom:s,text:this.latLabelFormatter_(t)}}this.parallels_[o++]=a}return o},e.prototype.createGraticule_=function(t,e,n,r){var i=this.getInterval_(n);if(-1==i)return this.meridians_.length=0,this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var o,a,s,u,l=this.toLonLatTransform_(e),c=l[0],f=l[1],d=this.maxLines_,g=[Math.max(t[0],this.minLonP_),Math.max(t[1],this.minLatP_),Math.min(t[2],this.maxLonP_),Math.min(t[3],this.maxLatP_)],v=(g=(0,h.transformExtent)(g,this.projection_,"EPSG:4326"))[3],y=g[2],_=g[1],m=g[0];for(c=Math.floor(c/i)*i,u=(0,p.clamp)(c,this.minLon_,this.maxLon_),a=this.addMeridian_(u,_,v,r,t,0),o=0;u!=this.minLon_&&o++<d;)u=Math.max(u-i,this.minLon_),a=this.addMeridian_(u,_,v,r,t,a);for(u=(0,p.clamp)(c,this.minLon_,this.maxLon_),o=0;u!=this.maxLon_&&o++<d;)u=Math.min(u+i,this.maxLon_),a=this.addMeridian_(u,_,v,r,t,a);for(this.meridians_.length=a,this.meridiansLabels_&&(this.meridiansLabels_.length=a),f=Math.floor(f/i)*i,s=(0,p.clamp)(f,this.minLat_,this.maxLat_),a=this.addParallel_(s,m,y,r,t,0),o=0;s!=this.minLat_&&o++<d;)s=Math.max(s-i,this.minLat_),a=this.addParallel_(s,m,y,r,t,a);for(s=(0,p.clamp)(f,this.minLat_,this.maxLat_),o=0;s!=this.maxLat_&&o++<d;)s=Math.min(s+i,this.maxLat_),a=this.addParallel_(s,m,y,r,t,a);this.parallels_.length=a,this.parallelsLabels_&&(this.parallelsLabels_.length=a)},e.prototype.getInterval_=function(t){for(var e=this.projectionCenterLonLat_[0],n=this.projectionCenterLonLat_[1],r=-1,i=Math.pow(this.targetSize_*t,2),o=[],a=[],s=0,u=this.intervals_.length;s<u;++s){var l=this.intervals_[s]/2;if(o[0]=e-l,o[1]=n-l,a[0]=e+l,a[1]=n+l,this.fromLonLatTransform_(o,o),this.fromLonLatTransform_(a,a),Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)<=i)break;r=this.intervals_[s]}return r},e.prototype.getMeridian_=function(t,e,n,r,i){var o=(0,y.meridian)(t,e,n,this.projection_,r),a=this.meridians_[i];return a?(a.setFlatCoordinates(_.default.XY,o),a.changed()):(a=new l.default(o,_.default.XY),this.meridians_[i]=a),a},e.prototype.getMeridianPoint_=function(t,e,n){var r,i=t.getFlatCoordinates(),o=Math.max(e[1],i[1]),a=Math.min(e[3],i[i.length-1]),s=(0,p.clamp)(e[1]+Math.abs(e[1]-e[3])*this.lonLabelPosition_,o,a),u=[i[0],s];return n in this.meridiansLabels_?(r=this.meridiansLabels_[n].geom).setCoordinates(u):r=new m.default(u),r},e.prototype.getMeridians=function(){return this.meridians_},e.prototype.getParallel_=function(t,e,n,r,i){var o=(0,y.parallel)(t,e,n,this.projection_,r),a=this.parallels_[i];return a?(a.setFlatCoordinates(_.default.XY,o),a.changed()):a=new l.default(o,_.default.XY),a},e.prototype.getParallelPoint_=function(t,e,n){var r,i=t.getFlatCoordinates(),o=Math.max(e[0],i[0]),a=Math.min(e[2],i[i.length-2]),s=[(0,p.clamp)(e[0]+Math.abs(e[0]-e[2])*this.latLabelPosition_,o,a),i[1]];return n in this.parallelsLabels_?(r=this.parallelsLabels_[n].geom).setCoordinates(s):r=new m.default(s),r},e.prototype.getParallels=function(){return this.parallels_},e.prototype.updateProjectionInfo_=function(t){var e=(0,h.get)("EPSG:4326"),n=t.getWorldExtent(),r=(0,h.transformExtent)(n,e,t);this.maxLat_=n[3],this.maxLon_=n[2],this.minLat_=n[1],this.minLon_=n[0],this.maxLatP_=r[3],this.maxLonP_=r[2],this.minLatP_=r[1],this.minLonP_=r[0],this.fromLonLatTransform_=(0,h.getTransform)(e,t),this.toLonLatTransform_=(0,h.getTransform)(t,e),this.projectionCenterLonLat_=this.toLonLatTransform_((0,f.getCenter)(t.getExtent())),this.projection_=t},e}(r.default);e.default=C},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(305);Object.defineProperty(e,"AssertionError",{enumerable:!0,get:function(){return D(r).default}});var i=n(46);Object.defineProperty(e,"Collection",{enumerable:!0,get:function(){return D(i).default}});var o=n(154);Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return D(o).default}});var a=n(33);Object.defineProperty(e,"Feature",{enumerable:!0,get:function(){return D(a).default}});var s=n(357);Object.defineProperty(e,"Geolocation",{enumerable:!0,get:function(){return D(s).default}});var u=n(610);Object.defineProperty(e,"Graticule",{enumerable:!0,get:function(){return D(u).default}});var l=n(120);Object.defineProperty(e,"Image",{enumerable:!0,get:function(){return D(l).default}});var c=n(205);Object.defineProperty(e,"ImageBase",{enumerable:!0,get:function(){return D(c).default}});var h=n(199);Object.defineProperty(e,"ImageCanvas",{enumerable:!0,get:function(){return D(h).default}});var f=n(285);Object.defineProperty(e,"ImageTile",{enumerable:!0,get:function(){return D(f).default}});var p=n(286);Object.defineProperty(e,"Kinetic",{enumerable:!0,get:function(){return D(p).default}});var d=n(307);Object.defineProperty(e,"Map",{enumerable:!0,get:function(){return D(d).default}});var g=n(304);Object.defineProperty(e,"MapBrowserEvent",{enumerable:!0,get:function(){return D(g).default}});var v=n(483);Object.defineProperty(e,"MapBrowserEventHandler",{enumerable:!0,get:function(){return D(v).default}});var y=n(301);Object.defineProperty(e,"MapBrowserPointerEvent",{enumerable:!0,get:function(){return D(y).default}});var _=n(303);Object.defineProperty(e,"MapEvent",{enumerable:!0,get:function(){return D(_).default}});var m=n(21);Object.defineProperty(e,"Object",{enumerable:!0,get:function(){return D(m).default}});var b=n(70);Object.defineProperty(e,"Observable",{enumerable:!0,get:function(){return D(b).default}});var w=n(209);Object.defineProperty(e,"Overlay",{enumerable:!0,get:function(){return D(w).default}});var E=n(306);Object.defineProperty(e,"PluggableMap",{enumerable:!0,get:function(){return D(E).default}});var x=n(119);Object.defineProperty(e,"Tile",{enumerable:!0,get:function(){return D(x).default}});var O=n(284);Object.defineProperty(e,"TileCache",{enumerable:!0,get:function(){return D(O).default}});var C=n(299);Object.defineProperty(e,"TileQueue",{enumerable:!0,get:function(){return D(C).default}});var S=n(282);Object.defineProperty(e,"TileRange",{enumerable:!0,get:function(){return D(S).default}});var P=n(354);Object.defineProperty(e,"VectorRenderTile",{enumerable:!0,get:function(){return D(P).default}});var M=n(353);Object.defineProperty(e,"VectorTile",{enumerable:!0,get:function(){return D(M).default}});var T=n(153);Object.defineProperty(e,"View",{enumerable:!0,get:function(){return D(T).default}});var A=n(7);function D(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"getUid",{enumerable:!0,get:function(){return A.getUid}}),Object.defineProperty(e,"VERSION",{enumerable:!0,get:function(){return A.VERSION}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SingleDrawButton=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=y(n(2)),a=n(611),s=y(n(44)),u=n(151),l=n(25),c=n(9),h=n(96);n(1187);var f=n(6),p=n(253),d=n(111),g=y(n(148)),v=y(n(36));function y(t){return t&&t.__esModule?t:{default:t}}e.SingleDrawButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.element=(0,o.default)("<div>").get(0),t.className=t.className||"g4u-single-draw",t.singleButton=!1;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.editStyle_=t.editStyle||"#defaultStyle",n.finishedStyle_=t.finishedStyle||"#defaultStyle",n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("SingleDrawButton title")),n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("SingleDrawButton tipLabel")),n.createHTML(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,f.mixin)(l.Control,d.ActivatableMixin)),r(e,[{key:"createHTML",value:function(){var t=this,e=(0,o.default)("<button>").addClass(this.getClassName()+"-button").addClass(c.cssClasses.mainButton).text(this.getTitle()).on("click",function(){t.getActive()?t.setActive(!1):t.dropdown_.slideDown()});this.get$Element().append(e),this.dropdown_=new p.Dropdown,this.dropdown_.setEntries(["Point","LineString","Polygon","Circle","Delete"],[this.getLocaliser().localiseUsingDictionary("SingleDrawButton draw point"),this.getLocaliser().localiseUsingDictionary("SingleDrawButton draw line"),this.getLocaliser().localiseUsingDictionary("SingleDrawButton draw polygon"),this.getLocaliser().localiseUsingDictionary("SingleDrawButton draw circle"),this.getLocaliser().localiseUsingDictionary("SingleDrawButton delete all")]),this.dropdown_.on("select",function(){"Delete"===t.dropdown_.getValue()?t.layer_.getSource().clear():t.setActive(!0)}),this.get$Element().append(this.dropdown_.get$Element())}},{key:"setActive",value:function(t){if(t){var n=this.dropdown_.getValue();this.addInteraction(n),this.dropdown_.slideUp()}else this.interaction_&&this.removeInteraction();i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",this).call(this,t),this.get$Element().toggleClass(c.cssClasses.active,t)}},{key:"addInteraction",value:function(t){var e=this,n=this.getMap(),r=n.get("styling").getStyle(this.editStyle_);this.interaction_=new g.default({source:this.layer_.getSource(),type:t,style:r}),(0,o.default)(n.getViewport()).addClass(c.cssClasses.crosshair),n.addSupersedingInteraction("singleclick dblclick pointermove",this.interaction_),this.interaction_.on("drawend",function(){e.setActive(!1)})}},{key:"removeInteraction",value:function(){var t=this.getMap();this.interaction_.setActive(!1),t.removeInteraction(this.interaction_),this.interaction_=void 0,(0,o.default)(t.getViewport()).removeClass(c.cssClasses.crosshair)}},{key:"setMap",value:function(t){var n=this;this.getMap()&&(this.getMap().getLayers().remove(this.layer_),this.interaction_&&this.removeInteraction()),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(this.layer_=new h.VectorLayer({source:new v.default,visible:!0}),this.layer_.setStyle(t.get("styling").getStyle(this.finishedStyle_)),t.get("styling").manageLayer(this.layer_),t.addLayer(this.layer_),(0,o.default)(t.getViewport()).parent().on("keydown",function(t){t.which===c.keyCodes.ESCAPE&&n.interaction_&&n.removeInteraction()}),this.addMeasureLine())}},{key:"getLayer",value:function(){return this.layer_}},{key:"addMeasureLine",value:function(){var t=this,e=null,n=this.getMap().get("styling").getStyle(this.editStyle_).clone();n.setZIndex(n.getZIndex()+1);var r=this.getMap().getView().getProjection(),i=new a.Feature;i.setStyle(function(){if(n.getText()){var t=(0,u.getLength)(i.getGeometry(),{projection:r});n.getText().setText(t.toFixed(0)+" m")}return n}),this.layer_.getSource().addFeature(i),this.getMap().on("singleclick",function(t){i.set("hidden",!0),e=t.coordinate}),this.getMap().on("pointermove",function(n){if(t.getActive()&&e){var r=new s.default([e,n.coordinate]);i.setGeometry(r),i.set("hidden",!1)}}),this.on("change:active",function(){e=null,i.set("hidden",!0)})}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewMap=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(469)),o=n(188),a=n(54),s=n(6);n(1191);var u=n(56);e.OverviewMap=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.hasOwnProperty("title")?t.tipLabel=t.localiser.selectL10N(t.title):t.tipLabel=t.hasOwnProperty("tipLabel")?t.localiser.selectL10N(t.tipLabel):t.localiser.localiseUsingDictionary("OverviewMap tipLabel"),t.layers=[],function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,s.mixin)((0,s.mixin)(i.default,o.RewireMixin),a.ListenerOrganizerMixin)),r(e,[{key:"setMap",value:function(t){var n=this;if(this.getMap()&&this.detachAllListeners(),function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t){var r=t.getView(),i=(0,u.copyDeep)(t.get("layerConfig").layers.filter(function(t){return t.overview})),o=function(e){var r=t.get("layerFactory").createLayer(e);n.getOverviewMap().addLayer(r);var i=t.getLayerGroup().getLayerById(e.id);"always"===e.overview?r.setVisible(!0):i.on("change:visible",function(){r.setVisible(i.getVisible())})},a=!0,s=!1,l=void 0;try{for(var c,h=i[Symbol.iterator]();!(a=(c=h.next()).done);a=!0){o(c.value)}}catch(t){s=!0,l=t}finally{try{!a&&h.return&&h.return()}finally{if(s)throw l}}var f=this.get$Element().find(".ol-overviewmap-map");f=f.add(f.find(".ol-overviewmap-box"));var p=!1;this.listenAt(f).on("click",function(t){p||r.setCenter(n.getOverviewMap().getEventCoordinate(t))});var d=!1;this.listenAt(f).on("mousedown",function(){p=!1,d=!0}),this.listenAt(f).on("mouseup",function(){d=!1}),this.listenAt(f).on("mousemove",function(t){d&&r.setCenter(n.getOverviewMap().getEventCoordinate(t))}),this.getOverviewMap().getView().on("change:center",function(){d=!1,p=!0});var g=this.get$Element().find("button");this.listenAt(g).on("click",function(){return n.dispatchEvent("change:size")})}}},{key:"afterPositioning",value:function(){this.getOverviewMap().updateSize()}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScaleLine=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(458)),o=n(6),a=n(188);n(1193);var s=n(54);e.ScaleLine=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.hasOwnProperty("className")?t.className:"g4u-scale-line",function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,o.mixin)((0,o.mixin)(i.default,a.RewireMixin),s.ListenerOrganizerMixin)),r(e,[{key:"setMap",value:function(t){var n=this;this.getMap()&&this.detachAllListeners(),function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&this.listenAt(t.getView()).on("change:resolution",function(){return n.dispatchEvent("change:size")})}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MousePosition=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(470)),i=n(6),o=n(188);n(1195);e.MousePosition=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.hasOwnProperty("className")?t.className:"g4u-mouseposition";var n=function(t,e){var n=t.toString().match(/^[^.]*/)[0];return n.length>=e?n:t.toFixed(e-n.length)},r=t.digits||8;t.coordinateFormat=function(t){return n(t[0],r)+", "+n(t[1],r)};var i="&ndash;."+"&ndash;".repeat(r-1);return t.undefinedHTML=i+", "+i,function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,i.mixin)(r.default,o.RewireMixin)),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.ActiveGroup=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.controls_=e;var n=!0,r=!1,i=void 0;try{for(var o,a=this.controls_[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.addControl(s)}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}return r(t,[{key:"addControl",value:function(t){var e=this;this.controls_.push(t),t.on("change:active",function(){t.getActive()?(e.activeControl_&&e.activeControl_.setActive(!1),e.activeControl_=t):e.activeControl_=null})}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpButton=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=f(n(2)),a=f(n(432)),s=n(25),u=n(6),l=n(11);n(1198),n(98);var c=n(111),h=n(9);function f(t){return t&&t.__esModule?t:{default:t}}e.HelpButton=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.element=(0,o.default)("<div>")[0],t.className=t.className||"g4u-helpbutton";var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("HelpButton title")),n.setTipLabel(n.getTipLabel()||t.localiser.localiseUsingDictionary("HelpButton tipLabel")),n.configControls_=t.configControls||{},n.documentationFileName_=t.fileName,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,u.mixin)(s.Control,c.ActivatableMixin)),r(e,[{key:"createContent_",value:function(){var t=this,e=this.getMap().get("localiser"),n=a.default.parse(this.contentData_);(0,u.checkFor)(n,e.getCurrentLang())?this.language=e.getCurrentLang():(0,u.checkFor)(n,e.getDefaultLang())?this.language=e.getDefaultLang():this.language="de";this.get$Element().append(function(r,i){var a=(0,o.default)("<table>").addClass(t.className_+"-table");e.isRtl()&&a.prop("dir","rtl");var s=n[i],u=void 0,l=void 0,c=void 0,h=void 0,f=void 0,p=void 0,d=void 0,g=[];if(t.configControls_&&t.configControls_.hasOwnProperty("onMap")){var v=function e(n){g=g.concat(n.map(function(e){return t.configControls_.hasOwnProperty(e)&&t.configControls_[e].hasOwnProperty("controlType")?t.configControls_[e].controlType:e}));var r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;t.configControls_.hasOwnProperty(u)&&t.configControls_[u].hasOwnProperty("contains")&&e(t.configControls_[u].contains)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}};t.getMap().get("mobile")?t.configControls_.hasOwnProperty("mobileControls")&&t.configControls_.mobileControls.hasOwnProperty("contains")&&v(t.configControls_.mobileControls.contains):v(t.configControls_.onMap.filter(function(t){return"mobileControls"!==t}))}for(u in s.hasOwnProperty("help-header")&&s["help-header"]&&(c=s["help-header"].descr||"",h=s["help-header"].joinWith||"",p=(0,o.default)("<tr>").addClass(t.className_+"-header"),d=(0,o.default)("<td>").addClass(t.className_+"-descr").attr("colspan",2),o.default.isArray(c)?d.append(c.join("<p>")):d.append(c),p.append(d),a.append(p)),s)if(s.hasOwnProperty(u)&&s[u]&&(l=s[u].img,c=s[u].descr||"",h=s[u].joinWith||"",g.includes(u))){if(p=(0,o.default)("<tr>"),f='<td class="'+t.className_+'-img"><div class="'+t.className_+'-imgDiv">',l)if(o.default.isArray(l)){for(var y=0,_=l.length;y<_;y++)l[y]='<img class="'+t.className_+'-docuImg" src="images/'+l[y]+'">';f+=l.join(h)}else f+='<img class="'+t.className_+'-docuImg" src="images/'+l+'">';f+="</div></td>",p.append(f),d=(0,o.default)("<td>").addClass(t.className_+"-descr"),o.default.isArray(c)?d.append(c.join("<p>")):d.append(c),p.append(d),a.append(p)}return a}(0,this.language))}},{key:"setMap",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&this.activateOnMapChange()}},{key:"setActive",value:function(t){var n=this;this.loading_?this.once("loaded",function(){return n.setActive(t)}):t?this.contentData_?i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",this).call(this,t):(this.loading_=!0,o.default.ajax(this.documentationFileName_,{dataType:"text"}).fail(function(){var t="Wasn't able to load the documentation file "+n.documentationFileName_;throw l.Debug.error(t),new Error(t)}).done(function(r){n.contentData_=r,n.createContent_(),(0,u.finishAllImages)(n.get$Element()).then(function(){n.loading_=!1,n.dispatchEvent("loaded"),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",n).call(n,t)})})):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",this).call(this,t),this.get$Element().toggleClass(h.cssClasses.active,t)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Logo=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),i=n(25);n(1200);e.Logo=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-logo",t.element=(0,r.default)("<img>").get(0),t.singleButton=!1;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.logo_=t.hasOwnProperty("src")?t.src:"images/g4u-logo.png",n.get$Element().on("load",function(){return n.changed}).prop("src",n.logo_).addClass(n.className_),"both"!==t.mode&&"screen"!==t.mode||n.get$Element().addClass(n.className_+"-screen"),"both"!==t.mode&&"print"!==t.mode||n.get$Element().addClass(n.className_+"-print"),t.width&&n.get$Element().width(t.width),t.height&&n.get$Element().height(t.height),t.opacity&&n.get$Element().css("opacity",t.opacity.toString()),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Control),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkButton=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),i=n(25),o=n(53),a=n(9);n(1206);e.LinkButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-link-button",t.singleButton=!0,t.element=(0,r.default)("<a></a>").get(0);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.url_=t.hasOwnProperty("url")?t.url:"",n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("LinkButton title")),n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("LinkButton tipLabel")),n.get$Element().attr("href",n.url_).addClass(n.className_),t.hasOwnProperty("target")&&n.get$Element().attr("target",t.target);var i=(0,r.default)("<button>").addClass(a.cssClasses.mainButton).html(n.getTitle());return(0,o.addTooltip)(i,n.getTipLabel()),n.get$Element().append(i),t.hasOwnProperty("linkTarget")&&n.get$Element().attr("target",t.linkTarget),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Control),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InfoButton=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),a=n(362),s=n(25);n(1208);var u=n(140),l=n(111),c=n(6),h=n(9);e.InfoButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-infobutton",t.element=(0,o.default)("<div>")[0];var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.classNameAttributions_=n.className_+"-attributions",n.classNameContent_=n.className_+"-content",n.getTitle()||n.setTitle(n.getLocaliser().localiseUsingDictionary("InfoPage title")),n.getTipLabel()||n.setTipLabel(n.getLocaliser().localiseUsingDictionary("InfoPage tipLabel")),n.$content_=(0,o.default)("<div>").addClass(n.classNameContent_),n.get$Element().append(n.$content_),n.attribution_=!1!==t.attribution,n.contentURL_=u.URL.extractFromConfig(t,"contentURL"),n.attribution_&&(n.$attributions_=(0,o.default)("<div>"),n.get$Element().append((0,o.default)("<h2>").html(n.getLocaliser().localiseUsingDictionary("InfoPage copyrightTitle"))).append(n.$attributions_),n.attributionControl_=new a.Attribution({target:n.get$Element()[0],localiser:n.getLocaliser(),collapsible:!1,className:n.classNameAttributions_})),n.loaded_=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,c.mixin)(s.Control,l.ActivatableMixin)),r(e,[{key:"setMap",value:function(t){var n=this.getMap();n&&this.attribution_&&n.removeControl(this.attributionControl_),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(this.contentURL_&&this.contentURL_.extractParamsFromMap(t),this.attribution_&&t.addControl(this.attributionControl_),this.activateOnMapChange())}},{key:"setActive",value:function(t){var n=this;t?(this.getMap().get("localiser").isRtl()?this.get$Element().prop("dir","rtl"):this.get$Element().prop("dir",void 0),!this.loaded_&&this.contentURL_?o.default.get(this.contentURL_.finalize(),function(r){n.$content_.html(r),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",n).call(n,t),n.loaded_=!0}):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",this).call(this,t)):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",this).call(this,t),this.get$Element().toggleClass(h.cssClasses.active,t)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftableComposedControl=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(255),a=n(9);e.ShiftableComposedControl=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.visibleControls_=t.visibleControls,n.position_=1;var r=(0,i.default)("<div>").addClass(n.className_+"-shift");return n.get$Element().append(r.append(n.get$Container())),n.$moveLeftButton_=(0,i.default)("<button>").addClass(n.className_+"-move-left").addClass(n.classNameItem_).addClass(n.classNameItemFirst_).addClass(a.cssClasses.hidden),n.$moveLeftButton_.on("click",function(){return n.shiftControls(-(n.visibleControls_-2))}),r.prepend(n.$moveLeftButton_),n.$moveLeftButton_.addClass(a.cssClasses.hidden),n.$moveRightButton_=(0,i.default)("<button>").addClass(n.className_+"-move-right").addClass(n.classNameItem_).addClass(n.classNameItemLast_),n.$moveRightButton_.on("click",function(){return n.shiftControls(n.visibleControls_-2)}),r.append(n.$moveRightButton_),n.$moveRightButton_.addClass(a.cssClasses.hidden),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ComposedControl),r(e,[{key:"addControl",value:function(t,n){((function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addControl",this).call(this,t,n),this.controls_.length>this.visibleControls_)&&(this.get$Container().children(":last-child").addClass(a.cssClasses.hidden),(0,i.default)(this.get$Container().children()[this.visibleControls_-1]).addClass(a.cssClasses.hidden),this.$moveRightButton_.removeClass(a.cssClasses.hidden))}},{key:"shiftControls",value:function(t){t<0?this.position_>1&&(this.$moveRightButton_.hasClass(a.cssClasses.hidden)&&(this.get$Container().children(":last-child").addClass(a.cssClasses.hidden),this.$moveRightButton_.removeClass(a.cssClasses.hidden)),this.position_--,(0,i.default)(this.get$Container().children()[this.position_]).removeClass(a.cssClasses.hidden),(0,i.default)(this.get$Container().children()[this.position_+this.visibleControls_-2]).addClass(a.cssClasses.hidden),1===this.position_&&(this.get$Container().children(":first-child").removeClass(a.cssClasses.hidden),this.$moveLeftButton_.addClass(a.cssClasses.hidden)),this.shiftControls(t+1)):t>0&&this.position_+this.visibleControls_<this.controls_.length+1&&(this.$moveLeftButton_.hasClass(a.cssClasses.hidden)&&(this.get$Container().children(":first-child").addClass(a.cssClasses.hidden),this.$moveLeftButton_.removeClass(a.cssClasses.hidden)),this.position_++,(0,i.default)(this.get$Container().children()[this.position_-1]).addClass(a.cssClasses.hidden),(0,i.default)(this.get$Container().children()[this.position_+this.visibleControls_-3]).removeClass(a.cssClasses.hidden),this.position_+this.visibleControls_>=this.controls_.length&&(this.get$Container().children(":last-child").removeClass(a.cssClasses.hidden),this.$moveRightButton_.addClass(a.cssClasses.hidden)),this.shiftControls(t-1))}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MobileControls=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),a=n(621),s=n(252);n(1210);e.MobileControls=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-mobilecontrols",t.element=(0,o.default)("<div>").get(0),t.containerClassName=t.className+"-container",t.visibleControls=t.visibleControls||6,function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.ShiftableComposedControl),r(e,[{key:"addControl",value:function(t,n){t.isWindowed()||t.isSingleButton()?i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addControl",this).call(this,t,n):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addControl",this).call(this,new s.WindowDecorator({component:t}),n)}},{key:"setMap",value:function(t){var n=this;this.getMap()&&this.getMap().un("change:mobile",this.handler_),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(this.handler_=function(){if(!t.get("mobile")){var e=!0,r=!1,i=void 0;try{for(var o,a=n.getControls().filter(function(t){return t.setWindowVisible})[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){o.value.setWindowVisible(!1)}}catch(t){r=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(r)throw i}}}},t.on("change:mobile",this.handler_))}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageSwitcherMenu=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(253),a=n(53),s=n(25),u=n(9),l=n(11);n(1216);var c=n(54),h=n(6),f=n(111);e.LanguageSwitcherMenu=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-languageswitchermenu",t.element=(0,i.default)("<div>").get(0),t.singleButton=!1;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.showLongLanguage_=t.showLongLanguage||!1,n.setTitle(n.getLocaliser().getCurrentLang()),n.$button_=(0,i.default)("<button>").addClass(n.className_+"-button").addClass(u.cssClasses.mainButton),n.showLongLanguage_&&n.$button_.addClass(n.className_+"-lang-long"),n.get$Element().append(n.$button_);n.dropdown_=new o.Dropdown({className:"g4u-dropdown"}),n.get$Element().append(n.dropdown_.get$Element());var r=n.getLocaliser().getAvailableLanguages();return r.length<2?(l.Debug.info("You do not have any languages to switch between."),l.Debug.info("Could it be that you forgot to disable languageSwitcherMenu?")):2===r.length&&(l.Debug.info("You only have 2 languages to switch between."),l.Debug.info("What about using languageSwitcherButton in place of languageSwitcherMenu?")),n.dropdown_.setEntries(r,r.map(function(t){return t.toUpperCase()+" - "+n.getLocaliser().localiseUsingDictionary(t)})),n.dropdown_.on("select",function(){return n.getLocaliser().setCurrentLang(n.dropdown_.getValue())}),n.dropdown_.on("close",function(){n.setActive(!1),(0,i.default)(n.getMap().getViewport()).focus()}),n.on("change:active",function(){return n.handleActiveChange_()}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,h.mixin)(s.Control,[c.ListenerOrganizerMixin,f.ActivatableMixin])),r(e,[{key:"setMap",value:function(t){var n=this;if(this.getMap()&&(this.detachAllListeners(),this.dropdown_.detach(),this.setActive(!1)),function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t){this.dropdown_.setFastMode(t.get("mobile")),t.on("change:mobile",function(){return n.dropdown_.setFastMode(t.get("mobile"))}),this.listenAt(this.get$Element()).on("click",function(){n.collapse_=!1,n.setActive(!n.getActive())});var r=this.getLocaliser().getCurrentLang();this.showLongLanguage_?this.$button_.html(r.toUpperCase()+" - "+this.getLocaliser().localiseUsingDictionary(r)):this.$button_.html(r.toUpperCase()),(0,a.addTooltip)(this.$button_,this.getLocaliser().localiseUsingDictionary("LanguageSwitcherMenu tipLabel")),this.activateOnMapChange()}}},{key:"handleActiveChange_",value:function(){this.dropdown_.setActivated(this.getLocaliser().getCurrentLang()),this.getActive()?this.dropdown_.slideDown():this.dropdown_.slideUp()}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageSwitcherButton=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(25),a=n(53),s=n(11);n(1216);e.LanguageSwitcherButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.element=(0,i.default)("<button>").get(0),t.singleButton=!0,t.className=t.className||"g4u-languageswitcher";var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.$button_=n.get$Element().addClass(n.className_+"-button");var r=n.getLocaliser().getAvailableLanguages();return r.length<2?(s.Debug.info("You do not have any languages to switch between."),s.Debug.info("Could it be that you forgot to disable languageSwitcherButton?")):r.length>2&&(s.Debug.info("You have more than 2 languages to switch between."),s.Debug.info("In this case you need to use languageSwitcherMenu.")),n.$button_.on("click",function(){var t=r[1-r.indexOf(n.getLocaliser().getCurrentLang())];n.getLocaliser().setCurrentLang(t)}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Control),r(e,[{key:"setMap",value:function(t){t&&(this.$button_.html(this.getLocaliser().getCurrentLang()),(0,a.addTooltip)(this.$button_,this.getLocaliser().localiseUsingDictionary("LanguageSwitcherButton tipLabel"))),function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t)}}]),e}()},function(t,e,n){var r,i,o;i=[n(2)],void 0===(o="function"==typeof(r=function(t){var e=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},n="notifyjs",r={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},i=["l","c","r"],o=["t","m","b"],a=["t","b","l","r"],s={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},u={},l={name:"core",html:'<div class="'+n+'-wrapper">\n\t<div class="'+n+'-arrow"></div>\n\t<div class="'+n+'-container"></div>\n</div>',css:"."+n+"-corner {\n\tposition: fixed;\n\tmargin: 5px;\n\tz-index: 1050;\n}\n\n."+n+"-corner ."+n+"-wrapper,\n."+n+"-corner ."+n+"-container {\n\tposition: relative;\n\tdisplay: block;\n\theight: inherit;\n\twidth: inherit;\n\tmargin: 3px;\n}\n\n."+n+"-wrapper {\n\tz-index: 1;\n\tposition: absolute;\n\tdisplay: inline-block;\n\theight: 0;\n\twidth: 0;\n}\n\n."+n+"-container {\n\tdisplay: none;\n\tz-index: 1;\n\tposition: absolute;\n}\n\n."+n+"-hidable {\n\tcursor: pointer;\n}\n\n[data-notify-text],[data-notify-html] {\n\tposition: relative;\n}\n\n."+n+"-arrow {\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 0;\n\theight: 0;\n}"},c={"border-radius":["-webkit-","-moz-"]},h=function(e,r){if(!e)throw"Missing Style name";if(!r)throw"Missing Style definition";if(!r.html)throw"Missing Style HTML";var i=u[e];i&&i.cssElem&&(window.console&&console.warn("notify: overwriting style '"+e+"'"),u[e].cssElem.remove()),r.name=e,u[e]=r;var o="";r.classes&&t.each(r.classes,function(e,i){return o+="."+n+"-"+r.name+"-"+e+" {\n",t.each(i,function(e,n){return c[e]&&t.each(c[e],function(t,r){return o+="\t"+r+e+": "+n+";\n"}),o+="\t"+e+": "+n+";\n"}),o+="}\n"}),r.css&&(o+="/* styles for "+r.name+" */\n"+r.css),o&&(r.cssElem=f(o),r.cssElem.attr("id","notify-"+r.name));var a={},s=t(r.html);p("html",s,a),p("text",s,a),r.fields=a},f=function(e){var n;(n=y("style")).attr("type","text/css"),t("head").append(n);try{n.html(e)}catch(t){n[0].styleSheet.cssText=e}return n},p=function(e,n,r){var i;return"html"!==e&&(e="text"),d(n,"["+(i="data-notify-"+e)+"]").each(function(){var n;(n=t(this).attr(i))||(n="notify!blank"),r[n]=e})},d=function(t,e){return t.is(e)?t:t.find(e)},g={clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,breakNewLines:!0,elementPosition:"bottom",globalPosition:"top right",style:"bootstrap",className:"error",showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:5},v=function(e,n){var r;return(r=function(){}).prototype=e,t.extend(!0,new r,n)},y=function(e){return t("<"+e+"></"+e+">")},_={},m=function(e){var n;return e.is("[type=radio]")&&(n=e.parents("form:first").find("[type=radio]").filter(function(n,r){return t(r).attr("name")===e.attr("name")}),e=n.first()),e},b=function(t,e,n){var i;if("string"==typeof n)n=parseInt(n,10);else if("number"!=typeof n)return;if(!isNaN(n))return i=r[s[e.charAt(0)]],void 0!==t[i]&&(e=r[i.charAt(0)],n=-n),void 0===t[e]?t[e]=n:t[e]+=n,null},w=function(t,e,n){if("l"===t||"t"===t)return 0;if("c"===t||"m"===t)return n/2-e/2;if("r"===t||"b"===t)return n-e;throw"Invalid alignment"},E=function(t){return E.e=E.e||y("div"),E.e.text(t).html()};function x(e,r,i){"string"==typeof i&&(i={className:i}),this.options=v(g,t.isPlainObject(i)?i:{}),this.loadHTML(),this.wrapper=t(l.html),this.options.clickToHide&&this.wrapper.addClass(n+"-hidable"),this.wrapper.data(n,this),this.arrow=this.wrapper.find("."+n+"-arrow"),this.container=this.wrapper.find("."+n+"-container"),this.container.append(this.userContainer),e&&e.length&&(this.elementType=e.attr("type"),this.originalElement=e,this.elem=m(e),this.elem.data(n,this),this.elem.before(this.wrapper)),this.container.hide(),this.run(r)}x.prototype.loadHTML=function(){var e;e=this.getStyle(),this.userContainer=t(e.html),this.userFields=e.fields},x.prototype.show=function(t,e){var n,r,i,o,a;if(r=function(n){return function(){if(t||n.elem||n.destroy(),e)return e()}}(this),a=this.container.parent().parents(":hidden").length>0,i=this.container.add(this.arrow),n=[],a&&t)o="show";else if(a&&!t)o="hide";else if(!a&&t)o=this.options.showAnimation,n.push(this.options.showDuration);else{if(a||t)return r();o=this.options.hideAnimation,n.push(this.options.hideDuration)}return n.push(r),i[o].apply(i,n)},x.prototype.setGlobalPosition=function(){var e=this.getPosition(),i=e[0],o=e[1],a=r[i],s=r[o],u=i+"|"+o,l=_[u];if(!l){l=_[u]=y("div");var c={};c[a]=0,"middle"===s?c.top="45%":"center"===s?c.left="45%":c[s]=0,l.css(c).addClass(n+"-corner"),t("body").append(l)}return l.prepend(this.wrapper)},x.prototype.setElementPosition=function(){var n,u,l,c,h,f,p,d,g,v,y,_,m,E,x,O,C,S,P,M,T,A,D,I,L,F,k,R;for(F=this.getPosition(),D=F[0],A=F[1],F[2],y=this.elem.position(),d=this.elem.outerHeight(),_=this.elem.outerWidth(),g=this.elem.innerHeight(),v=this.elem.innerWidth(),R=this.wrapper.position(),h=this.container.height(),f=this.container.width(),S=r[D],(p={})[T=r[M=s[D]]]="b"===D?d:"r"===D?_:0,b(p,"top",y.top-R.top),b(p,"left",y.left-R.left),E=0,O=(k=["top","left"]).length;E<O;E++)I=k[E],(P=parseInt(this.elem.css("margin-"+I),10))&&b(p,I,P);if(m=Math.max(0,this.options.gap-(this.options.arrowShow?l:0)),b(p,T,m),this.options.arrowShow){for(l=this.options.arrowSize,u=t.extend({},p),n=this.userContainer.css("border-color")||this.userContainer.css("border-top-color")||this.userContainer.css("background-color")||"white",x=0,C=a.length;x<C;x++)L=r[I=a[x]],I!==M&&(c=L===S?n:"transparent",u["border-"+L]=l+"px solid "+c);b(p,r[M],l),e.call(a,A)>=0&&b(u,r[A],2*l)}else this.arrow.hide();if(e.call(o,D)>=0?(b(p,"left",w(A,f,_)),u&&b(u,"left",w(A,l,v))):e.call(i,D)>=0&&(b(p,"top",w(A,h,d)),u&&b(u,"top",w(A,l,g))),this.container.is(":visible")&&(p.display="block"),this.container.removeAttr("style").css(p),u)return this.arrow.removeAttr("style").css(u)},x.prototype.getPosition=function(){var n,s,u,l,c,h,f,p;if(p=this.options.position||(this.elem?this.options.elementPosition:this.options.globalPosition),0===(n=function(e){var n;return n=[],t.each(e.split(/\W+/),function(t,e){var i;if(i=e.toLowerCase().charAt(0),r[i])return n.push(i)}),n}(p)).length&&(n[0]="b"),s=n[0],e.call(a,s)<0)throw"Must be one of ["+a+"]";return(1===n.length||(u=n[0],e.call(o,u)>=0&&(l=n[1],e.call(i,l)<0))||(c=n[0],e.call(i,c)>=0&&(h=n[1],e.call(o,h)<0)))&&(n[1]=(f=n[0],e.call(i,f)>=0?"m":"l")),2===n.length&&(n[2]=n[1]),n},x.prototype.getStyle=function(t){var e;if(t||(t=this.options.style),t||(t="default"),!(e=u[t]))throw"Missing style: "+t;return e},x.prototype.updateClasses=function(){var e,r;return e=["base"],t.isArray(this.options.className)?e=e.concat(this.options.className):this.options.className&&e.push(this.options.className),r=this.getStyle(),e=t.map(e,function(t){return n+"-"+r.name+"-"+t}).join(" "),this.userContainer.attr("class",e)},x.prototype.run=function(e,n){var r,i,o,a,s;if(t.isPlainObject(n)?t.extend(this.options,n):"string"===t.type(n)&&(this.options.className=n),!this.container||e){if(this.container||e){for(o in i={},t.isPlainObject(e)?i=e:i["notify!blank"]=e,i)r=i[o],(a=this.userFields[o])&&("text"===a&&(r=E(r),this.options.breakNewLines&&(r=r.replace(/\n/g,"<br/>"))),s="notify!blank"===o?"":"="+o,d(this.userContainer,"[data-notify-"+a+s+"]").html(r));this.updateClasses(),this.elem?this.setElementPosition():this.setGlobalPosition(),this.show(!0),this.options.autoHide&&(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(this.show.bind(this,!1),this.options.autoHideDelay))}}else this.show(!1)},x.prototype.destroy=function(){this.wrapper.data(n,null),this.wrapper.remove()},t.notify=function(e,n,r){return e&&e.nodeName||e.jquery?t(e).notify(n,r):(r=n,new x(null,n=e,r)),e},t.fn.notify=function(e,r){return t(this).each(function(){var i=m(t(this)).data(n);i&&i.destroy(),new x(t(this),e,r)}),this},t.extend(t.notify,{defaults:function(e){return t.extend(g,e)},addStyle:h,pluginOptions:g,getStyle:function(t){return u[t]},insertCSS:f}),h("bootstrap",{html:"<div>\n<span data-notify-text></span>\n</div>",classes:{base:{"font-weight":"bold",padding:"8px 15px 8px 14px","text-shadow":"0 1px 0 rgba(255, 255, 255, 0.5)","background-color":"#fcf8e3",border:"1px solid #fbeed5","border-radius":"4px","white-space":"nowrap","padding-left":"25px","background-repeat":"no-repeat","background-position":"3px 7px"},error:{color:"#B94A48","background-color":"#F2DEDE","border-color":"#EED3D7","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=)"},success:{color:"#468847","background-color":"#DFF0D8","border-color":"#D6E9C6","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNq0lctPE0Ecx38zu/RFS1EryqtgJFA08YCiMZIAQQ4eRG8eDGdPJiYeTIwHTfwPiAcvXIwXLwoXPaDxkWgQ6islKlJLSQWLUraPLTv7Gme32zoF9KSTfLO7v53vZ3d/M7/fIth+IO6INt2jjoA7bjHCJoAlzCRw59YwHYjBnfMPqAKWQYKjGkfCJqAF0xwZjipQtA3MxeSG87VhOOYegVrUCy7UZM9S6TLIdAamySTclZdYhFhRHloGYg7mgZv1Zzztvgud7V1tbQ2twYA34LJmF4p5dXF1KTufnE+SxeJtuCZNsLDCQU0+RyKTF27Unw101l8e6hns3u0PBalORVVVkcaEKBJDgV3+cGM4tKKmI+ohlIGnygKX00rSBfszz/n2uXv81wd6+rt1orsZCHRdr1Imk2F2Kob3hutSxW8thsd8AXNaln9D7CTfA6O+0UgkMuwVvEFFUbbAcrkcTA8+AtOk8E6KiQiDmMFSDqZItAzEVQviRkdDdaFgPp8HSZKAEAL5Qh7Sq2lIJBJwv2scUqkUnKoZgNhcDKhKg5aH+1IkcouCAdFGAQsuWZYhOjwFHQ96oagWgRoUov1T9kRBEODAwxM2QtEUl+Wp+Ln9VRo6BcMw4ErHRYjH4/B26AlQoQQTRdHWwcd9AH57+UAXddvDD37DmrBBV34WfqiXPl61g+vr6xA9zsGeM9gOdsNXkgpEtTwVvwOklXLKm6+/p5ezwk4B+j6droBs2CsGa/gNs6RIxazl4Tc25mpTgw/apPR1LYlNRFAzgsOxkyXYLIM1V8NMwyAkJSctD1eGVKiq5wWjSPdjmeTkiKvVW4f2YPHWl3GAVq6ymcyCTgovM3FzyRiDe2TaKcEKsLpJvNHjZgPNqEtyi6mZIm4SRFyLMUsONSSdkPeFtY1n0mczoY3BHTLhwPRy9/lzcziCw9ACI+yql0VLzcGAZbYSM5CCSZg1/9oc/nn7+i8N9p/8An4JMADxhH+xHfuiKwAAAABJRU5ErkJggg==)"},info:{color:"#3A87AD","background-color":"#D9EDF7","border-color":"#BCE8F1","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYFAhkSsdes/QAAA8dJREFUOMvVlGtMW2UYx//POaWHXg6lLaW0ypAtw1UCgbniNOLcVOLmAjHZolOYlxmTGXVZdAnRfXQm+7SoU4mXaOaiZsEpC9FkiQs6Z6bdCnNYruM6KNBw6YWewzl9z+sHImEWv+vz7XmT95f/+3/+7wP814v+efDOV3/SoX3lHAA+6ODeUFfMfjOWMADgdk+eEKz0pF7aQdMAcOKLLjrcVMVX3xdWN29/GhYP7SvnP0cWfS8caSkfHZsPE9Fgnt02JNutQ0QYHB2dDz9/pKX8QjjuO9xUxd/66HdxTeCHZ3rojQObGQBcuNjfplkD3b19Y/6MrimSaKgSMmpGU5WevmE/swa6Oy73tQHA0Rdr2Mmv/6A1n9w9suQ7097Z9lM4FlTgTDrzZTu4StXVfpiI48rVcUDM5cmEksrFnHxfpTtU/3BFQzCQF/2bYVoNbH7zmItbSoMj40JSzmMyX5qDvriA7QdrIIpA+3cdsMpu0nXI8cV0MtKXCPZev+gCEM1S2NHPvWfP/hL+7FSr3+0p5RBEyhEN5JCKYr8XnASMT0xBNyzQGQeI8fjsGD39RMPk7se2bd5ZtTyoFYXftF6y37gx7NeUtJJOTFlAHDZLDuILU3j3+H5oOrD3yWbIztugaAzgnBKJuBLpGfQrS8wO4FZgV+c1IxaLgWVU0tMLEETCos4xMzEIv9cJXQcyagIwigDGwJgOAtHAwAhisQUjy0ORGERiELgG4iakkzo4MYAxcM5hAMi1WWG1yYCJIcMUaBkVRLdGeSU2995TLWzcUAzONJ7J6FBVBYIggMzmFbvdBV44Corg8vjhzC+EJEl8U1kJtgYrhCzgc/vvTwXKSib1paRFVRVORDAJAsw5FuTaJEhWM2SHB3mOAlhkNxwuLzeJsGwqWzf5TFNdKgtY5qHp6ZFf67Y/sAVadCaVY5YACDDb3Oi4NIjLnWMw2QthCBIsVhsUTU9tvXsjeq9+X1d75/KEs4LNOfcdf/+HthMnvwxOD0wmHaXr7ZItn2wuH2SnBzbZAbPJwpPx+VQuzcm7dgRCB57a1uBzUDRL4bfnI0RE0eaXd9W89mpjqHZnUI5Hh2l2dkZZUhOqpi2qSmpOmZ64Tuu9qlz/SEXo6MEHa3wOip46F1n7633eekV8ds8Wxjn37Wl63VVa+ej5oeEZ/82ZBETJjpJ1Rbij2D3Z/1trXUvLsblCK0XfOx0SX2kMsn9dX+d+7Kf6h8o4AIykuffjT8L20LU+w4AZd5VvEPY+XpWqLV327HR7DzXuDnD8r+ovkBehJ8i+y8YAAAAASUVORK5CYII=)"},warn:{color:"#C09853","background-color":"#FCF8E3","border-color":"#FBEED5","background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABJlBMVEXr6eb/2oD/wi7/xjr/0mP/ykf/tQD/vBj/3o7/uQ//vyL/twebhgD/4pzX1K3z8e349vK6tHCilCWbiQymn0jGworr6dXQza3HxcKkn1vWvV/5uRfk4dXZ1bD18+/52YebiAmyr5S9mhCzrWq5t6ufjRH54aLs0oS+qD751XqPhAybhwXsujG3sm+Zk0PTwG6Shg+PhhObhwOPgQL4zV2nlyrf27uLfgCPhRHu7OmLgAafkyiWkD3l49ibiAfTs0C+lgCniwD4sgDJxqOilzDWowWFfAH08uebig6qpFHBvH/aw26FfQTQzsvy8OyEfz20r3jAvaKbhgG9q0nc2LbZxXanoUu/u5WSggCtp1anpJKdmFz/zlX/1nGJiYmuq5Dx7+sAAADoPUZSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfdBgUBGhh4aah5AAAAlklEQVQY02NgoBIIE8EUcwn1FkIXM1Tj5dDUQhPU502Mi7XXQxGz5uVIjGOJUUUW81HnYEyMi2HVcUOICQZzMMYmxrEyMylJwgUt5BljWRLjmJm4pI1hYp5SQLGYxDgmLnZOVxuooClIDKgXKMbN5ggV1ACLJcaBxNgcoiGCBiZwdWxOETBDrTyEFey0jYJ4eHjMGWgEAIpRFRCUt08qAAAAAElFTkSuQmCC)"}}}),t(function(){f(l.css).attr("id","core-notify"),t(document).on("click","."+n+"-hidable",function(e){t(this).trigger("notify-hide")}),t(document).on("notify-hide","."+n+"-wrapper",function(e){var r=t(this).data(n);r&&r.show(!1)})})})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageDisplay=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(1226),n(625);var i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(6);var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("MessageDisplay needs an object to be associated to!");this.$element_=e,i.default.notify.getStyle("benndorf")||i.default.notify.addStyle("benndorf",{html:'<div><div class="text" data-notify-text></div></div></div>',classes:{error:{color:"#b94a48","background-color":"#f2dede","border-color":"#b94a48"},success:{color:"#468847","background-color":"#dff0d8","border-color":"#468847"},info:{color:"#3a87a","background-color":"#d9edf7","border-color":"#3a87ad"},warn:{color:"#c09853","background-color":"#fcf8e3","border-color":"#c09853"}}}),this.defaults_=n,this.autoHideTimer_=null,n.hasOwnProperty("arrowShow")||(this.defaults_.arrowShow=!0),n.hasOwnProperty("arrowSize")||(this.defaults_.arrowSize=5),n.hasOwnProperty("autoHide")||(this.defaults_.autoHide=!0),n.hasOwnProperty("autoHideDelay")||(this.defaults_.autoHideDelay=15e3),n.hasOwnProperty("className")||(this.defaults_.className="error"),n.hasOwnProperty("position")||(this.defaults_.position="bottom left"),n.hasOwnProperty("gap")||(this.defaults_.gap=2),n.hasOwnProperty("hideAnimation")||(this.defaults_.hideAnimation="slideUp"),n.hasOwnProperty("hideDuration")||(this.defaults_.hideDuration=200),n.hasOwnProperty("showAnimation")||(this.defaults_.showAnimation="slideDown"),n.hasOwnProperty("showDuration")||(this.defaults_.showDuration=400),n.hasOwnProperty("style")||(this.defaults_.style="benndorf")}return r(t,[{key:"message",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.defaults_;n.hasOwnProperty("autoHide")&&(r.autoHide=n.autoHide),n.hasOwnProperty("autoHideDelay")&&(r.autoHideDelay=n.autoHideDelay),n.hasOwnProperty("className")&&(r.className=n.className),n.hasOwnProperty("position")&&(r.position=n.position),this.$element_.notify((0,o.html2Text)(t),r),(0,i.default)(".notifyjs-wrapper").click(function(){e.hide()})}},{key:"error",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="error",this.message(t,e)}},{key:"info",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="info",this.message(t,e)}},{key:"success",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="success",this.message(t,e)}},{key:"warn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.className="warn",this.message(t,e)}},{key:"hide",value:function(){(0,i.default)(".notifyjs-wrapper").trigger("notify-hide"),window.clearTimeout(this.autoHideTimer_)}}]),t}();e.MessageDisplay=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeolocationButton=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=_(n(2)),o=_(n(33)),a=_(n(357)),s=_(n(28)),u=_(n(36)),l=n(25),c=n(53),h=n(96),f=n(626),p=n(9);n(1224);var d=n(111),g=n(54),v=n(6),y=n(123);function _(t){return t&&t.__esModule?t:{default:t}}e.GeolocationButton=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-geolocation",t.singleButton=!0,t.element=(0,i.default)("<button>").get(0);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.classNamePushed_=n.className_+"-pushed",n.animated_=t.animated,n.style_=t.style||"#defaultStyle",n.maxZoom_=t.maxZoom,n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("GeolocationButton title")),n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("GeolocationButton tipLabel")),n.get$Element().addClass(n.className_).addClass(p.cssClasses.mainButton).html(n.getTitle()),(0,c.addTooltip)(n.get$Element(),n.getTipLabel()),n.buttonMessageDisplay_=new f.MessageDisplay(n.get$Element()),n.get$Element().on("click touch",function(){y.GEOLOCATION?n.setActive(!n.getActive()):n.buttonMessageDisplay_.error(n.getLocaliser().localiseUsingDictionary("geolocation geolocation-not-possible"),n.getMap().get("mobile")?{position:"top middle"}:{})}),n.layer_=null;var r={tracking:!1};return t.hasOwnProperty("trackingOptions")&&(r.trackingOptions=t.trackingOptions),t.hasOwnProperty("projection")&&(r.projection=t.projection),n.followLocation_=t.followLocation||!1,n.geolocation_=new a.default(r),n.geolocation_.on("error",function(){n.buttonMessageDisplay_.error(n.getLocaliser().localiseUsingDictionary("geolocation geolocation-not-possible"),n.getMap().get("mobile")?{position:"top middle"}:{}),n.setActive(!1)}),n.on("change:active",function(t){return n.activeChangeHandler_(t)}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,v.mixin)(l.Control,[d.ActivatableMixin,g.ListenerOrganizerMixin])),r(e,[{key:"setMap",value:function(t){if(this.getMap()&&this.getMap().getLayers().remove(this.layer_),function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t){var n=t.getView().getProjection();this.geolocation_.setProjection(n);var r={source:new u.default({projection:n}),visible:!0};this.layer_=new h.VectorLayer(r),this.layer_.setStyle(t.get("styling").getStyle(this.style_)),t.get("styling").manageLayer(this.layer_),t.addLayer(this.layer_),this.activateOnMapChange()}}},{key:"changeHandler_",value:function(t){var e=this.layer_.getSource();e.clear();var n=this.geolocation_.getPosition();e.addFeature(new o.default({geometry:new s.default(n)}));var r=this.geolocation_.getAccuracyGeometry();e.addFeature(new o.default({geometry:r})),t.hasOwnProperty("initialRun")&&t.initialRun?this.getMap().get("move").toExtent(r.getExtent(),{animated:this.animated_,maxZoom:this.maxZoom_}):this.animated_?this.getMap().getView().animate({center:n}):this.getMap().getView().setCenter(n),t.hasOwnProperty("stopTracking")&&this.geolocation_.setTracking(!t.stopTracking)}},{key:"activeChangeHandler_",value:function(){var t=this,e=this.getActive();(this.get$Element().toggleClass(this.classNamePushed_,e),e)?(this.geolocation_.setTracking(!0),this.geolocation_.getPosition()?(this.changeHandler_({stopTracking:!this.followLocation_,initialRun:!0}),this.followLocation_&&this.listenAt(this.geolocation_).on("change",function(e){return t.changeHandler_(e)})):this.listenAt(this.geolocation_).once("change",function(){t.changeHandler_({stopTracking:!t.followLocation_,initialRun:!0}),t.followLocation_&&t.listenAt(t.geolocation_).on("change",function(e){return t.changeHandler_(e)})})):(this.layer_.getSource().clear(),this.detachFrom(this.geolocation_,"change"),this.geolocation_.setTracking(!1))}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WMSLayerButton=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(254),o=n(359);e.WMSLayerButton=function(t){function e(t,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));return i.layer_&&i.layer_.get("available")&&i.listenAt(i.layer_.getSource()).on(["change:layers","change:queryLayers"],function(){i.debouncedUpdate()}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.LayerButton),r(e,[{key:"buildButton",value:function(t){(function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildButton",this).call(this,t)}},{key:"getActive",value:function(){return this.layer_.getSource().areLayersActive(this.config.LAYERS)}},{key:"setActive",value:function(t){i.Element.prototype.setActive.call(this,t),t?this.layer_.getSource().activateLayers(this.config.LAYERS):this.layer_.getSource().deactivateLayers(this.config.LAYERS),this.layer_.setVisible(this.layer_.getSource().anyLayerActive())}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CheckGroup=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=s(n(2)),a=s(n(70));function s(t){return t&&t.__esModule?t:{default:t}}n(1228);e.CheckGroup=function(t){function e(t,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.buttons_={},a.type_=t,a.values_=[],a.$element_=(0,o.default)("<div>").addClass("g4u-check-group").addClass("g4u-check-group-"+t),void 0!==i&&((0,o.default)("<div>").text(i).addClass("g4u-check-group-title").appendTo(a.$element_),a.hasTitle_=!0),n.forEach(function(t){var e=r(t,2),n=e[0],i=e[1],s=(0,o.default)("<button>").text(n).on("click",function(){a.toggleValue(i),a.dispatchEvent({type:"change:value",changed:i}),s.blur()}).appendTo(a.$element_);a.buttons_[i]=s}),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),i(e,[{key:"setValues",value:function(t){for(var e in this.values_=void 0===t?[]:t,this.buttons_)this.values_.includes(e)?this.buttons_[e].addClass("g4u-active"):this.buttons_[e].removeClass("g4u-active")}},{key:"getValues",value:function(){return this.values_}},{key:"toggleValue",value:function(t){"checkbox"===this.type_?this.values_.includes(t)?this.values_.length>1&&(this.values_.splice(this.values_.indexOf(t),1),this.buttons_[t].removeClass("g4u-active")):(this.values_.push(t),this.buttons_[t].addClass("g4u-active")):this.values_[0]!==t&&(this.buttons_[this.values_[0]].removeClass("g4u-active"),this.values_=[t],this.buttons_[t].addClass("g4u-active"))}},{key:"get$Element",value:function(){return this.$element_}},{key:"getSize",value:function(){return Object.keys(this.buttons_).length+(this.hasTitle_?1:0)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiButton=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=n(273),a=n(128),s=n(629),u=n(358);e.MultiButton=function(t){function e(t,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));i.layers_={},i.config.accordion=i.config.accordion||[],i.checkedParams_={},i.currentConfig_={},i.checkGroups_={},i.active_=!1;var a=(0,o.uniq)(i.config.configs.map(function(t){return t.refId}).filter(function(t){return void 0!==t})),s=!0,u=!1,l=void 0;try{for(var c,h=a[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var f=c.value,p=r.getLayerGroup().getLayerById(f);i.listenAt(p).on(["change:visible","loadcountstart","loadcountend"],function(){i.debouncedUpdate()}),i.listenAt(p.getSource()).on(["change:layers","change:queryLayers"],function(){i.debouncedUpdate()}),i.layers_[f]=p}}catch(t){u=!0,l=t}finally{try{!s&&h.return&&h.return()}finally{if(u)throw l}}return i.buildButton(i.config.title),i.debouncedUpdate(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.Button),r(e,[{key:"setParam",value:function(t,e){this.checkedParams_[t]=e,this.getActive()&&this.updateLayers(!0,!0)}},{key:"buildButton",value:function(t){var n=this;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildButton",this).call(this,t);var r=function(t){n.setParam(t.name,[t.values[0]]);var e=new s.CheckGroup(t.type,(0,o.zip)(t.titles,t.values),t.title);e.on("change:value",function(){n.setParam(t.name,e.getValues())}),n.checkGroups_[t.name]=e,n.accordion.addEntry(e.get$Element(),e.getSize())},a=!0,u=!1,l=void 0;try{for(var c,h=this.config.controls[Symbol.iterator]();!(a=(c=h.next()).done);a=!0){r(c.value)}}catch(t){u=!0,l=t}finally{try{!a&&h.return&&h.return()}finally{if(u)throw l}}}},{key:"update",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this);var t=!0,n=!1,r=void 0;try{for(var o,a=Object.keys(this.checkGroups_)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;this.checkGroups_[s].setValues(this.checkedParams_[s])}}catch(t){n=!0,r=t}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}this.config.toggleAccordion&&this.accordion.setVisible(this.getActive())}},{key:"updateLayers",value:function(t,e){var n=this.currentConfig_;if(e&&void 0!==n.refId){var r=this.layers_[n.refId];n.LAYERS&&r.getSource().deactivateLayers(n.LAYERS),n.QUERY_LAYERS&&r.getSource().deactivateQueryLayers(n.QUERY_LAYERS)}var i=this.getMatchingConfig();if(t&&void 0!==i.refId){var o=this.layers_[i.refId];i.LAYERS&&o.getSource().activateLayers(i.LAYERS),i.QUERY_LAYERS&&o.getSource().activateQueryLayers(i.QUERY_LAYERS)}this.currentConfig_=i;var a=!0,s=!1,u=void 0;try{for(var l,c=Object.values(this.layers_)[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var h=l.value;this.getActive()?h.setVisible(h.getSource().anyLayerActive()):h.setVisible(!1)}}catch(t){s=!0,u=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}},{key:"setActive",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setActive",this).call(this,t),this.active_=t,t?this.updateLayers(!0,!1):this.updateLayers(!1,!0)}},{key:"getActive",value:function(){return this.active_}},{key:"checkCondition",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,s=Object.keys(t)[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){var u=i.value;if(!(0,a.isEmpty)((0,o.difference)(t[u],this.checkedParams_[u])))return!1}}catch(t){n=!0,r=t}finally{try{!e&&s.return&&s.return()}finally{if(n)throw r}}return!0}},{key:"getMatchingConfig",value:function(){var t={},e=!0,n=!1,r=void 0;try{for(var i,o=this.config.configs[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;this.checkCondition(a.condition)&&Object.assign(t,a)}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}return t}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GroupElement=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=n(190),a=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),s=n(360),u=n(254);e.GroupElement=function(t){function e(t,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));return i.children_=[],i.makeExclusive_=(0,o.debounce)(function(t){var e=!0,n=!1,r=void 0;try{for(var o,a=i.children_[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value;s!==t&&s.setActive(!1)}}catch(t){n=!0,r=t}finally{try{!e&&a.return&&a.return()}finally{if(n)throw r}}}),i.deactivatable_=!1!==n.deactivatable,i.buildGroup(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.Element),r(e,[{key:"detach",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"detach",this).call(this);var t=!0,n=!1,r=void 0;try{for(var o,a=this.children_[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){o.value.detach()}}catch(t){n=!0,r=t}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}},{key:"addChild",value:function(t){var e=this;this.children_.push(t),t.on("update",function(){e.debouncedUpdate(),e.config.hasOwnProperty("exclusive")&&e.config.exclusive&&t.getActive()&&e.makeExclusive_(t)})}},{key:"buildGroup",value:function(){var t=this;if(this.config.hasOwnProperty("groupButton")&&"noButton"===this.config.groupButton){this.$element_=(0,a.default)();var e=!0,n=!1,r=void 0;try{for(var i,o=this.config.buttons[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var u=i.value;u.deactivatable=this.deactivatable_;var l=this.layerSelector.getElement(u);this.addChild(l),this.$element_=this.$element_.add(l.get$Element())}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}else{this.activateChildren_=this.config.hasOwnProperty("groupButton")&&"activate"===this.config.groupButton;var c=this.map.get("localiser");this.menu_=new s.ButtonBox({className:"g4u-layerselector-menu",title:c.selectL10N(this.config.title),rtl:c.isRtl(),titleButton:this.activateChildren_,collapsed:!1!==this.config.collapsed,collapsible:!1!==this.config.collapsible,addClass:this.config.addClass}),this.$element_=this.menu_.get$Element(),this.listenAt(this.menu_).on("change:collapsed",function(){t.layerSelector.dispatchEvent("change:size")});var h=!0,f=!1,p=void 0;try{for(var d,g=this.config.buttons[Symbol.iterator]();!(h=(d=g.next()).done);h=!0){var v=d.value,y=this.layerSelector.getElement(v);this.addChild(y),this.menu_.get$Body().append(y.get$Element())}}catch(t){f=!0,p=t}finally{try{!h&&g.return&&g.return()}finally{if(f)throw p}}this.debouncedUpdate()}}},{key:"update",value:function(){this.menu_&&(this.menu_.setCollapseButtonActive(this.getActive()),this.activateChildren_&&this.menu_.setTitleButtonActive(this.getAllActive())),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this)}},{key:"updateDisabled",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisabled",this).call(this,t);var n=!0,r=!1,o=void 0;try{for(var a,s=this.children_[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){a.value.updateDisabled(t)}}catch(t){r=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}if(!this.deactivatable_&&!this.getActive()){var u=!0,l=!1,c=void 0;try{for(var h,f=this.children_[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var p=h.value;if(!p.getDisabled())return void p.setActive(!0)}}catch(t){l=!0,c=t}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}}}},{key:"getActive",value:function(){return this.children_.some(function(t){return t.getActive()})}},{key:"getAllActive",value:function(){return this.children_.every(function(t){return t.getActive()})}},{key:"getLoading",value:function(){return this.children_.some(function(t){return t.getLoading()})}},{key:"setActive",value:function(t){if(this.activateChildren_){var e=!0,n=!1,r=void 0;try{for(var i,o=this.children_[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){i.value.setActive(t)}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}}},{key:"count",value:function(){return this.children_.reduce(function(t,e){return t+e.count()},0)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Accordion=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2));n(1233),n(1230);var o=n(256),a=n(140);e.Accordion=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.active_=!1,this.size_=0,this.map_=e,this.localiser_=r,this.buildHTML()}return r(t,[{key:"get$Entry",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.size_+=t,(0,i.default)("<div>").addClass("g4u-accordion-entry").addClass("g4u-accordion-entry-size-"+t)}},{key:"setActive",value:function(t){this.$menu_.toggleClass("g4u-layer-active",t)}},{key:"setVisible",value:function(t){this.visible_=t,this.$button_.toggleClass("g4u-accordion-active",t),this.$button_.parent().toggleClass("g4u-accordion-size-"+this.size_,t),t?this.$menu_.show():this.$menu_.hide()}},{key:"getVisible",value:function(){return this.visible_}},{key:"addTransparencySlider",value:function(t){this.get$Entry().appendTo(this.$menu_).append((0,i.default)("<span>").html(this.localiser_.localiseUsingDictionary("LayerSelectorAccordion transparency")).addClass("g4u-accordion-entry-content"));var e=this.get$Entry().appendTo(this.$menu_),n=(0,i.default)("<input>").addClass("g4u-slider").attr("type","range").attr("min",0).attr("max",1).attr("step","any").val(1-t.getOpacity());e.append(n),n.on("input",function(){t.setOpacity(1-parseFloat(n.val()))}),t.on("change:opacity",function(){n.val(1-t.getOpacity())})}},{key:"addWindow",value:function(t){var e=this,n=this.get$Entry().appendTo(this.$menu_),r=new o.Window({parentClassName:"g4u-accordion",map:this.map_}),s=void 0,u=function(){e.map_.get("localiser").isRtl()?r.get$Body().prop("dir","rtl"):r.get$Body().prop("dir",void 0),r.get$Body().html(s),r.setVisible(!0)};(0,i.default)("<button>").addClass("g4u-accordion-entry-content").html(this.localiser_.selectL10N(t.title)).on("click",function(){if(r.getVisible())r.setVisible(!1);else if(s)u();else{var n=a.URL.extractFromConfig(t,"url",void 0,e.map_);i.default.get(n.finalize(),function(t){s=t,u()})}}).appendTo(n)}},{key:"buildHTML",value:function(){var t=this;this.$button_=(0,i.default)("<span>").addClass("g4u-accordion-button").addClass("button").on("click",function(){t.setVisible(!t.getVisible())}),this.$menu_=(0,i.default)("<div>").addClass("g4u-accordion-menu"),this.$menu_.hide()}},{key:"addEntry",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.get$Entry(e).append(t).appendTo(this.$menu_)}},{key:"get$Element",value:function(){return this.$button_.add(this.$menu_)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayerSelector=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(25),a=n(360),s=n(54),u=n(6),l=n(128);n(1245);var c=n(359),h=n(631),f=n(630),p=n(628);e.LayerSelector=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-layerselector",t.element=(0,i.default)("<div>")[0],t.singleButton=!1;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.menuName_=t.menuName,n.minLayerAmount_=t.hasOwnProperty("minLayerAmount")?t.minLayerAmount:1,n.collapsible_=!t.hasOwnProperty("collapsible")||t.collapsible,n.collapsed_=t.collapsed||!1,n.classNames_={menu:n.getClassName()+"-menu",layerButton:n.getClassName()+"-layerbutton",active:n.getClassName()+"-active",featureInfo:n.getClassName()+"-info",featureInfoActive:n.getClassName()+"-info-active",disabled:n.getClassName()+"-disabled",spacer:n.getClassName()+"-spacer",checkbox:n.getClassName()+"-checkbox",radio:n.getClassName()+"-radio"},n.menu_=new a.ButtonBox({element:n.get$Element(),className:n.getClassName(),title:n.getLocaliser().selectL10N(n.getTitle()),collapsible:n.collapsible_,collapsed:n.collapsed_}),n.listenAt(n.menu_).on("change:collapsed",function(){return n.dispatchEvent("change:size")}),n.get$Element().append(n.menu_.get$Element()),n.minVisibleButtons_=t.minVisibleEntries||5,!1!==t.checkboxes&&n.menu_.get$Element().addClass("g4u-layerselector-with-checkbox"),n.elements_=[],n.elementGroups_={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,u.mixin)(o.Control,s.ListenerOrganizerMixin)),r(e,[{key:"setMap",value:function(t){var n=this;if(this.getMap()&&this.clear(),function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t){this.build(),this.listenAt(t.getView()).on("change:resolution",function(){var e=t.getView().getZoom(),r=!0,i=!1,o=void 0;try{for(var a,s=n.elements_[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){a.value.updateDisabled(e)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}});var r=t.getView().getZoom(),i=!0,o=!1,a=void 0;try{for(var s,u=this.elements_[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){s.value.updateDisabled(r)}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}}},{key:"clear",value:function(){this.detachAllListeners();var t=!0,e=!1,n=void 0;try{for(var r,i=this.elements_[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){r.value.detach()}}catch(t){e=!0,n=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw n}}this.menu_.get$Body().empty()}},{key:"addElement",value:function(t){var e=this.getElement(t);return this.menu_.get$Body().append(e.get$Element()),this.elements_.push(e),e.count()}},{key:"build",value:function(){var t=this.getMap().get("layerConfig").menus[this.menuName_],e=0;if(this.elements_=[],(0,l.isArray)(t)){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e+=this.addElement(s)}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}else(0,l.isObject)(t)&&(e+=this.addElement(t));e<this.minLayerAmount_&&this.setVisible(!1)}},{key:"getElement",value:function(t){switch(t.type){case"layer":return new c.LayerButton(this,t,this.getMap());case"group":return new h.GroupElement(this,t,this.getMap());case"WMS":return new p.WMSLayerButton(this,t,this.getMap());case"multi":return new f.MultiButton(this,t,this.getMap())}}},{key:"addElementToGroup",value:function(t,e){this.elementGroups_.hasOwnProperty(e)||(this.elementGroups_[e]=[]),this.elementGroups_[e].push(t)}},{key:"deactivateOtherGroupElements",value:function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=this.elementGroups_[e][Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s!==t&&s.setActive(!1)}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}},{key:"getCollapsible",value:function(){return this.collapsible_}},{key:"getCollapsed",value:function(){return this.menu_.getCollapsed()}},{key:"setCollapsed",value:function(t,e){t!==this.menu_.getCollapsed()&&this.menu_.setCollapsed(t,e)}},{key:"isSqueezable",value:function(t){return"height"===t}},{key:"squeezeBy",value:function(t,e){if("height"===t){var n=this.get$Element().find("."+this.getClassName()+"-content"),r=n.find("button:visible").filter("."+this.getClassName()+"-layerbutton,."+this.getClassName()+"-menu-titlebutton");if(r.length>1){var i=n.height(),o=(0,u.offset)(r.eq(1),r.eq(0)).top,a=Math.max(o*this.minVisibleButtons_,i-e);if(i>a)return n.css("max-height",a),i-a}}return 0}},{key:"beforePositioning",value:function(){this.scrolled_=this.menu_.get$Body().scrollTop()}},{key:"afterPositioning",value:function(){this.menu_.get$Body().scrollTop(this.scrolled_)}},{key:"release",value:function(t){"height"===t&&this.get$Element().find("."+this.getClassName()+"-content").css("max-height","")}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoomToBbox=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=h(n(2)),o=h(n(439)),a=n(53),s=n(25),u=n(9);n(1248);var l=n(6),c=n(111);function h(t){return t&&t.__esModule?t:{default:t}}e.ZoomToBbox=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.element=(0,i.default)("<button>").get(0),t.className=t.className||"g4u-zoom-to-bbox",t.singleButton=!0;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.classNameActive_=n.className_+"-active",n.style_=t.style||"#defaultStyle",n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("ZoomToBbox title")),n.setTipLabel(n.getTipLabel()||n.getLocaliser().localiseUsingDictionary("ZoomToBbox tipLabel")),n.get$Element().addClass(n.className_).addClass(u.cssClasses.mainButton).html(n.getTitle()),(0,a.addTooltip)(n.get$Element(),n.getTipLabel()),n.get$Element().on("click",function(){return n.setActive(!n.getActive())}),n.on("change:active",function(t){return n.activeChangeHandler_(t)}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,l.mixin)(s.Control,c.ActivatableMixin)),r(e,[{key:"setMap",value:function(t){var n=this;this.getMap()&&this.removeInteraction(this.interaction_),function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(this.interaction_=new o.default({boxStyle:t.get("styling").getStyle(this.style_),pointerStyle:function(){return null},handleUpEvent:function(){return n.setActive(!1),!0}}),this.interaction_.setActive(!1),t.addSupersedingInteraction("singleclick pointermove drag",this.interaction_))}},{key:"activeChangeHandler_",value:function(){var t=this.getActive();this.get$Element().toggleClass(u.cssClasses.active,t),t?(this.interaction_.setActive(!0),(0,i.default)(this.map_.getViewport()).addClass(u.cssClasses.crosshair)):(this.map_.getView().fit(this.interaction_.getExtent()),(0,i.default)(this.map_.getViewport()).removeClass(u.cssClasses.crosshair),this.interaction_.setActive(!1),this.interaction_.setExtent(null))}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LegendViewer=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(128),a=n(9),s=n(54),u=n(6),l=n(25);n(1250);e.LegendViewer=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.element=(0,i.default)("<div>")[0],t.className=t.className||"g4u-legendviewer";var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setTitle(n.getTitle()||n.getLocaliser().localiseUsingDictionary("LegendViewer title")),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,u.mixin)(l.Control,s.ListenerOrganizerMixin)),r(e,[{key:"setMap",value:function(t){var n=this;this.getMap()&&this.detachAllListeners(),function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(t.getLayers().forEach(function(t){t.getSource&&t.getSource()&&t.getSource().get("legends")&&(n.listenAt(t).on("change:visible",function(){return n.update()}),n.listenAt(t.getSource()).on("change:layers",function(){return n.update()}))}),this.update())}},{key:"update",value:function(){var t=this,e=this.get$Element(),n=[];if(this.getMap().getLayers().forEach(function(e){if(e.getSource&&e.getSource()&&e.getSource().get("legends")){var r=e.getSource().get("legends");if(e.getVisible())if((0,o.isArray)(r)){var i=!0,a=!1,s=void 0;try{for(var u,l=r[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=u.value;e.getSource().areLayersActive([c])&&n.push(e.getSource().getGetLegendGraphicUrl(t.getMap().getView().getResolution(),c))}}catch(t){a=!0,s=t}finally{try{!i&&l.return&&l.return()}finally{if(a)throw s}}}else if((0,o.isPlainObject)(r)){var h=!0,f=!1,p=void 0;try{for(var d,g=Object.keys(r)[Symbol.iterator]();!(h=(d=g.next()).done);h=!0){var v=d.value;e.getSource().areLayersActive([v])&&n.push(r[v])}}catch(t){f=!0,p=t}finally{try{!h&&g.return&&g.return()}finally{if(f)throw p}}}}}),e.empty(),0===n.length)e.addClass(a.cssClasses.hidden);else{e.removeClass(a.cssClasses.hidden);var r=!0,s=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var h=l.value;(0,i.default)("<img>").prop("src",h).appendTo(e)}}catch(t){s=!0,u=t}finally{try{!r&&c.return&&c.return()}finally{if(s)throw u}}}this.dispatchEvent("change:size")}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoomSlider=e.Zoom=e.CombinedZoom=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=p(n(2)),a=p(n(457)),s=p(n(456)),u=n(255),l=n(9),c=n(56);n(1254);var h=n(6),f=n(188);function p(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.CombinedZoom=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,e),t.element=(0,o.default)("<div>").get(0),t.className=t.className||"g4u-zoom",t.singleButton=!1;var n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return delete t.element,n.hasButtons_=t.buttons||!t.hasOwnProperty("buttons"),n.hasSlider_=t.slider||!t.hasOwnProperty("slider"),n.hasButtons_&&(n.zoomButtonOptions=(0,c.copy)(t),n.zoomButtonOptions.importance=t.buttonImportance||t.importance,n.zoomButtonOptions.zoomInTipLabel=t.hasOwnProperty("zoomInTipLabel")?n.getLocaliser().selectL10N(t.zoomInTipLabel):n.getLocaliser().localiseUsingDictionary("Zoom zoomInTipLabel"),n.zoomButtonOptions.zoomOutTipLabel=t.hasOwnProperty("zoomOutTipLabel")?n.getLocaliser().selectL10N(t.zoomOutTipLabel):n.getLocaliser().localiseUsingDictionary("Zoom zoomOutTipLabel")),n.hasSlider_&&(n.zoomSliderOptions=(0,c.copy)(t),n.zoomSliderOptions.importance=t.sliderImportance,n.zoomSliderOptions.className="g4u-zoomslider"),n}return v(e,u.ComposedControl),r(e,[{key:"setMap",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(this.hasSlider_&&this.addZoomSlider(),this.hasButtons_&&this.addZoomButtons())}},{key:"addZoomButtons",value:function(){this.zoomButtons_=new y(this.zoomButtonOptions),this.addControl(this.zoomButtons_,{wrap:!1});var t=this.zoomButtons_.get$Element().children(".g4u-zoom-in"),e=this.zoomButtons_.get$Element().children(".g4u-zoom-out");this.get$Container().prepend(t),this.get$Container().append(e),this.zoomButtons_.get$Element().remove()}},{key:"addZoomSlider",value:function(){this.zoomSlider_=new _(this.zoomSliderOptions),this.addControl(this.zoomSlider_,{wrap:!1});var t=this.zoomSlider_.get$Element();t.on("mousedown",function(){t.addClass(l.cssClasses.mousedown)}),t.on("mouseup",function(){t.removeClass(l.cssClasses.mousedown)});var e=this.get$Container().filter(".g4u-zoom-in");e.length?t.insertAfter(e):this.get$Container().append(t)}}]),e}();var y=e.Zoom=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(this,e),t.className=t.hasOwnProperty("className")?t.className:"g4u-zoom",t.zoomInTipLabel=t.hasOwnProperty("zoomInTipLabel")?t.localiser.selectL10N(t.zoomInTipLabel):t.localiser.localiseUsingDictionary("Zoom zoomInTipLabel"),t.zoomOutTipLabel=t.hasOwnProperty("zoomOutTipLabel")?t.localiser.selectL10N(t.zoomOutTipLabel):t.localiser.localiseUsingDictionary("Zoom zoomOutTipLabel"),g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return v(e,(0,h.mixin)(a.default,f.RewireMixin)),e}(),_=e.ZoomSlider=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d(this,e),t.className=t.hasOwnProperty("className")?t.className:"g4u-zoomslider",g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return v(e,(0,h.mixin)(s.default,f.RewireMixin)),r(e,[{key:"rewire",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rewire",this).call(this),this.get$Element().on("mousedown",function(){(0,o.default)(this).addClass(l.cssClasses.mousedown)}),this.get$Element().on("mouseup",function(){(0,o.default)(this).removeClass(l.cssClasses.mousedown)})}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrowButtons=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(56),a=n(25),s=n(53);n(1261);var u=n(78);e.ArrowButtons=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.className=t.className||"g4u-arrowbuttons",t.element=(0,i.default)('<div class="ol-unselectable ol-control"></div>')[0],t.singleButton=!1;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r={left:n.getLocaliser().localiseUsingDictionary("ArrowButtons leftward"),right:n.getLocaliser().localiseUsingDictionary("ArrowButtons rightward"),up:n.getLocaliser().localiseUsingDictionary("ArrowButtons upward"),down:n.getLocaliser().localiseUsingDictionary("ArrowButtons downward"),center:n.getLocaliser().localiseUsingDictionary("ArrowButtons centerward")};n.pixelDelta_=t.pixelDelta||128,n.initExtent_=t.initExtent||void 0,n.animationDuration_=t.animationDuration||100,n.animated_=t.animated||!0,n.directions_=["center","left","up","right","down"],n.vectors_={left:[-1,0],up:[0,1],right:[1,0],down:[0,-1]},n.labels_=(0,o.merge)(t.labels||{},{left:"&#9665;",up:"&#9651;",right:"&#9655;",down:"&#9661;",center:"&#9675;"});var a=function(t){var e=(0,i.default)("<button>").addClass(n.className_+"-"+t).html(n.labels_[t]);(0,s.addTooltip)(e,r[t]),e.on("click",function(){n.onClick_(t),e.blur()}),n.get$Element().append(e)},u=!0,l=!1,c=void 0;try{for(var h,f=n.directions_[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){a(h.value)}}catch(t){l=!0,c=t}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}return n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Control),r(e,[{key:"setMap",value:function(t){(function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setMap",this).call(this,t),t&&(this.initExtent_||(this.initExtent_=t.getView().calculateExtent(t.getSize())))}},{key:"onClick_",value:function(t){var e=this.getMap(),n=e.getView();if("center"===t)e.get("move").toExtent(this.initExtent_,{animated:this.animated_});else{var r=n.getResolution(),o=n.getRotation(),a=this.vectors_[t],s=[a[0]*r*this.pixelDelta_,a[1]*r*this.pixelDelta_];(0,u.rotate)(s,o);var l=n.getCenter(),c=[l[0]+s[0],l[1]+s[1]];this.animated_?n.animate({center:c,duration:this.animationDuration_}):n.setCenter(c)}(0,i.default)(e.getViewport()).focus()}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ControlFactory=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(153)),o=n(3),a=n(362),s=n(255),u=n(637),l=n(636),c=n(635),h=n(634),f=n(633),p=n(627),d=n(356),g=n(624),v=n(623),y=n(622),_=n(620),m=n(619),b=n(355),w=n(618),E=n(617),x=n(252),O=n(6),C=n(56),S=n(321),P=n(11),M=n(616),T=n(615),A=n(614),D=n(613),I=n(612),L=n(608);e.ControlFactory=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.localiser_=e.localiser,this.map_=e.map,this.activeGroups_=new Map}return r(t,[{key:"getPositioning",value:function(){return this.map_.get("controlPositioning")}},{key:"createControl",value:function(t,e){switch(t){case"mousePosition":return e.projection=e.projection||this.map_.get("interfaceProjection"),new T.MousePosition(e);case"attribution":return new a.Attribution(e);case"zoom":return new l.CombinedZoom(e);case"scaleLine":return new A.ScaleLine(e);case"logo":return new w.Logo(e);case"linkButton":return new m.LinkButton(e);case"mobileControls":return new y.MobileControls(e);case"overviewMap":var n=e.projection||this.map_.get("mapProjection");return e.view=new i.default({projection:n}),new D.OverviewMap(e);case"staticOverviewMap":return new L.StaticOverviewMap(e);case"infoButton":return new x.WindowDecorator({component:new _.InfoButton(e)});case"arrowButtons":var r=this.map_.get("mapConfig");return r.view&&(r.view.center&&(e.initCenter=(0,o.transform)(r.view.center,this.map_.get("interfaceProjection"),this.map_.get("mapProjection"))),r.view.zoom&&(e.initZoom=r.view.zoom)),new u.ArrowButtons(e);case"layerSelector":return new f.LayerSelector(e);case"geolocationButton":return new p.GeolocationButton(e);case"languageSwitcherButton":return new g.LanguageSwitcherButton(e);case"languageSwitcherMenu":return new v.LanguageSwitcherMenu(e);case"printButton":return new b.PrintButton(e);case"distanceMeasurementButton":return e.className=e.className||"g4u-distance-measurement",e.type="LineString",e.dimension=1,new x.WindowDecorator({component:new d.MeasurementButton(e)});case"areaMeasurementButton":return e.className=e.className||"g4u-area-measurement",e.type="Polygon",e.dimension=2,new x.WindowDecorator({component:new d.MeasurementButton(e)});case"helpButton":return e.configControls=this.map_.get("mapConfig").controls,new x.WindowDecorator({component:new E.HelpButton(e)});case"toolbox":return e.className=e.className||"g4u-toolbox",new s.ComposedControl(e);case"layerMenu":return e.className=e.className||"g4u-layermenu",new s.ComposedControl(e);case"singleDrawButton":return new I.SingleDrawButton(e);case"legendViewer":return new c.LegendViewer(e);case"zoomToBbox":return new h.ZoomToBbox(e)}}},{key:"addControlTo",value:function(t,e){var n=(0,C.copyDeep)((0,O.asObject)(this.controlsConfig[e])),r=n.controlType||e;n.controlName=e,n.localiser=this.localiser_,!n.hasOwnProperty("importance")&&t.getImportance&&(n.importance=t.getImportance());for(var i=this.createControl(r,n,t),o=this.map_.getModules(),a=0,s=o.length;a<s&&void 0===i;a++)i=o[a].createControl(r,n,t);if(i)n.activeGroup&&(this.activeGroups_.has(n.activeGroup)||this.activeGroups_.set(n.activeGroup,new M.ActiveGroup),this.activeGroups_.get(n.activeGroup).addControl(i)),this.map_.controlsByName[e]?this.map_.controlsByName[e].push(i):this.map_.controlsByName[e]=[i],t.addControl(i),n.contains&&this.addControlMultipleInternal_(i,n.contains),i.rewire&&i.rewire(),t instanceof S.G4UMap&&this.getPositioning().addControl(i);else if(void 0===i)throw new Error("Unrecognized control type "+r+", maybe you did forget to set the property type of the control?")}},{key:"addControlMultipleInternal_",value:function(t,e){var n=this;e.forEach(function(e){P.Debug.tryOrThrow(function(){n.addControlTo(t,e)})})}},{key:"addControls",value:function(){this.controlsConfig=this.map_.get("mapConfig").controls,(0,O.checkFor)(this.controlsConfig,"onMap")&&this.addControlMultipleInternal_(this.map_,this.controlsConfig.onMap)}},{key:"setLocaliser",value:function(t){this.localiser_=t}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Shield=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=u(n(2)),o=u(n(21)),a=n(9),s=n(53);function u(t){return t&&t.__esModule?t:{default:t}}n(1272);e.Shield=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.className_=t.className||"g4u-shield",n.map_=t.map,n.$context_=(0,i.default)(n.map_.getTarget()),n.$element_=(0,i.default)("<div>").addClass(n.className_),n.$context_.append(n.$element_),n.setActive(!!t.hasOwnProperty("active")&&t.active),n.$element_.on("keydown",function(t){t.which===a.keyCodes.ESCAPE&&n.getActive()&&n.setActive(!1)}),n.elementsOnTop_=new Map,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),r(e,[{key:"setActive",value:function(t){var e=this.active_;e!==t&&(t?(this.$element_.removeClass(a.cssClasses.hidden),(0,s.getInFront)(this.$element_,this.$context_)):this.$element_.addClass(a.cssClasses.hidden),this.active_=t,this.dispatchEvent({type:"change:active",oldValue:e,key:"active"}))}},{key:"getActive",value:function(){return this.active_}},{key:"add$OnTop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if(!e.hasOwnProperty("findParentWindow")||e.findParentWindow){var r=t.parents().filter(".g4u-window");r.length>0&&(n=r)}var i=n.parent();this.elementsOnTop_.set(t[0],{$actualElement:n,$oldParent:i,oldIndex:i.children().index(n)}),this.$element_.append(n),(0,s.getInFront)(n,this.$element_);var o=!0,a=!1,u=void 0;try{for(var l,c=Array.from(i[0].classList)[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var h=l.value;this.$element_.addClass(h)}}catch(t){a=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(a)throw u}}}},{key:"remove$OnTop",value:function(t){var e=t[0],n=this.elementsOnTop_.get(e),r=n.$actualElement,i=n.$oldParent,o=n.oldIndex;0===o?i.prepend(r):i.children().eq(o-1).after(r);var a=!0,s=!1,u=void 0;try{for(var l,c=Array.from(i[0].classList)[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var h=l.value;this.$element_.removeClass(h)}}catch(t){s=!0,u=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}this.elementsOnTop_.delete(e)}},{key:"get$ElementsInFront",value:function(){return this.$element_.children()}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureTooltip=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(2)),o=n(1),a=l(n(209)),s=n(9);n(1274);var u=n(6);function l(t){return t&&t.__esModule?t:{default:t}}function c(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}e.FeatureTooltip=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.className_=e.hasOwnProperty("className")?e.className:"g4u-featuretooltip",this.$element_=(0,i.default)("<span></span>").addClass(this.className_).addClass(s.cssClasses.hidden),this.overlay_=new a.default({element:this.$element_.get(0),offset:e.hasOwnProperty("offset")?e.offset:[0,0],positioning:e.hasOwnProperty("positioning")?e.positioning:"center-center",stopEvent:!1}),this.defaultPopupModifiers_=e.popupModifier||[],this.feature_=null,this.$element_.parent().addClass(this.className_+"-container")}return r(t,[{key:"setMap",value:function(e){var n=this;this.getMap()&&this.getMap().removeOverlay(this.overlay_),e&&(e.addOverlay(this.overlay_),e.get("moveInteraction").on("interaction",function(e){var r=e.interacted.filter(function(e){var n=e.feature;return t.canDisplay(n)});if(r.length){var i=r[0],o=i.feature,a=i.layer;o.get("features")&&(o=o.get("features")[0]),n.setFeature(o,a,e.coordinate)}else n.setFeature(null)}),this.map_=e)}},{key:"getFeature",value:function(){return this.feature_}},{key:"setFeature",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t){var i=[].concat(c(this.defaultPopupModifiers_),c(e.get("popupModifiers")||[]));if(this.getMap().get("popupModifiers").apply({name:t.get("tooltip")||t.get("name"),description:t.get("description")},this.getMap(),i).then(function(t){t.name&&(n.$element_.html((0,u.html2Text)(t.name)),n.$element_.removeClass(s.cssClasses.hidden))}),!r){var a=t.getGeometry();r=(0,o.getCenter)(a.getExtent())}this.overlay_.setPosition(r)}else this.$element_.addClass(s.cssClasses.hidden);this.feature_=t}},{key:"getMap",value:function(){return this.map_}}],[{key:"canDisplay",value:function(t){return t.get("features")&&1===t.get("features").length&&(t=t.get("features")[0]),!t.get("disabled")&&!t.get("tooltip.disabled")&&(t.get("tooltip")||t.get("name"))}}]),t}()},function(t,e,n){"use strict";
/*!
 * better-normal-scroll v1.15.2
 * (c) 2016-2019 ustbhuangyi
 * Released under the MIT License.
 */
function r(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}n.r(e);var i=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)};var a="undefined"!=typeof window,s=a&&navigator.userAgent.toLowerCase(),u=s&&/wechatdevtools/.test(s),l=s&&s.indexOf("android")>0;function c(){return window.performance&&window.performance.now?window.performance.now()+window.performance.timing.navigationStart:+new Date}function h(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0;i<n.length;i++){var o=n[i];for(var a in o)t[a]=o[a]}return t}function f(t){return void 0===t||null===t}function p(t,e){return Math.sqrt(t*t+e*e)}var d=a&&document.createElement("div").style,g=function(){if(!a)return!1;var t={standard:"transform",webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform"};for(var e in t)if(void 0!==d[t[e]])return e;return!1}();function v(t){return!1!==g&&("standard"===g?"transitionEnd"===t?"transitionend":t:g+t.charAt(0).toUpperCase()+t.substr(1))}function y(t,e,n,r){t.addEventListener(e,n,{passive:!1,capture:!!r})}function _(t,e,n,r){t.removeEventListener(e,n,{passive:!1,capture:!!r})}function m(t){for(var e=0,n=0;t;)e-=t.offsetLeft,n-=t.offsetTop,t=t.offsetParent;return{left:e,top:n}}function b(t){var e=t.getBoundingClientRect();return{left:-(e.left+window.pageXOffset),top:-(e.top+window.pageYOffset)}}var w=g&&"standard"!==g?"-"+g.toLowerCase()+"-":"",E=v("transform"),x=v("transition"),O=a&&v("perspective")in d,C=a&&("ontouchstart"in window||u),S=!1!==E,P=a&&x in d,M={transform:E,transition:x,transitionTimingFunction:v("transitionTimingFunction"),transitionDuration:v("transitionDuration"),transitionDelay:v("transitionDelay"),transformOrigin:v("transformOrigin"),transitionEnd:v("transitionEnd")},T=1,A={touchstart:T,touchmove:T,touchend:T,mousedown:2,mousemove:2,mouseup:2};function D(t){if(t instanceof window.SVGElement){var e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width,height:e.height}}return{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}function I(t,e){for(var n in e)if(e[n].test(t[n]))return!0;return!1}function L(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click",n=void 0;"mouseup"===t.type||"mousecancel"===t.type?n=t:"touchend"!==t.type&&"touchcancel"!==t.type||(n=t.changedTouches[0]);var r={};n&&(r.screenX=n.screenX||0,r.screenY=n.screenY||0,r.clientX=n.clientX||0,r.clientY=n.clientY||0);var i=void 0,o=!0,a=!0;if("undefined"!=typeof MouseEvent)try{i=new MouseEvent(e,h({bubbles:o,cancelable:a},r))}catch(t){s()}else s();function s(){(i=document.createEvent("Event")).initEvent(e,o,a),h(i,r)}i.forwardedTouchEvent=!0,i._constructed=!0,t.target.dispatchEvent(i)}function F(t,e){t.removeChild(e)}var k={startX:0,startY:0,scrollX:!1,scrollY:!0,freeScroll:!1,directionLockThreshold:5,eventPassthrough:"",click:!1,tap:!1,bounce:!0,bounceTime:800,momentum:!0,momentumLimitTime:300,momentumLimitDistance:15,swipeTime:2500,swipeBounceTime:500,deceleration:.0015,flickLimitTime:200,flickLimitDistance:100,resizePolling:60,probeType:0,preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:!1,disableMouse:C,disableTouch:!C,observeDOM:!0,autoBlur:!0,wheel:!1,snap:!1,scrollbar:!1,pullDownRefresh:!1,pullUpLoad:!1,mouseWheel:!1,stopPropagation:!1,zoom:!1,infinity:!1,dblclick:!1};var R={swipe:{style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(t){return 1+--t*t*t*t*t}},swipeBounce:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},bounce:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(t){return 1- --t*t*t*t}}};function j(t,e,n,r,i,o,a,s){var u=t-e,l=Math.abs(u)/n,c=a.deceleration,h=a.itemHeight,f=a.swipeBounceTime,p=a.wheel,d=a.swipeTime,g=p?4:15,v=t+l/c*(u<0?-1:1);return p&&h&&(v=s._findNearestValidWheel(v).y),v<r?(v=o?Math.max(r-o/4,r-o/g*l):r,d=f):v>i&&(v=o?Math.min(i+o/4,i+o/g*l):i,d=f),{destination:Math.round(v),duration:d}}function N(){}var B=a?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,(t.interval||100/60)/2)}:N,G=a?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(t){window.clearTimeout(t)}:N,U=1,z=-1,V=1,Y=-1,W=1,X=3;function q(t){console.error("[BScroll warn]: "+t)}function H(t,e){if(!t)throw new Error("[BScroll] "+e)}function $(t){var e=document.createElement("div"),n=document.createElement("div");return e.style.cssText="position:absolute;z-index:9999;pointerEvents:none",n.style.cssText="box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px;",n.className="bscroll-indicator","horizontal"===t?(e.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",n.style.height="100%",e.className="bscroll-horizontal-scrollbar"):(e.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",n.style.width="100%",e.className="bscroll-vertical-scrollbar"),e.style.cssText+=";overflow:hidden",e.appendChild(n),e}function K(t,e){this.wrapper=e.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.direction=e.direction,e.fade?(this.visible=0,this.wrapperStyle.opacity="0"):this.visible=1,this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.x=0,this.y=0,e.interactive&&this._addDOMEvents()}K.prototype.handleEvent=function(t){switch(t.type){case"touchstart":case"mousedown":this._start(t);break;case"touchmove":case"mousemove":this._move(t);break;case"touchend":case"mouseup":case"touchcancel":case"mousecancel":this._end(t)}},K.prototype.refresh=function(){this._shouldShow()&&(this.transitionTime(),this._calculate(),this.updatePosition())},K.prototype.fade=function(t,e){var n=this;if(!e||this.visible){var r=t?250:500;t=t?"1":"0",this.wrapperStyle[M.transitionDuration]=r+"ms",clearTimeout(this.fadeTimeout),this.fadeTimeout=setTimeout(function(){n.wrapperStyle.opacity=t,n.visible=+t},0)}},K.prototype.updatePosition=function(){if("vertical"===this.direction){var t=Math.round(this.sizeRatioY*this.scroller.y);if(t<0){this.transitionTime(500);var e=Math.max(this.indicatorHeight+3*t,8);this.indicatorStyle.height=e+"px",t=0}else if(t>this.maxPosY){this.transitionTime(500);var n=Math.max(this.indicatorHeight-3*(t-this.maxPosY),8);this.indicatorStyle.height=n+"px",t=this.maxPosY+this.indicatorHeight-n}else this.indicatorStyle.height=this.indicatorHeight+"px";this.y=t,this.scroller.options.useTransform?this.indicatorStyle[M.transform]="translateY("+t+"px)"+this.scroller.translateZ:this.indicatorStyle.top=t+"px"}else{var r=Math.round(this.sizeRatioX*this.scroller.x);if(r<0){this.transitionTime(500);var i=Math.max(this.indicatorWidth+3*r,8);this.indicatorStyle.width=i+"px",r=0}else if(r>this.maxPosX){this.transitionTime(500);var o=Math.max(this.indicatorWidth-3*(r-this.maxPosX),8);this.indicatorStyle.width=o+"px",r=this.maxPosX+this.indicatorWidth-o}else this.indicatorStyle.width=this.indicatorWidth+"px";this.x=r,this.scroller.options.useTransform?this.indicatorStyle[M.transform]="translateX("+r+"px)"+this.scroller.translateZ:this.indicatorStyle.left=r+"px"}},K.prototype.transitionTime=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.indicatorStyle[M.transitionDuration]=t+"ms"},K.prototype.transitionTimingFunction=function(t){this.indicatorStyle[M.transitionTimingFunction]=t},K.prototype.destroy=function(){this._removeDOMEvents(),this.wrapper.parentNode.removeChild(this.wrapper)},K.prototype._start=function(t){var e=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=e.pageX,this.lastPointY=e.pageY,this.startTime=c(),this._handleMoveEvents(y),this.scroller.trigger("beforeScrollStart")},K.prototype._move=function(t){var e=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.moved||this.scroller.trigger("scrollStart"),this.moved=!0;var n=e.pageX-this.lastPointX;this.lastPointX=e.pageX;var r=e.pageY-this.lastPointY;this.lastPointY=e.pageY;var i=this.x+n,o=this.y+r;this._pos(i,o)},K.prototype._end=function(t){if(this.initiated){this.initiated=!1,t.preventDefault(),t.stopPropagation(),this._handleMoveEvents(_);var e=this.scroller.options.snap;if(e){var n=e.speed,r=e.easing,i=void 0===r?R.bounce:r,o=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),a=n||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-o.x),1e3),Math.min(Math.abs(this.scroller.y-o.y),1e3)),300);this.scroller.x===o.x&&this.scroller.y===o.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=o,this.scroller.scrollTo(o.x,o.y,a,i))}this.moved&&this.scroller.trigger("scrollEnd",{x:this.scroller.x,y:this.scroller.y})}},K.prototype._pos=function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=Math.round(t/this.sizeRatioX),e=Math.round(e/this.sizeRatioY),this.scroller.scrollTo(t,e),this.scroller.trigger("scroll",{x:this.scroller.x,y:this.scroller.y})},K.prototype._shouldShow=function(){return"vertical"===this.direction&&this.scroller.hasVerticalScroll||"horizontal"===this.direction&&this.scroller.hasHorizontalScroll?(this.wrapper.style.display="",!0):(this.wrapper.style.display="none",!1)},K.prototype._calculate=function(){if("vertical"===this.direction){var t=this.wrapper.clientHeight;this.indicatorHeight=Math.max(Math.round(t*t/(this.scroller.scrollerHeight||t||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px",this.maxPosY=t-this.indicatorHeight,this.sizeRatioY=this.maxPosY/this.scroller.maxScrollY}else{var e=this.wrapper.clientWidth;this.indicatorWidth=Math.max(Math.round(e*e/(this.scroller.scrollerWidth||e||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px",this.maxPosX=e-this.indicatorWidth,this.sizeRatioX=this.maxPosX/this.scroller.maxScrollX}},K.prototype._addDOMEvents=function(){var t=y;this._handleDOMEvents(t)},K.prototype._removeDOMEvents=function(){var t=_;this._handleDOMEvents(t),this._handleMoveEvents(t)},K.prototype._handleMoveEvents=function(t){this.scroller.options.disableTouch||t(window,"touchmove",this),this.scroller.options.disableMouse||t(window,"mousemove",this)},K.prototype._handleDOMEvents=function(t){this.scroller.options.disableTouch||(t(this.indicator,"touchstart",this),t(window,"touchend",this)),this.scroller.options.disableMouse||(t(this.indicator,"mousedown",this),t(window,"mouseup",this))};var Z=2e3;function J(t){if(t&&t.classList)return t.classList.contains("tombstone")}function Q(t,e){var n=this;this.options=e,H("function"==typeof this.options.createTombstone,"Infinite scroll need createTombstone Function to create tombstone"),H("function"==typeof this.options.fetch,"Infinite scroll need fetch Function to fetch new data."),H("function"==typeof this.options.render,"Infinite scroll need render Function to render each item."),this.firstAttachedItem=0,this.lastAttachedItem=0,this.anchorScrollTop=0,this.anchorItem={index:0,offset:0},this.tombstoneHeight=0,this.tombstoneWidth=0,this.tombstones=[],this.tombstonesAnimationHandlers=[],this.items=[],this.loadedItems=0,this.requestInProgress=!1,this.hasMore=!0,this.scroller=t,this.wrapperEl=this.scroller.wrapper,this.scrollerEl=this.scroller.scroller,this.scroller.on("resize",function(){n.onResize()}),this.scroller.on("destroy",function(){n.destroy()}),this._onResizeHandler=setTimeout(function(){n.onResize(),n.scroller.on("scroll",function(){n.onScroll()})})}function tt(t,e){this.wrapper="string"==typeof t?document.querySelector(t):t,this.wrapper||q("Can not resolve the wrapper DOM."),this.scroller=this.wrapper.children[0],this.scroller||q("The wrapper need at least one child element to be scroller."),this.scrollerStyle=this.scroller.style,this._init(e)}Q.prototype.destroy=function(){var t=this;clearTimeout(this._onResizeHandler),this.tombstonesAnimationHandlers.forEach(function(t){clearTimeout(t)}),this.tombstonesAnimationHandlers=null,this.items.forEach(function(e){e.node&&(t.scrollerEl.removeChild(e.node),e.node=null)}),this.scroller.infiniteScroller=null,this.scroller=null,this.wrapperEl=null,this.scrollerEl=null,this.items=null,this.tombstones=null},Q.prototype.onScroll=function(){var t=-this.scroller.y,e=t-this.anchorScrollTop;this.anchorItem=0===t?{index:0,offset:0}:this._calculateAnchoredItem(this.anchorItem,e),this.anchorScrollTop=t;var n=this._calculateAnchoredItem(this.anchorItem,this.scroller.wrapperHeight),r=this.anchorItem.index,i=n.index;e<0?(r-=30,i+=10):(r-=10,i+=30),this.fill(r,i),this.maybeRequestContent()},Q.prototype.onResize=function(){var t=this.options.createTombstone();t.style.position="absolute",this.scrollerEl.appendChild(t),t.style.display="",this.tombstoneHeight=t.offsetHeight,this.tombstoneWidth=t.offsetWidth,this.scrollerEl.removeChild(t);for(var e=0;e<this.items.length;e++)this.items[e].height=this.items[e].width=0;this.onScroll()},Q.prototype.fill=function(t,e){this.firstAttachedItem=Math.max(0,t),this.hasMore||(e=Math.min(e,this.items.length)),this.lastAttachedItem=e,this.attachContent()},Q.prototype.maybeRequestContent=function(){var t=this;if(!this.requestInProgress&&this.hasMore){var e=this.lastAttachedItem-this.loadedItems;e<=0||(this.requestInProgress=!0,this.options.fetch(e).then(function(e){if(t.requestInProgress=!1,e)t.addContent(e);else{t.hasMore=!1;var n=t._removeTombstones(),r=0;t.anchorItem.index<=t.items.length?(r=t._fixScrollPosition(),t._setupAnimations({},r),t.scroller.resetPosition(t.scroller.options.bounceTime)):(t.anchorItem.index-=n,r=t._fixScrollPosition(),t._setupAnimations({},r),t.scroller.stop(),t.scroller.resetPosition(),t.onScroll())}}))}},Q.prototype.addContent=function(t){for(var e=0;e<t.length;e++)this.items.length<=this.loadedItems&&this._addItem(),this.items[this.loadedItems++].data=t[e];this.attachContent(),this.maybeRequestContent()},Q.prototype.attachContent=function(){var t=this._collectUnusedNodes(),e=this._createDOMNodes(t);this._cleanupUnusedNodes(t),this._cacheNodeSize();var n=this._fixScrollPosition();this._setupAnimations(e,n)},Q.prototype.resetMore=function(){this.hasMore=!0},Q.prototype._removeTombstones=function(){for(var t,e=void 0,n=this.items.length,r=0;r<n;r++){var i=this.items[r].node,o=this.items[r].data;i&&!J(i)||o||(void 0===e&&(e=r),i&&this.scrollerEl.removeChild(i))}return t=n-e,this.items.splice(e),this.lastAttachedItem=Math.min(this.lastAttachedItem,this.items.length),t},Q.prototype._collectUnusedNodes=function(){for(var t=[],e=0;e<this.items.length;e++)if(e!==this.firstAttachedItem){var n=this.items[e].node;n&&(J(n)?(this.tombstones.push(n),this.tombstones[this.tombstones.length-1].style.display="none"):t.push(n)),this.items[e].node=null}else e=this.lastAttachedItem-1;return t},Q.prototype._createDOMNodes=function(t){for(var e={},n=this.firstAttachedItem;n<this.lastAttachedItem;n++){for(;this.items.length<=n;)this._addItem();var r=this.items[n].node,i=this.items[n].data;if(r){if(!J(r)||!i)continue;r.style.zIndex=1,e[n]=[r,this.items[n].top-this.anchorScrollTop],this.items[n].node=null}var o=i?this.options.render(i,t.pop()):this._getTombStone();o.style.position="absolute",this.items[n].top=-1,this.scrollerEl.appendChild(o),this.items[n].node=o}return e},Q.prototype._cleanupUnusedNodes=function(t){for(;t.length;)this.scrollerEl.removeChild(t.pop())},Q.prototype._cacheNodeSize=function(){for(var t=this.firstAttachedItem;t<this.lastAttachedItem;t++){var e=this.items[t];if(e.data&&!e.height){var n=J(e.node);e.height=n?this.tombstoneHeight:e.node.offsetHeight,e.width=n?this.tombstoneWidth:e.node.offsetWidth}}},Q.prototype._fixScrollPosition=function(){this.anchorScrollTop=0;for(var t=0;t<this.anchorItem.index;t++)this.anchorScrollTop+=this.items[t].height||this.tombstoneHeight;this.anchorScrollTop+=this.anchorItem.offset;for(var e=this.anchorScrollTop-this.anchorItem.offset,n=this.anchorItem.index;n>this.firstAttachedItem;)e-=this.items[n-1].height||this.tombstoneHeight,n--;return e},Q.prototype._setupAnimations=function(t,e){var n=this;for(var r in t){var i=t[r];this.items[r].node.style[M.transform]="translateY("+(this.anchorScrollTop+i[1])+"px) scale("+this.tombstoneWidth/this.items[r].width+", "+this.tombstoneHeight/this.items[r].height+")",this.items[r].node.offsetTop,i[0].offsetTop,this.items[r].node.style[M.transition]=w+"transform 200ms"}for(var o=this.firstAttachedItem;o<this.lastAttachedItem;o++){var a=t[o];if(a){var s=a[0];s.style[M.transition]=w+"transform 200ms, opacity 200ms",s.style[M.transform]="translateY("+e+"px) scale("+this.items[o].width/this.tombstoneWidth+", "+this.items[o].height/this.tombstoneHeight+")",s.style.opacity=0}e!==this.items[o].top&&(a||(this.items[o].node.style[M.transition]=""),this.items[o].node.style[M.transform]="translateY("+e+"px)"),this.items[o].top=e,e+=this.items[o].height||this.tombstoneHeight}this.scroller.maxScrollY=-(e-this.scroller.wrapperHeight+(this.hasMore?Z:0));var u=setTimeout(function(){for(var e in t){var r=t[e];r[0].style.display="none",n.tombstones.push(r[0])}},200);this.tombstonesAnimationHandlers.push(u)},Q.prototype._getTombStone=function(){var t=this.tombstones.pop();return t?(t.style.display="",t.style.opacity=1,t.style[M.transform]="",t.style[M.transition]="",t):this.options.createTombstone()},Q.prototype._addItem=function(){this.items.push({data:null,node:null,height:0,width:0,top:0})},Q.prototype._calculateAnchoredItem=function(t,e){if(0===e)return t;var n=t.index,r=0;if((e+=t.offset)<0){for(;e<0&&n>0&&this.items[n-1].height;)e+=this.items[n-1].height,n--;r=Math.max(-n,Math.ceil(Math.min(e,0)/this.tombstoneHeight))}else{for(;e>0&&n<this.items.length&&this.items[n].height&&this.items[n].height<e;)e-=this.items[n].height,n++;(n>=this.items.length||!this.items[n].height)&&(r=Math.floor(Math.max(e,0)/this.tombstoneHeight))}return{index:n+=r,offset:e-=r*this.tombstoneHeight}},function(t){t.prototype._init=function(t){this._handleOptions(t),this._events={},this.x=0,this.y=0,this.directionX=0,this.directionY=0,this.setScale(1),this._addDOMEvents(),this._initExtFeatures(),this._watchTransition(),this.options.observeDOM&&this._initDOMObserver(),this.options.autoBlur&&this._handleAutoBlur(),this.refresh(),this.options.snap||this.scrollTo(this.options.startX,this.options.startY),this.enable()},t.prototype.setScale=function(t){this.lastScale=f(this.scale)?t:this.scale,this.scale=t},t.prototype._handleOptions=function(t){this.options=h({},k,t),this.translateZ=this.options.HWCompositing&&O?" translateZ(0)":"",this.options.useTransition=this.options.useTransition&&P,this.options.useTransform=this.options.useTransform&&S,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollX="horizontal"!==this.options.eventPassthrough&&this.options.scrollX,this.options.scrollY="vertical"!==this.options.eventPassthrough&&this.options.scrollY,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,!0===this.options.tap&&(this.options.tap="tap")},t.prototype._addDOMEvents=function(){var t=y;this._handleDOMEvents(t)},t.prototype._removeDOMEvents=function(){var t=_;this._handleDOMEvents(t)},t.prototype._handleDOMEvents=function(t){var e=this.options.bindToWrapper?this.wrapper:window;t(window,"orientationchange",this),t(window,"resize",this),this.options.click&&t(this.wrapper,"click",this,!0),this.options.disableMouse||(t(this.wrapper,"mousedown",this),t(e,"mousemove",this),t(e,"mousecancel",this),t(e,"mouseup",this)),C&&!this.options.disableTouch&&(t(this.wrapper,"touchstart",this),t(e,"touchmove",this),t(e,"touchcancel",this),t(e,"touchend",this)),t(this.scroller,M.transitionEnd,this)},t.prototype._initExtFeatures=function(){this.options.snap&&this._initSnap(),this.options.scrollbar&&this._initScrollbar(),this.options.pullUpLoad&&this._initPullUp(),this.options.pullDownRefresh&&this._initPullDown(),this.options.wheel&&this._initWheel(),this.options.mouseWheel&&this._initMouseWheel(),this.options.zoom&&this._initZoom(),this.options.infinity&&this._initInfinite()},t.prototype._watchTransition=function(){if("function"==typeof Object.defineProperty){var t=this,e=!1,n=this.options.useTransition?"isInTransition":"isAnimating";Object.defineProperty(this,n,{get:function(){return e},set:function(n){e=n;for(var r=t.scroller.children.length?t.scroller.children:[t.scroller],i=e&&!t.pulling?"none":"auto",o=0;o<r.length;o++)r[o].style.pointerEvents=i}})}},t.prototype._handleAutoBlur=function(){this.on("scrollStart",function(){var t=document.activeElement;!t||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName||t.blur()})},t.prototype._initDOMObserver=function(){var t=this;if("undefined"!=typeof MutationObserver){var e=void 0,n=new MutationObserver(function(n){if(!t._shouldNotRefresh()){for(var r=!1,i=!1,o=0;o<n.length;o++){var a=n[o];if("attributes"!==a.type){r=!0;break}if(a.target!==t.scroller){i=!0;break}}r?t.refresh():i&&(clearTimeout(e),e=setTimeout(function(){t._shouldNotRefresh()||t.refresh()},60))}});n.observe(this.scroller,{attributes:!0,childList:!0,subtree:!0}),this.on("destroy",function(){n.disconnect()})}else this._checkDOMUpdate()},t.prototype._shouldNotRefresh=function(){var t=this.x>this.minScrollX||this.x<this.maxScrollX||this.y>this.minScrollY||this.y<this.maxScrollY;return this.isInTransition||this.stopFromTransition||t},t.prototype._checkDOMUpdate=function(){var t=D(this.scroller),e=t.width,n=t.height;function r(){var i=this;setTimeout(function(){(function(){if(!this.destroyed){var i=(t=D(this.scroller)).width,o=t.height;e===i&&n===o||this.refresh(),e=i,n=o,r.call(this)}}).call(i)},1e3)}r.call(this)},t.prototype.handleEvent=function(t){switch(t.type){case"touchstart":case"mousedown":this._start(t),this.options.zoom&&t.touches&&t.touches.length>1&&this._zoomStart(t);break;case"touchmove":case"mousemove":this.options.zoom&&t.touches&&t.touches.length>1?this._zoom(t):this._move(t);break;case"touchend":case"mouseup":case"touchcancel":case"mousecancel":this.scaled?this._zoomEnd(t):this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"click":this.enabled&&!t._constructed&&(I(t.target,this.options.preventDefaultException)||(t.preventDefault(),t.stopPropagation()));break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._onMouseWheel(t)}},t.prototype.refresh=function(){var t="static"===window.getComputedStyle(this.wrapper,null).position,e=D(this.wrapper);this.wrapperWidth=e.width,this.wrapperHeight=e.height;var n=D(this.scroller);this.scrollerWidth=Math.round(n.width*this.scale),this.scrollerHeight=Math.round(n.height*this.scale),this.relativeX=n.left,this.relativeY=n.top,t&&(this.relativeX-=e.left,this.relativeY-=e.top),this.minScrollX=0,this.minScrollY=0;var r=this.options.wheel;r?(this.items=this.scroller.children,this._checkWheelAllDisabled(),this.options.itemHeight=this.itemHeight=this.items.length?this.scrollerHeight/this.items.length:0,void 0===this.selectedIndex&&(this.selectedIndex=r.selectedIndex||0),this.options.startY=-this.selectedIndex*this.itemHeight,this.maxScrollX=0,this.maxScrollY=-this.itemHeight*(this.items.length-1)):(this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.options.infinity||(this.maxScrollY=this.wrapperHeight-this.scrollerHeight),this.maxScrollX<0?(this.maxScrollX-=this.relativeX,this.minScrollX=-this.relativeX):this.scale>1&&(this.maxScrollX=this.maxScrollX/2-this.relativeX,this.minScrollX=this.maxScrollX),this.maxScrollY<0?(this.maxScrollY-=this.relativeY,this.minScrollY=-this.relativeY):this.scale>1&&(this.maxScrollY=this.maxScrollY/2-this.relativeY,this.minScrollY=this.maxScrollY)),this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<this.minScrollX,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<this.minScrollY,this.hasHorizontalScroll||(this.maxScrollX=this.minScrollX,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=this.minScrollY,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=m(this.wrapper),this.trigger("refresh"),!this.scaled&&this.resetPosition()},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1}}(tt),function(t){t.prototype._start=function(t){var e=A[t.type];if((e===T||0===t.button)&&!(!this.enabled||this.destroyed||this.initiated&&this.initiated!==e)){this.initiated=e,this.options.preventDefault&&!I(t.target,this.options.preventDefaultException)&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation(),this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.movingDirectionX=0,this.movingDirectionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=c(),this.options.wheel&&(this.target=t.target),this.stop();var n=t.touches?t.touches[0]:t;this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this.trigger("beforeScrollStart")}},t.prototype._move=function(t){if(this.enabled&&!this.destroyed&&A[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation();var e=t.touches?t.touches[0]:t,n=e.pageX-this.pointX,r=e.pageY-this.pointY;this.pointX=e.pageX,this.pointY=e.pageY,this.distX+=n,this.distY+=r;var i=Math.abs(this.distX),o=Math.abs(this.distY),a=c();if(!(a-this.endTime>this.options.momentumLimitTime&&!this.moved&&o<this.options.momentumLimitDistance&&i<this.options.momentumLimitDistance)){if(this.directionLocked||this.options.freeScroll||(i>o+this.options.directionLockThreshold?this.directionLocked="h":o>=i+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"===this.directionLocked){if("vertical"===this.options.eventPassthrough)t.preventDefault();else if("horizontal"===this.options.eventPassthrough)return void(this.initiated=!1);r=0}else if("v"===this.directionLocked){if("horizontal"===this.options.eventPassthrough)t.preventDefault();else if("vertical"===this.options.eventPassthrough)return void(this.initiated=!1);n=0}n=this.hasHorizontalScroll?n:0,r=this.hasVerticalScroll?r:0,this.movingDirectionX=n>0?Y:n<0?V:0,this.movingDirectionY=r>0?z:r<0?U:0;var s=this.x+n,u=this.y+r,l=!1,h=!1,f=!1,p=!1,d=this.options.bounce;!1!==d&&(l=void 0===d.top||d.top,h=void 0===d.bottom||d.bottom,f=void 0===d.left||d.left,p=void 0===d.right||d.right),(s>this.minScrollX||s<this.maxScrollX)&&(s=s>this.minScrollX&&f||s<this.maxScrollX&&p?this.x+n/3:s>this.minScrollX?this.minScrollX:this.maxScrollX),(u>this.minScrollY||u<this.maxScrollY)&&(u=u>this.minScrollY&&l||u<this.maxScrollY&&h?this.y+r/3:u>this.minScrollY?this.minScrollY:this.maxScrollY),this.moved||(this.moved=!0,this.trigger("scrollStart")),this._translate(s,u),a-this.startTime>this.options.momentumLimitTime&&(this.startTime=a,this.startX=this.x,this.startY=this.y,this.options.probeType===W&&this.trigger("scroll",{x:this.x,y:this.y})),this.options.probeType>W&&this.trigger("scroll",{x:this.x,y:this.y});var g=document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft,v=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,y=this.pointX-g,_=this.pointY-v;(y>document.documentElement.clientWidth-this.options.momentumLimitDistance||y<this.options.momentumLimitDistance||_<this.options.momentumLimitDistance||_>document.documentElement.clientHeight-this.options.momentumLimitDistance)&&this._end(t)}}},t.prototype._end=function(t){if(this.enabled&&!this.destroyed&&A[t.type]===this.initiated){this.initiated=!1,this.options.preventDefault&&!I(t.target,this.options.preventDefaultException)&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation(),this.trigger("touchEnd",{x:this.x,y:this.y}),this.isInTransition=!1;var e=Math.round(this.x),n=Math.round(this.y),r=e-this.absStartX,i=n-this.absStartY;if(this.directionX=r>0?Y:r<0?V:0,this.directionY=i>0?z:i<0?U:0,!this.options.pullDownRefresh||!this._checkPullDown())if(this._checkClick(t))this.trigger("scrollCancel");else if(!this.resetPosition(this.options.bounceTime,R.bounce)){this._translate(e,n),this.endTime=c();var o=this.endTime-this.startTime,a=Math.abs(e-this.startX),s=Math.abs(n-this.startY);if(this._events.flick&&o<this.options.flickLimitTime&&a<this.options.flickLimitDistance&&s<this.options.flickLimitDistance)this.trigger("flick");else{var u=0;if(this.options.momentum&&o<this.options.momentumLimitTime&&(s>this.options.momentumLimitDistance||a>this.options.momentumLimitDistance)){var l=!1,h=!1,f=!1,p=!1,d=this.options.bounce;!1!==d&&(l=void 0===d.top||d.top,h=void 0===d.bottom||d.bottom,f=void 0===d.left||d.left,p=void 0===d.right||d.right);var g=this.directionX===Y&&f||this.directionX===V&&p?this.wrapperWidth:0,v=this.directionY===z&&l||this.directionY===U&&h?this.wrapperHeight:0,y=this.hasHorizontalScroll?j(this.x,this.startX,o,this.maxScrollX,this.minScrollX,g,this.options,this):{destination:e,duration:0},_=this.hasVerticalScroll?j(this.y,this.startY,o,this.maxScrollY,this.minScrollY,v,this.options,this):{destination:n,duration:0};e=y.destination,n=_.destination,u=Math.max(y.duration,_.duration),this.isInTransition=!0}else this.options.wheel&&(n=this._findNearestValidWheel(n).y,u=this.options.wheel.adjustTime||400);var m=R.swipe;if(this.options.snap){var b=this._nearestSnap(e,n);this.currentPage=b,u=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(e-b.x),1e3),Math.min(Math.abs(n-b.y),1e3)),300),e=b.x,n=b.y,this.directionX=0,this.directionY=0,m=this.options.snap.easing||R.bounce}if(e!==this.x||n!==this.y)return(e>this.minScrollX||e<this.maxScrollX||n>this.minScrollY||n<this.maxScrollY)&&(m=R.swipeBounce),void this.scrollTo(e,n,u,m);this.options.wheel&&(this.selectedIndex=this._findNearestValidWheel(this.y).index),this.trigger("scrollEnd",{x:this.x,y:this.y})}}}},t.prototype._checkClick=function(t){var e=this.stopFromTransition&&!this.pulling;if(this.stopFromTransition=!1,!this.moved){if(this.options.wheel){if(this.target&&this.target.className===this.options.wheel.wheelWrapperClass){var n=this._findNearestValidWheel(this.y).index,r=Math.round((this.pointY+b(this.wrapper).top-this.wrapperHeight/2)/this.itemHeight);this.target=this.items[n+r]}var i=m(this.target).top,o=m(this.target).left;return i-=this.wrapperOffset.top,i-=Math.round(this.target.offsetHeight/2-this.wrapper.offsetHeight/2)||0,o-=this.wrapperOffset.left,o-=Math.round(this.target.offsetWidth/2-this.wrapper.offsetWidth/2)||0,i=this._findNearestValidWheel(i).y,this.scrollTo(o,i,this.options.wheel.adjustTime||400,R.swipe),!0}if(!e){var a=this.options.dblclick,s=!1;if(a&&this.lastClickTime){var u=a.delay,l=void 0===u?300:u;c()-this.lastClickTime<l&&(s=!0,function(t){L(t,"dblclick")}(t))}return this.options.tap&&function(t,e){var n=document.createEvent("Event");n.initEvent(e,!0,!0),n.pageX=t.pageX,n.pageY=t.pageY,t.target.dispatchEvent(n)}(t,this.options.tap),this.options.click&&!I(t.target,this.options.preventDefaultException)&&L(t),this.lastClickTime=s?null:c(),!0}return!1}return!1},t.prototype._resize=function(){var t=this;this.enabled&&(l&&(this.wrapper.scrollTop=0),clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling))},t.prototype._startProbe=function(){G(this.probeTimer),this.probeTimer=B(function e(){var n=t.getComputedPosition();t.trigger("scroll",n),t.isInTransition?t.probeTimer=B(e):t.trigger("scrollEnd",n)});var t=this},t.prototype._transitionTime=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.scrollerStyle[M.transitionDuration]=t+"ms",this.options.wheel)for(var e=0;e<this.items.length;e++)this.items[e].style[M.transitionDuration]=t+"ms";if(this.indicators)for(var n=0;n<this.indicators.length;n++)this.indicators[n].transitionTime(t)},t.prototype._transitionTimingFunction=function(t){if(this.scrollerStyle[M.transitionTimingFunction]=t,this.options.wheel)for(var e=0;e<this.items.length;e++)this.items[e].style[M.transitionTimingFunction]=t;if(this.indicators)for(var n=0;n<this.indicators.length;n++)this.indicators[n].transitionTimingFunction(t)},t.prototype._transitionEnd=function(t){t.target===this.scroller&&this.isInTransition&&(this._transitionTime(),(!this.pulling||this.movingDirectionY===U)&&!this.resetPosition(this.options.bounceTime,R.bounce)&&(this.isInTransition=!1,this.options.probeType!==X&&this.trigger("scrollEnd",{x:this.x,y:this.y})))},t.prototype._translate=function(t,e,n){if(H(!f(t)&&!f(e),"Translate x or y is null or undefined."),f(n)&&(n=this.scale),this.options.useTransform?this.scrollerStyle[M.transform]="translate("+t+"px,"+e+"px) scale("+n+")"+this.translateZ:(t=Math.round(t),e=Math.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.options.wheel)for(var r=this.options.wheel.rotate,i=void 0===r?25:r,o=0;o<this.items.length;o++){var a=i*(e/this.itemHeight+o);this.items[o].style[M.transform]="rotateX("+a+"deg)"}if(this.x=t,this.y=e,this.setScale(n),this.indicators)for(var s=0;s<this.indicators.length;s++)this.indicators[s].updatePosition()},t.prototype._animate=function(t,e,n,r){var i=this,o=this.x,a=this.y,s=this.lastScale,u=this.scale,l=c(),h=l+n;this.isAnimating=!0,G(this.animateTimer),function f(){var p=c();if(p>=h)return i.isAnimating=!1,i._translate(t,e,u),i.trigger("scroll",{x:i.x,y:i.y}),void(i.pulling||i.resetPosition(i.options.bounceTime)||i.trigger("scrollEnd",{x:i.x,y:i.y}));var d=r(p=(p-l)/n),g=(t-o)*d+o,v=(e-a)*d+a,y=(u-s)*d+s;i._translate(g,v,y),i.isAnimating&&(i.animateTimer=B(f)),i.options.probeType===X&&i.trigger("scroll",{x:i.x,y:i.y})}()},t.prototype.scrollBy=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R.bounce;t=this.x+t,e=this.y+e,this.scrollTo(t,e,n,r)},t.prototype.scrollTo=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R.bounce,i=arguments[4];if(this.options.wheel&&(e=this._findNearestValidWheel(e).y),t!==this.x||e!==this.y)if(this.isInTransition=this.options.useTransition&&n>0&&(this.x!==t||this.y!==e),!n||this.options.useTransition){if(this._transitionTimingFunction(r.style),this._transitionTime(n),this._translate(t,e),n&&this.options.probeType===X&&this._startProbe(),!n&&!i){if(this.options.zoom)return;this.trigger("scroll",{x:t,y:e}),this._reflow=document.body.offsetHeight,this.resetPosition(this.options.bounceTime,R.bounce)||this.trigger("scrollEnd",{x:t,y:e})}this.options.wheel&&(this.selectedIndex=this._findNearestValidWheel(e).index)}else this._animate(t,e,n,r.fn)},t.prototype.scrollToElement=function(t,e,n,r,i){if(t&&(t=t.nodeType?t:this.scroller.querySelector(t),!this.options.wheel||t.classList.contains(this.options.wheel.wheelItemClass))){var o=m(t);o.left-=this.wrapperOffset.left,o.top-=this.wrapperOffset.top,!0===n&&(n=Math.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===r&&(r=Math.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),o.left-=n||0,o.top-=r||0,o.left=o.left>this.minScrollX?this.minScrollX:o.left<this.maxScrollX?this.maxScrollX:o.left,o.top=o.top>this.minScrollY?this.minScrollY:o.top<this.maxScrollY?this.maxScrollY:o.top,this.options.wheel&&(o.top=this._findNearestValidWheel(o.top).y),this.scrollTo(o.left,o.top,e,i)}},t.prototype.resetPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.bounce,n=this.x,r=Math.round(n);!this.hasHorizontalScroll||r>this.minScrollX?n=this.minScrollX:r<this.maxScrollX&&(n=this.maxScrollX);var i=this.y,o=Math.round(i);return!this.hasVerticalScroll||o>this.minScrollY?i=this.minScrollY:o<this.maxScrollY&&(i=this.maxScrollY),(n!==this.x||i!==this.y)&&(this.scrollTo(n,i,t,e),!0)},t.prototype.getComputedPosition=function(){var t=window.getComputedStyle(this.scroller,null),e=void 0,n=void 0;return this.options.useTransform?(e=+((t=t[M.transform].split(")")[0].split(", "))[12]||t[4]),n=+(t[13]||t[5])):(e=+t.left.replace(/[^-\d.]/g,""),n=+t.top.replace(/[^-\d.]/g,"")),{x:e,y:n}},t.prototype.stop=function(){if(this.options.useTransition&&this.isInTransition){this.isInTransition=!1,G(this.probeTimer);var t=this.getComputedPosition();this._translate(t.x,t.y),this.options.wheel?this.target=this.items[this._findNearestValidWheel(t.y).index]:this.trigger("scrollEnd",{x:this.x,y:this.y}),this.stopFromTransition=!0}else!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,G(this.animateTimer),this.trigger("scrollEnd",{x:this.x,y:this.y}),this.stopFromTransition=!0)},t.prototype.destroy=function(){this.destroyed=!0,this.trigger("destroy"),this.options.useTransition?G(this.probeTimer):G(this.animateTimer),this._removeDOMEvents(),this._events={}}}(tt),function(t){t.prototype.on=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;this._events[t]||(this._events[t]=[]),this._events[t].push([e,n])},t.prototype.once=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;function r(){this.off(t,r),e.apply(n,arguments)}r.fn=e,this.on(t,r)},t.prototype.off=function(t,e){var n=this._events[t];if(n)for(var i=n.length;i--;)(n[i][0]===e||n[i][0]&&n[i][0].fn===e)&&r(n,i)},t.prototype.trigger=function(t){var e=this._events[t];if(e)for(var n=e.length,r=[].concat(o(e)),a=0;a<n;a++){var s=r[a],u=i(s,2),l=u[0],c=u[1];l&&l.apply(c,[].slice.call(arguments,1))}}}(tt),function(t){t.prototype._initSnap=function(){var t=this;this.currentPage={};var e=this.options.snap;if(e.loop){var n=this.scroller.children;n.length>1?(function(t,e){e.firstChild?function(t,e){e.parentNode.insertBefore(t,e)}(t,e.firstChild):e.appendChild(t)}(n[n.length-1].cloneNode(!0),this.scroller),this.scroller.appendChild(n[1].cloneNode(!0))):e.loop=!1}var r=e.el;"string"==typeof r&&(r=this.scroller.querySelectorAll(r)),this.on("refresh",function(){if(t.pages=[],t.wrapperWidth&&t.wrapperHeight&&t.scrollerWidth&&t.scrollerHeight){var n=e.stepX||t.wrapperWidth,i=e.stepY||t.wrapperHeight,o=0,a=void 0,s=void 0,u=void 0,l=0,c=void 0,h=0,f=void 0,p=void 0;if(r)for(c=r.length,f=-1;l<c;l++)p=D(r[l]),(0===l||p.left<=D(r[l-1]).left)&&(h=0,f++),t.pages[h]||(t.pages[h]=[]),o=Math.max(-p.left,t.maxScrollX),a=Math.max(-p.top,t.maxScrollY),s=o-Math.round(p.width/2),u=a-Math.round(p.height/2),t.pages[h][f]={x:o,y:a,width:p.width,height:p.height,cx:s,cy:u},o>t.maxScrollX&&h++;else for(s=Math.round(n/2),u=Math.round(i/2);o>-t.scrollerWidth;){for(t.pages[l]=[],c=0,a=0;a>-t.scrollerHeight;)t.pages[l][c]={x:Math.max(o,t.maxScrollX),y:Math.max(a,t.maxScrollY),width:n,height:i,cx:o-s,cy:a-u},a-=i,c++;o-=n,l++}t._checkSnapLoop();var d=e._loopX?1:0,g=e._loopY?1:0;t._goToPage(t.currentPage.pageX||d,t.currentPage.pageY||g,0,void 0,!0);var v=e.threshold;v%1==0?(t.snapThresholdX=v,t.snapThresholdY=v):(t.snapThresholdX=Math.round(t.pages[t.currentPage.pageX][t.currentPage.pageY].width*v),t.snapThresholdY=Math.round(t.pages[t.currentPage.pageX][t.currentPage.pageY].height*v))}}),this.on("scrollEnd",function(){e.loop&&(e._loopX?(0===t.currentPage.pageX&&t._goToPage(t.pages.length-2,t.currentPage.pageY,0,void 0,!0),t.currentPage.pageX===t.pages.length-1&&t._goToPage(1,t.currentPage.pageY,0,void 0,!0)):(0===t.currentPage.pageY&&t._goToPage(t.currentPage.pageX,t.pages[0].length-2,0,void 0,!0),t.currentPage.pageY===t.pages[0].length-1&&t._goToPage(t.currentPage.pageX,1,0,void 0,!0)))}),!1!==e.listenFlick&&this.on("flick",function(){var n=e.speed||Math.max(Math.max(Math.min(Math.abs(t.x-t.startX),1e3),Math.min(Math.abs(t.y-t.startY),1e3)),300);t._goToPage(t.currentPage.pageX+t.directionX,t.currentPage.pageY+t.directionY,n)}),this.on("destroy",function(){if(e.loop){var n=t.scroller.children;n.length>2&&(F(t.scroller,n[n.length-1]),F(t.scroller,n[0]))}})},t.prototype._checkSnapLoop=function(){var t=this.options.snap;t.loop&&this.pages&&this.pages.length&&(this.pages.length>1&&(t._loopX=!0),this.pages[0]&&this.pages[0].length>1&&(t._loopY=!0),t._loopX&&t._loopY&&q("Loop does not support two direction at the same time."))},t.prototype._nearestSnap=function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0;if(Math.abs(t-this.absStartX)<=this.snapThresholdX&&Math.abs(e-this.absStartY)<=this.snapThresholdY)return this.currentPage;t>this.minScrollX?t=this.minScrollX:t<this.maxScrollX&&(t=this.maxScrollX),e>this.minScrollY?e=this.minScrollY:e<this.maxScrollY&&(e=this.maxScrollY);for(var r=this.pages.length;n<r;n++)if(t>=this.pages[n][0].cx){t=this.pages[n][0].x;break}r=this.pages[n].length;for(var i=0;i<r;i++)if(e>=this.pages[0][i].cy){e=this.pages[0][i].y;break}return n===this.currentPage.pageX&&((n+=this.directionX)<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),t=this.pages[n][0].x),i===this.currentPage.pageY&&((i+=this.directionY)<0?i=0:i>=this.pages[0].length&&(i=this.pages[0].length-1),e=this.pages[0][i].y),{x:t,y:e,pageX:n,pageY:i}},t.prototype._goToPage=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],r=arguments[3],i=arguments[4],o=this.options.snap;if(o&&this.pages&&this.pages.length&&(r=r||o.easing||R.bounce,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),this.pages[t])){e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var a=this.pages[t][e].x,s=this.pages[t][e].y;n=void 0===n?o.speed||Math.max(Math.max(Math.min(Math.abs(a-this.x),1e3),Math.min(Math.abs(s-this.y),1e3)),300):n,this.currentPage={x:a,y:s,pageX:t,pageY:e},this.scrollTo(a,s,n,r,i)}},t.prototype.goToPage=function(t,e,n,r){var i=this.options.snap;if(i&&this.pages&&this.pages.length){if(i.loop){var o=void 0;i._loopX?(t>=(o=this.pages.length-2)?t=o-1:t<0&&(t=0),t+=1):(e>=(o=this.pages[0].length-2)?e=o-1:e<0&&(e=0),e+=1)}this._goToPage(t,e,n,r)}},t.prototype.next=function(t,e){if(this.options.snap){var n=this.currentPage.pageX,r=this.currentPage.pageY;++n>=this.pages.length&&this.hasVerticalScroll&&(n=0,r++),this._goToPage(n,r,t,e)}},t.prototype.prev=function(t,e){if(this.options.snap){var n=this.currentPage.pageX,r=this.currentPage.pageY;--n<0&&this.hasVerticalScroll&&(n=0,r--),this._goToPage(n,r,t,e)}},t.prototype.getCurrentPage=function(){var t=this.options.snap;return t?t.loop?t._loopX?h({},this.currentPage,{pageX:this.currentPage.pageX-1}):h({},this.currentPage,{pageY:this.currentPage.pageY-1}):this.currentPage:null}}(tt),function(t){t.prototype.wheelTo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.options.wheel){var e=-t*this.itemHeight;this.scrollTo(0,e)}},t.prototype.getSelectedIndex=function(){return this.options.wheel&&this.selectedIndex},t.prototype._initWheel=function(){var t=this.options.wheel;t.wheelWrapperClass||(t.wheelWrapperClass="wheel-scroll"),t.wheelItemClass||(t.wheelItemClass="wheel-item"),t.wheelDisabledItemClass||(t.wheelDisabledItemClass="wheel-disabled-item"),void 0===t.selectedIndex&&(t.selectedIndex=0)},t.prototype._findNearestValidWheel=function(t){t=t>0?0:t<this.maxScrollY?this.maxScrollY:t;for(var e=this.options.wheel,n=Math.abs(Math.round(-t/this.itemHeight)),r=n,i=this.items;n>=0&&-1!==i[n].className.indexOf(e.wheelDisabledItemClass);)n--;if(n<0)for(n=r;n<=i.length-1&&-1!==i[n].className.indexOf(e.wheelDisabledItemClass);)n++;return n===i.length&&(n=r),{index:this.wheelItemsAllDisabled?-1:n,y:-n*this.itemHeight}},t.prototype._checkWheelAllDisabled=function(){var t=this.options.wheel,e=this.items;this.wheelItemsAllDisabled=!0;for(var n=0;n<e.length;n++)if(-1===e[n].className.indexOf(t.wheelDisabledItemClass)){this.wheelItemsAllDisabled=!1;break}}}(tt),function(t){t.prototype._initScrollbar=function(){var t=this,e=this.options.scrollbar,n=e.fade,r=void 0===n||n,i=e.interactive,o=void 0!==i&&i;this.indicators=[];var a=void 0;this.options.scrollX&&(a={el:$("horizontal"),direction:"horizontal",fade:r,interactive:o},this._insertScrollBar(a.el),this.indicators.push(new K(this,a))),this.options.scrollY&&(a={el:$("vertical"),direction:"vertical",fade:r,interactive:o},this._insertScrollBar(a.el),this.indicators.push(new K(this,a))),this.on("refresh",function(){for(var e=0;e<t.indicators.length;e++)t.indicators[e].refresh()}),r&&(this.on("scrollEnd",function(){for(var e=0;e<t.indicators.length;e++)t.indicators[e].fade()}),this.on("scrollCancel",function(){for(var e=0;e<t.indicators.length;e++)t.indicators[e].fade()}),this.on("scrollStart",function(){for(var e=0;e<t.indicators.length;e++)t.indicators[e].fade(!0)}),this.on("beforeScrollStart",function(){for(var e=0;e<t.indicators.length;e++)t.indicators[e].fade(!0,!0)})),this.on("destroy",function(){t._removeScrollBars()})},t.prototype._insertScrollBar=function(t){this.wrapper.appendChild(t)},t.prototype._removeScrollBars=function(){for(var t=0;t<this.indicators.length;t++)this.indicators[t].destroy()}}(tt),function(t){t.prototype._initPullDown=function(){this.options.probeType=X},t.prototype._checkPullDown=function(){var t=this.options.pullDownRefresh,e=t.threshold,n=void 0===e?90:e,r=t.stop,i=void 0===r?40:r;return!(this.directionY!==z||this.y<n)&&(this.pulling||(this.pulling=!0,this.trigger("pullingDown")),this.scrollTo(this.x,i,this.options.bounceTime,R.bounce),this.pulling)},t.prototype.finishPullDown=function(){this.pulling=!1,this.resetPosition(this.options.bounceTime,R.bounce)},t.prototype.openPullDown=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.options.pullDownRefresh=t,this._initPullDown()},t.prototype.closePullDown=function(){this.options.pullDownRefresh=!1},t.prototype.autoPullDownRefresh=function(){var t=this.options.pullDownRefresh,e=t.threshold,n=void 0===e?90:e,r=t.stop,i=void 0===r?40:r;this.pulling||(this.pulling=!0,this.scrollTo(this.x,n),this.trigger("pullingDown"),this.scrollTo(this.x,i,this.options.bounceTime,R.bounce))}}(tt),function(t){t.prototype._initPullUp=function(){this.options.probeType=X,this.pullupWatching=!1,this._watchPullUp()},t.prototype._watchPullUp=function(){this.pullupWatching||(this.pullupWatching=!0,this.on("scroll",this._checkToEnd))},t.prototype._checkToEnd=function(t){var e=this,n=this.options.pullUpLoad.threshold,r=void 0===n?0:n;this.movingDirectionY===U&&t.y<=this.maxScrollY+r&&(this.once("scrollEnd",function(){e.pullupWatching=!1}),this.trigger("pullingUp"),this.off("scroll",this._checkToEnd))},t.prototype.finishPullUp=function(){var t=this;this.pullupWatching?this.once("scrollEnd",function(){t._watchPullUp()}):this._watchPullUp()},t.prototype.openPullUp=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.options.pullUpLoad=t,this._initPullUp()},t.prototype.closePullUp=function(){this.options.pullUpLoad=!1,this.pullupWatching&&(this.pullupWatching=!1,this.off("scroll",this._checkToEnd))}}(tt),function(t){t.prototype._initMouseWheel=function(){var t=this;this._handleMouseWheelEvent(y),this.on("destroy",function(){clearTimeout(t.mouseWheelTimer),clearTimeout(t.mouseWheelEndTimer),t._handleMouseWheelEvent(_)}),this.firstWheelOpreation=!0},t.prototype._handleMouseWheelEvent=function(t){t(this.wrapper,"wheel",this),t(this.wrapper,"mousewheel",this),t(this.wrapper,"DOMMouseScroll",this)},t.prototype._onMouseWheel=function(t){var e=this;if(this.enabled){t.preventDefault(),this.options.stopPropagation&&t.stopPropagation(),this.firstWheelOpreation&&this.trigger("scrollStart"),this.firstWheelOpreation=!1;var n=this.options.mouseWheel,r=n.speed,i=void 0===r?20:r,o=n.invert,a=void 0!==o&&o,s=n.easeTime,u=void 0===s?300:s;clearTimeout(this.mouseWheelTimer),this.mouseWheelTimer=setTimeout(function(){e.options.snap||u||e.trigger("scrollEnd",{x:e.x,y:e.y}),e.firstWheelOpreation=!0},400);var l=void 0,c=void 0;switch(!0){case"deltaX"in t:1===t.deltaMode?(l=-t.deltaX*i,c=-t.deltaY*i):(l=-t.deltaX,c=-t.deltaY);break;case"wheelDeltaX"in t:l=t.wheelDeltaX/120*i,c=t.wheelDeltaY/120*i;break;case"wheelDelta"in t:l=c=t.wheelDelta/120*i;break;case"detail"in t:l=c=-t.detail/3*i;break;default:return}var h=a?-1:1;l*=h,c*=h,this.hasVerticalScroll||(l=c,c=0);var f=void 0,p=void 0;if(this.options.snap)return f=this.currentPage.pageX,p=this.currentPage.pageY,l>0?f--:l<0&&f++,c>0?p--:c<0&&p++,void this._goToPage(f,p);f=this.x+Math.round(this.hasHorizontalScroll?l:0),p=this.y+Math.round(this.hasVerticalScroll?c:0),this.movingDirectionX=this.directionX=l>0?-1:l<0?1:0,this.movingDirectionY=this.directionY=c>0?-1:c<0?1:0,f>this.minScrollX?f=this.minScrollX:f<this.maxScrollX&&(f=this.maxScrollX),p>this.minScrollY?p=this.minScrollY:p<this.maxScrollY&&(p=this.maxScrollY);var d=this.y===p;this.scrollTo(f,p,u,R.swipe),this.trigger("scroll",{x:this.x,y:this.y}),clearTimeout(this.mouseWheelEndTimer),d&&(this.mouseWheelEndTimer=setTimeout(function(){e.trigger("scrollEnd",{x:e.x,y:e.y})},u))}}}(tt),function(t){t.prototype._initZoom=function(){var t=this.options.zoom,e=t.start,n=void 0===e?1:e,r=t.min,i=void 0===r?1:r,o=t.max,a=void 0===o?4:o;this.scale=Math.min(Math.max(n,i),a),this.setScale(this.scale),this.scrollerStyle[M.transformOrigin]="0 0"},t.prototype._zoomTo=function(t,e,n,r){this.scaled=!0;var i=t/(r||this.scale);this.setScale(t),this.refresh();var o=Math.round(this.startX-(e-this.relativeX)*(i-1)),a=Math.round(this.startY-(n-this.relativeY)*(i-1));o>this.minScrollX?o=this.minScrollX:o<this.maxScrollX&&(o=this.maxScrollX),a>this.minScrollY?a=this.minScrollY:a<this.maxScrollY&&(a=this.maxScrollY),this.x===o&&this.y===a||this.scrollTo(o,a,this.options.bounceTime),this.scaled=!1},t.prototype.zoomTo=function(t,e,n){var r=b(this.wrapper),i=r.left,o=r.top,a=e+i-this.x,s=n+o-this.y;this._zoomTo(t,a,s)},t.prototype._zoomStart=function(t){var e=t.touches[0],n=t.touches[1],r=Math.abs(e.pageX-n.pageX),i=Math.abs(e.pageY-n.pageY);this.startDistance=p(r,i),this.startScale=this.scale;var o=b(this.wrapper),a=o.left,s=o.top;this.originX=Math.abs(e.pageX+n.pageX)/2+a-this.x,this.originY=Math.abs(e.pageY+n.pageY)/2+s-this.y,this.trigger("zoomStart")},t.prototype._zoom=function(t){if(this.enabled&&!this.destroyed&&A[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation();var e=t.touches[0],n=t.touches[1],r=p(Math.abs(e.pageX-n.pageX),Math.abs(e.pageY-n.pageY))/this.startDistance*this.startScale;this.scaled=!0;var i=this.options.zoom,o=i.min,a=void 0===o?1:o,s=i.max,u=void 0===s?4:s;r<a?r=.5*a*Math.pow(2,r/a):r>u&&(r=2*u*Math.pow(.5,u/r));var l=r/this.startScale,c=this.startX-(this.originX-this.relativeX)*(l-1),h=this.startY-(this.originY-this.relativeY)*(l-1);this.setScale(r),this.scrollTo(c,h,0)}},t.prototype._zoomEnd=function(t){if(this.enabled&&!this.destroyed&&A[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation(),this.isInTransition=!1,this.isAnimating=!1,this.initiated=0;var e=this.options.zoom,n=e.min,r=void 0===n?1:n,i=e.max,o=void 0===i?4:i,a=this.scale>o?o:this.scale<r?r:this.scale;this._zoomTo(a,this.originX,this.originY,this.startScale),this.trigger("zoomEnd")}}}(tt),function(t){t.prototype._initInfinite=function(){this.options.probeType=3,this.maxScrollY=-Z,this.infiniteScroller=new Q(this,this.options.infinity)}}(tt),tt.Version="1.15.2",e.default=tt},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Move=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),o=n(32),a=n(3),s=function(t){return t&&t.__esModule?t:{default:t}}(n(153));e.Move=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map_=e.map,this.pixelPadding_=void 0!==e.pixelPadding?e.pixelPadding:50,this.meterMinSize_=void 0!==e.meterMinSize?e.meterMinSize:500,this.animationDuration_=e.animationDuration||2e3,this.animations_=void 0===e.animations||e.animations,this.bouncing_=!1!==e.bouncing}return r(t,[{key:"setAnimations",value:function(t){this.animations_=t}},{key:"getAnimations",value:function(){return this.animations_}},{key:"toPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new s.default({projection:this.map_.getView().getProjection(),center:t,resolution:this.map_.getView().getResolution()}).calculateExtent(this.map_.getSize().map(function(t){return t-2}));e.padding=[0,0,0,0],this.toExtent(n,e)}},{key:"toExtent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t,r=void 0!==e.minSize?e.minSize:this.meterMinSize_;r&&(n=this.bufferUpToMinSize_(t,r)),void 0===e.padding&&(e.padding=[this.pixelPadding_,this.pixelPadding_,this.pixelPadding_,this.pixelPadding_]),(void 0===e.animated?this.animations_:e.animated)?this.animationZoomToExtent_(n,e):this.fit_(n,e)}},{key:"zoomToPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.toExtent((0,i.boundingExtent)([t]),e)}},{key:"bufferUpToMinSize_",value:function(t,e){var n=(0,a.transformExtent)(t,this.map_.getView().getProjection(),"EPSG:3857"),r=Math.min((0,i.getWidth)(n),(0,i.getHeight)(n));return r<e?(n=(0,i.buffer)(n,e-r/2),(0,a.transformExtent)(n,"EPSG:3857",this.map_.getView().getProjection())):t}},{key:"fit_",value:function(t,e){void 0===e.padding&&(e.padding=[this.pixelPadding_,this.pixelPadding_,this.pixelPadding_,this.pixelPadding_]),this.map_.getView().fit((0,o.fromExtent)(t),this.map_.getSize(),e)}},{key:"animationZoomToExtent_",value:function(t,e){var n=this,r=this.map_,o=r.getView(),a=r.getSize(),s=o.calculateExtent(a),u=(0,i.extend)(s.slice(0),t);if(this.bouncing_&&!(0,i.intersects)(s,t)){var l=Object.assign({duration:this.animationDuration_/2},e);o.fit(u,l),setTimeout(function(){var r=Object.assign({duration:n.animationDuration_/2},e);o.fit(t,r)},this.animationDuration_/2)}else{var c=Object.assign({duration:this.animationDuration_/2},e);o.fit(t,c)}}},{key:"earlyFastRiseEasing_",value:function(t){return Math.sqrt(2*t-Math.pow(t,2))}},{key:"lateFastRiseEasing_",value:function(t){return 1-Math.sqrt(1-Math.pow(t,2))}},{key:"earlyFastRiseEasing2_",value:function(t){return 1-Math.pow(t-1,2)}},{key:"lateFastRiseEasing2_",value:function(t){return Math.pow(t,2)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Positioning=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(2)),o=l(n(401)),a=n(9),s=n(54),u=n(6);function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}e.Positioning=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.$viewport_=(0,i.default)(t.viewport),n.padding_=t.padding||5,n.spacing_=t.spacing||10,n.hidden$Elements_=[],n.init(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,u.mixinAsClass)(s.ListenerOrganizerMixin)),r(e,[{key:"init",value:function(){this.detachAllListeners(),this.all_=[],this.corners_={left:{top:{counterclockwise:[],clockwise:[]},bottom:{counterclockwise:[],clockwise:[]}},right:{top:{counterclockwise:[],clockwise:[]},bottom:{counterclockwise:[],clockwise:[]}}},this.order_=0}},{key:"getArray_",value:function(t){var e=void 0,n=void 0,r=void 0;switch(t[0]){case"top":n="top","left"===(e=t[1])?r="clockwise":"right"===e&&(r="counterclockwise");break;case"right":e="right","top"===(n=t[1])?r="clockwise":"bottom"===n&&(r="counterclockwise");break;case"bottom":n="bottom",r="left"===(e=t[1])?"counterclockwise":"clockwise";break;case"left":e="left",r="top"===(n=t[1])?"counterclockwise":"clockwise"}return this.corners_[e][n][r]}},{key:"addControl",value:function(t,e){var n=this;if(t.get$Element().parents().hasClass("ol-viewport")&&(!e||!e.control.isWindowed())){var r={control:t,order:this.order_++,importance:t.getImportance()};if(t.on("change:visible",function(e){var r=n.hidden$Elements_.indexOf(t.get$Element());e.oldValue&&r>-1&&n.hidden$Elements_.splice(r,1),n.positionElements()}),this.listenAt(t).on("change:size",function(){n.positionElements()}),e)e.control.isWindowed()||(r.importance=t.getImportance(),e.hideableChildren.push(r),this.all_.push(r));else{var i=r.control.getFloat()||["top","left"];if("fixed"===i)return;if(this.getArray_(i).push(r),this.all_.push(r),r.control.getControls){r.hideableChildren=[];var o=!0,a=!1,s=void 0;try{for(var u,l=r.control.getControls()[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;this.addControl(c,r)}}catch(t){a=!0,s=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw s}}}}}}},{key:"getCorner_",value:function(t,n){for(var r=0,i=0,o=this.corners_[t][n].clockwise[r++],a=this.corners_[t][n].counterclockwise[i++];o&&!e.isElemVisible_(o);)o=this.corners_[t][n].clockwise[r++];for(;a&&!e.isElemVisible_(a);)a=this.corners_[t][n].counterclockwise[i++];if(o||a)return o?a?o.order<a.order?o:a:o:a}},{key:"getEdge_",value:function(t){var n=void 0,r=void 0,i=void 0,a=void 0;"top"===t?(n="left",r="right",i=a="top"):"right"===t?(n=r="right",i="top",a="bottom"):"bottom"===t?(n="right",r="left",i=a="bottom"):"left"===t&&(n=r="left",i="bottom",a="top");var s=this.corners_[n][i].clockwise.filter(e.isElemVisible_),u=this.corners_[r][a].counterclockwise.filter(e.isElemVisible_),l=[],c=this.getCorner_(n,i);return c&&l.push(c),l.push.apply(l,h(s)),l.push.apply(l,h(u)),(c=this.getCorner_(r,a))&&l.push(c),(0,o.default)(l)}},{key:"beforePositioning_",value:function(){var t=this,n=new Set(this.all_);this.hidden$Elements_.forEach(function(t){return t.removeClass(a.cssClasses.hidden)}),this.hidden$Elements_=[];var r=function r(i){if(e.isElemVisible_(i)){if(i.control.beforePositioning&&i.control.beforePositioning(),i.hideableChildren){var o=!0,a=!1,s=void 0;try{for(var u,l=i.hideableChildren[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){r(u.value)}}catch(t){a=!0,s=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw s}}}i.control.get$Element().position({top:0,left:0}),i.control.release&&(i.control.release("height"),i.control.release("width")),i.size=t.measureExpandedElement_(i)}n.delete(i)},i=!0,o=!1,s=void 0;try{for(var u,l=n[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){r(u.value)}}catch(t){o=!0,s=t}finally{try{!i&&l.return&&l.return()}finally{if(o)throw s}}}},{key:"afterPositioning_",value:function(){var t=new Set(this.all_),e=function e(n){if(n.control.afterPositioning&&n.control.afterPositioning(),n.hideableChildren){var r=!0,i=!1,o=void 0;try{for(var a,s=n.hideableChildren[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){e(a.value)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}t.delete(n)},n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){e(o.value)}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}},{key:"calculateLength_",value:function(t,e){if(0===t.length)return 0;var n=2*this.padding_,r=!0,i=!0,o=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){n+=s.value.size[e],r?r=!1:n+=this.spacing_}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return n}},{key:"calculateSide_",value:function(t,e){for(var n="top"===t||"bottom"===t?"width":"height",r=this.getEdge_(t),i=this.calculateLength_(r,n),o=!1;i>e&&!this.squeezeElements_(r,n,i-e);)this.hideLeastImportant_(r),r=this.getEdge_(t),i=this.calculateLength_(r,n),o=!0;return o}},{key:"positionElementsCorner_",value:function(t,n){var r=this.getCorner_(t,n);if(r){var i,o=this.padding_,s=this.padding_,u=r.control.get$Element();u.removeClass(a.cssClasses.hidden).css((c(i={},t,o),c(i,n,s),i)),o+=u.outerWidth()+this.spacing_,s+=u.outerHeight()+this.spacing_;var l=void 0,h=void 0;"left"===t&&"top"===n?(l="clockwise",h="counterclockwise"):"right"===t&&"top"===n?(l="counterclockwise",h="clockwise"):"right"===t&&"bottom"===n?(l="clockwise",h="counterclockwise"):"left"===t&&"bottom"===n&&(l="counterclockwise",h="clockwise");var f=!0,p=!1,d=void 0;try{for(var g,v=this.corners_[t][n][l].filter(function(t){return e.isElemVisible_(t)&&t!==r})[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var y;(u=g.value.control.get$Element()).css((c(y={},t,o),c(y,n,this.padding_),y)),o+=u.outerWidth()+this.spacing_}}catch(t){p=!0,d=t}finally{try{!f&&v.return&&v.return()}finally{if(p)throw d}}var _=!0,m=!1,b=void 0;try{for(var w,E=this.corners_[t][n][h].filter(function(t){return e.isElemVisible_(t)&&t!==r})[Symbol.iterator]();!(_=(w=E.next()).done);_=!0){var x;(u=w.value.control.get$Element()).css((c(x={},t,this.padding_),c(x,n,s),x)),s+=u.outerHeight()+this.spacing_}}catch(t){m=!0,b=t}finally{try{!_&&E.return&&E.return()}finally{if(m)throw b}}}}},{key:"positionElements",value:function(){var t=this.$viewport_.innerWidth(),e=this.$viewport_.innerHeight();this.beforePositioning_();for(var n=new Set(["top","left","bottom","right"]);n.size;)n.has("top")&&(this.calculateSide_("top",t)&&(n.add("left"),n.add("right")),n.delete("top")),n.has("right")&&(this.calculateSide_("right",e)&&(n.add("top"),n.add("bottom")),n.delete("right")),n.has("bottom")&&(this.calculateSide_("bottom",t)&&(n.add("left"),n.add("right")),n.delete("bottom")),n.has("left")&&(this.calculateSide_("left",e)&&(n.add("top"),n.add("bottom")),n.delete("left"));this.positionElementsCorner_("left","top"),this.positionElementsCorner_("right","top"),this.positionElementsCorner_("right","bottom"),this.positionElementsCorner_("left","bottom"),this.afterPositioning_()}},{key:"squeezeElements_",value:function(t,e,n){var r=[];function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.length;if(n===e)r.splice(e,0,t);else{var o=Math.floor((e+n)/2);t.importance<=r[o].importance?i(t,e,o):i(t,o+1,n)}}!function t(n){var r=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var l=s.value;l.control.isSqueezable&&l.control.isSqueezable(e)?i(l):l.hideableChildren&&t(l.hideableChildren)}}catch(t){o=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}}(t);var o=!0,a=!1,s=void 0;try{for(var u,l=r[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){if((n-=u.value.control.squeezeBy(e,n))<=0)return!0}}catch(t){a=!0,s=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw s}}var c=!0,h=!1,f=void 0;try{for(var p,d=r[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){p.value.control.release(e)}}catch(t){h=!0,f=t}finally{try{!c&&d.return&&d.return()}finally{if(h)throw f}}return!1}},{key:"expandElement_",value:function(t){var e=[];if(t.hideableChildren){var n=!0,r=!1,i=void 0;try{for(var o,a=t.hideableChildren[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e.push.apply(e,h(this.expandElement_(s)))}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}return t.control.getCollapsible&&t.control.getCollapsible()&&t.control.getCollapsed()&&(t.control.setCollapsed(!1,!0),e.push(t.control)),e}},{key:"measureExpandedElement_",value:function(t){var e=t.control.get$Element();return{width:e.outerWidth(),height:e.outerHeight()}}},{key:"hideLeastImportant_",value:function(t){var n=t[0],r=!0,i=!1,o=void 0;try{for(var s,u=t.slice(1)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var l=s.value;l.importance<n.importance&&(n=l)}}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}var c=!1;if(n.hideableChildren){var h=n.hideableChildren.filter(e.isElemVisible_);h.length>1&&(this.hideLeastImportant_(h),c=!0)}c?n.size=this.measureExpandedElement_(n):(n.control.get$Element().addClass(a.cssClasses.hidden),this.hidden$Elements_.push(n.control.get$Element()))}}],[{key:"isElemVisible_",value:function(t){return t.control.get$Element().is(":visible")}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickableInteraction=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(9),a=n(257);e.ClickableInteraction=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.type="pointermove";var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.filters_=[],n.on("mapevent",function(t){n.filters_.some(function(e){return e(t.mapEvent)})?(0,i.default)(n.getMap().getViewport()).addClass(o.cssClasses.clickable):(0,i.default)(n.getMap().getViewport()).removeClass(o.cssClasses.clickable)}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.MapEventInteraction),r(e,[{key:"addFilter",value:function(t){this.filters_.push(t)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UIConfigurator=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=F(n(2)),a=F(n(455)),s=F(n(453)),u=F(n(452)),l=F(n(286)),c=F(n(451)),h=F(n(438)),f=F(n(437)),p=F(n(436)),d=F(n(435)),g=F(n(434)),v=n(644),y=n(643),_=n(642),m=n(363),b=n(640),w=n(639),E=n(638),x=n(11),O=n(56),C=n(6),S=n(356),P=n(355),M=n(9),T=n(351),A=n(431),D=n(592),I=n(591),L=n(190);function F(t){return t&&t.__esModule?t:{default:t}}e.UIConfigurator=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map_=e,this.map_.on("change:mapConfig",this.configureUI.bind(this)),this.initialized_=!1,this.pending_=0}return i(t,[{key:"loadCSS",value:function(e){var n=this;return new Promise(function(r){if(e.hasOwnProperty("cssFile")){var i="g4u-css",a=(0,o.default)("#"+i);0===a.length&&(a=(0,o.default)("<style>",{id:i}),(0,o.default)("head").append(a)),n.cssFile_===e.cssFile?(e.hasOwnProperty("cssTemplate")&&a.html(t.templateCSS(n.map_.get("cssTemplateFile"),e.cssTemplate)),r()):(o.default.ajax(e.cssFile).done(function(i){a.empty(),i=t.fixUrls(i,e.cssFile),e.hasOwnProperty("cssTemplate")?(n.map_.set("cssTemplateFile",i),a.html(t.templateCSS(i,e.cssTemplate))):a.html(i),r()}).fail(function(){x.Debug.error("Failed to load css file."),r()}),n.cssFile_=e.cssFile)}else r()})}},{key:"initialize_",value:function(t){var e=this,n=t.positioning||{};n.viewport=this.map_.getViewport(),this.map_.set("controlPositioning",new y.Positioning(n));var r=(0,L.debounce)(function(){return e.map_.get("controlPositioning").positionElements()});this.map_.on("ready",r),this.map_.asSoonAs("ready",!0,function(){e.map_.on("resize",r),e.map_.on("ready:ui",function(){e.map_.get("ready:ui")&&r()}),e.map_.on("change:mobile",r),e.map_.on("ready:layers",function(){r(),e.map_.getLayerGroup().forEachOn("change:visible",function(){return setTimeout(r,200)})}),e.map_.getLayerGroup().forEachOn("change:visible",function(){return setTimeout(r,200)})}),this.map_.set("mobile",!1),(0,o.default)(this.map_.getTarget()).children().addClass(M.cssClasses.desktop),this.map_.set("scaleIcons",t.scaleIcons);var i=this.getHandleMobileChange_();this.map_.on("change:mobile",i),this.map_.once("ready",function(){e.map_.set("desktopLayout",{animations:e.map_.get("move").getAnimations(),scaleIcons:e.map_.get("scaleIcons"),hitTolerance:e.map_.get("hitTolerance")}),i()});var a=function(){var t=e.map_.get("mobileLayout");t&&t.mediaQueries&&window.matchMedia&&e.map_.set("mobile",t.mediaQueries.some(function(t){return window.matchMedia(t).matches}))},s=void 0,u=function(){e.map_.get("responsive")!==s&&(e.map_.get("responsive")?(a(),e.map_.on("resize",a)):e.map_.un("resize",a),s=e.map_.get("responsive"))};this.map_.once("ready",u),this.map_.on("change:responsive",u),this.map_.on("ready:ui",u),this.initialized_=!0}},{key:"applyLayout",value:function(t){t.hasOwnProperty("animations")&&this.map_.get("move").setAnimations(t.animations),t.hasOwnProperty("scaleIcons")&&(this.map_.set("scaleIcons",t.scaleIcons),this.map_.get("styling").setGlobalIconScale(t.scaleIcons),this.map_.getLayerGroup().recursiveForEach(function(t){t.getVisible()&&t.changed()})),t.hasOwnProperty("hitTolerance")&&this.map_.set("hitTolerance",t.hitTolerance);var e=this.map_.get("featurePopup"),n=this.map_.get("showWMSFeatureInfo"),r=n&&n.getPointVisible();if(e&&e.getVisible()){var i=e.getFeature();e.setVisible(!1),setTimeout(function(){e.setFeature(i),e.setVisible(!0),r&&n.setPointVisible(!0)},0)}}},{key:"getHandleMobileChange_",value:function(){var t=this;return this.handleMobileChange__||(this.handleMobileChange__=function(){t.map_.get("mobile")?((0,o.default)(t.map_.getTarget()).children().addClass(M.cssClasses.mobile),(0,o.default)(t.map_.getTarget()).children().removeClass(M.cssClasses.desktop),t.applyLayout(t.map_.get("mobileLayout"))):((0,o.default)(t.map_.getTarget()).children().addClass(M.cssClasses.desktop),(0,o.default)(t.map_.getTarget()).children().removeClass(M.cssClasses.mobile),t.applyLayout(t.map_.get("desktopLayout")))}),this.handleMobileChange__}},{key:"configureUI",value:function(){var t=this;this.map_.set("ready:ui",!1),this.pending_++;var e=(0,O.copyDeep)(this.map_.get("mapConfig"));this.initialized_||this.initialize_(e),this.map_.get("history")&&this.map_.get("history").flush();var n=void 0;this.loadCSS(e).then(function(){if(t.pending_--,0===t.pending_){t.map_.removeControls(),t.map_.controlsByName={},t.map_.removeInteractions(),t.map_.get("controlPositioning").init();var i=(0,O.copyDeep)((0,C.getConfig)(e,"move"))||{};i.map=t.map_,t.map_.set("move",new _.Move(i)),t.map_.get("shield")||t.map_.set("shield",new w.Shield({map:t.map_})),t.map_.set("mobileLayout",e.mobileLayout),t.map_.set("responsive",t.map_.get("responsive")||!!t.map_.get("mobileLayout"));var y=!0,x=!1,M=void 0;try{for(var A,L=t.map_.getModules()[Symbol.iterator]();!(y=(A=L.next()).done);y=!0){A.value.configureUI(e)}}catch(t){x=!0,M=t}finally{try{!y&&L.return&&L.return()}finally{if(x)throw M}}t.controlFactory?t.controlFactory.setLocaliser(t.map_.get("localiser")):t.controlFactory=new E.ControlFactory({map:t.map_,localiser:t.map_.get("localiser")}),t.controlFactory.addControls();var F=function t(e){e.setActive&&e.setActive(!1),e.getControls&&e.getControls().forEach(t)};if(t.map_.on("change:mobile",function(){return t.map_.getControls().forEach(F)}),(0,C.checkFor)(e,"interactions")){if((0,C.checkFor)(e.interactions,"doubleClickZoom")&&t.map_.addDefaultInteraction("dblclick",new a.default),(0,C.checkFor)(e.interactions,"dragPan"))if(!1!==e.kinetic){var k=-.002,R=.02,j=100;"object"===r(e.kinetic)&&(k=e.kinetic.decay||k,R=e.kinetic.minVelocity||R,j=e.kinetic.delay||j),t.map_.addDefaultInteraction("drag",new s.default({kinetic:new l.default(k,R,j)}))}else t.map_.addDefaultInteraction("drag",new s.default);(0,C.checkFor)(e.interactions,"dragRotate")&&t.map_.addDefaultInteraction("altShiftDrag",new u.default),(0,C.checkFor)(e.interactions,"dragZoom")&&t.map_.addDefaultInteraction("shiftDrag",new c.default),(0,C.checkFor)(e.interactions,"keyboardPan")&&t.map_.addDefaultInteraction("keyboard",new h.default),(0,C.checkFor)(e.interactions,"keyboardZoom")&&t.map_.addDefaultInteraction("keyboard",new f.default),(0,C.checkFor)(e.interactions,"mouseWheelZoom")&&t.map_.addDefaultInteraction("mouseWheel",new p.default),(0,C.checkFor)(e.interactions,"pinchRotate")&&t.map_.addDefaultInteraction("pinchRotate",new d.default),(0,C.checkFor)(e.interactions,"pinchZoom")&&t.map_.addDefaultInteraction("pinchZoom",new g.default)}var N=new T.FeatureInteraction({type:"singleclick",style:null});t.map_.addDefaultInteraction("singleclick",N),t.map_.set("clickInteraction",N);var B=new T.FeatureInteraction({type:"pointermove",style:null});t.map_.addDefaultInteraction("pointermove",B),t.map_.set("moveInteraction",B),(0,o.default)(t.map_.getViewport()).find("canvas").on("mouseleave",function(t){(0,o.default)(t.relatedTarget).is("canvas")||B.triggerEmptyMapEvent()});var G=new v.ClickableInteraction({style:null});t.map_.addDefaultInteraction("pointermove",G),t.map_.set("clickableInteraction",G);var U=function(){var e=t.map_.get("hitTolerance"),n=!0,r=!1,i=void 0;try{for(var o,a=t.map_.getInteractions().getArray()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.setHitTolerance&&s.setHitTolerance(e)}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}};t.map_.set("hitTolerance",e.hitTolerance||0),U(),t.map_.on("change:hitTolerance",U);var z=t.map_.get("featurePopup");z&&z.setMap(null),(n=(0,C.getConfig)(e,"featurePopup"))?((z=new m.FeaturePopup(n)).setMap(t.map_),t.map_.set("featurePopup",z)):t.map_.set("featurePopup",void 0);var V=t.map_.get("featureTooltip");V&&V.setMap(null),(n=(0,C.getConfig)(e,"featureTooltip"))?((V=new b.FeatureTooltip(n)).setMap(t.map_),t.map_.set("featureTooltip",V)):t.map_.set("featureTooltip",void 0);var Y=t.map_.get("showWMSFeatureInfo");if(Y&&Y.setMap(null),(n=(0,C.getConfig)(e,"showWMSFeatureInfo"))?((Y=new D.ShowWMSFeatureInfo(n)).setMap(t.map_),t.map_.set("showWMSFeatureInfo",Y)):t.map_.set("showWMSFeatureInfo",void 0),t.map_.set("history",new I.History),t.map_.get("userActionTracking")){var W=t.map_;t.map_.on("moveend",function(){W.dispatchEvent({type:"userActionTracking",action:"move"})}),t.map_.getLayers().getLayers().forEach(function(t){t.on("change:visible",function(){t.getVisible()&&W.dispatchEvent({type:"userActionTracking",action:"layerChange",value:t.get("title")})})}),t.map_.get("featurePopup")&&t.map_.get("featurePopup").on("change:visible",function(){this.getVisible()&&W.dispatchEvent({type:"userActionTracking",action:"popupOpen",value:this.getFeature().get("name")})});var X=!0,q=!1,H=void 0;try{for(var $,K=t.map_.getModules()[Symbol.iterator]();!(X=($=K.next()).done);X=!0){$.value.enableUserActionTracking()}}catch(t){q=!0,H=t}finally{try{!X&&K.return&&K.return()}finally{if(q)throw H}}t.map_.getControls().forEach(function(t){t instanceof P.PrintButton&&t.on("click",function(){W.dispatchEvent({type:"userActionTracking",action:"print"})}),t instanceof S.MeasurementButton&&("LineString"===t.getType()?t.on("measurement",function(){W.dispatchEvent({type:"userActionTracking",action:"measureLine"})}):"Polygon"===t.getType()&&t.on("measurement",function(){W.dispatchEvent({type:"userActionTracking",action:"measureArea"})}))})}t.map_.set("ready:ui",!0)}}).catch(function(t){x.Debug.error(t)})}}],[{key:"templateCSS",value:function(t,e){return e=e.map(A.parseCSSColor),t.replace(/(rgba?\([^)]*\))|(#[0-9a-f]{6})/g,function(t){var n=(0,A.parseCSSColor)(t),r=function(t){for(var e=0,n=-1,r=0;r<3;r++)0!==t[r]&&(e++,n=r);return e>1?-1:n}(n);if(r>-1){var i=n[3],o=n[r]/120,a=[e[r][0]*o,e[r][1]*o,e[r][2]*o,e[r][3]*i];return"rgba("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}return t})}},{key:"fixUrls",value:function(t,e){var n=(0,C.urlDirname)(e);return t.replace(/url\("([^"]*)"\)/g,function(t,e){return'url("'+(0,C.urlJoin)(n,e)+'")'})}}]),t}()},function(t,e,n){var r=n(260),i=n(364);t.exports=function(t,e){return i(r(e),t)}},function(t,e,n){var r=n(378);t.exports=function(t){return r(t,1)}},function(t,e,n){var r=n(366),i=n(49),o="Expected a function";t.exports=function(t,e,n){var a=!0,s=!0;if("function"!=typeof t)throw new TypeError(o);return i(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(t,e,{leading:a,maxWait:e,trailing:s})}},function(t,e,n){var r=n(64);t.exports=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:r(t,e,n)}},function(t,e,n){var r=n(95),i=n(178),o=n(18),a=n(649),s=n(22),u="Expected a function",l=Math.max;t.exports=function(t,e){if("function"!=typeof t)throw new TypeError(u);return e=null==e?0:l(s(e),0),o(function(n){var o=n[e],s=a(n,0,e);return o&&i(s,o),r(t,this,s)})}},function(t,e,n){var r=n(18),i=n(22),o="Expected a function";t.exports=function(t,e){if("function"!=typeof t)throw new TypeError(o);return e=void 0===e?e:i(e),r(t,e)}},function(t,e,n){var r=n(83),i=n(404)(function(t,e){return r(t,256,void 0,void 0,void 0,e)});t.exports=i},function(t,e,n){var r=n(18),i=n(83),o=n(139),a=n(112),s=r(function(t,e){var n=a(e,o(s));return i(t,64,void 0,e,n)});s.placeholder={},t.exports=s},function(t,e,n){var r=n(18);t.exports=r},function(t,e,n){var r=n(95),i=n(42),o=n(38),a=n(19),s=n(18),u=n(71),l=n(654),c=n(12),h=Math.min,f=l(function(t,e){var n=(e=1==e.length&&c(e[0])?i(e[0],u(a)):i(o(e,1),u(a))).length;return s(function(i){for(var o=-1,a=h(i.length,n);++o<a;)i[o]=e[o].call(this,i[o]);return r(t,this,i)})});t.exports=f},function(t,e,n){var r=n(367);t.exports=function(t){return r(2,t)}},function(t,e,n){var r=n(83),i=512;t.exports=function(t){return r(t,i)}},function(t,e,n){var r=n(365),i=n(18),o=n(177),a=i(function(t,e,n){return r(t,o(e)||0,n)});t.exports=a},function(t,e,n){var r=n(365),i=n(18)(function(t,e){return r(t,1,e)});t.exports=i},function(t,e,n){var r=n(39);t.exports=function(){return r.Date.now()}},function(t,e,n){var r=n(83),i=16;function o(t,e,n){var a=r(t,i,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return a.placeholder=o.placeholder,a}o.placeholder={},t.exports=o},function(t,e,n){var r=n(83),i=8;function o(t,e,n){var a=r(t,i,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return a.placeholder=o.placeholder,a}o.placeholder={},t.exports=o},function(t,e,n){var r=n(18),i=n(83),o=n(139),a=n(112),s=r(function(t,e,n){var r=3;if(n.length){var u=a(n,o(s));r|=32}return i(e,r,t,n,u)});s.placeholder={},t.exports=s},function(t,e,n){var r=n(18),i=n(83),o=n(139),a=n(112),s=r(function(t,e,n){var r=1;if(n.length){var u=a(n,o(s));r|=32}return i(t,r,e,n,u)});s.placeholder={},t.exports=s},function(t,e,n){var r=n(374),i=n(373),o=n(112),a="__lodash_placeholder__",s=1,u=2,l=4,c=8,h=128,f=256,p=Math.min;t.exports=function(t,e){var n=t[1],d=e[1],g=n|d,v=g<(s|u|h),y=d==h&&n==c||d==h&&n==f&&t[7].length<=e[8]||d==(h|f)&&e[7].length<=e[8]&&n==c;if(!v&&!y)return t;d&s&&(t[2]=e[2],g|=n&s?0:l);var _=e[3];if(_){var m=t[3];t[3]=m?r(m,_,e[4]):_,t[4]=m?o(t[3],a):e[4]}return(_=e[5])&&(m=t[5],t[5]=m?i(m,_,e[6]):_,t[6]=m?o(t[5],a):e[6]),(_=e[7])&&(t[7]=_),d&h&&(t[8]=null==t[8]?e[8]:p(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=g,t}},function(t,e,n){var r=n(95),i=n(189),o=n(39),a=1;t.exports=function(t,e,n,s){var u=e&a,l=i(t);return function e(){for(var i=-1,a=arguments.length,c=-1,h=s.length,f=Array(h+a),p=this&&this!==o&&this instanceof e?l:t;++c<h;)f[c]=s[c];for(;a--;)f[c++]=arguments[++i];return r(p,u?n:this,f)}}},function(t,e,n){var r=n(105),i=n(106),o=Math.min;t.exports=function(t,e){for(var n=t.length,a=o(e.length,n),s=r(t);a--;){var u=e[a];t[a]=i(u,n)?s[u]:void 0}return t}},function(t,e,n){var r=n(317),i=n(198),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];t.exports=function(t,e){return r(o,function(n){var r="_."+n[0];e&n[1]&&!i(t,r)&&t.push(r)}),t.sort()}},function(t,e){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=function(t,e){var r=e.length;if(!r)return t;var i=r-1;return e[i]=(r>1?"& ":"")+e[i],e=e.join(r>2?", ":" "),t.replace(n,"{\n/* [wrapped with "+e+"] */\n")}},function(t,e){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;t.exports=function(t){var e=t.match(n);return e?e[1].split(r):[]}},function(t,e,n){var r=n(259),i=n(370),o=n(105);t.exports=function(t){if(t instanceof r)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=o(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}},function(t,e,n){var r=n(259),i=n(370),o=n(258),a=n(12),s=n(29),u=n(671),l=Object.prototype.hasOwnProperty;function c(t){if(s(t)&&!a(t)&&!(t instanceof r)){if(t instanceof i)return t;if(l.call(t,"__wrapped__"))return u(t)}return new i(t)}c.prototype=o.prototype,c.prototype.constructor=c,t.exports=c},function(t,e){t.exports={}},function(t,e,n){var r=n(673),i=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=t.name+"",n=r[e],o=i.call(r,e)?n.length:0;o--;){var a=n[o],s=a.func;if(null==s||s==t)return a.name}return e}},function(t,e,n){var r=n(259),i=n(371),o=n(674),a=n(672);t.exports=function(t){var e=o(t),n=a[e];if("function"!=typeof n||!(e in r.prototype))return!1;if(t===n)return!0;var s=i(n);return!!s&&t===s[0]}},function(t,e){t.exports=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}},function(t,e,n){var r=n(95),i=n(189),o=n(375),a=n(372),s=n(139),u=n(112),l=n(39);t.exports=function(t,e,n){var c=i(t);return function i(){for(var h=arguments.length,f=Array(h),p=h,d=s(i);p--;)f[p]=arguments[p];var g=h<3&&f[0]!==d&&f[h-1]!==d?[]:u(f,d);return(h-=g.length)<n?a(t,e,o,i.placeholder,void 0,f,g,void 0,void 0,n-h):r(this&&this!==l&&this instanceof i?c:t,this,f)}}},function(t,e,n){var r=n(189),i=n(39),o=1;t.exports=function(t,e,n){var a=e&o,s=r(t);return function e(){return(this&&this!==i&&this instanceof e?s:t).apply(a?n:this,arguments)}}},function(t,e,n){var r=n(22),i="Expected a function";t.exports=function(t,e){if("function"!=typeof e)throw new TypeError(i);return t=r(t),function(){if(--t<1)return e.apply(this,arguments)}}},function(t,e,n){var r=n(38),i=n(383),o=n(18),a=n(116),s=o(function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])});t.exports=s},function(t,e,n){var r=n(94);t.exports=function(t,e){var n;return r(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}},function(t,e,n){var r=n(492),i=n(19),o=n(681),a=n(12),s=n(116);t.exports=function(t,e,n){var u=a(t)?r:o;return n&&s(t,e,n)&&(e=void 0),u(t,i(e,3))}},function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+r+"|"+i+")"+"?",l="[\\ufe0e\\ufe0f]?"+u+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*"),c="(?:"+[o+r+"?",r,a,s,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+c+l,"g");t.exports=function(t){for(var e=h.lastIndex=0;h.test(t);)++e;return e}},function(t,e,n){var r=n(268)("length");t.exports=r},function(t,e,n){var r=n(684),i=n(486),o=n(683);t.exports=function(t){return i(t)?o(t):r(t)}},function(t,e,n){var r=n(315),i=n(104),o=n(48),a=n(218),s=n(685),u="[object Map]",l="[object Set]";t.exports=function(t){if(null==t)return 0;if(o(t))return a(t)?s(t):t.length;var e=i(t);return e==u||e==l?t.size:r(t).length}},function(t,e,n){var r=n(191),i=n(176);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(105),i=n(191);t.exports=function(t){return i(r(t))}},function(t,e,n){var r=n(688),i=n(687),o=n(12);t.exports=function(t){return(o(t)?r:i)(t)}},function(t,e,n){var r=n(217),i=n(191),o=n(176);t.exports=function(t,e){var n=o(t);return i(n,r(e,0,n.length))}},function(t,e,n){var r=n(217),i=n(105),o=n(191);t.exports=function(t,e){return o(i(t),r(e,0,t.length))}},function(t,e,n){var r=n(691),i=n(690),o=n(12),a=n(116),s=n(22);t.exports=function(t,e,n){return e=(n?a(t,e,n):void 0===e)?1:s(e),(o(t)?r:i)(t,e)}},function(t,e,n){var r=n(380),i=n(176);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(380),i=n(693),o=n(12);t.exports=function(t){return(o(t)?r:i)(t)}},function(t,e,n){var r=n(125),i=n(386),o=n(19),a=n(12),s=n(381);t.exports=function(t,e){return(a(t)?r:i)(t,s(o(e,3)))}},function(t,e){t.exports=function(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}},function(t,e,n){var r=n(696),i=n(387),o=n(19),a=n(382),s=n(12);t.exports=function(t,e,n){var u=s(t)?r:a,l=arguments.length<3;return u(t,o(e,4),n,l,i)}},function(t,e){t.exports=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}},function(t,e,n){var r=n(698),i=n(94),o=n(19),a=n(382),s=n(12);t.exports=function(t,e,n){var u=s(t)?r:a,l=arguments.length<3;return u(t,o(e,4),n,l,i)}},function(t,e,n){var r=n(193)(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});t.exports=r},function(t,e,n){var r=n(405);t.exports=function(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,u=n.length;++i<s;){var l=r(o[i],a[i]);if(l)return i>=u?l:l*("desc"==n[i]?-1:1)}return t.index-e.index}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var r=n(383),i=n(12);t.exports=function(t,e,n,o){return null==t?[]:(i(e)||(e=null==e?[]:[e]),i(n=o?void 0:n)||(n=null==n?[]:[n]),r(t,e,n))}},function(t,e,n){var r=n(182),i=n(193)(function(t,e,n){r(t,n,e)});t.exports=i},function(t,e,n){var r=n(95),i=n(162),o=n(63),a=n(406),s=n(114);t.exports=function(t,e,n){e=i(e,t);var u=null==(t=a(t,e))?t:t[s(o(e))];return null==u?void 0:r(u,t,n)}},function(t,e,n){var r=n(95),i=n(94),o=n(705),a=n(18),s=n(48),u=a(function(t,e,n){var a=-1,u="function"==typeof e,l=s(t)?Array(t.length):[];return i(t,function(t){l[++a]=u?r(e,t,n):o(t,e,n)}),l});t.exports=u},function(t,e,n){var r=n(197),i=n(48),o=n(218),a=n(22),s=n(176),u=Math.max;t.exports=function(t,e,n,l){t=i(t)?t:s(t),n=n&&!l?a(n):0;var c=t.length;return n<0&&(n=u(c+n,0)),o(t)?n<=c&&t.indexOf(e,n)>-1:!!c&&r(t,e,n)>-1}},function(t,e,n){var r=n(182),i=n(193),o=Object.prototype.hasOwnProperty,a=i(function(t,e,n){o.call(t,n)?t[n].push(e):r(t,n,[e])});t.exports=a},function(t,e,n){var r=n(38),i=n(192),o=n(22);t.exports=function(t,e,n){return n=void 0===n?1:o(n),r(i(t,e),n)}},function(t,e,n){var r=n(38),i=n(192),o=1/0;t.exports=function(t,e){return r(i(t,e),o)}},function(t,e,n){var r=n(38),i=n(192);t.exports=function(t,e){return r(i(t,e),1)}},function(t,e,n){var r=n(385)(n(410));t.exports=r},function(t,e,n){var r=n(385)(n(411));t.exports=r},function(t,e,n){var r=n(125),i=n(386),o=n(19),a=n(12);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},function(t,e,n){var r=n(94);t.exports=function(t,e){var n=!0;return r(t,function(t,r,i){return n=!!e(t,r,i)}),n}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}},function(t,e,n){var r=n(716),i=n(715),o=n(19),a=n(12),s=n(116);t.exports=function(t,e,n){var u=a(t)?r:i;return n&&s(t,e,n)&&(e=void 0),u(t,o(e,3))}},function(t,e,n){var r=n(391)(!0);t.exports=r},function(t,e,n){var r=n(718),i=n(91);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e){t.exports=function(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}},function(t,e,n){t.exports=n(388)},function(t,e,n){t.exports=n(389)},function(t,e,n){var r=n(391)();t.exports=r},function(t,e,n){var r=n(723),i=n(91);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e,n){var r=n(94);t.exports=function(t,e,n,i){return r(t,function(t,r,o){e(i,t,n(t),o)}),i}},function(t,e){t.exports=function(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}},function(t,e,n){var r=n(182),i=n(193),o=Object.prototype.hasOwnProperty,a=i(function(t,e,n){o.call(t,n)?++t[n]:r(t,n,1)});t.exports=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Attributions=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(392),a=n(273),s=n(190),u=function(t){return t&&t.__esModule?t:{default:t}}(n(70)),l=n(54),c=n(202),h=n(6);e.Attributions=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.attributions_=[],t.debouncedUpdate=(0,s.debounce)(function(){return t.update()}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,h.mixin)(u.default,l.ListenerOrganizerMixin)),i(e,[{key:"setMap",value:function(t){var e=this;this.map_&&(this.attributions_=[],this.detachAllListeners()),this.map_=t,t&&t.asSoonAs("ready:layers",!0,function(){setTimeout(function(){e.attachListeners(e.map_.getLayerGroup()),e.update()},0)})}},{key:"getArray",value:function(){return this.attributions_}},{key:"scanLayers",value:function(){return this.scanLayer(this.map_.getLayerGroup())}},{key:"scanLayer",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t&&t.getVisible()){if(t.getLayers){var r=!(t instanceof c.GroupLayer);return t.getLayers().getArray().reduce(function(i,o){return n=r?t.get("title"):null,i.concat(e.scanLayer(o,n))},[])}if(t.getVisible()){var i=t.isBaseLayer?this.map_.get("localiser").localiseUsingDictionary("Attribution baseLayerLabel"):n||t.get("title");if(i)return this.extractAttributions(t,this.labelize(i))}}return[]}},{key:"extractAttributions",value:function(t,e){if(t.getSource&&t.getSource()){var n=t.getSource().getAttributions();return n?n().map(function(t){return[e,t]}):[]}}},{key:"labelize",value:function(t){return t.replace(/<[^>]*>/," ").replace(/\s{2,}/," ")}},{key:"update",value:function(){this.attributions_=function t(e){return{groupBy:function(n){return t((0,o.groupBy)(e,n))},forEach:function(n){return t(e.forEach(n))},map:function(n){return t((0,o.map)(e,n))},asArray:function(){return e}}}(this.scanLayers()).groupBy(function(t){var e=r(t,2),n=e[0];e[1];return n}).map(function(t,e){return[e,t.map(function(t){return t[1]})]}).groupBy(function(t){var e=r(t,2),n=(e[0],e[1]);return 1===(n=(0,a.uniq)(n)).length?n[0]:n.join(" & ")}).map(function(t,e){return[t.map(function(t){return t[0]}),e]}).map(function(t){var e=r(t,2),n=e[0],i=e[1],o=void 0;return o=1===n.length?n[0]:n.slice(0,-1).join(", ")+" & "+n[n.length-1],o+=": "+i}).asArray(),this.dispatchEvent("change",this.attributions_)}},{key:"attachListeners",value:function(t){var e=this;t.getLayers&&(t.getLayers().forEach(function(t){return e.attachListeners(t)}),this.listenAt(t.getLayers()).on("add",function(t){e.attachListeners(t.element),e.debouncedUpdate()}).on("remove",function(t){e.detachFrom(t.element),e.debouncedUpdate()})),t instanceof c.GroupLayer||this.listenAt(t).on("change:visible",function(){e.debouncedUpdate()}).on("change:source",function(){t.getVisible()&&e.debouncedUpdate()})}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WMTSSource=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(277)),i=n(6),o=n(11);e.WMTSSource=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.url;t.url="_",t.tileLoadFunction=function(t,e){(0,i.asyncImageLoad)(t.getImage(),r.originalUrlObject.extend(e.slice(1))).catch(function(t){return o.Debug.error(t)})};var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.originalUrlObject=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClusterSource=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=h(n(393)),o=n(11),a=h(n(28)),s=h(n(44)),u=n(1),l=h(n(32)),c=h(n(450));function h(t){return t&&t.__esModule?t:{default:t}}e.ClusterSource=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n.source=t,n.geometryFunction=n.geometryFunction||e.defaultGeometryFunction,function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),r(e,null,[{key:"defaultGeometryFunction",value:function(t){var e=t.getGeometry();return e instanceof a.default?e:e instanceof s.default||e instanceof l.default?new a.default((0,u.getCenter)(e.getExtent())):e instanceof c.default?new a.default(e.getCenter()):(o.Debug.warn("Trying to cluster unsupported geometry type."),null)}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseSilentGroupLayer=e.SilentGroupLayer=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(295)),o=n(70),a=n(6),s=n(422),u=n(167);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=e.SilentGroupLayer=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,e);var n=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=new WeakMap;return n.getLayers().on("add",function(t){var e=t.element;e.provideMap&&e.provideMap(n.getProvidedMap()),r.set(e,e.on(["change:visible","change:childVisible"],function(){n.dispatchEvent({type:"change:childVisible",child:e})}))}),n.getLayers().on("remove",function(t){var e=t.element;e.provideMap&&e.provideMap(null),(0,o.unByKey)(r.get(e)),r.delete(e)}),n}return h(e,(0,a.mixin)(i.default,u.ProvideMapMixin)),r(e,[{key:"provideMap",value:function(t){(function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"provideMap",this).call(this,t),this.getLayers().forEach(function(e){e.provideMap&&e.provideMap(t)})}}]),e}();e.BaseSilentGroupLayer=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,(0,a.mixin)(f,s.BaseLayerMixin)),e}()},function(t,e,n){var r=n(18),i=n(400),o=r(function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,i(t,n)});t.exports=o},function(t,e,n){var r=n(228),i=n(162),o=n(106),a=n(49),s=n(114);t.exports=function(t,e,n,u){if(!a(t))return t;for(var l=-1,c=(e=i(e,t)).length,h=c-1,f=t;null!=f&&++l<c;){var p=s(e[l]),d=n;if(l!=h){var g=f[p];void 0===(d=u?u(g,p,f):void 0)&&(d=a(g)?g:o(e[l+1])?[]:{})}r(f,p,d),f=f[p]}return t}},function(t,e,n){var r=n(733),i=n(398);t.exports=function(t,e){return i(t||[],e||[],r)}},function(t,e,n){var r=n(228),i=n(398);t.exports=function(t,e){return i(t||[],e||[],r)}},function(t,e,n){var r=n(125),i=n(18),o=n(261),a=n(47),s=n(63),u=i(function(t){var e=s(t);return e="function"==typeof e?e:void 0,o(r(t,a),void 0,e)});t.exports=u},function(t,e,n){var r=n(125),i=n(19),o=n(18),a=n(261),s=n(47),u=n(63),l=o(function(t){var e=u(t);return s(e)&&(e=void 0),a(r(t,s),i(e,2))});t.exports=l},function(t,e,n){var r=n(125),i=n(18),o=n(261),a=n(47),s=i(function(t){return o(r(t,a))});t.exports=s},function(t,e,n){var r=n(163),i=n(18),o=n(47),a=i(function(t,e){return o(t)?r(t,e):[]});t.exports=a},function(t,e,n){var r=n(113);t.exports=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?r(t,void 0,e):[]}},function(t,e,n){var r=n(19),i=n(113);t.exports=function(t,e){return t&&t.length?i(t,r(e,2)):[]}},function(t,e,n){var r=n(38),i=n(18),o=n(113),a=n(47),s=n(63),u=i(function(t){var e=s(t);return e="function"==typeof e?e:void 0,o(r(t,1,a,!0),void 0,e)});t.exports=u},function(t,e,n){var r=n(38),i=n(19),o=n(18),a=n(113),s=n(47),u=n(63),l=o(function(t){var e=u(t);return s(e)&&(e=void 0),a(r(t,1,s,!0),i(e,2))});t.exports=l},function(t,e,n){var r=n(498),i=n(402),o=n(219),a=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=a},function(t,e,n){var r=n(38),i=n(18),o=n(113),a=n(47),s=i(function(t){return o(r(t,1,a,!0))});t.exports=s},function(t,e,n){var r=n(19),i=n(195);t.exports=function(t,e){return t&&t.length?i(t,r(e,3)):[]}},function(t,e,n){var r=n(19),i=n(195);t.exports=function(t,e){return t&&t.length?i(t,r(e,3),!1,!0):[]}},function(t,e,n){var r=n(64),i=n(22);t.exports=function(t,e,n){var o=null==t?0:t.length;return o?(e=n||void 0===e?1:i(e),r(t,(e=o-e)<0?0:e,o)):[]}},function(t,e,n){var r=n(64),i=n(22);t.exports=function(t,e,n){return t&&t.length?(e=n||void 0===e?1:i(e),r(t,0,e<0?0:e)):[]}},function(t,e,n){var r=n(64);t.exports=function(t){var e=null==t?0:t.length;return e?r(t,1,e):[]}},function(t,e,n){var r=n(19),i=n(403);t.exports=function(t,e){return t&&t.length?i(t,r(e,2)):[]}},function(t,e,n){var r=n(403);t.exports=function(t){return t&&t.length?r(t):[]}},function(t,e,n){var r=n(194),i=n(107);t.exports=function(t,e){if(null!=t&&t.length){var n=r(t,e,!0)-1;if(i(t[n],e))return n}return-1}},function(t,e,n){var r=n(19),i=n(263);t.exports=function(t,e,n){return i(t,e,r(n,2),!0)}},function(t,e,n){var r=n(194);t.exports=function(t,e){return r(t,e,!0)}},function(t,e,n){var r=n(194),i=n(107);t.exports=function(t,e){var n=null==t?0:t.length;if(n){var o=r(t,e);if(o<n&&i(t[o],e))return o}return-1}},function(t,e,n){var r=n(19),i=n(263);t.exports=function(t,e,n){return i(t,e,r(n,2))}},function(t,e,n){var r=n(194);t.exports=function(t,e){return r(t,e)}},function(t,e,n){var r=n(64),i=n(116),o=n(22);t.exports=function(t,e,n){var a=null==t?0:t.length;return a?(n&&"number"!=typeof n&&i(t,e,n)?(e=0,n=a):(e=null==e?0:o(e),n=void 0===n?a:o(n)),r(t,e,n)):[]}},function(t,e){var n=Array.prototype.reverse;t.exports=function(t){return null==t?t:n.call(t)}},function(t,e,n){var r=n(19),i=n(407);t.exports=function(t,e){var n=[];if(!t||!t.length)return n;var o=-1,a=[],s=t.length;for(e=r(e,3);++o<s;){var u=t[o];e(u,o,t)&&(n.push(u),a.push(o))}return i(t,a),n}},function(t,e,n){var r=n(162),i=n(63),o=n(406),a=n(114);t.exports=function(t,e){return e=r(e,t),null==(t=o(t,e))||delete t[a(i(e))]}},function(t,e,n){var r=n(413);t.exports=function(t,e){for(var n=-1,i=e.length,o=Array(i),a=null==t;++n<i;)o[n]=a?void 0:r(t,e[n]);return o}},function(t,e,n){var r=n(42),i=n(763),o=n(407),a=n(405),s=n(404),u=n(106),l=s(function(t,e){var n=null==t?0:t.length,s=i(t,e);return o(t,r(e,function(t){return u(t,n)?+t:t}).sort(a)),s});t.exports=l},function(t,e,n){var r=n(264);t.exports=function(t,e,n){return t&&t.length&&e&&e.length?r(t,e,void 0,n):t}},function(t,e,n){var r=n(19),i=n(264);t.exports=function(t,e,n){return t&&t.length&&e&&e.length?i(t,e,r(n,2)):t}},function(t,e){t.exports=function(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}},function(t,e,n){var r=n(18)(n(408));t.exports=r},function(t,e,n){var r=n(106);t.exports=function(t,e){var n=t.length;if(n)return r(e+=e<0?n:0,n)?t[e]:void 0}},function(t,e,n){var r=n(769),i=n(22);t.exports=function(t,e){return t&&t.length?r(t,i(e)):void 0}},function(t,e){t.exports=function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}},function(t,e,n){var r=n(196),i=n(417),o=n(771),a=n(22),s=Math.max,u=Math.min;t.exports=function(t,e,n){var l=null==t?0:t.length;if(!l)return-1;var c=l;return void 0!==n&&(c=(c=a(n))<0?s(l+c,0):u(c,l-1)),e==e?o(t,e,c):r(t,i,c,!0)}},function(t,e){var n=Array.prototype.join;t.exports=function(t,e){return null==t?"":n.call(t,e)}},function(t,e,n){var r=n(42),i=n(266),o=n(18),a=n(265),s=n(63),u=o(function(t){var e=s(t),n=r(t,a);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?i(n,void 0,e):[]});t.exports=u},function(t,e,n){var r=n(42),i=n(266),o=n(19),a=n(18),s=n(265),u=n(63),l=a(function(t){var e=u(t),n=r(t,s);return e===u(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?i(n,o(e,2)):[]});t.exports=l},function(t,e,n){var r=n(42),i=n(266),o=n(18),a=n(265),s=o(function(t){var e=r(t,a);return e.length&&e[0]===t[0]?i(e):[]});t.exports=s},function(t,e,n){var r=n(64);t.exports=function(t){return null!=t&&t.length?r(t,0,-1):[]}},function(t,e,n){var r=n(197),i=n(22),o=Math.max;t.exports=function(t,e,n){var a=null==t?0:t.length;if(!a)return-1;var s=null==n?0:i(n);return s<0&&(s=o(a+s,0)),r(t,e,s)}},function(t,e){t.exports=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}},function(t,e,n){var r=n(38),i=n(22);t.exports=function(t,e){return null!=t&&t.length?(e=void 0===e?1:i(e),r(t,e)):[]}},function(t,e,n){var r=n(38),i=1/0;t.exports=function(t){return null!=t&&t.length?r(t,i):[]}},function(t,e,n){t.exports=n(409)},function(t,e,n){var r=n(22),i=n(485);t.exports=function(t,e,n,o){var a=t.length;for((n=r(n))<0&&(n=-n>a?0:a+n),(o=void 0===o||o>a?a:r(o))<0&&(o+=a),o=n>o?0:i(o);n<o;)t[n++]=e;return t}},function(t,e,n){var r=n(783),i=n(116);t.exports=function(t,e,n,o){var a=null==t?0:t.length;return a?(n&&"number"!=typeof n&&i(t,e,n)&&(n=0,o=a),r(t,e,n,o)):[]}},function(t,e,n){var r=n(19),i=n(195);t.exports=function(t,e){return t&&t.length?i(t,r(e,3),!0):[]}},function(t,e,n){var r=n(19),i=n(195);t.exports=function(t,e){return t&&t.length?i(t,r(e,3),!0,!0):[]}},function(t,e,n){var r=n(64),i=n(22);t.exports=function(t,e,n){var o=null==t?0:t.length;return o?(e=n||void 0===e?1:i(e),r(t,0,(e=o-e)<0?0:e)):[]}},function(t,e,n){var r=n(64),i=n(22);t.exports=function(t,e,n){var o=null==t?0:t.length;return o?(e=n||void 0===e?1:i(e),r(t,e<0?0:e,o)):[]}},function(t,e,n){var r=n(163),i=n(38),o=n(18),a=n(47),s=n(63),u=o(function(t,e){var n=s(e);return a(n)&&(n=void 0),a(t)?r(t,i(e,1,a,!0),void 0,n):[]});t.exports=u},function(t,e,n){var r=n(270);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(268),i=n(790),o=n(269),a=n(114);t.exports=function(t){return o(t)?r(a(t)):i(t)}},function(t,e,n){var r=n(162),i=n(180),o=n(12),a=n(106),s=n(226),u=n(114);t.exports=function(t,e,n){for(var l=-1,c=(e=r(e,t)).length,h=!1;++l<c;){var f=u(e[l]);if(!(h=null!=t&&n(t,f)))break;t=t[f]}return h||++l!=c?h:!!(c=null==t?0:t.length)&&s(c)&&a(f,c)&&(o(t)||i(t))}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(793),i=n(792);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e,n){var r=n(412),i=500;t.exports=function(t){var e=r(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=n(795)(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)}),e});t.exports=o},function(t,e,n){var r=n(222),i=n(413),o=n(794),a=n(269),s=n(488),u=n(414),l=n(114),c=1,h=2;t.exports=function(t,e){return a(t)&&s(e)?u(l(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,c|h)}}},function(t,e,n){var r=n(309),i=n(308),o=n(414);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(163),i=n(38),o=n(19),a=n(18),s=n(47),u=n(63),l=a(function(t,e){var n=u(e);return s(n)&&(n=void 0),s(t)?r(t,i(e,1,s,!0),o(n,2)):[]});t.exports=l},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(800),i=n(507),o=n(115),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(163),i=n(38),o=n(18),a=n(47),s=o(function(t,e){return a(t)?r(t,i(e,1,a,!0)):[]});t.exports=s},function(t,e,n){var r=n(126),i=n(180),o=n(12),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},function(t,e,n){var r=n(178),i=n(38),o=n(105),a=n(12);t.exports=function(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),n=arguments[0],s=t;s--;)e[s-1]=arguments[s];return r(a(n)?o(n):[n],i(e,1))}},function(t,e){t.exports=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}},function(t,e,n){var r=n(64),i=n(116),o=n(22),a=Math.ceil,s=Math.max;t.exports=function(t,e,n){e=(n?i(t,e,n):void 0===e)?1:s(o(e),0);var u=null==t?0:t.length;if(!u||e<1)return[];for(var l=0,c=0,h=Array(a(u/e));l<u;)h[c++]=r(t,l,l+=e);return h}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileWMSSource=e.ImageWMSSource=e.WMSMixin=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=h(n(2)),o=n(273),a=n(128),s=h(n(397)),u=h(n(394)),l=n(6),c=n(11);function h(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var g=e.WMSMixin=function(){function t(){d(this,t)}return r(t,[{key:"initialize",value:function(t){this.featureInfo_=void 0!==t.featureInfo,this.featureInfoParams_={QUERY_LAYERS:[]},this.featureInfo_&&(this.featureInfoIframe=t.featureInfo.iframe,Object.assign(this.featureInfoParams_,t.featureInfo.params),this.featureInfoMutators_=t.featureInfo.mutators),this.getParams().LAYERS||this.updateParams({LAYERS:[]}),this.set("legends",t.legends||!1)}},{key:"getQueryable",value:function(){return this.featureInfo_&&this.featureInfoParams_.QUERY_LAYERS&&this.featureInfoParams_.QUERY_LAYERS.length>0&&(0,o.intersection)(this.featureInfoParams_.QUERY_LAYERS,this.getParams().LAYERS).length>0}},{key:"getFeatureInfoMutators",value:function(){return this.featureInfoMutators_||[]}},{key:"hasFeatureInfo",value:function(){return this.featureInfo_}},{key:"activateLayers",value:function(t){this.updateParams({LAYERS:(0,o.concat)(this.getParams().LAYERS,t)}),this.dispatchEvent("change:layers")}},{key:"deactivateLayers",value:function(t){this.updateParams({LAYERS:(0,o.difference)(this.getParams().LAYERS,t)}),this.dispatchEvent("change:layers")}},{key:"areLayersActive",value:function(t){return(0,a.isEmpty)((0,o.difference)(t,this.getParams().LAYERS))}},{key:"anyLayerActive",value:function(){return!(0,a.isEmpty)(this.getParams().LAYERS)}},{key:"activateQueryLayers",value:function(t){this.updateFeatureInfoParams({QUERY_LAYERS:(0,o.concat)(this.getFeatureInfoParams().QUERY_LAYERS,t)}),this.dispatchEvent("change:queryLayers")}},{key:"deactivateQueryLayers",value:function(t){this.updateFeatureInfoParams({QUERY_LAYERS:(0,o.difference)(this.getFeatureInfoParams().QUERY_LAYERS,t)}),this.dispatchEvent("change:queryLayers")}},{key:"areQueryLayersActive",value:function(t){return(0,a.isEmpty)((0,o.difference)(t,this.getFeatureInfoParams().QUERY_LAYERS))}},{key:"getFeatureInfoParams",value:function(){return this.featureInfoParams_}},{key:"updateFeatureInfoParams",value:function(t){Object.assign(this.featureInfoParams_,t),this.changed()}},{key:"getFeatureInfo",value:function(t,e,n){var r=this;return new Promise(function(a,s){var u=Object.assign({},r.featureInfoParams_);if(u.QUERY_LAYERS||a(void 0),u.QUERY_LAYERS=(0,o.intersection)(u.QUERY_LAYERS,r.getParams().LAYERS),0===u.QUERY_LAYERS.length)a(void 0);else{var l=r.getGetFeatureInfoUrl(t,e,n,u).slice(1),c=r.originalUrlObject.extend(l).finalize();r.featureInfoIframe?a((0,i.default)("<iframe>").width(r.featureInfoIframe[0]).height(r.featureInfoIframe[1]).attr("src",c)):i.default.ajax({url:c,success:a,error:s,dataType:"text"})}})}},{key:"getGetLegendGraphicUrl",value:function(t,e){var n=Object.assign({},this.getParams()),r={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetLegendGraphic",FORMAT:"image/png",LAYER:e};if(void 0!==t){var i=this.getProjection()?this.getProjection().getMetersPerUnit():1;r.SCALE=t*i*39.37*(25.4/.28)}Object.assign(r,n);var o=this.originalUrlObject.clone();return Object.keys(r).forEach(function(t){null!==r[t]&&void 0!==r[t]&&o.addParam(t+"="+encodeURIComponent(r[t]))}),o.finalize()}}]),t}();e.ImageWMSSource=function(t){function e(t){d(this,e);var n=t.url;t.url="_",t.imageLoadFunction=function(t,e){(0,l.asyncImageLoad)(t.getImage(),r.originalUrlObject.extend(e.slice(1))).catch(function(t){return c.Debug.error(t)})};var r=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.originalUrlObject=n,r}return p(e,(0,l.mixin)(s.default,g)),e}(),e.TileWMSSource=function(t){function e(t){d(this,e);var n=t.url;t.url="_",t.tileLoadFunction=function(t,e){(0,l.asyncImageLoad)(t.getImage(),r.originalUrlObject.extend(e.slice(1))).catch(function(t){return c.Debug.error(t)})};var r=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.originalUrlObject=n,r}return p(e,(0,l.mixin)(u.default,g)),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=n(17),o=u(n(118)),a=u(n(203)),s=n(142);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(){var e=t.call(this)||this;return e.xmlSerializer_=new XMLSerializer,e}return l(e,t),e.prototype.getType=function(){return a.default.XML},e.prototype.readFeature=function(t,e){if(t){if("string"==typeof t){var n=(0,s.parse)(t);return this.readFeatureFromDocument(n,e)}return(0,s.isDocument)(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e)}return null},e.prototype.readFeatureFromDocument=function(t,e){var n=this.readFeaturesFromDocument(t,e);return n.length>0?n[0]:null},e.prototype.readFeatureFromNode=function(t,e){return null},e.prototype.readFeatures=function(t,e){if(t){if("string"==typeof t){var n=(0,s.parse)(t);return this.readFeaturesFromDocument(n,e)}return(0,s.isDocument)(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e)}return[]},e.prototype.readFeaturesFromDocument=function(t,e){for(var n=[],r=t.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&(0,i.extend)(n,this.readFeaturesFromNode(r,e));return n},e.prototype.readFeaturesFromNode=function(t,e){return(0,r.abstract)()},e.prototype.readGeometry=function(t,e){if(t){if("string"==typeof t){var n=(0,s.parse)(t);return this.readGeometryFromDocument(n,e)}return(0,s.isDocument)(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e)}return null},e.prototype.readGeometryFromDocument=function(t,e){return null},e.prototype.readGeometryFromNode=function(t,e){return null},e.prototype.readProjection=function(t){if(t){if("string"==typeof t){var e=(0,s.parse)(t);return this.readProjectionFromDocument(e)}return(0,s.isDocument)(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t)}return null},e.prototype.readProjectionFromDocument=function(t){return this.dataProjection},e.prototype.readProjectionFromNode=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){var n=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(n)},e.prototype.writeFeatureNode=function(t,e){return null},e.prototype.writeFeatures=function(t,e){var n=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(n)},e.prototype.writeFeaturesNode=function(t,e){return null},e.prototype.writeGeometry=function(t,e){var n=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(n)},e.prototype.writeGeometryNode=function(t,e){return null},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(16),i=y(n(33)),o=n(118),a=y(n(420)),s=y(n(279)),u=y(n(44)),l=y(n(147)),c=y(n(99)),h=y(n(170)),f=y(n(28)),p=y(n(32)),d=n(10),g=n(3),v=y(n(20));function y(t){return t&&t.__esModule?t:{default:t}}var _=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this)||this).dataProjection=(0,g.get)(r.dataProjection?r.dataProjection:"EPSG:4326"),r.featureProjection&&(n.defaultFeatureProjection=(0,g.get)(r.featureProjection)),n.geometryName_=r.geometryName,n.extractGeometryName_=r.extractGeometryName,n}return _(e,t),e.prototype.readFeatureFromObject=function(t,e){var n=null,r=b((n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),o=new i.default;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&o.setGeometryName(n.geometry_name),o.setGeometry(r),"id"in n&&o.setId(n.id),n.properties&&o.setProperties(n.properties,!0),o},e.prototype.readFeaturesFromObject=function(t,e){var n=null;if("FeatureCollection"===t.type){n=[];for(var r=t.features,i=0,o=r.length;i<o;++i)n.push(this.readFeatureFromObject(r[i],e))}else n=[this.readFeatureFromObject(t,e)];return n},e.prototype.readGeometryFromObject=function(t,e){return b(t,e)},e.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=(0,g.get)(n.properties.name):(0,r.assert)(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature",geometry:null,properties:null},r=t.getId();void 0!==r&&(n.id=r);var i=t.getGeometry();i&&(n.geometry=w(i,e));var o=t.getProperties();return delete o[t.getGeometryName()],(0,d.isEmpty)(o)||(n.properties=o),n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],r=0,i=t.length;r<i;++r)n.push(this.writeFeatureObject(t[r],e));return{type:"FeatureCollection",features:n}},e.prototype.writeGeometryObject=function(t,e){return w(t,this.adaptOptions(e))},e}(a.default);function b(t,e){if(!t)return null;var n;switch(t.type){case v.default.POINT:n=function(t){return new f.default(t.coordinates)}(t);break;case v.default.LINE_STRING:n=function(t){return new u.default(t.coordinates)}(t);break;case v.default.POLYGON:n=function(t){return new p.default(t.coordinates)}(t);break;case v.default.MULTI_POINT:n=function(t){return new c.default(t.coordinates)}(t);break;case v.default.MULTI_LINE_STRING:n=function(t){return new l.default(t.coordinates)}(t);break;case v.default.MULTI_POLYGON:n=function(t){return new h.default(t.coordinates)}(t);break;case v.default.GEOMETRY_COLLECTION:n=function(t,e){var n=t.geometries.map(function(t){return b(t,e)});return new s.default(n)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return(0,o.transformGeometryWithOptions)(n,!1,e)}function w(t,e){var n,r=(t=(0,o.transformGeometryWithOptions)(t,!0,e)).getType();switch(r){case v.default.POINT:n=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case v.default.LINE_STRING:n=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case v.default.POLYGON:n=function(t,e){var n;e&&(n=e.rightHanded);return{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case v.default.MULTI_POINT:n=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case v.default.MULTI_LINE_STRING:n=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case v.default.MULTI_POLYGON:n=function(t,e){var n;e&&(n=e.rightHanded);return{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case v.default.GEOMETRY_COLLECTION:n=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(t){var n=(0,d.assign)({},e);return delete n.featureProjection,w(t,n)})}}(t,e);break;case v.default.CIRCLE:n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+r)}return n}e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=w(n(33)),i=n(16),o=n(1),a=n(118),s=w(n(420)),u=w(n(77)),l=w(n(20)),c=w(n(44)),h=w(n(477)),f=w(n(147)),p=w(n(99)),d=w(n(170)),g=w(n(28)),v=w(n(32)),y=n(88),_=n(296),m=n(10),b=n(3);function w(t){return t&&t.__esModule?t:{default:t}}var E=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x={};x[l.default.POINT]=function(t){var e;e=void 0!==t.m&&void 0!==t.z?new g.default([t.x,t.y,t.z,t.m],u.default.XYZM):void 0!==t.z?new g.default([t.x,t.y,t.z],u.default.XYZ):void 0!==t.m?new g.default([t.x,t.y,t.m],u.default.XYM):new g.default([t.x,t.y]);return e},x[l.default.LINE_STRING]=function(t){var e=P(t);return new c.default(t.paths[0],e)},x[l.default.POLYGON]=function(t){var e=P(t);return new v.default(t.rings,e)},x[l.default.MULTI_POINT]=function(t){var e=P(t);return new p.default(t.points,e)},x[l.default.MULTI_LINE_STRING]=function(t){var e=P(t);return new f.default(t.paths,e)},x[l.default.MULTI_POLYGON]=function(t){var e=P(t);return new d.default(t.rings,e)};var O={};O[l.default.POINT]=function(t,e){var n,r=t.getCoordinates(),o=t.getLayout();o===u.default.XYZ?n={x:r[0],y:r[1],z:r[2]}:o===u.default.XYM?n={x:r[0],y:r[1],m:r[2]}:o===u.default.XYZM?n={x:r[0],y:r[1],z:r[2],m:r[3]}:o===u.default.XY?n={x:r[0],y:r[1]}:(0,i.assert)(!1,34);return n},O[l.default.LINE_STRING]=function(t,e){var n=M(t);return{hasZ:n.hasZ,hasM:n.hasM,paths:[t.getCoordinates()]}},O[l.default.POLYGON]=function(t,e){var n=M(t);return{hasZ:n.hasZ,hasM:n.hasM,rings:t.getCoordinates(!1)}},O[l.default.MULTI_POINT]=function(t,e){var n=M(t);return{hasZ:n.hasZ,hasM:n.hasM,points:t.getCoordinates()}},O[l.default.MULTI_LINE_STRING]=function(t,e){var n=M(t);return{hasZ:n.hasZ,hasM:n.hasM,paths:t.getCoordinates()}},O[l.default.MULTI_POLYGON]=function(t,e){for(var n=M(t),r=t.getCoordinates(!1),i=[],o=0;o<r.length;o++)for(var a=r[o].length-1;a>=0;a--)i.push(r[o][a]);return{hasZ:n.hasZ,hasM:n.hasM,rings:i}};var C=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this)||this).geometryName_=r.geometryName,n}return E(e,t),e.prototype.readFeatureFromObject=function(t,e){var n=t,i=S(n.geometry,e),o=new r.default;return this.geometryName_&&o.setGeometryName(this.geometryName_),o.setGeometry(i),e&&e.idField&&n.attributes[e.idField]&&o.setId(n.attributes[e.idField]),n.attributes&&o.setProperties(n.attributes,!0),o},e.prototype.readFeaturesFromObject=function(t,e){var n=e||{};if(t.features){var r=[],i=t.features;n.idField=t.objectIdFieldName;for(var o=0,a=i.length;o<a;++o)r.push(this.readFeatureFromObject(i[o],n));return r}return[this.readFeatureFromObject(t,n)]},e.prototype.readGeometryFromObject=function(t,e){return S(t,e)},e.prototype.readProjectionFromObject=function(t){if(t.spatialReference&&void 0!==t.spatialReference.wkid){var e=t.spatialReference.wkid;return(0,b.get)("EPSG:"+e)}return null},e.prototype.writeGeometryObject=function(t,e){return T(t,this.adaptOptions(e))},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={},r=t.getGeometry();r&&(n.geometry=T(r,e),e&&e.featureProjection&&(n.geometry.spatialReference={wkid:Number((0,b.get)(e.featureProjection).getCode().split(":").pop())}));var i=t.getProperties();return delete i[t.getGeometryName()],(0,m.isEmpty)(i)?n.attributes={}:n.attributes=i,n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],r=0,i=t.length;r<i;++r)n.push(this.writeFeatureObject(t[r],e));return{features:n}},e}(s.default);function S(t,e){var n,r,i;if(!t)return null;if("number"==typeof t.x&&"number"==typeof t.y)i=l.default.POINT;else if(t.points)i=l.default.MULTI_POINT;else if(t.paths){i=1===t.paths.length?l.default.LINE_STRING:l.default.MULTI_LINE_STRING}else if(t.rings){var s=t,u=P(s),c=function(t,e){var n,r,i=[],a=[],s=[];for(n=0,r=t.length;n<r;++n){i.length=0,(0,y.deflateCoordinates)(i,0,t[n],e.length);var u=(0,_.linearRingIsClockwise)(i,0,i.length,e.length);u?a.push([t[n]]):s.push(t[n])}for(;s.length;){var l=s.shift(),c=!1;for(n=a.length-1;n>=0;n--){var f=a[n][0],p=(0,o.containsExtent)(new h.default(f).getExtent(),new h.default(l).getExtent());if(p){a[n].push(l),c=!0;break}}c||a.push([l.reverse()])}return a}(s.rings,u);1===c.length?(i=l.default.POLYGON,t=Object.assign({},t,((n={}).rings=c[0],n))):(i=l.default.MULTI_POLYGON,t=Object.assign({},t,((r={}).rings=c,r)))}var f=x[i];return(0,a.transformGeometryWithOptions)(f(t),!1,e)}function P(t){var e=u.default.XY;return!0===t.hasZ&&!0===t.hasM?e=u.default.XYZM:!0===t.hasZ?e=u.default.XYZ:!0===t.hasM&&(e=u.default.XYM),e}function M(t){var e=t.getLayout();return{hasZ:e===u.default.XYZ||e===u.default.XYZM,hasM:e===u.default.XYM||e===u.default.XYZM}}function T(t,e){return(0,O[t.getType()])((0,a.transformGeometryWithOptions)(t,!0,e),e)}e.default=C},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGISRESTFeatureSource=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=c(n(2)),o=c(n(811)),a=c(n(36)),s=n(3),u=n(11),l=n(56);function c(t){return t&&t.__esModule?t:{default:t}}e.ArcGISRESTFeatureSource=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),"ALL"===t.loadingStrategyType&&u.Debug.error('ArcRESTFeatureSource does not support loading strategy "ALL". Please use BBOX or TILE');var n=(0,l.take)(t,"url"),r=(0,l.take)(t,"params");t.loader=function(){return i.loader.apply(i,arguments)};var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.url_=n,i.params_=r||{},i.projection_=t.projection?(0,s.get)(t.projection):void 0,i.format_=new o.default,i.dataType_=t.dataType||"json",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),r(e,[{key:"loader",value:function(t,e,n){var r=this,o=void 0;this.projection_&&(t=(0,s.transformExtent)(t,n,this.projection_),o=parseInt(this.projection_.getCode().split(":")[1]));var a={xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3]};this.projection_&&(a.spatialReference={wkid:o});var l=Object.assign({spatialRel:"esriSpatialRelIntersects",outFields:"*"},this.params_,{f:"json",returnGeometry:"true",geometry:JSON.stringify(a),geometryType:"esriGeometryEnvelope"});this.projection_&&(l.inSR=o,l.outSR=o);var c=this.url_.clone();for(var h in l)l.hasOwnProperty(h)&&c.addParam(h+"="+l[h]);i.default.ajax({url:c.finalize(),dataType:this.dataType_,success:function(t){if(t.error)u.Debug.error(t.error.message+"\n"+t.error.details.join("\n"));else{var e=r.format_.readFeatures(t,{dataProjection:r.projection_,featureProjection:n});e.length>0&&r.addFeatures(e)}}})}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=p(n(199)),i=p(n(173)),o=n(1),a=n(10),s=p(n(423)),u=p(n(446)),l=p(n(4)),c=p(n(66)),h=n(465),f=n(41);function p(t){return t&&t.__esModule?t:{default:t}}var d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(t){function e(e){var n=t.call(this,e)||this;return n.vectorRenderer_=new u.default(e),n.layerImageRatio_=e.getImageRatio(),n.coordinateToVectorPixelTransform_=(0,f.create)(),n.renderedPixelToCoordinateTransform_=null,n}return d(e,t),e.prototype.disposeInternal=function(){this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getFeatures=function(t){if(this.vectorRenderer_){var e=(0,f.apply)(this.coordinateToVectorPixelTransform_,(0,f.apply)(this.renderedPixelToCoordinateTransform_,t.slice()));return this.vectorRenderer_.getFeatures(e)}return new Promise(function(t,e){t([])})},e.prototype.handleFontsChanged=function(){this.vectorRenderer_.handleFontsChanged()},e.prototype.prepareFrame=function(t){var e=t.pixelRatio,n=t.viewState,s=n.resolution,u=t.viewHints,p=this.vectorRenderer_,d=t.extent;1!==this.layerImageRatio_&&(d=d.slice(0),(0,o.scaleFromCenter)(d,this.layerImageRatio_));var g=(0,o.getWidth)(d)/s,v=(0,o.getHeight)(d)/s;if(!u[i.default.ANIMATING]&&!u[i.default.INTERACTING]&&!(0,o.isEmpty)(d)){p.useContainer(null,null,1);var y=p.context,_=(0,a.assign)({},t,{declutterItems:[],size:[g,v],viewState:(0,a.assign)({},t.viewState,{rotation:0})}),m=new r.default(d,s,e,y.canvas,function(t){p.prepareFrame(_)&&p.replayGroupChanged&&(p.renderFrame(_,null),(0,h.renderDeclutterItems)(_,null),t())});m.addEventListener(l.default.CHANGE,function(){m.getState()===c.default.LOADED&&(this.image_=m)}.bind(this)),m.load()}if(this.image_){var b=this.image_,w=b.getResolution()*e/b.getPixelRatio();this.renderedResolution=w,this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.coordinateToVectorPixelTransform_=(0,f.compose)(this.coordinateToVectorPixelTransform_,g/2,v/2,1/w,-1/w,0,-n.center[0],-n.center[1])}return!!this.image_},e.prototype.preRender=function(){},e.prototype.postRender=function(){},e.prototype.forEachFeatureAtCoordinate=function(e,n,r,i,o){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,n,r,i,o):t.prototype.forEachFeatureAtCoordinate.call(this,e,n,r,i,o)},e}(s.default);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(447)),i=n(10),o=a(n(813));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e){var n=this,r=e||{},o=(0,i.assign)({},r);return delete o.imageRatio,(n=t.call(this,o)||this).imageRatio_=void 0!==r.imageRatio?r.imageRatio:1,n}return s(e,t),e.prototype.getImageRatio=function(){return this.imageRatio_},e.prototype.createRenderer=function(){return new o.default(this)},e}(r.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=n(3),o=h(n(282)),a=h(n(45)),s=n(1),u=h(n(292)),l=n(41),c=n(17);function h(t){return t&&t.__esModule?t:{default:t}}var f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=(0,s.createEmpty)(),n.tmpTileRange_=new o.default(0,0,0,0),n}return f(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),r=e.getUseInterimTilesOnError();return n==a.default.LOADED||n==a.default.EMPTY||n==a.default.ERROR&&!r},e.prototype.getTile=function(t,e,n,r){var i=r.pixelRatio,o=r.viewState.projection,s=this.getLayer(),u=s.getSource().getTile(t,e,n,i,o);return u.getState()==a.default.ERROR&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(this.newTiles_=!0):u.setState(a.default.LOADED)),this.isDrawableTile(u)||(u=u.getInterimTile()),u},e.prototype.loadedTileCallback=function(e,n,r){return!!this.isDrawableTile(r)&&t.prototype.loadedTileCallback.call(this,e,n,r)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],o=t.viewState,u=o.projection,h=o.resolution,f=o.center,p=o.rotation,d=t.pixelRatio,g=this.getLayer(),v=g.getSource(),y=v.getRevision(),_=v.getTileGridForProjection(u),m=_.getZForResolution(h,v.zDirection),b=_.getResolution(m),w=t.extent,E=n.extent&&(0,i.fromUserExtent)(n.extent,u);E&&(w=(0,s.getIntersection)(w,(0,i.fromUserExtent)(n.extent,u)));var x=v.getTilePixelRatio(d),O=Math.round(t.size[0]*x),C=Math.round(t.size[1]*x);if(p){var S=Math.round(Math.sqrt(O*O+C*C));O=S,C=S}var P=b*O/2/x,M=b*C/2/x,T=[f[0]-P,f[1]-M,f[0]+P,f[1]+M],A=_.getTileRangeForExtentAndZ(w,m),D={};D[m]={};var I=this.createLoadedTileFinder(v,u,D),L=this.tmpExtent,F=this.tmpTileRange_;this.newTiles_=!1;for(var k=A.minX;k<=A.maxX;++k)for(var R=A.minY;R<=A.maxY;++R){var j=this.getTile(m,k,R,t);if(this.isDrawableTile(j)){var N=(0,r.getUid)(this);if(j.getState()==a.default.LOADED){D[m][j.tileCoord.toString()]=j;var B=j.inTransition(N);this.newTiles_||!B&&-1!==this.renderedTiles.indexOf(j)||(this.newTiles_=!0)}if(1===j.getAlpha(N,t.time))continue}var G=_.getTileCoordChildTileRange(j.tileCoord,F,L),U=!1;G&&(U=I(m+1,G)),U||_.forEachTileCoordParentTileRange(j.tileCoord,I,F,L)}var z=b/h;(0,l.compose)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/x,1/x,p,-O/2,-C/2);var V=this.createTransformString(this.pixelTransform);this.useContainer(e,V,n.opacity);var Y=this.context,W=Y.canvas;(0,l.makeInverse)(this.inversePixelTransform,this.pixelTransform),(0,l.compose)(this.tempTransform_,O/2,C/2,z,z,0,-O/2,-C/2),W.width!=O||W.height!=C?(W.width=O,W.height=C):this.containerReused||Y.clearRect(0,0,O,C),E&&this.clipUnrotated(Y,t,E),this.preRender(Y,t),this.renderedTiles.length=0;var X,q,H,$=Object.keys(D).map(Number);$.sort(c.numberSafeCompareFunction),1!==n.opacity||this.containerReused&&!v.getOpaque(t.viewState.projection)?(X=[],q=[]):$=$.reverse();for(var K=$.length-1;K>=0;--K){var Z=$[K],J=v.getTilePixelSize(Z,d,u),Q=_.getResolution(Z)/b,tt=J[0]*Q*z,et=J[1]*Q*z,nt=_.getTileCoordForCoordAndZ((0,s.getTopLeft)(T),Z),rt=_.getTileCoordExtent(nt),it=(0,l.apply)(this.tempTransform_,[x*(rt[0]-T[0])/b,x*(T[3]-rt[3])/b]),ot=x*v.getGutterForProjection(u),at=D[Z];for(var st in at){var ut=(j=at[st]).tileCoord,lt=it[0]-(nt[1]-ut[1])*tt,ct=Math.round(lt+tt),ht=it[1]-(nt[2]-ut[2])*et,ft=Math.round(ht+et),pt=ct-(k=Math.round(lt)),dt=ft-(R=Math.round(ht)),gt=m===Z;if(!(B=gt&&1!==j.getAlpha((0,r.getUid)(this),t.time)))if(X){Y.save(),H=[k,R,k+pt,R,k+pt,R+dt,k,R+dt];for(var vt=0,yt=X.length;vt<yt;++vt)if(m!==Z&&Z<q[vt]){var _t=X[vt];Y.beginPath(),Y.moveTo(H[0],H[1]),Y.lineTo(H[2],H[3]),Y.lineTo(H[4],H[5]),Y.lineTo(H[6],H[7]),Y.moveTo(_t[6],_t[7]),Y.lineTo(_t[4],_t[5]),Y.lineTo(_t[2],_t[3]),Y.lineTo(_t[0],_t[1]),Y.clip()}X.push(H),q.push(Z)}else Y.clearRect(k,R,pt,dt);this.drawTileImage(j,t,k,R,pt,dt,ot,gt,n.opacity),X&&!B&&Y.restore(),this.renderedTiles.push(j),this.updateUsedTiles(t.usedTiles,v,j)}}return this.renderedRevision=y,this.renderedResolution=b,this.extentChanged=!this.renderedExtent_||!(0,s.equals)(this.renderedExtent_,T),this.renderedExtent_=T,this.renderedPixelRatio=d,this.renderedProjection=u,this.manageTilePyramid(t,v,_,d,u,w,m,g.getPreload()),this.updateCacheSize_(t,v),this.scheduleExpireCache(t,v),this.postRender(Y,t),n.extent&&Y.restore(),V!==W.style.transform&&(W.style.transform=V),this.container},e.prototype.drawTileImage=function(t,e,n,i,o,a,s,u,l){var c=this.getTileImage(t);if(c){var h=(0,r.getUid)(this),f=u?t.getAlpha(h,e.time):1,p=l*f,d=p!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(c,s,s,c.width-2*s,c.height-2*s,n,i,o,a),d&&this.context.restore(),1!==f?e.animate=!0:u&&t.endTransition(h)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var i=(0,r.getUid)(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var i=(0,r.getUid)(e);i in t||(t[i]={}),t[i][n.getKey()]=!0},e.prototype.updateCacheSize_=function(t,e){var n=(0,r.getUid)(e),i=0;n in t.usedTiles&&(i+=Object.keys(t.usedTiles[n]).length),n in t.wantedTiles&&(i+=Object.keys(t.wantedTiles[n]).length);var o=e.tileCache;o.highWaterMark<i&&(o.highWaterMark=i)},e.prototype.manageTilePyramid=function(t,e,n,i,o,s,u,l,c){var h=(0,r.getUid)(e);h in t.wantedTiles||(t.wantedTiles[h]={});var f,p,d,g,v,y,_=t.wantedTiles[h],m=t.tileQueue;for(y=n.getMinZoom();y<=u;++y)for(p=n.getTileRangeForExtentAndZ(s,y,p),d=n.getResolution(y),g=p.minX;g<=p.maxX;++g)for(v=p.minY;v<=p.maxY;++v)u-y<=l?((f=e.getTile(y,g,v,i,o)).getState()==a.default.IDLE&&(_[f.getKey()]=!0,m.isKeyQueued(f.getKey())||m.enqueue([f,h,n.getTileCoordCenter(f.tileCoord),d])),void 0!==c&&c(f)):e.useTile(y,g,v,o)},e}(u.default);p.prototype.getLayer,e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(149)),i=a(n(816)),o=n(10);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e){var n=this,r=e||{},i=(0,o.assign)({},r);return delete i.preload,delete i.useInterimTilesOnError,(n=t.call(this,i)||this).setPreload(void 0!==r.preload?r.preload:0),n.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),n}return s(e,t),e.prototype.getPreload=function(){return this.get(i.default.PRELOAD)},e.prototype.setPreload=function(t){this.set(i.default.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(i.default.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(i.default.USE_INTERIM_TILES_ON_ERROR,t)},e}(r.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileLayer=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(421)),i=n(274),o=n(6),a=n(167);e.TileLayer=(0,o.mixin)(r.default,(0,o.mixin)(a.ProvideMapMixin,i.LayerLoadProcessCountMixin))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptyImageLayer=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(276)),i=n(424);e.EmptyImageLayer=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.source=new r.default({state:"ready",canvasFunction:function(){}}),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ImageLayer),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(149));var i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e){var n=e||{};return t.call(this,n)||this}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(166),i=h(n(205)),o=h(n(66)),a=n(26),s=h(n(4)),u=n(1),l=n(201),c=h(n(430));function h(t){return t&&t.__esModule?t:{default:t}}var f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t){function e(e,n,i,a,s,h){var f=this,p=e.getExtent(),d=n.getExtent(),g=d?(0,u.getIntersection)(i,d):i,v=(0,u.getCenter)(g),y=(0,l.calculateSourceResolution)(e,n,v,a),_=r.ERROR_THRESHOLD,m=new c.default(e,n,g,p,y*_),b=h(m.calculateSourceExtent(),y,s),w=b?o.default.IDLE:o.default.EMPTY,E=b?b.getPixelRatio():1;return(f=t.call(this,i,a,E,w)||this).targetProj_=n,f.maxSourceExtent_=p,f.triangulation_=m,f.targetResolution_=a,f.targetExtent_=i,f.sourceImage_=b,f.sourcePixelRatio_=E,f.canvas_=null,f.sourceListenerKey_=null,f}return f(e,t),e.prototype.disposeInternal=function(){this.state==o.default.LOADING&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==o.default.LOADED){var e=(0,u.getWidth)(this.targetExtent_)/this.targetResolution_,n=(0,u.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,l.render)(e,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},e.prototype.load=function(){if(this.state==o.default.IDLE){this.state=o.default.LOADING,this.changed();var t=this.sourceImage_.getState();t==o.default.LOADED||t==o.default.ERROR?this.reproject_():(this.sourceListenerKey_=(0,a.listen)(this.sourceImage_,s.default.CHANGE,function(t){var e=this.sourceImage_.getState();e!=o.default.LOADED&&e!=o.default.ERROR||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){(0,a.unlistenByKey)(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(i.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={KVP:"KVP",REST:"REST"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(426),i=function(t){return t&&t.__esModule?t:{default:t}}(n(425)),o=n(278),a=n(142);var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=[null,"http://www.opengis.net/ows/1.1"],l=(0,a.makeStructureNS)(u,{ServiceIdentification:(0,a.makeObjectPropertySetter)(function(t,e){return(0,a.pushParseAndPop)({},E,t,e)}),ServiceProvider:(0,a.makeObjectPropertySetter)(function(t,e){return(0,a.pushParseAndPop)({},x,t,e)}),OperationsMetadata:(0,a.makeObjectPropertySetter)(function(t,e){return(0,a.pushParseAndPop)({},_,t,e)})}),c=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},e.prototype.readFromNode=function(t){var e=(0,a.pushParseAndPop)({},l,t,[]);return e||null},e}(i.default),h=(0,a.makeStructureNS)(u,{DeliveryPoint:(0,a.makeObjectPropertySetter)(o.readString),City:(0,a.makeObjectPropertySetter)(o.readString),AdministrativeArea:(0,a.makeObjectPropertySetter)(o.readString),PostalCode:(0,a.makeObjectPropertySetter)(o.readString),Country:(0,a.makeObjectPropertySetter)(o.readString),ElectronicMailAddress:(0,a.makeObjectPropertySetter)(o.readString)}),f=(0,a.makeStructureNS)(u,{Value:(0,a.makeObjectPropertyPusher)(function(t,e){return(0,o.readString)(t)})}),p=(0,a.makeStructureNS)(u,{AllowedValues:(0,a.makeObjectPropertySetter)(function(t,e){return(0,a.pushParseAndPop)({},f,t,e)})}),d=(0,a.makeStructureNS)(u,{Phone:(0,a.makeObjectPropertySetter)(function(t,e){return(0,a.pushParseAndPop)({},m,t,e)}),Address:(0,a.makeObjectPropertySetter)(function(t,e){return(0,a.pushParseAndPop)({},h,t,e)})}),g=(0,a.makeStructureNS)(u,{HTTP:(0,a.makeObjectPropertySetter)(function(t,e){return(0,a.pushParseAndPop)({},v,t,e)})}),v=(0,a.makeStructureNS)(u,{Get:(0,a.makeObjectPropertyPusher)(function(t,e){var n=(0,r.readHref)(t);if(!n)return;return(0,a.pushParseAndPop)({href:n},b,t,e)}),Post:void 0}),y=(0,a.makeStructureNS)(u,{DCP:(0,a.makeObjectPropertySetter)(function(t,e){return(0,a.pushParseAndPop)({},g,t,e)})}),_=(0,a.makeStructureNS)(u,{Operation:function(t,e){var n=t.getAttribute("name"),r=(0,a.pushParseAndPop)({},y,t,e);if(!r)return;e[e.length-1][n]=r}}),m=(0,a.makeStructureNS)(u,{Voice:(0,a.makeObjectPropertySetter)(o.readString),Facsimile:(0,a.makeObjectPropertySetter)(o.readString)}),b=(0,a.makeStructureNS)(u,{Constraint:(0,a.makeObjectPropertyPusher)(function(t,e){var n=t.getAttribute("name");if(!n)return;return(0,a.pushParseAndPop)({name:n},p,t,e)})}),w=(0,a.makeStructureNS)(u,{IndividualName:(0,a.makeObjectPropertySetter)(o.readString),PositionName:(0,a.makeObjectPropertySetter)(o.readString),ContactInfo:(0,a.makeObjectPropertySetter)(function(t,e){return(0,a.pushParseAndPop)({},d,t,e)})}),E=(0,a.makeStructureNS)(u,{Abstract:(0,a.makeObjectPropertySetter)(o.readString),AccessConstraints:(0,a.makeObjectPropertySetter)(o.readString),Fees:(0,a.makeObjectPropertySetter)(o.readString),Title:(0,a.makeObjectPropertySetter)(o.readString),ServiceTypeVersion:(0,a.makeObjectPropertySetter)(o.readString),ServiceType:(0,a.makeObjectPropertySetter)(o.readString)}),x=(0,a.makeStructureNS)(u,{ProviderName:(0,a.makeObjectPropertySetter)(o.readString),ProviderSite:(0,a.makeObjectPropertySetter)(r.readHref),ServiceContact:(0,a.makeObjectPropertySetter)(function(t,e){return(0,a.pushParseAndPop)({},w,t,e)})});e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=l(n(823)),o=n(426),a=l(n(425)),s=n(278),u=n(142);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=[null,"http://www.opengis.net/wmts/1.0"],f=[null,"http://www.opengis.net/ows/1.1"],p=(0,u.makeStructureNS)(h,{Contents:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},g,t,e)})}),d=function(t){function e(){var e=t.call(this)||this;return e.owsParser_=new i.default,e}return c(e,t),e.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},e.prototype.readFromNode=function(t){var e=t.getAttribute("version").trim(),n=this.owsParser_.readFromNode(t);return n?(n.version=e,(n=(0,u.pushParseAndPop)(n,p,t,[]))||null):null},e}(a.default),g=(0,u.makeStructureNS)(h,{Layer:(0,u.makeObjectPropertyPusher)(function(t,e){return(0,u.pushParseAndPop)({},v,t,e)}),TileMatrixSet:(0,u.makeObjectPropertyPusher)(function(t,e){return(0,u.pushParseAndPop)({},x,t,e)})}),v=(0,u.makeStructureNS)(h,{Style:(0,u.makeObjectPropertyPusher)(function(t,e){var n=(0,u.pushParseAndPop)({},y,t,e);if(!n)return;var r="true"===t.getAttribute("isDefault");return n.isDefault=r,n}),Format:(0,u.makeObjectPropertyPusher)(s.readString),TileMatrixSetLink:(0,u.makeObjectPropertyPusher)(function(t,e){return(0,u.pushParseAndPop)({},_,t,e)}),Dimension:(0,u.makeObjectPropertyPusher)(function(t,e){return(0,u.pushParseAndPop)({},w,t,e)}),ResourceURL:(0,u.makeObjectPropertyPusher)(function(t,e){var n=t.getAttribute("format"),r=t.getAttribute("template"),i=t.getAttribute("resourceType"),o={};n&&(o.format=n);r&&(o.template=r);i&&(o.resourceType=i);return o})},(0,u.makeStructureNS)(f,{Title:(0,u.makeObjectPropertySetter)(s.readString),Abstract:(0,u.makeObjectPropertySetter)(s.readString),WGS84BoundingBox:(0,u.makeObjectPropertySetter)(function(t,e){var n=(0,u.pushParseAndPop)([],E,t,e);if(2!=n.length)return;return(0,r.boundingExtent)(n)}),Identifier:(0,u.makeObjectPropertySetter)(s.readString)})),y=(0,u.makeStructureNS)(h,{LegendURL:(0,u.makeObjectPropertyPusher)(function(t,e){var n={};return n.format=t.getAttribute("format"),n.href=(0,o.readHref)(t),n})},(0,u.makeStructureNS)(f,{Title:(0,u.makeObjectPropertySetter)(s.readString),Identifier:(0,u.makeObjectPropertySetter)(s.readString)})),_=(0,u.makeStructureNS)(h,{TileMatrixSet:(0,u.makeObjectPropertySetter)(s.readString),TileMatrixSetLimits:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)([],m,t,e)})}),m=(0,u.makeStructureNS)(h,{TileMatrixLimits:(0,u.makeArrayPusher)(function(t,e){return(0,u.pushParseAndPop)({},b,t,e)})}),b=(0,u.makeStructureNS)(h,{TileMatrix:(0,u.makeObjectPropertySetter)(s.readString),MinTileRow:(0,u.makeObjectPropertySetter)(s.readNonNegativeInteger),MaxTileRow:(0,u.makeObjectPropertySetter)(s.readNonNegativeInteger),MinTileCol:(0,u.makeObjectPropertySetter)(s.readNonNegativeInteger),MaxTileCol:(0,u.makeObjectPropertySetter)(s.readNonNegativeInteger)}),w=(0,u.makeStructureNS)(h,{Default:(0,u.makeObjectPropertySetter)(s.readString),Value:(0,u.makeObjectPropertyPusher)(s.readString)},(0,u.makeStructureNS)(f,{Identifier:(0,u.makeObjectPropertySetter)(s.readString)})),E=(0,u.makeStructureNS)(f,{LowerCorner:(0,u.makeArrayPusher)(C),UpperCorner:(0,u.makeArrayPusher)(C)}),x=(0,u.makeStructureNS)(h,{WellKnownScaleSet:(0,u.makeObjectPropertySetter)(s.readString),TileMatrix:(0,u.makeObjectPropertyPusher)(function(t,e){return(0,u.pushParseAndPop)({},O,t,e)})},(0,u.makeStructureNS)(f,{SupportedCRS:(0,u.makeObjectPropertySetter)(s.readString),Identifier:(0,u.makeObjectPropertySetter)(s.readString)})),O=(0,u.makeStructureNS)(h,{TopLeftCorner:(0,u.makeObjectPropertySetter)(C),ScaleDenominator:(0,u.makeObjectPropertySetter)(s.readDecimal),TileWidth:(0,u.makeObjectPropertySetter)(s.readNonNegativeInteger),TileHeight:(0,u.makeObjectPropertySetter)(s.readNonNegativeInteger),MatrixWidth:(0,u.makeObjectPropertySetter)(s.readNonNegativeInteger),MatrixHeight:(0,u.makeObjectPropertySetter)(s.readNonNegativeInteger)},(0,u.makeStructureNS)(f,{Identifier:(0,u.makeObjectPropertySetter)(s.readString)}));function C(t,e){var n=(0,s.readString)(t).split(/\s+/);if(n&&2==n.length){var r=+n[0],i=+n[1];if(!isNaN(r)&&!isNaN(i))return[r,i]}}e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=a(n(118)),o=a(n(203));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.getType=function(){return o.default.TEXT},e.prototype.readFeature=function(t,e){return this.readFeatureFromText(l(t),this.adaptOptions(e))},e.prototype.readFeatureFromText=function(t,e){return(0,r.abstract)()},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromText(l(t),this.adaptOptions(e))},e.prototype.readFeaturesFromText=function(t,e){return(0,r.abstract)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromText(l(t),this.adaptOptions(e))},e.prototype.readGeometryFromText=function(t,e){return(0,r.abstract)()},e.prototype.readProjection=function(t){return this.readProjectionFromText(l(t))},e.prototype.readProjectionFromText=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){return this.writeFeatureText(t,this.adaptOptions(e))},e.prototype.writeFeatureText=function(t,e){return(0,r.abstract)()},e.prototype.writeFeatures=function(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))},e.prototype.writeFeaturesText=function(t,e){return(0,r.abstract)()},e.prototype.writeGeometry=function(t,e){return this.writeGeometryText(t,this.adaptOptions(e))},e.prototype.writeGeometryText=function(t,e){return(0,r.abstract)()},e}(i.default);function l(t){return"string"==typeof t?t:""}e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(166),i=f(n(119)),o=f(n(45)),a=n(26),s=f(n(4)),u=n(1),l=n(14),c=n(201),h=f(n(430));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(e,n,i,a,s,f,p,d,g,v,y){var _=t.call(this,s,o.default.IDLE)||this;_.renderEdges_=void 0!==y&&y,_.pixelRatio_=p,_.gutter_=d,_.canvas_=null,_.sourceTileGrid_=n,_.targetTileGrid_=a,_.wrappedTileCoord_=f||s,_.sourceTiles_=[],_.sourcesListenerKeys_=null,_.sourceZ_=0;var m=a.getTileCoordExtent(_.wrappedTileCoord_),b=_.targetTileGrid_.getExtent(),w=_.sourceTileGrid_.getExtent(),E=b?(0,u.getIntersection)(m,b):m;if(0===(0,u.getArea)(E))return _.state=o.default.EMPTY,_;var x=e.getExtent();x&&(w=w?(0,u.getIntersection)(w,x):x);var O=a.getResolution(_.wrappedTileCoord_[0]),C=(0,u.getCenter)(E),S=(0,c.calculateSourceResolution)(e,i,C,O);if(!isFinite(S)||S<=0)return _.state=o.default.EMPTY,_;var P=void 0!==v?v:r.ERROR_THRESHOLD;if(_.triangulation_=new h.default(e,i,E,w,S*P),0===_.triangulation_.getTriangles().length)return _.state=o.default.EMPTY,_;_.sourceZ_=n.getZForResolution(S);var M=_.triangulation_.calculateSourceExtent();if(w&&(e.canWrapX()?(M[1]=(0,l.clamp)(M[1],w[1],w[3]),M[3]=(0,l.clamp)(M[3],w[1],w[3])):M=(0,u.getIntersection)(M,w)),(0,u.getArea)(M)){for(var T=n.getTileRangeForExtentAndZ(M,_.sourceZ_),A=T.minX;A<=T.maxX;A++)for(var D=T.minY;D<=T.maxY;D++){var I=g(_.sourceZ_,A,D,p);I&&_.sourceTiles_.push(I)}0===_.sourceTiles_.length&&(_.state=o.default.EMPTY)}else _.state=o.default.EMPTY;return _}return p(e,t),e.prototype.disposeInternal=function(){this.state==o.default.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,r){e&&e.getState()==o.default.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=o.default.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),r="number"==typeof n?n:n[0],i="number"==typeof n?n:n[1],a=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,c.render)(r,i,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),a,u,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=o.default.LOADED}this.changed()},e.prototype.load=function(){if(this.state==o.default.IDLE){this.state=o.default.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,r){var i=e.getState();if(i==o.default.IDLE||i==o.default.LOADING){t++;var u=(0,a.listen)(e,s.default.CHANGE,function(n){var r=e.getState();r!=o.default.LOADED&&r!=o.default.ERROR&&r!=o.default.EMPTY||((0,a.unlistenByKey)(u),0===--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(u)}}.bind(this)),this.sourceTiles_.forEach(function(t,e,n){t.getState()==o.default.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(a.unlistenByKey),this.sourcesListenerKeys_=null},e}(i.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayerFactory=e.LayerType=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=R(n(2)),o=R(n(70)),a=n(1),s=n(290),u=R(n(36)),l=R(n(144)),c=R(n(281)),h=R(n(429)),f=R(n(428)),p=n(97),d=R(n(165)),g=R(n(427)),v=R(n(164)),y=R(n(33)),_=R(n(824)),m=n(277),b=R(m),w=R(n(276)),E=n(424),x=n(819),O=n(818),C=n(96),S=n(812),P=n(419),M=n(56),T=n(6),A=n(11),D=n(808),I=n(731),L=n(140),F=n(730),k=n(729);function R(t){return t&&t.__esModule?t:{default:t}}var j=e.LayerType={GROUP:"Group",GEOJSON:"GeoJSON",KML:"KML",WMS:"WMS",TILEWMS:"TileWMS",WMTS:"WMTS",OSM:"OSM",STAMEN:"Stamen",INTERN:"Intern",EMPTY:"Empty",XYZ:"XYZ",BING:"Bing",ARCGISRESTFEATURE:"ArcGISRESTFeature"};e.LayerFactory=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.map_=t,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),r(e,[{key:"createLayer",value:function(t){var e=this,n=(0,M.copyDeep)(t);if(!n.type)throw new Error("Layer needs a type. Layer id: "+n.id+". Layer title: "+n.title+".");var r=n.type;this.configureLayerAvailability_(n),this.configureLayerTitle_(n),n.source&&this.configureLayerSourceAttribution_(n.source),this.configureLayerVisibility_(n);var i=void 0,o=void 0,a=void 0,s=!1;n.source&&(n.source.localiser=this.map_.get("localiser"),s=n.source.localised);var v=(0,M.take)(n,"style");switch(r){case j.SILENTGROUP:o=(0,M.take)(n,"layers"),i=new I.SilentGroupLayer(n);var y=!0,_=!1,m=void 0;try{for(var b,w=o[Symbol.iterator]();!(y=(b=w.next()).done);y=!0){var A=b.value;A.visible=!0,i.getLayers().add(this.createLayer(A))}}catch(t){_=!0,m=t}finally{try{!y&&w.return&&w.return()}finally{if(_)throw m}}break;case j.EMPTY:i=new x.EmptyImageLayer(n);break;case j.XYZ:n.source.url=L.URL.extractFromConfig(n.source,"url",void 0,this.map_).finalize(),n.source=new l.default(n.source),i=new O.TileLayer(n);break;case j.OSM:n.source.url=L.URL.extractFromConfig(n.source,"url",void 0,this.map_).finalize(),n.source=new c.default(n.source),i=new O.TileLayer(n);break;case j.STAMEN:n.source=new h.default(n.source),i=new O.TileLayer(n);break;case j.BING:n.source=new f.default(n.source),i=new O.TileLayer(n);break;case j.WMS:n.categoryButtons&&(n.source.params.LAYERS=[]),n.source.url=L.URL.extractFromConfig(n.source,"url",void 0,this.map_),n.source=new D.ImageWMSSource(n.source),i=new E.ImageLayer(n),this.map_.asSoonAs("ready:ui",!0,function(){e.map_.get("showWMSFeatureInfo")&&e.map_.get("showWMSFeatureInfo").addLayer(i)});break;case j.TILEWMS:n.source.tileSize?(n.source.tileGrid=(0,p.createXYZ)({tileSize:n.source.tileSize}),delete n.source.tileSize):n.source.tileGrid&&(n.source.tileGrid=new d.default(n.source.tileGrid)),n.source.url=L.URL.extractFromConfig(n.source,"url",void 0,this.map_),n.source=new D.TileWMSSource(n.source),i=new O.TileLayer(n),this.map_.asSoonAs("ready:ui",!0,function(){e.map_.get("showWMSFeatureInfo")&&e.map_.get("showWMSFeatureInfo").addLayer(i)});break;case j.WMTS:var R=(0,M.take)(n,"source");if(!R.autoConfig){if(!R.tileGrid)throw new Error("You have to provide either a tileGrid or use autoConfig for WMTS Source");R.tileGrid=new g.default(R.tileGrid),R.url=L.URL.extractFromConfig(R,"url",void 0,this.map_),n.source=new k.WMTSSource(R)}i=new O.TileLayer(n),R.autoConfig&&this.setWMTSSourceFromCapabilities(i,R);break;case j.GEOJSON:this.configureLayerSourceLoadingStrategy_(n.source),n.source.url=L.URL.extractFromConfig(n.source,"url",void 0,this.map_),n.source.defaultStyle=this.map_.get("styling").getStyle(v||"#defaultStyle"),n.source.type="GeoJSON",n.source.bboxProjection=n.source.bboxProjection||this.map_.get("interfaceProjection"),n.source.styling=this.map_.get("styling"),a=(0,M.take)(n.source,"cluster"),n.source=new P.SourceServerVector(n.source),a&&(a=(0,T.asObject)(a),n.source=new F.ClusterSource(n.source,a)),i="image"!==t.renderMode?new C.VectorLayer(n):new C.VectorImageLayer(n);break;case j.KML:this.configureLayerSourceLoadingStrategy_(n.source),n.source.url=L.URL.extractFromConfig(n.source,"url",void 0,this.map_),n.source.defaultStyle=this.map_.get("styling").getStyle(v||"#defaultStyle"),n.source.type="KML",n.source.bboxProjection=n.source.bboxProjection||this.map_.get("interfaceProjection"),n.source.styling=this.map_.get("styling"),a=(0,M.take)(n.source,"cluster"),n.source=new P.SourceServerVector(n.source),a&&(n.source=new F.ClusterSource(n.source,(0,T.asObject)(a))),i="image"!==t.renderMode?new C.VectorLayer(n):new C.VectorImageLayer(n);break;case j.ARCGISRESTFEATURE:this.configureLayerSourceLoadingStrategy_(n.source),n.source.url=L.URL.extractFromConfig(n.source,"url",void 0,this.map_),n.source=new S.ArcGISRESTFeatureSource(n.source),i=new C.VectorLayer(n);break;case j.INTERN:if(n.source&&n.source.hasOwnProperty("features"))for(var N=0;N<n.source.features.length;N++)n.source.features[N]=this.createFeature(n.source.features[N]);n.source=new u.default(n.source),i=new C.VectorLayer(n)}var B=!0,G=!1,U=void 0;try{for(var z,V=this.map_.getModules()[Symbol.iterator]();!(B=(z=V.next()).done);B=!0){var Y=z.value;if(i)break;i=Y.createLayer(n)}}catch(t){G=!0,U=t}finally{try{!B&&V.return&&V.return()}finally{if(G)throw U}}if(!i)throw new Error("layer with type '"+n.type+"' could not be created.");return i.setStyle&&(i.setStyle(this.map_.get("styling").getStyle(v)),this.map_.get("styling").manageLayer(i)),s&&this.map_.get("localiser").on("change:language",function(){return i.getSource().refresh()}),this.dispatchEvent({type:"created:layer",layer:i,options:t}),i}},{key:"configureLayerAvailability_",value:function(t){return t.available=!1!==t.available,t.alwaysVisible||(t.available=t.hasOwnProperty("availableMobile")?t.availableMobile:t.available,this.map_.get("ignoreLayerAvailability")&&(t.available=!0)),t}},{key:"configureLayerSourceAttribution_",value:function(t){return(0,T.checkFor)(t,"attribution")&&(t.attributions=[this.map_.get("localiser").selectL10N(t.attribution)]),t}},{key:"configureLayerSourceLoadingStrategy_",value:function(t){var e=t.hasOwnProperty("loadingStrategy")?t.loadingStrategy:this.map_.get("loadingStrategy");if("BBOX"===e){var n=t.bboxRatio||1;if(n<1)throw new Error("The bboxRatio should not be smaller than 1");var r=[0,0,0,0];t.strategy=function(t){if((0,a.containsExtent)(r,t))return[t];var e=(t[2]-t[0])/2*(n-1),i=(t[3]-t[1])/2*(n-1);return[r=[t[0]-e,t[1]-i,t[2]+e,t[3]+i]]}}else t.strategy="TILE"===e?(0,s.tile)((0,p.createXYZ)({tileSize:t.tileSize||512})):s.all;return t.loadingStrategyType=e,t}},{key:"configureLayerTitle_",value:function(t){return t.hasOwnProperty("title")?t.title=this.map_.get("localiser").selectL10N(t.title):t.title="No title given",t}},{key:"configureLayerVisibility_",value:function(t){return!0===t.alwaysVisible?t.visible=!0:t.visible=!0===t.visible,t}},{key:"createFeature",value:function(t){var e=(0,M.copyDeep)(t),n=(0,M.take)(e,"id"),r=(0,M.take)(e,"style"),i=new v.default,o=(0,M.take)(e,"geometryWKT")||(0,M.take)(e,"geographyWKT");e.geometry=i.readGeometry(o).transform(this.map_.get("interfaceProjection"),this.map_.get("mapProjection"));var a=new y.default(e);return r&&this.map_.get("styling").styleFeature(a,r),n&&a.setId(n),a}},{key:"setWMTSSourceFromCapabilities",value:function(t,e){var n=L.URL.extractFromConfig(e,"url",void 0,this.map_),r=n.clone().addParam("Service=WMTS").addParam("Request=GetCapabilities");i.default.ajax({url:r.finalize(),dataType:"text xml",crossDomain:!0,success:function(r){var i=(new _.default).read(r),o=(0,m.optionsFromCapabilities)(i,(0,M.take)(e,"config"));null===o?A.Debug.error('wmts layer not found or not set for layer with id "'+t.get("id")+'"'):(o.urls=o.urls.map(function(t){var e=n.clone();return e.url=t,e.finalize()}),e=(0,M.mergeDeep)(e,o),t.setSource(new b.default(e)))}}),t.setSource(new w.default({state:"ready",canvasFunction:function(){}}))}}]),e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayerConfigurator=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(202),o=n(56),a=n(11),s=n(828),u=n(728);e.LayerConfigurator=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map_=e,this.map_.on("change:layerConfig",this.configureLayers.bind(this)),this.layerFactory_=new s.LayerFactory(e),e.set("layerFactory",this.layerFactory_)}return r(t,[{key:"configureLayers",value:function(){var t=this;this.map_.set("ready:layers",!1),this.map_.getLayers().clear();var e=(0,o.copyDeep)(this.map_.get("layerConfig")),n=this.map_.get("mapConfig");this.map_.set("layerIds",[]),this.map_.set("loadingStrategy",n.hasOwnProperty("loadingStrategy")?n.loadingStrategy:"ALL"),this.map_.set("ignoreLayerAvailability",!!n.hasOwnProperty("ignoreLayerAvailability")&&n.ignoreLayerAvailability),this.map_.getLayerGroup()instanceof i.GroupLayer||this.map_.setLayerGroup(new i.GroupLayer),a.Debug.tryOrThrow(function(){var n=!0,r=!1,i=void 0;try{for(var o,a=e.layers[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(t.configureLayerIsIdOk_(s.id)){var u=t.layerFactory_.createLayer(s);t.map_.addLayer(u)}}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}});var r=[],s=!1,l=!1;!function e(n){n.getLayers&&(n.getLayers().on("add",function(t){e(t.element)}),n.getLayers().forEach(e)),n.isLoading&&n.isLoading()&&(s||(s=!0,t.map_.dispatchEvent("layersloadstart"),t.map_.set("allLayersLoaded",!1)),l=!0,r.push(n)),n.on("loadcountstart",function(){s||(s=!0,t.map_.dispatchEvent("layersloadstart"),t.map_.set("allLayersLoaded",!1)),l=!0,r.push(n)}),n.on("loadcountend",function(){r.splice(r.indexOf(n),1),0===r.length&&(l=!1,t.map_.afterPostrender(function(){l||(t.map_.dispatchEvent("layersloadend"),s=!1,t.map_.set("allLayersLoaded",!0))}),t.map_.render())})}(this.map_.getLayerGroup()),this.map_.set("allLayersLoaded",!1);var c=!1;this.map_.once("layersloadstart",function(){c=!0}),this.map_.once("postrender",function(){t.map_.once("postrender",function(){c||t.map_.set("allLayersLoaded",!0)})});var h=this.map_.get("attributions");h||(h=new u.Attributions,this.map_.set("attributions",h)),h.setMap(this.map_),this.map_.set("ready:layers",!0)}},{key:"getFactory",value:function(){return this.layerFactory_}},{key:"configureLayerIsIdOk_",value:function(t){var e=this.map_.get("layerIds");if(0===t||t&&("string"==typeof t||!isNaN(t))){for(var n=0,r=e.length;n<r;n++)if(t===e[n])return a.Debug.error("Each layer needs a unique id! Otherwise the layer won't be shown. Layer id: "+t),!1;return e.push(t),this.map_.set("layerIds",e),!0}return a.Debug.error("Each layer needs a unique id! Otherwise the layer won't be shown. Layer id: "+t),!1}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Styling=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=_(n(2)),a=_(n(208)),s=_(n(121)),u=_(n(206)),l=_(n(207)),c=_(n(146)),h=_(n(65)),f=_(n(204)),p=n(56),d=n(6),g=n(11),v=n(431),y=n(128);function _(t){return t&&t.__esModule?t:{default:t}}function m(t,e){var n=(0,p.copyDeep)(t);if(e){var r=!0,o=!1,a=void 0;try{for(var s,u=Object.keys(e)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var l=s.value,c=e[l];if(t.hasOwnProperty(l)){var h=t[l];if("object"===(void 0===h?"undefined":i(h))&&!(h instanceof Array)){var f=t[l];f.hasOwnProperty("type")?c.hasOwnProperty("type")&&t[l].type===c.type&&(n[l]=m(f,c)):n[l]=m(f,c)}}else"object"!==(void 0===c?"undefined":i(c))||c instanceof Array?n[l]=c:n[l]=(0,p.copyDeep)(c)}}catch(t){o=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}}return n}e.Styling=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.styleConfigMap_=new Map,this.styleConfigMap_.has("#defaultStyle")||this.styleConfigMap_.set("#defaultStyle",{stroke:{color:"rgba(0,0,0,0.9)",width:2},fill:{color:"rgba(0,0,0,0.3)"},image:{type:"circle",stroke:{color:"rgba(0,0,0,0.9)",width:2},fill:{color:"rgba(0,0,0,0.3)"}}}),n.styleConfigMap){var r=!0,i=!1,o=void 0;try{for(var a,s=Object.keys(n.styleConfigMap)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;this.styleConfigMap_.set(u,n.styleConfigMap[u])}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}this.styleMap_=new Map,this.allStyles_=new Set,n.scaleIcons&&this.setGlobalIconScale(n.scaleIcons),this.managingFeatureStyle_=function(t,n){return e.processedStyle(t.get("managedStyle"),t,n)},this.nullStyle_=new h.default({image:null}),this.manageStyles_=!1!==n.manageStyles}return r(t,[{key:"manifestStyle",value:function(t,e,n){for(var r=this;o.default.isFunction(t);)t=t(e,n);return t||(t=this.getStyle("#defaultStyle")),(0,y.isArray)(t)?t.map(function(t){return r.manifestStyle(t)}):t}},{key:"setGlobalIconScale",value:function(t){this.globalIconScale_=t}},{key:"getGlobalIconScale",value:function(){return this.globalIconScale_||1}},{key:"getStyleFromConfig",value:function(t){var e=m(t,this.styleConfigMap_.get("#default"));function n(t){t=t||{};var n=(0,p.copy)(t);return(0,d.checkFor)(t,"fill")?n.fill=new s.default(m(t.fill,e.fill)):n.fill=new s.default(e.fill),(0,d.checkFor)(t,"backgroundFill")&&(n.backgroundFill=new s.default(m(t.backgroundFill,e.backgroundFill))),(0,d.checkFor)(t,"stroke")?n.stroke=new c.default(m(t.stroke,e.stroke)):n.stroke=new c.default(e.stroke),(0,d.checkFor)(t,"backgroundStroke")&&(n.backgroundStroke=new c.default(m(t.backgroundStroke,e.backgroundStroke))),n}var r=n(e),i=void 0;e.hasOwnProperty("text")&&(i=e.text.textProperty,r.text=new f.default(n(e.text)));var o=!1;e.hasOwnProperty("image")&&("icon"===e.image.type&&e.image.hasOwnProperty("src")&&e.image.src?(r.image=new u.default(e.image),o=!0):"circle"===e.image.type?(r.image=new a.default(n(e.image)),o=!0):"regularShape"===e.image.type&&(r.image=new l.default(n(e.image)),o=!0),o&&r.image.setScale((r.image.getScale()||1)*this.getGlobalIconScale()));var g=new h.default(r);return i?function(t){var e=t.get(i);return e?g.getText().setText(e):g.getText().setText(),g}:g}},{key:"getConfigFromStyle",value:function(){throw new Error("Not implemented yet")}},{key:"getStyleById",value:function(t){if(!this.styleMap_.has(t)){if(!this.styleConfigMap_.has(t))return g.Debug.warn("No style found for id "+t+". Using default style."),this.styleMap_.get("#defaultStyle");this.styleMap_.set(t,this.getStyleFromConfig(this.getConfigById(t)))}return this.styleMap_.get(t)}},{key:"getConfigById",value:function(t){return this.styleConfigMap_.has(t)?this.styleConfigMap_.get(t):(g.Debug.warn("No style config found for id "+t+". Using default style."),this.styleConfigMap_.get("#defaultStyle"))}},{key:"getStyle",value:function(t){var e=this;return void 0===t?this.getStyleById("#defaultStyle"):t instanceof h.default||(0,y.isFunction)(t)?t:(0,y.isArray)(t)?t.map(function(t){return e.getStyle(t)}):(0,y.isObject)(t)?t.hasOwnProperty("conditional")?this.getConditionalStyleFromConfig(t.conditional):this.getStyleFromConfig(t):this.getStyleById(t)}},{key:"adjustStyle_",value:function(t,e){if(t.get("hidden"))return this.nullStyle_;if(1!==this.getGlobalIconScale()||void 0!==t.get("opacity")){var n=e.clone();return this.scaleStyle_(n),void 0!==t.get("opacity")&&this.changeColorOpacity_(n,t.get("opacity")),n}return e}},{key:"scaleStyle_",value:function(t){var e=t.getImage();if(e){var n=t.getImage().getScale()||1;e.setScale(n*this.getGlobalIconScale())}}},{key:"changeColorOpacity_",value:function(t,e){var n=function(t,e){var n=t.getColor();if(null!==n){if(!(n instanceof Array)){if("string"!=typeof n)throw new Error("Type not supported");n=(0,v.parseCSSColor)(n)}n[3]=n[3]*e}t.setColor(n)};t.getImage()&&t.getImage().setOpacity(e),t.getFill()&&n(t.getFill(),e),t.getStroke()&&n(t.getStroke(),e),t.getText()&&(t.getText().getFill()&&n(t.getText().getFill(),e),t.getText().getStroke()&&n(t.getText().getStroke(),e))}},{key:"manageFeature",value:function(t){if(this.manageStyles_){var e=t.getStyle();e&&!t.get("managedStyle")&&(t.set("managedStyle",e),t.setStyle(this.managingFeatureStyle_))}}},{key:"manageFeatureCollection",value:function(t){var e=this;this.manageStyles_&&(t.forEach(function(t){e.manageFeature(t)}),t.on("add",function(t){e.manageFeature(t.element)}))}},{key:"processedStyle",value:function(t,e,n){var r=this,i=this.manifestStyle(t,e,n);return(0,y.isArray)(i)?i.map(function(t){return r.adjustStyle_(e,t)}):this.adjustStyle_(e,i)}},{key:"manageLayer",value:function(t){var e=this;if(this.manageStyles_){var n=t.getStyle();n&&!t.get("managedStyle")&&(t.set("managedStyle",n),t.setStyle(function(t,r){return e.processedStyle(n,t,r)})),t.getSource().getFeatures().forEach(function(t){e.manageFeature(t)}),t.getSource().on("addfeature",function(t){e.manageFeature(t.feature)})}}},{key:"getConditionalStyleFromConfig",value:function(t){var e=this,n=t.map(function(t){return e.getStyle(t.style)});return function(e){for(var r=0;r<t.length;r++){if(!t[r].condition)return n[r];var i=t[r].condition;switch(i[1]){case"=":if(e.get(i[0])===i[2])return n[r];break;case"!=":if(e.get(i[0])!==i[2])return n[r];break;case"<":if(e.get(i[0])<i[2])return n[r];break;case">":if(e.get(i[0])>i[2])return n[r];break;case"<=":if(e.get(i[0])<=i[2])return n[r];break;case">=":if(e.get(i[0])>=i[2])return n[r]}}}}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.register=function(t){var e,n,a=Object.keys(t.defs),s=a.length;for(e=0;e<s;++e){var u=a[e];if(!(0,r.get)(u)){var l=t.defs(u);(0,r.addProjection)(new o.default({code:u,axisOrientation:l.axis,metersPerUnit:l.to_meter,units:l.units}))}}for(e=0;e<s;++e){var c=a[e],h=(0,r.get)(c);for(n=0;n<s;++n){var f=a[n],p=(0,r.get)(f);if(!(0,i.get)(c,f))if(t.defs[c]===t.defs[f])(0,r.addEquivalentProjections)([h,p]);else{var d=t(c,f);(0,r.addCoordinateTransforms)(h,p,d.forward,d.inverse)}}}};var r=n(3),i=n(475),o=function(t){return t&&t.__esModule?t:{default:t}}(n(213))},function(t,e,n){t.exports=function(){"use strict";function t(t,e){if(t[e])return t[e];for(var n,r=Object.keys(t),i=e.toLowerCase().replace(K,""),o=-1;++o<r.length;)if((n=r[o]).toLowerCase().replace(K,"")===i)return t[n]}function e(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=J}function n(t){return new e(t).output()}function r(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,o=n.reduce(function(t,e){return i(e,t),t},r);e&&(t[e]=o)}function i(t,e){if(Array.isArray(t)){var n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(e[n]={},void i(t[0],e[n])):void(e[n]=t[0]);if(t.length)if("TOWGS84"!==n){var o;switch(Array.isArray(n)||(e[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&i(t[2],e[n]));case"SPHEROID":case"ELLIPSOID":return e[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&i(t[3],e[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void r(e,n,t);default:for(o=-1;++o<t.length;)if(!Array.isArray(t[o]))return i(t,e[n]);return r(e,n,t)}}else e[n]=t;else e[n]=!0}else e[t]=!0}function o(t){return t*it}function a(t){function e(e){return e*(t.to_meter||1)}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var n=t.GEOGCS;"GEOGCS"===t.type&&(n=t),n&&(n.DATUM?t.datumCode=n.DATUM.name.toLowerCase():t.datumCode=n.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),n.DATUM&&n.DATUM.SPHEROID&&(t.ellps=n.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=n.DATUM.SPHEROID.a,t.rf=parseFloat(n.DATUM.SPHEROID.rf,10)),n.DATUM&&n.DATUM.TOWGS84&&(t.datum_params=n.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",o],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",o],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",o],["lat0","latitude_of_origin",o],["lat0","standard_parallel_1",o],["lat1","standard_parallel_1",o],["lat2","standard_parallel_2",o],["azimuth","Azimuth"],["alpha","azimuth",o],["srsCode","name"]].forEach(function(e){return function(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],3===e.length&&(t[n]=e[2](t[n])))}(t,e)}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=o(t.lat1>0?90:-90),t.lat_ts=t.lat1)}function s(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?s[t]=Z(arguments[1]):s[t]=ot(arguments[1]):s[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?s.apply(e,t):s(t)});if("string"==typeof t){if(t in s)return s[t]}else"EPSG"in t?s["EPSG:"+t.EPSG]=t:"ESRI"in t?s["ESRI:"+t.ESRI]=t:"IAU2000"in t?s["IAU2000:"+t.IAU2000]=t:console.log(t);return}}function u(e){var n=t(e,"authority");if(n){var r=t(n,"epsg");return r&&st.indexOf(r)>-1}}function l(e){var n=t(e,"extension");if(n)return t(n,"proj4")}function c(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in s}(t))return s[t];if(function(t){return at.some(function(e){return t.indexOf(e)>-1})}(t)){var e=ot(t);if(u(e))return s["EPSG:3857"];var n=l(e);return n?Z(n):e}return function(t){return"+"===t[0]}(t)?Z(t):void 0}function h(t){return t}function f(t,e){var n=vt.length;return t.names?(vt[n]=t,t.names.forEach(function(t){gt[t.toLowerCase()]=n}),this):(console.log(e),!0)}function p(e,n){if(!(this instanceof p))return new p(e);n=n||function(t){if(t)throw t};var r=c(e);if("object"==typeof r){var i=p.projections.get(r.projName);if(i){if(r.datumCode&&"none"!==r.datumCode){var o=t(bt,r.datumCode);o&&(r.datum_params=o.towgs84?o.towgs84.split(","):null,r.ellps=o.ellipse,r.datumName=o.datumName?o.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84";var a=function(e,n,r,i,o){if(!e){var a=t(_t,i);a||(a=mt),e=a.a,n=a.b,r=a.rf}return r&&!n&&(n=(1-1/r)*e),(0===r||Math.abs(e-n)<z)&&(o=!0,n=e),{a:e,b:n,rf:r,sphere:o}}(r.a,r.b,r.rf,r.ellps,r.sphere),s=function(t,e,n,r){var i=t*t,o=e*e,a=(i-o)/i,s=0;return r?(i=(t*=1-a*(B+a*(G+a*U)))*t,a=0):s=Math.sqrt(a),{es:a,e:s,ep2:(i-o)/o}}(a.a,a.b,a.rf,r.R_A),u=r.datum||function(t,e,n,r,i,o){var a={};return a.datum_type=void 0===t||"none"===t?R:k,e&&(a.datum_params=e.map(parseFloat),0===a.datum_params[0]&&0===a.datum_params[1]&&0===a.datum_params[2]||(a.datum_type=L),a.datum_params.length>3&&(0===a.datum_params[3]&&0===a.datum_params[4]&&0===a.datum_params[5]&&0===a.datum_params[6]||(a.datum_type=F,a.datum_params[3]*=j,a.datum_params[4]*=j,a.datum_params[5]*=j,a.datum_params[6]=a.datum_params[6]/1e6+1))),a.a=n,a.b=r,a.es=i,a.ep2=o,a}(r.datumCode,r.datum_params,a.a,a.b,s.es,s.ep2);ut(this,r),ut(this,i),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=u,this.init(),n(null,this)}else n(e)}else n(e)}function d(t,e,n){var r,i,o,a,s=t.x,u=t.y,l=t.z?t.z:0;if(u<-N&&u>-1.001*N)u=-N;else if(u>N&&u<1.001*N)u=N;else{if(u<-N)return{x:-1/0,y:-1/0,z:t.z};if(u>N)return{x:1/0,y:1/0,z:t.z}}return s>Math.PI&&(s-=2*Math.PI),i=Math.sin(u),a=Math.cos(u),o=i*i,{x:((r=n/Math.sqrt(1-e*o))+l)*a*Math.cos(s),y:(r+l)*a*Math.sin(s),z:(r*(1-e)+l)*i}}function g(t,e,n,r){var i,o,a,s,u,l,c,h,f,p,d,g,v,y,_,m,b=t.x,w=t.y,E=t.z?t.z:0;if(i=Math.sqrt(b*b+w*w),o=Math.sqrt(b*b+w*w+E*E),i/n<1e-12){if(y=0,o/n<1e-12)return _=N,m=-r,{x:t.x,y:t.y,z:t.z}}else y=Math.atan2(w,b);a=E/o,h=(s=i/o)*(1-e)*(u=1/Math.sqrt(1-e*(2-e)*s*s)),f=a*u,v=0;do{v++,l=e*(c=n/Math.sqrt(1-e*f*f))/(c+(m=i*h+E*f-c*(1-e*f*f))),g=(d=a*(u=1/Math.sqrt(1-l*(2-l)*s*s)))*h-(p=s*(1-l)*u)*f,h=p,f=d}while(g*g>1e-24&&v<30);return _=Math.atan(d/Math.abs(p)),{x:y,y:_,z:m}}function v(t){return t===L||t===F}function y(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function _(t,e,n){var r;return Array.isArray(n)&&(n=xt(n)),Ot(n),t.datum&&e.datum&&function(t,e){return(t.datum.datum_type===L||t.datum.datum_type===F)&&"WGS84"!==e.datumCode||(e.datum.datum_type===L||e.datum.datum_type===F)&&"WGS84"!==t.datumCode}(t,e)&&(n=_(t,r=new p("WGS84"),n),t=r),"enu"!==t.axis&&(n=Et(t,!1,n)),"longlat"===t.projName?n={x:n.x*V,y:n.y*V,z:n.z||0}:(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n)),t.from_greenwich&&(n.x+=t.from_greenwich),n=wt(t.datum,e.datum,n),e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),"longlat"===e.projName?n={x:n.x*Y,y:n.y*Y,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),"enu"!==e.axis?Et(e,!0,n):n}function m(t,e,n){var r,i,o;return Array.isArray(n)?(r=_(t,e,n)||{x:NaN,y:NaN},n.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name?"number"==typeof r.z?[r.x,r.y,r.z].concat(n.splice(3)):[r.x,r.y,n[2]].concat(n.splice(3)):[r.x,r.y].concat(n.splice(2)):[r.x,r.y]):(i=_(t,e,n),2===(o=Object.keys(n)).length?i:(o.forEach(function(r){if(void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name){if("x"===r||"y"===r||"z"===r)return}else if("x"===r||"y"===r)return;i[r]=n[r]}),i))}function b(t){return t instanceof p?t:t.oProj?t.oProj:p(t)}function w(t,e,n){t=b(t);var r,i=!1;return void 0===e?(e=t,t=Ct,i=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=Ct,i=!0),e=b(e),n?m(t,e,n):(r={forward:function(n){return m(t,e,n)},inverse:function(n){return m(e,t,n)}},i&&(r.oProj=e),r)}function E(t,e){return e=e||5,function(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+function(t,e,n){var r=P(n);return function(t,e,n){var r=n-1,i=Pt.charCodeAt(r),o=Mt.charCodeAt(r),a=i+t-1,s=o+e,u=!1;return a>Lt&&(a=a-Lt+Tt-1,u=!0),(a===At||i<At&&a>At||(a>At||i<At)&&u)&&a++,(a===Dt||i<Dt&&a>Dt||(a>Dt||i<Dt)&&u)&&++a===At&&a++,a>Lt&&(a=a-Lt+Tt-1),s>It?(s=s-It+Tt-1,u=!0):u=!1,(s===At||o<At&&s>At||(s>At||o<At)&&u)&&s++,(s===Dt||o<Dt&&s>Dt||(s>Dt||o<Dt)&&u)&&++s===At&&s++,s>It&&(s=s-It+Tt-1),String.fromCharCode(a)+String.fromCharCode(s)}(Math.floor(t/1e5),Math.floor(e/1e5)%20,r)}(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}(function(t){var e,n,r,i,o,a,s=t.lat,u=t.lon,l=6378137,c=O(s),h=O(u);a=Math.floor((u+180)/6)+1,180===u&&(a=60),s>=56&&s<64&&u>=3&&u<12&&(a=32),s>=72&&s<84&&(u>=0&&u<9?a=31:u>=9&&u<21?a=33:u>=21&&u<33?a=35:u>=33&&u<42&&(a=37)),o=O(6*(a-1)-180+3),e=l/Math.sqrt(1-.00669438*Math.sin(c)*Math.sin(c)),n=Math.tan(c)*Math.tan(c),r=.006739496752268451*Math.cos(c)*Math.cos(c);var f=.9996*e*((i=Math.cos(c)*(h-o))+(1-n+r)*i*i*i/6+(5-18*n+n*n+72*r-.39089081163157013)*i*i*i*i*i/120)+5e5,p=.9996*(l*(.9983242984503243*c-.002514607064228144*Math.sin(2*c)+2639046602129982e-21*Math.sin(4*c)-3.418046101696858e-9*Math.sin(6*c))+e*Math.tan(c)*(i*i/2+(5-n+9*r+4*r*r)*i*i*i*i/24+(61-58*n+n*n+600*r-2.2240339282485886)*i*i*i*i*i*i/720));return s<0&&(p+=1e7),{northing:Math.round(p),easting:Math.round(f),zoneNumber:a,zoneLetter:function(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}(s)}}({lat:t[1],lon:t[0]}),e)}function x(t){var e=S(M(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function O(t){return t*(Math.PI/180)}function C(t){return t/Math.PI*180}function S(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var o,a,s,u,l,c,h,f,p=6378137,d=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),g=n-5e5,v=e;r<"N"&&(v-=1e7),c=6*(i-1)-180+3,f=(h=v/.9996/6367449.145945056)+(3*d/2-27*d*d*d/32)*Math.sin(2*h)+(21*d*d/16-55*d*d*d*d/32)*Math.sin(4*h)+151*d*d*d/96*Math.sin(6*h),o=p/Math.sqrt(1-.00669438*Math.sin(f)*Math.sin(f)),a=Math.tan(f)*Math.tan(f),s=.006739496752268451*Math.cos(f)*Math.cos(f),u=.99330562*p/Math.pow(1-.00669438*Math.sin(f)*Math.sin(f),1.5),l=g/(.9996*o);var y=f-o*Math.tan(f)/u*(l*l/2-(5+3*a+10*s-4*s*s-.06065547077041606)*l*l*l*l/24+(61+90*a+298*s+45*a*a-1.6983531815716497-3*s*s)*l*l*l*l*l*l/720);y=C(y);var _,m=(l-(1+2*a+s)*l*l*l/6+(5-2*s+28*a-3*s*s+.05391597401814761+24*a*a)*l*l*l*l*l/120)/Math.cos(f);if(m=c+C(m),t.accuracy){var b=S({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});_={top:b.lat,right:b.lon,bottom:y,left:m}}else _={lat:y,lon:m};return _}function P(t){var e=t%St;return 0===e&&(e=St),e}function M(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,r=null,i="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;i+=e,o++}var a=parseInt(i,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(o++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;r=t.substring(o,o+=2);for(var u=P(a),l=function(t,e){for(var n=Pt.charCodeAt(e-1),r=1e5,i=!1;n!==t.charCodeAt(0);){if(++n===At&&n++,n===Dt&&n++,n>Lt){if(i)throw"Bad character: "+t;n=Tt,i=!0}r+=1e5}return r}(r.charAt(0),u),c=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=Mt.charCodeAt(e-1),r=0,i=!1;n!==t.charCodeAt(0);){if(++n===At&&n++,n===Dt&&n++,n>It){if(i)throw"Bad character: "+t;n=Tt,i=!0}r+=1e5}return r}(r.charAt(1),u);c<T(s);)c+=2e6;var h=n-o;if(h%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,p,d,g=h/2,v=0,y=0;return g>0&&(f=1e5/Math.pow(10,g),p=t.substring(o,o+g),v=parseFloat(p)*f,d=t.substring(o+g),y=parseFloat(d)*f),{easting:v+l,northing:y+c,zoneLetter:s,zoneNumber:a,accuracy:f}}function T(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function A(t,e,n){if(!(this instanceof A))return new A(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}function D(t,e,n,r){var i;return t<z?(r.value=Le.AREA_0,i=0):(i=Math.atan2(e,n),Math.abs(i)<=W?r.value=Le.AREA_0:i>W&&i<=N+W?(r.value=Le.AREA_1,i-=N):i>N+W||i<=-(N+W)?(r.value=Le.AREA_2,i=i>=0?i-q:i+q):(r.value=Le.AREA_3,i+=N)),i}function I(t,e){var n=t+e;return n<-q?n+=X:n>+q&&(n-=X),n}var L=1,F=2,k=4,R=5,j=484813681109536e-20,N=Math.PI/2,B=.16666666666666666,G=.04722222222222222,U=.022156084656084655,z=1e-10,V=.017453292519943295,Y=57.29577951308232,W=Math.PI/4,X=2*Math.PI,q=3.14159265359,H={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},$={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},K=/[\s_\-\/\(\)]/g,Z=function(e){var n,r,i,o={},a=e.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t},{}),s={proj:"projName",datum:"datumCode",rf:function(t){o.rf=parseFloat(t)},lat_0:function(t){o.lat0=t*V},lat_1:function(t){o.lat1=t*V},lat_2:function(t){o.lat2=t*V},lat_ts:function(t){o.lat_ts=t*V},lon_0:function(t){o.long0=t*V},lon_1:function(t){o.long1=t*V},lon_2:function(t){o.long2=t*V},alpha:function(t){o.alpha=parseFloat(t)*V},lonc:function(t){o.longc=t*V},x_0:function(t){o.x0=parseFloat(t)},y_0:function(t){o.y0=parseFloat(t)},k_0:function(t){o.k0=parseFloat(t)},k:function(t){o.k0=parseFloat(t)},a:function(t){o.a=parseFloat(t)},b:function(t){o.b=parseFloat(t)},r_a:function(){o.R_A=!0},zone:function(t){o.zone=parseInt(t,10)},south:function(){o.utmSouth=!0},towgs84:function(t){o.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){o.to_meter=parseFloat(t)},units:function(e){o.units=e;var n=t($,e);n&&(o.to_meter=n.to_meter)},from_greenwich:function(t){o.from_greenwich=t*V},pm:function(e){var n=t(H,e);o.from_greenwich=(n||parseFloat(e))*V},nadgrids:function(t){"@null"===t?o.datumCode="none":o.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(o.axis=t)}};for(n in a)r=a[n],n in s?"function"==typeof(i=s[n])?i(r):o[i]=r:o[n]=r;return"string"==typeof o.datumCode&&"WGS84"!==o.datumCode&&(o.datumCode=o.datumCode.toLowerCase()),o},J=1,Q=/\s/,tt=/[A-Za-z]/,et=/[A-Za-z84]/,nt=/[,\]]/,rt=/[\d\.E\-\+]/;e.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;Q.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case J:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},e.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(nt.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},e.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=J)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=J,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},e.prototype.number=function(t){if(!rt.test(t)){if(nt.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},e.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},e.prototype.keyword=function(t){if(et.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=J)}if(!nt.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},e.prototype.neutral=function(t){if(tt.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(rt.test(t))return this.word=t,void(this.state=3);if(!nt.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},e.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var it=.017453292519943295,ot=function(t){var e=n(t),r=e.shift(),o=e.shift();e.unshift(["name",o]),e.unshift(["type",r]);var s={};return i(e,s),a(s),s};!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(s);var at=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],st=["3857","900913","3785","102113"],ut=function(t,e){var n,r;if(t=t||{},!e)return t;for(r in e)void 0!==(n=e[r])&&(t[r]=n);return t},lt=function(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)},ct=function(t){return t<0?-1:1},ht=function(t){return Math.abs(t)<=q?t:t-ct(t)*X},ft=function(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(N-e))/r},pt=function(t,e){for(var n,r,i=.5*t,o=N-2*Math.atan(e),a=0;a<=15;a++)if(n=t*Math.sin(o),r=N-2*Math.atan(e*Math.pow((1-n)/(1+n),i))-o,o+=r,Math.abs(r)<=1e-10)return o;return-9999},dt=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=lt(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,n,r=t.x,i=t.y;if(i*Y>90&&i*Y<-90&&r*Y>180&&r*Y<-180)return null;if(Math.abs(Math.abs(i)-N)<=z)return null;if(this.sphere)e=this.x0+this.a*this.k0*ht(r-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(W+.5*i));else{var o=Math.sin(i),a=ft(this.e,i,o);e=this.x0+this.a*this.k0*ht(r-this.long0),n=this.y0-this.a*this.k0*Math.log(a)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r=t.x-this.x0,i=t.y-this.y0;if(this.sphere)n=N-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var o=Math.exp(-i/(this.a*this.k0));if(-9999===(n=pt(this.e,o)))return null}return e=ht(this.long0+r/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:h,inverse:h,names:["longlat","identity"]}],gt={},vt=[],yt={start:function(){dt.forEach(f)},add:f,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==gt[e]&&vt[gt[e]]?vt[gt[e]]:void 0}},_t={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},mt=_t.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};_t.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var bt={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};p.projections=yt,p.projections.start();var wt=function(t,e,n){return function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===L?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==F||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e)?n:t.datum_type===R||e.datum_type===R?n:t.es!==e.es||t.a!==e.a||v(t.datum_type)||v(e.datum_type)?(n=d(n,t.es,t.a),v(t.datum_type)&&(n=function(t,e,n){if(e===L)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===F){var r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],l=n[6];return{x:l*(t.x-u*t.y+s*t.z)+r,y:l*(u*t.x+t.y-a*t.z)+i,z:l*(-s*t.x+a*t.y+t.z)+o}}}(n,t.datum_type,t.datum_params)),v(e.datum_type)&&(n=function(t,e,n){if(e===L)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===F){var r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],l=n[6],c=(t.x-r)/l,h=(t.y-i)/l,f=(t.z-o)/l;return{x:c+u*h-s*f,y:-u*c+h+a*f,z:s*c-a*h+f}}}(n,e.datum_type,e.datum_params)),g(n,e.es,e.a,e.b)):n},Et=function(t,e,n){var r,i,o,a=n.x,s=n.y,u=n.z||0,l={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(r=a,i="x"):1===o?(r=s,i="y"):(r=u,i="z"),t.axis[o]){case"e":l[i]=r;break;case"w":l[i]=-r;break;case"n":l[i]=r;break;case"s":l[i]=-r;break;case"u":void 0!==n[i]&&(l.z=r);break;case"d":void 0!==n[i]&&(l.z=-r);break;default:return null}return l},xt=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},Ot=function(t){y(t.x),y(t.y)},Ct=p("WGS84"),St=6,Pt="AJSAJS",Mt="AFAFAF",Tt=65,At=73,Dt=79,It=86,Lt=90,Ft={forward:E,inverse:function(t){var e=S(M(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:x};A.fromMGRS=function(t){return new A(x(t))},A.prototype.toMGRS=function(t){return E([this.x,this.y],t)};var kt=.01068115234375,Rt=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*kt))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*kt)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e},jt=function(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))},Nt=function(t,e,n){for(var r=1/(1-e),i=t,o=20;o;--o){var a=Math.sin(i),s=1-e*a*a;if(s=(jt(i,a,Math.cos(i),n)-t)*(s*Math.sqrt(s))*r,i-=s,Math.abs(s)<z)return i}return i},Bt={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Rt(this.es),this.ml0=jt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,r,i=t.x,o=t.y,a=ht(i-this.long0),s=Math.sin(o),u=Math.cos(o);if(this.es){var l=u*a,c=Math.pow(l,2),h=this.ep2*Math.pow(u,2),f=Math.pow(h,2),p=Math.abs(u)>z?Math.tan(o):0,d=Math.pow(p,2),g=Math.pow(d,2);e=1-this.es*Math.pow(s,2),l/=Math.sqrt(e);var v=jt(o,s,u,this.en);n=this.a*(this.k0*l*(1+c/6*(1-d+h+c/20*(5-18*d+g+14*h-58*d*h+c/42*(61+179*g-g*d-479*d)))))+this.x0,r=this.a*(this.k0*(v-this.ml0+s*a*l/2*(1+c/12*(5-d+9*h+4*f+c/30*(61+g-58*d+270*h-330*d*h+c/56*(1385+543*g-g*d-3111*d))))))+this.y0}else{var y=u*Math.sin(a);if(Math.abs(Math.abs(y)-1)<z)return 93;if(n=.5*this.a*this.k0*Math.log((1+y)/(1-y))+this.x0,r=u*Math.cos(a)/Math.sqrt(1-Math.pow(y,2)),(y=Math.abs(r))>=1){if(y-1>z)return 93;r=0}else r=Math.acos(r);o<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return t.x=n,t.y=r,t},inverse:function(t){var e,n,r,i,o=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,n=Nt(e,this.es,this.en),Math.abs(n)<N){var s=Math.sin(n),u=Math.cos(n),l=Math.abs(u)>z?Math.tan(n):0,c=this.ep2*Math.pow(u,2),h=Math.pow(c,2),f=Math.pow(l,2),p=Math.pow(f,2);e=1-this.es*Math.pow(s,2);var d=o*Math.sqrt(e)/this.k0,g=Math.pow(d,2);r=n-(e*=l)*g/(1-this.es)*.5*(1-g/12*(5+3*f-9*c*f+c-4*h-g/30*(61+90*f-252*c*f+45*p+46*c-g/56*(1385+3633*f+4095*p+1574*p*f)))),i=ht(this.long0+d*(1-g/6*(1+2*f+c-g/20*(5+28*f+24*p+8*c*f+6*c-g/42*(61+662*f+1320*p+720*p*f))))/u)}else r=N*ct(a),i=0;else{var v=Math.exp(o/this.k0),y=.5*(v-1/v),_=this.lat0+a/this.k0,m=Math.cos(_);e=Math.sqrt((1-Math.pow(m,2))/(1+Math.pow(y,2))),r=Math.asin(e),a<0&&(r=-r),i=0===y&&0===m?0:ht(Math.atan2(y,m)+this.long0)}return t.x=i,t.y=r,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},Gt=function(t){var e=Math.exp(t);return e=(e-1/e)/2},Ut=function(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))},zt=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(Ut(1,e)+1))),t<0?-e:e},Vt=function(t,e){for(var n,r=2*Math.cos(2*e),i=t.length-1,o=t[i],a=0;--i>=0;)n=r*o-a+t[i],a=o,o=n;return e+n*Math.sin(2*e)},Yt=function(t,e,n){for(var r,i,o=Math.sin(e),a=Math.cos(e),s=Gt(n),u=function(t){var e=Math.exp(t);return e=(e+1/e)/2}(n),l=2*a*u,c=-2*o*s,h=t.length-1,f=t[h],p=0,d=0,g=0;--h>=0;)r=d,i=p,f=l*(d=f)-r-c*(p=g)+t[h],g=c*d-i+l*p;return[(l=o*u)*f-(c=a*s)*g,l*g+c*f]},Wt={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var r=Vt(this.cbg,this.lat0);this.Zb=-this.Qn*(r+function(t,e){for(var n,r=2*Math.cos(e),i=t.length-1,o=t[i],a=0;--i>=0;)n=r*o-a+t[i],a=o,o=n;return Math.sin(e)*n}(this.gtu,2*r))},forward:function(t){var e=ht(t.x-this.long0),n=t.y;n=Vt(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),o=Math.sin(e),a=Math.cos(e);n=Math.atan2(r,a*i),e=Math.atan2(o*i,Ut(r,i*a)),e=zt(Math.tan(e));var s,u,l=Yt(this.gtu,2*n,2*e);return n+=l[0],e+=l[1],Math.abs(e)<=2.623395162778?(s=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(s=1/0,u=1/0),t.x=s,t.y=u,t},inverse:function(t){var e,n,r=(t.x-this.x0)*(1/this.a),i=(t.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var o=Yt(this.utg,2*i,2*r);i+=o[0],r+=o[1],r=Math.atan(Gt(r));var a=Math.sin(i),s=Math.cos(i),u=Math.sin(r),l=Math.cos(r);i=Math.atan2(a*l,Ut(u,l*s)),r=Math.atan2(u,l*s),e=ht(r+this.long0),n=Vt(this.cgb,i)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]},Xt={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(ht(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*V,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Wt.init.apply(this),this.forward=Wt.forward,this.inverse=Wt.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},qt=function(t,e){return Math.pow((1-t)/(1+t),e)},Ht={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+W)/(Math.pow(Math.tan(.5*this.lat0+W),this.C)*qt(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+W),this.C)*qt(this.e*Math.sin(n),this.ratexp))-N,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,r=Math.pow(Math.tan(.5*n+W)/this.K,1/this.C),i=20;i>0&&(n=2*Math.atan(r*qt(this.e*Math.sin(t.y),-.5*this.e))-N,!(Math.abs(n-t.y)<1e-14));--i)t.y=n;return i?(t.x=e,t.y=n,t):null},names:["gauss"]},$t={init:function(){Ht.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,r,i;return t.x=ht(t.x-this.long0),Ht.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,r,i,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var a=2*Math.atan2(o,this.R2);e=Math.sin(a),n=Math.cos(a),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),r=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,Ht.inverse.apply(this,[t]),t.x=ht(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},Kt={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=z&&(this.k0=.5*(1+ct(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=z&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=z&&(this.k0=.5*this.cons*lt(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/ft(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=lt(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-N,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,r,i,o,a,s=t.x,u=t.y,l=Math.sin(u),c=Math.cos(u),h=ht(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=z&&Math.abs(u+this.lat0)<=z?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*l+this.coslat0*c*Math.cos(h)),t.x=this.a*e*c*Math.sin(h)+this.x0,t.y=this.a*e*(this.coslat0*l-this.sinlat0*c*Math.cos(h))+this.y0,t):(n=2*Math.atan(this.ssfn_(u,l,this.e))-N,i=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=z?(o=ft(this.e,u*this.con,this.con*l),a=2*this.a*this.k0*o/this.cons,t.x=this.x0+a*Math.sin(s-this.long0),t.y=this.y0-this.con*a*Math.cos(s-this.long0),t):(Math.abs(this.sinlat0)<z?(e=2*this.a*this.k0/(1+i*Math.cos(h)),t.y=e*r):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*i*Math.cos(h))),t.y=e*(this.cosX0*r-this.sinX0*i*Math.cos(h))+this.y0),t.x=e*i*Math.sin(h)+this.x0,t))},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,o,a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,n=this.lat0,a<=z?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/a),e=ht(Math.abs(this.coslat0)<z?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(s),a*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=z){if(a<=z)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=a*this.cons/(2*this.a*this.k0),n=this.con*pt(this.e,r),e=this.con*ht(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=z?o=this.X0:(o=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/a),e=ht(this.long0+Math.atan2(t.x*Math.sin(i),a*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*pt(this.e,Math.tan(.5*(N+o)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(N+t))*Math.pow((1-e)/(1+e),.5*n)}},Zt={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=1/this.rf,i=2*r-Math.pow(r,2),o=this.e=Math.sqrt(i);this.R=this.k0*n*Math.sqrt(1-i)/(1-i*Math.pow(e,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*s+this.alpha*o/2*u},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*a+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),a=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+a/this.alpha,u=0,l=o,c=-1e3,h=0;Math.abs(l-c)>1e-7;){if(++h>20)return;u=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),c=l,l=2*Math.atan(Math.exp(u))-Math.PI/2}return t.x=s,t.y=l,t},names:["somerc"]},Jt={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var r,i,o=ft(this.e,this.lat0,t),a=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));if(a*a<1&&(a=1),isNaN(this.longc)){var s=ft(this.e,this.lat1,Math.sin(this.lat1)),u=ft(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(a+Math.sqrt(a*a-1))*Math.pow(o,this.bl):this.el=(a-Math.sqrt(a*a-1))*Math.pow(o,this.bl);var l=Math.pow(s,this.bl),c=Math.pow(u,this.bl);i=.5*((r=this.el/l)-1/r);var h=(this.el*this.el-c*l)/(this.el*this.el+c*l),f=(c-l)/(c+l),p=ht(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(h*Math.tan(.5*this.bl*p)/f)/this.bl,this.long0=ht(this.long0);var d=ht(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*d)/i),this.alpha=Math.asin(a*Math.sin(this.gamma0))}else r=this.lat0>=0?a+Math.sqrt(a*a-1):a-Math.sqrt(a*a-1),this.el=r*Math.pow(o,this.bl),i=.5*(r-1/r),this.gamma0=Math.asin(Math.sin(this.alpha)/a),this.long0=this.longc-Math.asin(i*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha))},forward:function(t){var e,n,r,i=t.x,o=t.y,a=ht(i-this.long0);if(Math.abs(Math.abs(o)-N)<=z)r=o>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(W+r*this.gamma0*.5)),e=-1*r*N*this.al/this.bl;else{var s=ft(this.e,o,Math.sin(o)),u=this.el/Math.pow(s,this.bl),l=.5*(u-1/u),c=.5*(u+1/u),h=Math.sin(this.bl*a),f=(l*Math.sin(this.gamma0)-h*Math.cos(this.gamma0))/c;n=Math.abs(Math.abs(f)-1)<=z?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-f)/(1+f))/this.bl,e=Math.abs(Math.cos(this.bl*a))<=z?this.al*this.bl*a:this.al*Math.atan2(l*Math.cos(this.gamma0)+h*Math.sin(this.gamma0),Math.cos(this.bl*a))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},inverse:function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var r=Math.exp(-1*this.bl*n/this.al),i=.5*(r-1/r),o=.5*(r+1/r),a=Math.sin(this.bl*e/this.al),s=(a*Math.cos(this.gamma0)+i*Math.sin(this.gamma0))/o,u=Math.pow(this.el/Math.sqrt((1+s)/(1-s)),1/this.bl);return Math.abs(s-1)<z?(t.x=this.long0,t.y=N):Math.abs(s+1)<z?(t.x=this.long0,t.y=-1*N):(t.y=pt(this.e,u),t.x=ht(this.long0-Math.atan2(i*Math.cos(this.gamma0)-a*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},Qt={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<z)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=lt(this.e,e,n),i=ft(this.e,this.lat1,e),o=Math.sin(this.lat2),a=Math.cos(this.lat2),s=lt(this.e,o,a),u=ft(this.e,this.lat2,o),l=ft(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>z?this.ns=Math.log(r/s)/Math.log(i/u):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(l,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=z&&(n=ct(n)*(N-2*z));var r,i,o=Math.abs(Math.abs(n)-N);if(o>z)r=ft(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(r,this.ns);else{if((o=n*this.ns)<=0)return null;i=0}var a=this.ns*ht(e-this.long0);return t.x=this.k0*(i*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-i*Math.cos(a))+this.y0,t},inverse:function(t){var e,n,r,i,o,a=(t.x-this.x0)/this.k0,s=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+s*s),n=1):(e=-Math.sqrt(a*a+s*s),n=-1);var u=0;if(0!==e&&(u=Math.atan2(n*a,n*s)),0!==e||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),-9999===(i=pt(this.e,r)))return null}else i=-N;return o=ht(u/this.ns+this.long0),t.x=o,t.y=i,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},te={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,r,i,o,a,s,u=t.x,l=t.y,c=ht(u-this.long0);return e=Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(l/2+this.s45),this.alfa)/e)-this.s45),r=-c*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),o=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),a=this.n*o,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=s*Math.cos(a)/1,t.x=s*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,r,i,o,a,s,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),i=Math.atan2(t.y,t.x)/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,s=0;var l=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(s=1),a=t.y,l+=1}while(0===s&&l<15);return l>=15?null:t},names:["Krovak","krovak"]},ee=function(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)},ne=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},re=function(t){return.375*t*(1+.25*t*(1+.46875*t))},ie=function(t){return.05859375*t*t*(1+.75*t)},oe=function(t){return t*t*t*(35/3072)},ae=function(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)},se=function(t){return Math.abs(t)<N?t:t-ct(t)*Math.PI},ue=function(t,e,n,r,i){var o,a;o=t/e;for(var s=0;s<15;s++)if(a=(t-(e*o-n*Math.sin(2*o)+r*Math.sin(4*o)-i*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*r*Math.cos(4*o)-6*i*Math.cos(6*o)),o+=a,Math.abs(a)<=1e-10)return o;return NaN},le={init:function(){this.sphere||(this.e0=ne(this.es),this.e1=re(this.es),this.e2=ie(this.es),this.e3=oe(this.es),this.ml0=this.a*ee(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,r=t.x,i=t.y;if(r=ht(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var o=Math.sin(i),a=Math.cos(i),s=ae(this.a,this.e,o),u=Math.tan(i)*Math.tan(i),l=r*Math.cos(i),c=l*l,h=this.es*a*a/(1-this.es);e=s*l*(1-c*u*(1/6-(8-u+8*h)*c/120)),n=this.a*ee(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+s*o/a*c*(.5+(5-u+6*h)*c/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r=t.x/this.a,i=t.y/this.a;if(this.sphere){var o=i+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(o))}else{var a=this.ml0/this.a+i,s=ue(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-N)<=z)return t.x=this.long0,t.y=N,i<0&&(t.y*=-1),t;var u=ae(this.a,this.e,Math.sin(s)),l=u*u*u/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),h=r*this.a/u,f=h*h;e=s-u*Math.tan(s)/l*h*h*(.5-(1+3*c)*h*h/24),n=h*(1-f*(c/3+(1+3*c)*c*f/15))/Math.cos(s)}return t.x=ht(n+this.long0),t.y=se(e),t},names:["Cassini","Cassini_Soldner","cass"]},ce=function(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e},he=.3333333333333333,fe=.17222222222222222,pe=.10257936507936508,de=.06388888888888888,ge=.0664021164021164,ve=.016415012942191543,ye={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-N)<z?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<z?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=ce(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=t*he,e=t*t,n[0]+=e*fe,n[1]=e*de,e*=t,n[0]+=e*pe,n[1]+=e*ge,n[2]=e*ve,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=ce(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,r,i,o,a,s,u,l,c,h=t.x,f=t.y;if(h=ht(h-this.long0),this.sphere){if(o=Math.sin(f),c=Math.cos(f),r=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+c*r:1+this.sinph0*o+this.cosph0*c*r)<=z)return null;e=(n=Math.sqrt(2/n))*c*Math.sin(h),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*c*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(f+this.phi0)<z)return null;n=W-.5*f,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(h),n*=r}}else{switch(s=0,u=0,l=0,r=Math.cos(h),i=Math.sin(h),o=Math.sin(f),a=ce(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=a/this.qp,u=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:l=1+this.sinb1*s+this.cosb1*u*r;break;case this.EQUIT:l=1+u*r;break;case this.N_POLE:l=N+f,a=this.qp-a;break;case this.S_POLE:l=f-N,a=this.qp+a}if(Math.abs(l)<z)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:l=Math.sqrt(2/l),n=this.mode===this.OBLIQ?this.ymf*l*(this.cosb1*s-this.sinb1*u*r):(l=Math.sqrt(2/(1+u*r)))*s*this.ymf,e=this.xmf*l*u*i;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(l=Math.sqrt(a))*i,n=r*(this.mode===this.S_POLE?l:-l)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,o,a,s,u=t.x/this.a,l=t.y/this.a;if(this.sphere){var c,h=0,f=0;if(c=Math.sqrt(u*u+l*l),(n=.5*c)>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=Math.sin(n),h=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(c)<=z?0:Math.asin(l*f/c),u*=f,l=h*c;break;case this.OBLIQ:n=Math.abs(c)<=z?this.phi0:Math.asin(h*this.sinph0+l*f*this.cosph0/c),u*=f*this.cosph0,l=(h-Math.sin(n)*this.sinph0)*c;break;case this.N_POLE:l=-l,n=N-n;break;case this.S_POLE:n-=N}e=0!==l||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(u,l):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(u/=this.dd,l*=this.dd,(a=Math.sqrt(u*u+l*l))<z)return t.x=0,t.y=this.phi0,t;i=2*Math.asin(.5*a/this.rq),r=Math.cos(i),u*=i=Math.sin(i),this.mode===this.OBLIQ?(s=r*this.sinb1+l*i*this.cosb1/a,o=this.qp*s,l=a*this.cosb1*r-l*this.sinb1*i):(s=l*i/a,o=this.qp*s,l=a*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),!(o=u*u+l*l))return t.x=0,t.y=this.phi0,t;s=1-o/this.qp,this.mode===this.S_POLE&&(s=-s)}e=Math.atan2(u,l),n=function(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}(Math.asin(s),this.apa)}return t.x=ht(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},_e=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)},me={init:function(){Math.abs(this.lat1+this.lat2)<z||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=lt(this.e3,this.sin_po,this.cos_po),this.qs1=ce(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=lt(this.e3,this.sin_po,this.cos_po),this.qs2=ce(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=ce(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>z?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=ce(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,o=this.ns0*ht(e-this.long0),a=i*Math.sin(o)+this.x0,s=this.rh-i*Math.cos(o)+this.y0;return t.x=a,t.y=s,t},inverse:function(t){var e,n,r,i,o,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,0!==e&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,a=this.phi1z(this.e3,n)),o=ht(i/this.ns0+this.long0),t.x=o,t.y=a,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,r,i,o,a,s=_e(.5*e);if(t<z)return s;for(var u=t*t,l=1;l<=25;l++)if(n=Math.sin(s),r=Math.cos(s),a=.5*(o=1-(i=t*n)*i)*o/r*(e/(1-u)-n/o+.5/t*Math.log((1-i)/(1+i))),s+=a,Math.abs(a)<=1e-7)return s;return null}},be={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,r,i,o,a,s,u=t.x,l=t.y;return r=ht(u-this.long0),e=Math.sin(l),n=Math.cos(l),i=Math.cos(r),(o=this.sin_p14*e+this.cos_p14*n*i)>0||Math.abs(o)<=z?(a=this.x0+1*this.a*n*Math.sin(r)/o,s=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*i)/o):(a=this.x0+this.infinity_dist*n*Math.sin(r),s=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=a,t.y=s,t},inverse:function(t){var e,n,r,i,o,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),r=Math.cos(i),a=_e(r*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),o=ht(this.long0+o)):(a=this.phic0,o=0),t.x=o,t.y=a,t},names:["gnom"]},we={init:function(){this.sphere||(this.k0=lt(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,r=t.x,i=t.y,o=ht(r-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var a=ce(this.e,Math.sin(i));e=this.x0+this.a*this.k0*o,n=this.y0+this.a*a*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=ht(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*N:N;for(var r,i,o,a,s=Math.asin(.5*e),u=0;u<30;u++)if(i=Math.sin(s),o=Math.cos(s),a=t*i,r=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-i/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),s+=r,Math.abs(r)<=1e-10)return s;return NaN}(this.e,2*t.y*this.k0/this.a),e=ht(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]},Ee={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,n=t.y,r=ht(e-this.long0),i=se(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t},inverse:function(t){var e=t.x,n=t.y;return t.x=ht(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=se(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},xe={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ne(this.es),this.e1=re(this.es),this.e2=ie(this.es),this.e3=oe(this.es),this.ml0=this.a*ee(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,r,i=t.x,o=t.y,a=ht(i-this.long0);if(r=a*Math.sin(o),this.sphere)Math.abs(o)<=z?(e=this.a*a,n=-1*this.a*this.lat0):(e=this.a*Math.sin(r)/Math.tan(o),n=this.a*(se(o-this.lat0)+(1-Math.cos(r))/Math.tan(o)));else if(Math.abs(o)<=z)e=this.a*a,n=-1*this.ml0;else{var s=ae(this.a,this.e,Math.sin(o))/Math.tan(o);e=s*Math.sin(r),n=this.a*ee(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+s*(1-Math.cos(r))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,r,i,o,a,s,u,l;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=z)e=ht(r/this.a+this.long0),n=0;else{var c;for(a=this.lat0+i/this.a,s=r*r/this.a/this.a+a*a,u=a,o=20;o;--o)if(c=Math.tan(u),u+=l=-1*(a*(u*c+1)-u-.5*(u*u+s)*c)/((u-a)/c-1),Math.abs(l)<=z){n=u;break}e=ht(this.long0+Math.asin(r*Math.tan(u)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=z)n=0,e=ht(this.long0+r/this.a);else{var h,f,p,d,g;for(a=(this.ml0+i)/this.a,s=r*r/this.a/this.a+a*a,u=a,o=20;o;--o)if(g=this.e*Math.sin(u),h=Math.sqrt(1-g*g)*Math.tan(u),f=this.a*ee(this.e0,this.e1,this.e2,this.e3,u),p=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),d=f/this.a,l=(a*(h*d+1)-d-.5*h*(d*d+s))/(this.es*Math.sin(2*u)*(d*d+s-2*a*d)/(4*h)+(a-d)*(h*p-2/Math.sin(2*u))-p),u-=l,Math.abs(l)<=z){n=u;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=ht(this.long0+Math.asin(r*h/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]},Oe={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=t.x,r=t.y-this.lat0,i=n-this.long0,o=r/j*1e-5,a=i,s=1,u=0;for(e=1;e<=10;e++)s*=o,u+=this.A[e]*s;var l,c=u,h=a,f=1,p=0,d=0,g=0;for(e=1;e<=6;e++)l=p*c+f*h,f=f*c-p*h,p=l,d=d+this.B_re[e]*f-this.B_im[e]*p,g=g+this.B_im[e]*f+this.B_re[e]*p;return t.x=g*this.a+this.x0,t.y=d*this.a+this.y0,t},inverse:function(t){var e,n,r=t.x,i=t.y,o=r-this.x0,a=(i-this.y0)/this.a,s=o/this.a,u=1,l=0,c=0,h=0;for(e=1;e<=6;e++)n=l*a+u*s,u=u*a-l*s,l=n,c=c+this.C_re[e]*u-this.C_im[e]*l,h=h+this.C_im[e]*u+this.C_re[e]*l;for(var f=0;f<this.iterations;f++){var p,d=c,g=h,v=a,y=s;for(e=2;e<=6;e++)p=g*c+d*h,d=d*c-g*h,g=p,v+=(e-1)*(this.B_re[e]*d-this.B_im[e]*g),y+=(e-1)*(this.B_im[e]*d+this.B_re[e]*g);d=1,g=0;var _=this.B_re[1],m=this.B_im[1];for(e=2;e<=6;e++)p=g*c+d*h,d=d*c-g*h,g=p,_+=e*(this.B_re[e]*d-this.B_im[e]*g),m+=e*(this.B_im[e]*d+this.B_re[e]*g);var b=_*_+m*m;c=(v*_+y*m)/b,h=(y*_-v*m)/b}var w=c,E=h,x=1,O=0;for(e=1;e<=9;e++)x*=w,O+=this.D[e]*x;var C=this.lat0+O*j*1e5,S=this.long0+E;return t.x=S,t.y=C,t},names:["New_Zealand_Map_Grid","nzmg"]},Ce={init:function(){},forward:function(t){var e=t.x,n=t.y,r=ht(e-this.long0),i=this.x0+this.a*r,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=ht(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]},Se={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Rt(this.es)},forward:function(t){var e,n,r=t.x,i=t.y;if(r=ht(r-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(i),a=20;a;--a){var s=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=s,Math.abs(s)<z)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var u=Math.sin(i),l=Math.cos(i);n=this.a*jt(i,u,l,this.en),e=this.a*r*l/Math.sqrt(1-this.es*u*u)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r,i;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r/=this.C_x*(this.m+Math.cos(e)),this.m?e=_e((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=_e(Math.sin(e)/this.n)),r=ht(r+this.long0),e=se(e)):(e=Nt(t.y/this.a,this.es,this.en),(i=Math.abs(e))<N?(i=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),r=ht(n)):i-z<N&&(r=this.long0)),t.x=r,t.y=e,t},names:["Sinusoidal","sinu"]},Pe={init:function(){},forward:function(t){for(var e=t.x,n=t.y,r=ht(e-this.long0),i=n,o=Math.PI*Math.sin(n);;){var a=-(i+Math.sin(i)-o)/(1+Math.cos(i));if(i+=a,Math.abs(a)<z)break}i/=2,Math.PI/2-Math.abs(n)<z&&(r=0);var s=.900316316158*this.a*r*Math.cos(i)+this.x0,u=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=s,t.y=u,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=ht(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t},names:["Mollweide","moll"]},Me={init:function(){Math.abs(this.lat1+this.lat2)<z||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ne(this.es),this.e1=re(this.es),this.e2=ie(this.es),this.e3=oe(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=lt(this.e,this.sinphi,this.cosphi),this.ml1=ee(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<z?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=lt(this.e,this.sinphi,this.cosphi),this.ml2=ee(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=ee(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,r=t.y;if(this.sphere)e=this.a*(this.g-r);else{var i=ee(this.e0,this.e1,this.e2,this.e3,r);e=this.a*(this.g-i)}var o=this.ns*ht(n-this.long0),a=this.x0+e*Math.sin(o),s=this.y0+this.rh-e*Math.cos(o);return t.x=a,t.y=s,t},inverse:function(t){var e,n,r,i;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=ht(this.long0+o/this.ns),r=se(this.g-n/this.a),t.x=i,t.y=r,t;var a=this.g-n/this.a;return r=ue(a,this.e0,this.e1,this.e2,this.e3),i=ht(this.long0+o/this.ns),t.x=i,t.y=r,t},names:["Equidistant_Conic","eqdc"]},Te={init:function(){this.R=this.a},forward:function(t){var e,n,r=t.x,i=t.y,o=ht(r-this.long0);Math.abs(i)<=z&&(e=this.x0+this.R*o,n=this.y0);var a=_e(2*Math.abs(i/Math.PI));(Math.abs(o)<=z||Math.abs(Math.abs(i)-N)<=z)&&(e=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*a):this.y0+Math.PI*this.R*-Math.tan(.5*a));var s=.5*Math.abs(Math.PI/o-o/Math.PI),u=s*s,l=Math.sin(a),c=Math.cos(a),h=c/(l+c-1),f=h*h,p=h*(2/l-1),d=p*p,g=Math.PI*this.R*(s*(h-d)+Math.sqrt(u*(h-d)*(h-d)-(d+u)*(f-d)))/(d+u);o<0&&(g=-g),e=this.x0+g;var v=u+h;return g=Math.PI*this.R*(p*v-s*Math.sqrt((d+u)*(u+1)-v*v))/(d+u),n=i>=0?this.y0+g:this.y0-g,t.x=e,t.y=n,t},inverse:function(t){var e,n,r,i,o,a,s,u,l,c,h,f,p;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,r=t.x/h,i=t.y/h,o=r*r+i*i,a=-Math.abs(i)*(1+o),p=i*i/(u=-2*a+1+2*i*i+o*o)+(2*(s=a-2*i*i+r*r)*s*s/u/u/u-9*a*s/u/u)/27,l=(a-s*s/3/u)/u,c=2*Math.sqrt(-l/3),h=3*p/l/c,Math.abs(h)>1&&(h=h>=0?1:-1),f=Math.acos(h)/3,n=t.y>=0?(-c*Math.cos(f+Math.PI/3)-s/3/u)*Math.PI:-(-c*Math.cos(f+Math.PI/3)-s/3/u)*Math.PI,e=Math.abs(r)<z?this.long0:ht(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(r*r-i*i)+o*o))/2/r),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},Ae={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,r,i,o,a,s,u,l,c,h,f,p,d,g,v,y,_,m,b,w,E,x=t.x,O=t.y,C=Math.sin(t.y),S=Math.cos(t.y),P=ht(x-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=z?(t.x=this.x0+this.a*(N-O)*Math.sin(P),t.y=this.y0-this.a*(N-O)*Math.cos(P),t):Math.abs(this.sin_p12+1)<=z?(t.x=this.x0+this.a*(N+O)*Math.sin(P),t.y=this.y0+this.a*(N+O)*Math.cos(P),t):(_=this.sin_p12*C+this.cos_p12*S*Math.cos(P),v=Math.acos(_),y=v/Math.sin(v),t.x=this.x0+this.a*y*S*Math.sin(P),t.y=this.y0+this.a*y*(this.cos_p12*C-this.sin_p12*S*Math.cos(P)),t):(e=ne(this.es),n=re(this.es),r=ie(this.es),i=oe(this.es),Math.abs(this.sin_p12-1)<=z?(o=this.a*ee(e,n,r,i,N),a=this.a*ee(e,n,r,i,O),t.x=this.x0+(o-a)*Math.sin(P),t.y=this.y0-(o-a)*Math.cos(P),t):Math.abs(this.sin_p12+1)<=z?(o=this.a*ee(e,n,r,i,N),a=this.a*ee(e,n,r,i,O),t.x=this.x0+(o+a)*Math.sin(P),t.y=this.y0+(o+a)*Math.cos(P),t):(s=C/S,u=ae(this.a,this.e,this.sin_p12),l=ae(this.a,this.e,C),c=Math.atan((1-this.es)*s+this.es*u*this.sin_p12/(l*S)),h=Math.atan2(Math.sin(P),this.cos_p12*Math.tan(c)-this.sin_p12*Math.cos(P)),m=0===h?Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.abs(Math.abs(h)-Math.PI)<=z?-Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.asin(Math.sin(P)*Math.cos(c)/Math.sin(h)),f=this.e*this.sin_p12/Math.sqrt(1-this.es),p=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es),v=u*m*(1-(b=m*m)*(g=p*p)*(1-g)/6+(w=b*m)/8*(d=f*p)*(1-2*g)+(E=w*m)/120*(g*(4-7*g)-3*f*f*(1-7*g))-E*m/48*d),t.x=this.x0+v*Math.sin(h),t.y=this.y0+v*Math.cos(h),t))},inverse:function(t){var e,n,r,i,o,a,s,u,l,c,h,f,p,d,g,v,y,_,m,b,w,E;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*N*this.a)return;return n=e/this.a,r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(e)<=z?a=this.lat0:(a=_e(i*this.sin_p12+t.y*r*this.cos_p12/e),s=Math.abs(this.lat0)-N,o=ht(Math.abs(s)<=z?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r))),t.x=o,t.y=a,t}return u=ne(this.es),l=re(this.es),c=ie(this.es),h=oe(this.es),Math.abs(this.sin_p12-1)<=z?(f=this.a*ee(u,l,c,h,N),e=Math.sqrt(t.x*t.x+t.y*t.y),a=ue((f-e)/this.a,u,l,c,h),o=ht(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=a,t):Math.abs(this.sin_p12+1)<=z?(f=this.a*ee(u,l,c,h,N),e=Math.sqrt(t.x*t.x+t.y*t.y),a=ue((e-f)/this.a,u,l,c,h),o=ht(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),p=ae(this.a,this.e,this.sin_p12),v=Math.cos(g),y=this.e*this.cos_p12*v,_=-y*y/(1-this.es),m=3*this.es*(1-_)*this.sin_p12*this.cos_p12*v/(1-this.es),w=(b=e/p)-_*(1+_)*Math.pow(b,3)/6-m*(1+3*_)*Math.pow(b,4)/24,E=1-_*w*w/2-b*w*w*w/6,d=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*v),o=ht(this.long0+Math.asin(Math.sin(g)*Math.sin(w)/Math.cos(d))),a=Math.atan((1-this.es*E*this.sin_p12/Math.sin(d))*Math.tan(d)/(1-this.es)),t.x=o,t.y=a,t)},names:["Azimuthal_Equidistant","aeqd"]},De={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,r,i,o,a,s,u=t.x,l=t.y;return r=ht(u-this.long0),e=Math.sin(l),n=Math.cos(l),i=Math.cos(r),((o=this.sin_p14*e+this.cos_p14*n*i)>0||Math.abs(o)<=z)&&(a=1*this.a*n*Math.sin(r),s=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*i)),t.x=a,t.y=s,t},inverse:function(t){var e,n,r,i,o,a,s;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=_e(e/this.a),r=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(e)<=z?(s=this.lat0,t.x=a,t.y=s,t):(s=_e(i*this.sin_p14+t.y*r*this.cos_p14/e),o=Math.abs(this.lat0)-N,Math.abs(o)<=z?(a=ht(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=s,t):(a=ht(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r)),t.x=a,t.y=s,t))},names:["ortho"]},Ie={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Le={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4},Fe={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=N-W/2?this.face=Ie.TOP:this.lat0<=-(N-W/2)?this.face=Ie.BOTTOM:Math.abs(this.long0)<=W?this.face=Ie.FRONT:Math.abs(this.long0)<=N+W?this.face=this.long0>0?Ie.RIGHT:Ie.LEFT:this.face=Ie.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,r,i,o,a,s={x:0,y:0},u={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===Ie.TOP)i=N-e,n>=W&&n<=N+W?(u.value=Le.AREA_0,r=n-N):n>N+W||n<=-(N+W)?(u.value=Le.AREA_1,r=n>0?n-q:n+q):n>-(N+W)&&n<=-W?(u.value=Le.AREA_2,r=n+N):(u.value=Le.AREA_3,r=n);else if(this.face===Ie.BOTTOM)i=N+e,n>=W&&n<=N+W?(u.value=Le.AREA_0,r=-n+N):n<W&&n>=-W?(u.value=Le.AREA_1,r=-n):n<-W&&n>=-(N+W)?(u.value=Le.AREA_2,r=-n-N):(u.value=Le.AREA_3,r=n>0?-n+q:-n-q);else{var l,c,h,f,p,d;this.face===Ie.RIGHT?n=I(n,+N):this.face===Ie.BACK?n=I(n,+q):this.face===Ie.LEFT&&(n=I(n,-N)),f=Math.sin(e),p=Math.cos(e),d=Math.sin(n),l=p*Math.cos(n),c=p*d,h=f,this.face===Ie.FRONT?r=D(i=Math.acos(l),h,c,u):this.face===Ie.RIGHT?r=D(i=Math.acos(c),h,-l,u):this.face===Ie.BACK?r=D(i=Math.acos(-l),h,-c,u):this.face===Ie.LEFT?r=D(i=Math.acos(-c),h,l,u):(i=r=0,u.value=Le.AREA_0)}return a=Math.atan(12/q*(r+Math.acos(Math.sin(r)*Math.cos(W))-N)),o=Math.sqrt((1-Math.cos(i))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(r))))),u.value===Le.AREA_1?a+=N:u.value===Le.AREA_2?a+=q:u.value===Le.AREA_3&&(a+=1.5*q),s.x=o*Math.cos(a),s.y=o*Math.sin(a),s.x=s.x*this.a+this.x0,s.y=s.y*this.a+this.y0,t.x=s.x,t.y=s.y,t},inverse:function(t){var e,n,r,i,o,a,s,u,l,c,h,f,p={lam:0,phi:0},d={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?d.value=Le.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(d.value=Le.AREA_1,e-=N):t.x<0&&-t.x>=Math.abs(t.y)?(d.value=Le.AREA_2,e=e<0?e+q:e-q):(d.value=Le.AREA_3,e+=N),l=q/12*Math.tan(e),o=Math.sin(l)/(Math.cos(l)-1/Math.sqrt(2)),a=Math.atan(o),r=Math.cos(e),i=Math.tan(n),(s=1-r*r*i*i*(1-Math.cos(Math.atan(1/Math.cos(a)))))<-1?s=-1:s>1&&(s=1),this.face===Ie.TOP)u=Math.acos(s),p.phi=N-u,d.value===Le.AREA_0?p.lam=a+N:d.value===Le.AREA_1?p.lam=a<0?a+q:a-q:d.value===Le.AREA_2?p.lam=a-N:p.lam=a;else if(this.face===Ie.BOTTOM)u=Math.acos(s),p.phi=u-N,d.value===Le.AREA_0?p.lam=-a+N:d.value===Le.AREA_1?p.lam=-a:d.value===Le.AREA_2?p.lam=-a-N:p.lam=a<0?-a-q:-a+q;else{var g,v,y;l=(g=s)*g,v=(l+=(y=l>=1?0:Math.sqrt(1-l)*Math.sin(a))*y)>=1?0:Math.sqrt(1-l),d.value===Le.AREA_1?(l=v,v=-y,y=l):d.value===Le.AREA_2?(v=-v,y=-y):d.value===Le.AREA_3&&(l=v,v=y,y=-l),this.face===Ie.RIGHT?(l=g,g=-v,v=l):this.face===Ie.BACK?(g=-g,v=-v):this.face===Ie.LEFT&&(l=g,g=v,v=-l),p.phi=Math.acos(-y)-N,p.lam=Math.atan2(v,g),this.face===Ie.RIGHT?p.lam=I(p.lam,-N):this.face===Ie.BACK?p.lam=I(p.lam,-q):this.face===Ie.LEFT&&(p.lam=I(p.lam,+N))}return 0!==this.es&&(c=p.phi<0?1:0,h=Math.tan(p.phi),f=this.b/Math.sqrt(h*h+this.one_minus_f_squared),p.phi=Math.atan(Math.sqrt(this.a*this.a-f*f)/(this.one_minus_f*f)),c&&(p.phi=-p.phi)),p.lam+=this.long0,t.x=p.lam,t.y=p.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},ke=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Re=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],je=Y/5,Ne=1/je,Be=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},Ge={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=ht(t.x-this.long0),n=Math.abs(t.y),r=Math.floor(n*je);r<0?r=0:r>=18&&(r=17);var i={x:Be(ke[r],n=Y*(n-Ne*r))*e,y:Be(Re[r],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*.8487+this.x0,i.y=i.y*this.a*1.3523+this.y0,i},inverse:function(t){var e={x:(t.x-this.x0)/(.8487*this.a),y:Math.abs(t.y-this.y0)/(1.3523*this.a)};if(e.y>=1)e.x/=ke[18][0],e.y=t.y<0?-N:N;else{var n=Math.floor(18*e.y);for(n<0?n=0:n>=18&&(n=17);;)if(Re[n][0]>e.y)--n;else{if(!(Re[n+1][0]<=e.y))break;++n}var r=Re[n],i=5*(e.y-r[0])/(Re[n+1][0]-r[0]);i=function(t,e,n,r){for(var i=e;r;--r){var o=t(i);if(i-=o,Math.abs(o)<n)break}return i}(function(t){return(Be(r,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(r,t)},i,z,100),e.x/=Be(ke[n],i),e.y=(5*n+i)*V,t.y<0&&(e.y=-e.y)}return e.x=ht(e.x+this.long0),e},names:["Robinson","robin"]},Ue={init:function(){this.name="geocent"},forward:function(t){return d(t,this.es,this.a)},inverse:function(t){return g(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};return w.defaultDatum="WGS84",w.Proj=p,w.WGS84=new w.Proj("WGS84"),w.Point=A,w.toPoint=xt,w.defs=s,w.transform=_,w.mgrs=Ft,w.version="2.6.0",function(t){t.Proj.projections.add(Bt),t.Proj.projections.add(Wt),t.Proj.projections.add(Xt),t.Proj.projections.add($t),t.Proj.projections.add(Kt),t.Proj.projections.add(Zt),t.Proj.projections.add(Jt),t.Proj.projections.add(Qt),t.Proj.projections.add(te),t.Proj.projections.add(le),t.Proj.projections.add(ye),t.Proj.projections.add(me),t.Proj.projections.add(be),t.Proj.projections.add(we),t.Proj.projections.add(Ee),t.Proj.projections.add(xe),t.Proj.projections.add(Oe),t.Proj.projections.add(Ce),t.Proj.projections.add(Se),t.Proj.projections.add(Pe),t.Proj.projections.add(Me),t.Proj.projections.add(Te),t.Proj.projections.add(Ae),t.Proj.projections.add(De),t.Proj.projections.add(Fe),t.Proj.projections.add(Ge),t.Proj.projections.add(Ue)}(w),w}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapConfigurator=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=y(n(2)),o=y(n(832)),a=n(831),s=n(3),u=n(1),l=y(n(153)),c=n(830),h=n(829),f=n(645),p=n(56),d=n(6),g=n(590),v=n(11);function y(t){return t&&t.__esModule?t:{default:t}}e.MapConfigurator=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map_=e,this.layerConfigurator_=new h.LayerConfigurator(e),this.UIConfigurator_=new f.UIConfigurator(e),e.set("layerConfigurator",this.layerConfigurator_),e.set("UIConfigurator",this.UIConfigurator_),this.configureMap(),this.firstRun_=!1}return r(t,[{key:"configureLayers",value:function(){this.layerConfigurator_.configureLayers()}},{key:"configureUI",value:function(){this.UIConfigurator_.configureUI()}},{key:"configureMap",value:function(){var t=this;if(this.firstRun_)throw v.Debug.error("configureMap is supposed to be called only once"),v.Debug.warn('If you would like to change that, please think about something because of the asynchronous nature of "ready", "ready:ui" and "ready:layers"'),new Error;var e=(0,p.copyDeep)(this.map_.get("mapConfig"));e.enableContextMenu||(0,i.default)(this.map_.getTarget()).on("contextmenu",function(t){(0,i.default)(t.target).is("input[type=text]")||(0,i.default)(t.target).is("textarea")||t.preventDefault()}),this.map_.set("userActionTracking",e.userActionTracking);var n={};e.hasOwnProperty("manageStyles")&&(n.manageStyles=e.manageStyles),this.map_.get("styleMap")?n.styleConfigMap=this.map_.get("styleMap"):e.hasOwnProperty("styleMap")&&(n.styleConfigMap=e.styleMap);var r=e.hasOwnProperty("scaleIcons")?e.scaleIcons:1;n.scaleIcons=r,this.map_.set("scaleIcons",r),this.map_.set("styling",new c.Styling(n));for(var h=e.hasOwnProperty("additionalProjections")?e.additionalProjections:[],f=0,y=h.length;f<y;f++)o.default.defs(h[f].code,h[f].definition);h.length>0&&(0,a.register)(o.default);var _=void 0;e.hasOwnProperty("mapProjection")?_=(0,s.get)(e.mapProjection):(v.Debug.warn("map should have set a `mapProjection`. Assuming default `EPSG:3857`."),_=(0,s.get)("EPSG:3857")),this.map_.set("mapProjection",_);var m=e.hasOwnProperty("interfaceProjection")?e.interfaceProjection:"EPSG:4326";if(this.map_.set("interfaceProjection",m),(0,d.checkFor)(e,"measurementProjection"))try{this.map_.set("measurementProjection",(0,s.get)(e.measurementProjection))}catch(t){throw new Error("measurementProjection is not available, check for spelling or try to add it to additionalProjections with a proj4 definition.")}this.configureLayers();var b=e.view||{};b.projection=_,(0,d.checkFor)(e.view,"center")&&(b.center=(0,s.transform)(e.view.center,m,_)),(0,d.checkFor)(e.view,"extent")&&(b.extent=(0,u.applyTransform)(e.view.extent,(0,s.getTransform)(m,_)),b.constrainCenterOnly=!0);var w=this.map_.getView();w&&(b.center=w.getCenter()||e.view.center,b.resolution=w.getResolution()||e.view.resolution,b.rotation=w.getRotation()||e.view.rotation);var E=new l.default(b);!w&&(0,d.checkFor)(e.view,"fit")&&E.fit((0,s.transformExtent)(e.view.fit,m,_),{size:this.map_.getSize()}),this.map_.setView(E),(0,i.default)(window).on("resize",function(){t.map_.dispatchEvent("resize")});var x=(0,i.default)(this.map_.getViewport());x.on("mousedown",function(){x.addClass("mousedown")}),x.on("mouseup",function(){x.removeClass("mousedown")}),x.focus(),x.on("click",function(){x.focus()}),v.Debug.tryOrThrow(function(){t.configureUI()}),this.map_.set("api",new g.API(this.map_,e.api));var O=!0,C=!1,S=void 0;try{for(var P,M=this.map_.getModules()[Symbol.iterator]();!(O=(P=M.next()).done);O=!0){P.value.configureMap(e)}}catch(t){C=!0,S=t}finally{try{!O&&M.return&&M.return()}finally{if(C)throw S}}}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=y(n(124)),o=n(78),a=n(26),s=y(n(4)),u=n(1),l=n(34),c=y(n(20)),h=n(32),f=y(n(57)),p=n(10),d=y(n(289)),g=y(n(288)),v=n(3);function y(t){return t&&t.__esModule?t:{default:t}}var _=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function m(t){return t.feature?t.feature:t.element?t.element:void 0}var b=[],w=function(t){function e(e){var n=this,r=e||{},i=r;return i.handleDownEvent||(i.handleDownEvent=l.TRUE),i.stopDown||(i.stopDown=l.FALSE),(n=t.call(this,i)||this).source_=r.source?r.source:null,n.vertex_=void 0===r.vertex||r.vertex,n.edge_=void 0===r.edge||r.edge,n.features_=r.features?r.features:null,n.featuresListenerKeys_=[],n.featureChangeListenerKeys_={},n.indexedFeaturesExtents_={},n.pendingFeatures_={},n.pixelTolerance_=void 0!==r.pixelTolerance?r.pixelTolerance:10,n.rBush_=new g.default,n.SEGMENT_WRITERS_={Point:n.writePointGeometry_.bind(n),LineString:n.writeLineStringGeometry_.bind(n),LinearRing:n.writeLineStringGeometry_.bind(n),Polygon:n.writePolygonGeometry_.bind(n),MultiPoint:n.writeMultiPointGeometry_.bind(n),MultiLineString:n.writeMultiLineStringGeometry_.bind(n),MultiPolygon:n.writeMultiPolygonGeometry_.bind(n),GeometryCollection:n.writeGeometryCollectionGeometry_.bind(n),Circle:n.writeCircleGeometry_.bind(n)},n}return _(e,t),e.prototype.addFeature=function(t,e){var n=void 0===e||e,i=(0,r.getUid)(t),o=t.getGeometry();if(o){var l=this.SEGMENT_WRITERS_[o.getType()];l&&(this.indexedFeaturesExtents_[i]=o.getExtent((0,u.createEmpty)()),l(t,o))}n&&(this.featureChangeListenerKeys_[i]=(0,a.listen)(t,s.default.CHANGE,this.handleFeatureChange_,this))},e.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},e.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},e.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},e.prototype.handleEvent=function(e){var n=this.snapTo(e.pixel,e.coordinate,e.map);return n.snapped&&(e.coordinate=n.vertex.slice(0,2),e.pixel=n.vertexPixel),t.prototype.handleEvent.call(this,e)},e.prototype.handleFeatureAdd_=function(t){var e=m(t);this.addFeature(e)},e.prototype.handleFeatureRemove_=function(t){var e=m(t);this.removeFeature(e)},e.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var n=(0,r.getUid)(e);n in this.pendingFeatures_||(this.pendingFeatures_[n]=e)}else this.updateFeature_(e)},e.prototype.handleUpEvent=function(t){var e=(0,p.getValues)(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},e.prototype.removeFeature=function(t,e){var n=void 0===e||e,i=(0,r.getUid)(t),o=this.indexedFeaturesExtents_[i];if(o){var s=this.rBush_,u=[];s.forEachInExtent(o,function(e){t===e.feature&&u.push(e)});for(var l=u.length-1;l>=0;--l)s.remove(u[l])}n&&((0,a.unlistenByKey)(this.featureChangeListenerKeys_[i]),delete this.featureChangeListenerKeys_[i])},e.prototype.setMap=function(e){var n=this.getMap(),r=this.featuresListenerKeys_,o=this.getFeatures_();n&&(r.forEach(a.unlistenByKey),r.length=0,o.forEach(this.forEachFeatureRemove_.bind(this))),t.prototype.setMap.call(this,e),e&&(this.features_?r.push((0,a.listen)(this.features_,i.default.ADD,this.handleFeatureAdd_,this),(0,a.listen)(this.features_,i.default.REMOVE,this.handleFeatureRemove_,this)):this.source_&&r.push((0,a.listen)(this.source_,d.default.ADDFEATURE,this.handleFeatureAdd_,this),(0,a.listen)(this.source_,d.default.REMOVEFEATURE,this.handleFeatureRemove_,this)),o.forEach(this.forEachFeatureAdd_.bind(this)))},e.prototype.snapTo=function(t,e,n){var r=n.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),i=n.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),a=(0,u.boundingExtent)([r,i]),s=this.rBush_.getInExtent(a);this.vertex_&&!this.edge_&&(s=s.filter(function(t){return t.feature.getGeometry().getType()!==c.default.CIRCLE}));var l=!1,h=null,f=null;if(0===s.length)return{snapped:l,vertex:h,vertexPixel:f};for(var p,d=n.getView().getProjection(),g=(0,v.fromUserCoordinate)(e,d),y=1/0,_=0;_<s.length;++_){var m=s[_];b[0]=(0,v.fromUserCoordinate)(m.segment[0],d),b[1]=(0,v.fromUserCoordinate)(m.segment[1],d);var w=(0,o.squaredDistanceToSegment)(g,b);w<y&&(p=m,y=w)}var E=p.segment;if(this.vertex_&&!this.edge_){var x=n.getPixelFromCoordinate(E[0]),O=n.getPixelFromCoordinate(E[1]),C=(0,o.squaredDistance)(t,x),S=(0,o.squaredDistance)(t,O);Math.sqrt(Math.min(C,S))<=this.pixelTolerance_&&(l=!0,h=C>S?E[1]:E[0],f=n.getPixelFromCoordinate(h))}else if(this.edge_){var P=p.feature.getGeometry().getType()===c.default.CIRCLE;if(P?h=(0,o.closestOnCircle)(e,p.feature.getGeometry()):(b[0]=(0,v.fromUserCoordinate)(E[0],d),b[1]=(0,v.fromUserCoordinate)(E[1],d),h=(0,v.toUserCoordinate)((0,o.closestOnSegment)(g,b),d)),f=n.getPixelFromCoordinate(h),(0,o.distance)(t,f)<=this.pixelTolerance_&&(l=!0,this.vertex_&&!P)){x=n.getPixelFromCoordinate(E[0]),O=n.getPixelFromCoordinate(E[1]),C=(0,o.squaredDistance)(f,x),S=(0,o.squaredDistance)(f,O);Math.sqrt(Math.min(C,S))<=this.pixelTolerance_&&(h=C>S?E[1]:E[0],f=n.getPixelFromCoordinate(h))}}return l&&(f=[Math.round(f[0]),Math.round(f[1])]),{snapped:l,vertex:h,vertexPixel:f}},e.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},e.prototype.writeCircleGeometry_=function(t,e){for(var n=(0,h.fromCircle)(e).getCoordinates()[0],r=0,i=n.length-1;r<i;++r){var o=n.slice(r,r+2),a={feature:t,segment:o};this.rBush_.insert((0,u.boundingExtent)(o),a)}},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var n=e.getGeometriesArray(),r=0;r<n.length;++r){var i=this.SEGMENT_WRITERS_[n[r].getType()];i&&i(t,n[r])}},e.prototype.writeLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length-1;r<i;++r){var o=n.slice(r,r+2),a={feature:t,segment:o};this.rBush_.insert((0,u.boundingExtent)(o),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length;r<i;++r)for(var o=n[r],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),c={feature:t,segment:l};this.rBush_.insert((0,u.boundingExtent)(l),c)}},e.prototype.writeMultiPointGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length;r<i;++r){var o=n[r],a={feature:t,segment:[o,o]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length;r<i;++r)for(var o=n[r],a=0,s=o.length;a<s;++a)for(var l=o[a],c=0,h=l.length-1;c<h;++c){var f=l.slice(c,c+2),p={feature:t,segment:f};this.rBush_.insert((0,u.boundingExtent)(f),p)}},e.prototype.writePointGeometry_=function(t,e){var n=e.getCoordinates(),r={feature:t,segment:[n,n]};this.rBush_.insert(e.getExtent(),r)},e.prototype.writePolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length;r<i;++r)for(var o=n[r],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),c={feature:t,segment:l};this.rBush_.insert((0,u.boundingExtent)(l),c)}},e}(f.default);e.default=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=d(n(124)),o=n(17),a=d(n(37)),s=n(58),u=n(34),l=d(n(20)),c=d(n(86)),h=n(10),f=n(65),p=d(n(46));function d(t){return t&&t.__esModule?t:{default:t}}var g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v={SELECT:"select"},y=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.selected=n,o.deselected=r,o.mapBrowserEvent=i,o}return g(e,t),e}(a.default),_=function(t){function e(e){var n,r=t.call(this,{handleEvent:m})||this,a=e||{};if(r.condition_=a.condition?a.condition:s.singleClick,r.addCondition_=a.addCondition?a.addCondition:s.never,r.removeCondition_=a.removeCondition?a.removeCondition:s.never,r.toggleCondition_=a.toggleCondition?a.toggleCondition:s.shiftKeyOnly,r.multi_=!!a.multi&&a.multi,r.filter_=a.filter?a.filter:u.TRUE,r.hitTolerance_=a.hitTolerance?a.hitTolerance:0,r.style_=void 0!==a.style?a.style:function(){var t=(0,f.createEditingStyle)();return(0,o.extend)(t[l.default.POLYGON],t[l.default.LINE_STRING]),(0,o.extend)(t[l.default.GEOMETRY_COLLECTION],t[l.default.LINE_STRING]),function(e){return e.getGeometry()?t[e.getGeometry().getType()]:null}}(),r.featureStyleAssociation_={},r.features_=a.features||new p.default,a.layers)if("function"==typeof a.layers)n=a.layers;else{var c=a.layers;n=function(t){return(0,o.includes)(c,t)}}else n=u.TRUE;r.layerFilter_=n,r.featureLayerAssociation_={};var h=r.getFeatures();return h.addEventListener(i.default.ADD,r.addFeature_.bind(r)),h.addEventListener(i.default.REMOVE,r.removeFeature_.bind(r)),r}return g(e,t),e.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[(0,r.getUid)(t)]=e},e.prototype.getFeatures=function(){return this.features_},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){return this.featureLayerAssociation_[(0,r.getUid)(t)]},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){this.getMap()&&this.style_&&this.features_.forEach(this.removeSelectedStyle_.bind(this)),t.prototype.setMap.call(this,e),e&&this.style_&&this.features_.forEach(this.giveSelectedStyle_.bind(this))},e.prototype.addFeature_=function(t){var e=t.element;this.style_&&this.giveSelectedStyle_(e)},e.prototype.removeFeature_=function(t){var e=t.element;this.style_&&this.removeSelectedStyle_(e)},e.prototype.giveSelectedStyle_=function(t){var e=(0,r.getUid)(t);this.featureStyleAssociation_[e]=t.getStyle(),t.setStyle(this.style_)},e.prototype.removeSelectedStyle_=function(t){var e=(0,r.getUid)(t);t.setStyle(this.featureStyleAssociation_[e]),delete this.featureStyleAssociation_[e]},e.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[(0,r.getUid)(t)]},e}(c.default);function m(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),n=this.removeCondition_(t),r=this.toggleCondition_(t),i=!e&&!n&&!r,a=t.map,s=this.getFeatures(),u=[],l=[];if(i){(0,h.clear)(this.featureLayerAssociation_),a.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e))return l.push(t),this.addFeatureLayerAssociation_(t,e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var c=s.getLength()-1;c>=0;--c){var f=s.item(c),p=l.indexOf(f);p>-1?l.splice(p,1):(s.remove(f),u.push(f))}0!==l.length&&s.extend(l)}else{a.forEachFeatureAtPixel(t.pixel,function(t,i){if(this.filter_(t,i))return!e&&!r||(0,o.includes)(s.getArray(),t)?(n||r)&&(0,o.includes)(s.getArray(),t)&&(u.push(t),this.removeFeatureLayerAssociation_(t)):(l.push(t),this.addFeatureLayerAssociation_(t,i)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var d=u.length-1;d>=0;--d)s.remove(u[d]);s.extend(l)}return(l.length>0||u.length>0)&&this.dispatchEvent(new y(v.SELECT,l,u,t)),!0}e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={LEFT:37,UP:38,RIGHT:39,DOWN:40}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(208);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return f(r).default}});var i=n(121);Object.defineProperty(e,"Fill",{enumerable:!0,get:function(){return f(i).default}});var o=n(206);Object.defineProperty(e,"Icon",{enumerable:!0,get:function(){return f(o).default}});var a=n(442);Object.defineProperty(e,"IconImage",{enumerable:!0,get:function(){return f(a).default}});var s=n(293);Object.defineProperty(e,"Image",{enumerable:!0,get:function(){return f(s).default}});var u=n(207);Object.defineProperty(e,"RegularShape",{enumerable:!0,get:function(){return f(u).default}});var l=n(146);Object.defineProperty(e,"Stroke",{enumerable:!0,get:function(){return f(l).default}});var c=n(65);Object.defineProperty(e,"Style",{enumerable:!0,get:function(){return f(c).default}});var h=n(204);function f(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return f(h).default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createHitDetectionImageData=function(t,e,n,c,h,f,p){var d=t[0]/2,g=t[1]/2,v=(0,i.createCanvasContext2D)(d,g);v.imageSmoothingEnabled=!1;for(var y=v.canvas,_=new r.default(v,.5,h,null,p),m=n.length,b=Math.ceil(16777216/m),w={},E=0;E<m;++E){var x=n[E],O=x.getStyleFunction()||c;if(c){var C=O(x,f);Array.isArray(C)||(C=[C]);for(var S=E*b,P="#"+("000000"+S.toString(16)).slice(-6),M=0,T=C.length;M<T;++M){var A=C[M],D=A.clone(),I=D.getFill();I&&I.setColor(P);var L=D.getStroke();L&&L.setColor(P),D.setText(void 0);var F=A.getImage();if(F){var k=F.getImageSize(),R=document.createElement("canvas");R.width=k[0],R.height=k[1];var j=R.getContext("2d",{alpha:!1});j.fillStyle=P;var N=j.canvas;j.fillRect(0,0,N.width,N.height);var B=k?k[0]:N.width,G=k?k[1]:N.height,U=(0,i.createCanvasContext2D)(B,G);U.drawImage(N,0,0),D.setImage(new o.Icon({img:N,imgSize:k,anchor:F.getAnchor(),anchorXUnits:a.default.PIXELS,anchorYUnits:a.default.PIXELS,offset:F.getOrigin(),size:F.getSize(),opacity:F.getOpacity(),scale:F.getScale(),rotation:F.getRotation(),rotateWithView:F.getRotateWithView()}))}var z=Number(D.getZIndex()),V=w[z];V||(V={},w[z]=V,V[s.default.POLYGON]=[],V[s.default.CIRCLE]=[],V[s.default.LINE_STRING]=[],V[s.default.POINT]=[]);var Y=D.getGeometryFunction()(x);Y&&(0,u.intersects)(h,Y.getExtent())&&V[Y.getType().replace("Multi","")].push(Y,D)}}}for(var W=Object.keys(w).map(Number).sort(l.numberSafeCompareFunction),E=0,X=W.length;E<X;++E){var V=w[W[E]];for(var q in V)for(var H=V[q],M=0,T=H.length;M<T;M+=2){_.setStyle(H[M+1]);for(var $=0,K=e.length;$<K;++$)_.setTransform(e[$]),_.drawGeometry(H[M])}}return v.getImageData(0,0,y.width,y.height)},e.hitDetect=function(t,e,n){var r=[];if(n){var i=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*n.width),o=n.data[i],a=n.data[i+1],s=n.data[i+2],u=s+256*(a+256*o),l=Math.ceil(16777216/e.length);u%l==0&&r.push(e[u/l])}return r};var r=c(n(464)),i=n(27),o=n(837),a=c(n(291)),s=c(n(20)),u=n(1),l=n(17);function c(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=u(n(66)),o=u(n(70)),a=u(n(4)),s=u(n(69));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n}return l(e,t),e.prototype.getFeatures=function(t){return(0,r.abstract)()},e.prototype.prepareFrame=function(t){return(0,r.abstract)()},e.prototype.renderFrame=function(t,e){return(0,r.abstract)()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(r,i){var o=this.loadedTileCallback.bind(this,n,r);return t.forEachLoadedTile(e,r,i,o)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){},e.prototype.getDataAtPixel=function(t,e,n){return(0,r.abstract)()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===i.default.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=i.default.LOADED&&e!=i.default.ERROR&&t.addEventListener(a.default.CHANGE,this.boundHandleImageChange_),e==i.default.IDLE&&(t.load(),e=t.getState()),e==i.default.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==s.default.READY&&t.changed()},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawTextOnPath=function(t,e,n,i,o,a,s,u,l,c,h){for(var f,p,d=[],g=t[e]>t[n-i],v=o.length,y=t[e],_=t[e+1],m=t[e+=i],b=t[e+1],w=0,E=Math.sqrt(Math.pow(m-y,2)+Math.pow(b-_,2)),x=!1,O=0;O<v;++O){for(var C=o[f=g?v-O-1:O],S=u*l(c,C,h),P=a+S/2;e<n-i&&w+E<P;)y=m,_=b,m=t[e+=i],b=t[e+1],w+=E,E=Math.sqrt(Math.pow(m-y,2)+Math.pow(b-_,2));var M=P-w,T=Math.atan2(b-_,m-y);if(g&&(T+=T>0?-Math.PI:Math.PI),void 0!==p){var A=T-p;if(x=x||0!==A,A+=A>Math.PI?-2*Math.PI:A<-Math.PI?2*Math.PI:0,Math.abs(A)>s)return null}p=T;var D=M/E,I=(0,r.lerp)(y,m,D),L=(0,r.lerp)(_,b,D);d[f]=[I,L,S/2,T,C],a+=S}return x?d:[[d[0][0],d[0][1],d[0][2],d[0][3],o]]};var r=n(14)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),i=n(1),o=n(448),a=n(840),s=n(152),u=n(100),l=g(n(145)),c=n(445),h=n(41),f=n(27),p=g(n(154)),d=g(n(443));function g(t){return t&&t.__esModule?t:{default:t}}var v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=(0,i.createEmpty)(),_=(0,h.create)(),m=[],b=[],w=[],E=[],x=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.overlaps=r,o.pixelRatio=n,o.resolution=e,o.alignFill_,o.declutterItems=[],o.instructions=i.instructions,o.coordinates=i.coordinates,o.coordinateCache_={},o.renderedTransform_=(0,h.create)(),o.hitDetectionInstructions=i.hitDetectionInstructions,o.pixelCoordinates_=null,o.viewRotation_=0,o.fillStates=i.fillStates||{},o.strokeStates=i.strokeStates||{},o.textStates=i.textStates||{},o.widths_={},o}return v(e,t),e.prototype.disposeInternal=function(){u.labelCache.release(this),t.prototype.disposeInternal.call(this)},e.prototype.getTextImage=function(t,e,n,r){var i,o=r+e+t+n+this.pixelRatio;if(!u.labelCache.containsKey(o)){var a=r?this.strokeStates[r]:null,s=n?this.fillStates[n]:null,l=this.textStates[e],h=this.pixelRatio,p=l.scale*h,d=c.TEXT_ALIGN[l.textAlign||u.defaultTextAlign],g=r&&a.lineWidth?a.lineWidth:0,v=t.split("\n"),y=v.length,_=[],m=(0,u.measureTextWidths)(l.font,v,_),b=(0,u.measureTextHeight)(l.font),w=b*y,E=m+g,x=(0,f.createCanvasContext2D)(Math.ceil((E+2)*p),Math.ceil((w+g)*p));i=x.canvas,u.labelCache.set(o,i),1!=p&&x.scale(p,p),x.font=l.font,r&&(x.strokeStyle=a.strokeStyle,x.lineWidth=g,x.lineCap=a.lineCap,x.lineJoin=a.lineJoin,x.miterLimit=a.miterLimit,x.setLineDash&&a.lineDash.length&&(x.setLineDash(a.lineDash),x.lineDashOffset=a.lineDashOffset)),n&&(x.fillStyle=s.fillStyle),x.textBaseline="middle",x.textAlign="center";var O=.5-d,C=d*E+O*g,S=void 0;if(r)for(S=0;S<y;++S)x.strokeText(v[S],C+O*_[S],.5*(g+b)+S*b);if(n)for(S=0;S<y;++S)x.fillText(v[S],C+O*_[S],.5*(g+b)+S*b)}return u.labelCache.get(o,this)},e.prototype.replayTextBackground_=function(t,e,n,r,i,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},e.prototype.replayImage_=function(t,e,n,r,o,a,s,l,c,f,p,d,g,v,x,O,C,S){var P=C||S;e-=o*=g,n-=a*=g;var M=x+f>r.width?r.width-f:x,T=l+p>r.height?r.height-p:l,A=O[3]+M*g+O[1],D=O[0]+T*g+O[2],I=e-O[3],L=n-O[0];(P||0!==d)&&(m[0]=I,E[0]=I,m[1]=L,b[1]=L,b[0]=I+A,w[0]=b[0],w[1]=L+D,E[1]=w[1]);var F=null;if(0!==d){var k=e+o,R=n+a;F=(0,h.compose)(_,k,R,1,1,d,-k,-R),(0,h.apply)(_,m),(0,h.apply)(_,b),(0,h.apply)(_,w),(0,h.apply)(_,E),(0,i.createOrUpdate)(Math.min(m[0],b[0],w[0],E[0]),Math.min(m[1],b[1],w[1],E[1]),Math.max(m[0],b[0],w[0],E[0]),Math.max(m[1],b[1],w[1],E[1]),y)}else(0,i.createOrUpdate)(I,L,I+A,L+D,y);var j=t.canvas,N=S?S[2]*g/2:0,B=y[0]-N<=j.width&&y[2]+N>=0&&y[1]-N<=j.height&&y[3]+N>=0;if(v&&(e=Math.round(e),n=Math.round(n)),s){if(!B&&1==s[4])return;(0,i.extend)(s,y);var G=B?[t,F?F.slice(0):null,c,r,f,p,M,T,e,n,g]:null;G&&(P&&G.push(C,S,m,b,w,E),s.push(G))}else B&&(P&&this.replayTextBackground_(t,m,b,w,E,C,S),(0,u.drawImage)(t,F,c,r,f,p,M,T,e,n,g))},e.prototype.fill_=function(t){if(this.alignFill_){var e=(0,h.apply)(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter=function(t,e,n,r){if(t&&t.length>5){var o=t[4];if(1==o||o==t.length-5){var a={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(r||(r=new d.default(9)),!r.collides(a)){r.insert(a);for(var s=5,l=t.length;s<l;++s){var c=t[s],h=c[0],f=h.globalAlpha;f!==n&&(h.globalAlpha=n),c.length>11&&this.replayTextBackground_(c[0],c[13],c[14],c[15],c[16],c[11],c[12]),u.drawImage.apply(void 0,c),f!==n&&(h.globalAlpha=f)}}t.length=5,(0,i.createOrUpdateEmpty)(t)}}return r},e.prototype.drawTextImageWithPointPlacement_=function(t,e,n,r){var i=this.textStates[e],o=this.getTextImage(t,e,r,n),a=this.strokeStates[n],s=this.pixelRatio,l=c.TEXT_ALIGN[i.textAlign||u.defaultTextAlign],h=c.TEXT_ALIGN[i.textBaseline||u.defaultTextBaseline],f=a&&a.lineWidth?a.lineWidth:0;return{label:o,anchorX:l*(o.width/s-2*i.scale)+2*(.5-l)*f,anchorY:h*o.height/s+2*(.5-h)*f}},e.prototype.execute_=function(t,e,n,f,p,d){var g;this.declutterItems.length=0,this.pixelCoordinates_&&(0,r.equals)(e,this.renderedTransform_)?g=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),g=(0,s.transform2D)(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),(0,h.setFromArray)(this.renderedTransform_,e));for(var v,y,_,m,b,w,E,x,O,C,S,P,M,T,A,D,I,L=0,F=n.length,k=0,R=0,j=0,N=null,B=null,G=this.coordinateCache_,U=this.viewRotation_,z=Math.round(1e12*Math.atan2(-e[1],e[0]))/1e12,V={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:U},Y=this.instructions!=n||this.overlaps?0:200;L<F;){var W=n[L];switch(W[0]){case l.default.BEGIN_GEOMETRY:(A=W[1]).getGeometry()?void 0===d||(0,i.intersects)(d,W[3])?++L:L=W[2]+1:L=W[2];break;case l.default.BEGIN_PATH:R>Y&&(this.fill_(t),R=0),j>Y&&(t.stroke(),j=0),R||j||(t.beginPath(),m=NaN,b=NaN),++L;break;case l.default.CIRCLE:var X=g[k=W[1]],q=g[k+1],H=g[k+2]-X,$=g[k+3]-q,K=Math.sqrt(H*H+$*$);t.moveTo(X+K,q),t.arc(X,q,K,0,2*Math.PI,!0),++L;break;case l.default.CLOSE_PATH:t.closePath(),++L;break;case l.default.CUSTOM:k=W[1],v=W[2];var Z=W[3],J=W[4],Q=6==W.length?W[5]:void 0;V.geometry=Z,V.feature=A,L in G||(G[L]=[]);var tt=G[L];Q?Q(g,k,v,2,tt):(tt[0]=g[k],tt[1]=g[k+1],tt.length=2),J(tt,V),++L;break;case l.default.DRAW_IMAGE:k=W[1],v=W[2],C=W[3],y=W[4],_=W[5],O=p?null:W[6];var et=W[7],nt=W[8],rt=W[9],it=W[10],ot=W[11],at=W[12],st=W[13],ut=W[14];if(!C&&W.length>=19){S=W[18],P=W[19],M=W[20],T=W[21];var lt=this.drawTextImageWithPointPlacement_(S,P,M,T);C=lt.label,W[3]=C;var ct=W[22];y=(lt.anchorX-ct)*this.pixelRatio,W[4]=y;var ht=W[23];_=(lt.anchorY-ht)*this.pixelRatio,W[5]=_,et=C.height,W[7]=et,ut=C.width,W[14]=ut}var ft=void 0;W.length>24&&(ft=W[24]);var pt=void 0,dt=void 0,gt=void 0;W.length>16?(pt=W[15],dt=W[16],gt=W[17]):(pt=u.defaultPadding,dt=!1,gt=!1),ot&&z?at+=U:ot||z||(at-=U);for(var vt=0,yt=0;k<v;k+=2)if(!(ft&&ft[vt++]<ut/this.pixelRatio)){if(O){var _t=Math.floor(yt);O.length<_t+1&&((x=(0,i.createEmpty)()).push(O[0][4]),O.push(x)),x=O[_t]}this.replayImage_(t,g[k],g[k+1],C,y,_,x,et,nt,rt,it,at,st,f,ut,pt,dt?N:null,gt?B:null),x&&(yt===Math.floor(yt)&&this.declutterItems.push(this,x,A),yt+=1/x[4])}++L;break;case l.default.DRAW_CHARS:var mt=W[1],bt=W[2],wt=W[3];x=p?null:W[4];var Et=W[5];T=W[6];var xt=W[7],Ot=W[8],Ct=W[9];M=W[10];var St=W[11];S=W[12],P=W[13];var Pt=W[14],Mt=this.textStates[P],Tt=Mt.font,At=Mt.scale*Ot,Dt=void 0;Tt in this.widths_?Dt=this.widths_[Tt]:(Dt={},this.widths_[Tt]=Dt);var It=(0,o.lineStringLength)(g,mt,bt,2),Lt=At*(0,u.measureAndCacheTextWidth)(Tt,S,Dt);if(Et||Lt<=It){var Ft=this.textStates[P].textAlign,kt=(It-Lt)*c.TEXT_ALIGN[Ft],Rt=(0,a.drawTextOnPath)(g,mt,bt,2,S,kt,xt,At,u.measureAndCacheTextWidth,Tt,Dt);if(Rt){var jt=void 0,Nt=void 0,Bt=void 0,Gt=void 0,Ut=void 0;if(M)for(jt=0,Nt=Rt.length;jt<Nt;++jt)Bt=(Ut=Rt[jt])[4],Gt=this.getTextImage(Bt,P,"",M),y=Ut[2]+St,_=wt*Gt.height+2*(.5-wt)*St-Ct,this.replayImage_(t,Ut[0],Ut[1],Gt,y,_,x,Gt.height,1,0,0,Ut[3],Pt,!1,Gt.width,u.defaultPadding,null,null);if(T)for(jt=0,Nt=Rt.length;jt<Nt;++jt)Bt=(Ut=Rt[jt])[4],Gt=this.getTextImage(Bt,P,T,""),y=Ut[2],_=wt*Gt.height-Ct,this.replayImage_(t,Ut[0],Ut[1],Gt,y,_,x,Gt.height,1,0,0,Ut[3],Pt,!1,Gt.width,u.defaultPadding,null,null)}}this.declutterItems.push(this,x,A),++L;break;case l.default.END_GEOMETRY:if(void 0!==p){var zt=p(A=W[1]);if(zt)return zt}++L;break;case l.default.FILL:Y?R++:this.fill_(t),++L;break;case l.default.MOVE_TO_LINE_TO:for(k=W[1],v=W[2],D=g[k],E=(I=g[k+1])+.5|0,(w=D+.5|0)===m&&E===b||(t.moveTo(D,I),m=w,b=E),k+=2;k<v;k+=2)w=(D=g[k])+.5|0,E=(I=g[k+1])+.5|0,k!=v-2&&w===m&&E===b||(t.lineTo(D,I),m=w,b=E);++L;break;case l.default.SET_FILL_STYLE:N=W,this.alignFill_=W[2],R&&(this.fill_(t),R=0,j&&(t.stroke(),j=0)),t.fillStyle=W[1],++L;break;case l.default.SET_STROKE_STYLE:B=W,j&&(t.stroke(),j=0),this.setStrokeStyle_(t,W),++L;break;case l.default.STROKE:Y?j++:t.stroke(),++L;break;default:++L}}R&&this.fill_(t),j&&t.stroke()},e.prototype.execute=function(t,e,n,r){this.viewRotation_=n,this.execute_(t,e,this.instructions,r,void 0,void 0)},e.prototype.executeHitDetection=function(t,e,n,r,i){return this.viewRotation_=n,this.execute_(t,e,this.hitDetectionInstructions,!0,r,i)},e}(p.default);e.default=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCircleArray=_,e.replayDeclutter=function(t,e,n,i,o,a){for(var s=Object.keys(t).map(Number).sort(r.numberSafeCompareFunction),u=0,l=s.length;u<l;++u)for(var c=t[s[u].toString()],h=void 0,f=0,p=c.length;f<p;){var d=c[f++];d!==h&&(h=d,a.push({items:d.declutterItems,opacity:i}));var g=c[f++];d.execute(e,g,n,o)}};var r=n(17),i=n(27),o=n(1),a=n(152),s=n(10),u=f(n(460)),l=n(41),c=f(n(841)),h=f(n(154));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=[u.default.POLYGON,u.default.CIRCLE,u.default.LINE_STRING,u.default.IMAGE,u.default.TEXT,u.default.DEFAULT],g=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.maxExtent_=e,s.overlaps_=i,s.pixelRatio_=r,s.resolution_=n,s.renderBuffer_=a,s.executorsByZIndex_={},s.hitDetectionContext_=null,s.hitDetectionTransform_=(0,l.create)(),s.createExecutors_(o),s}return p(e,t),e.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},e.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);var r=t[e];for(var i in r){var o=r[i];n[i]=new c.default(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},e.prototype.disposeInternal=function(){for(var e in this.executorsByZIndex_){var n=this.executorsByZIndex_[e];for(var r in n)n[r].disposeInternal()}if(this.hitDetectionContext_){var i=this.hitDetectionContext_.canvas;i.width=0,i.height=0}t.prototype.disposeInternal.call(this)},e.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],r=0,i=t.length;r<i;++r)if(t[r]in n)return!0;return!1},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,a,s,c){var h=2*(a=Math.round(a))+1,f=(0,l.compose)(this.hitDetectionTransform_,a+.5,a+.5,1/e,-1/e,-n,-t[0],-t[1]);this.hitDetectionContext_||(this.hitDetectionContext_=(0,i.createCanvasContext2D)(h,h));var p,g=this.hitDetectionContext_;g.canvas.width!==h||g.canvas.height!==h?(g.canvas.width=h,g.canvas.height=h):g.clearRect(0,0,h,h),void 0!==this.renderBuffer_&&(p=(0,o.createEmpty)(),(0,o.extendCoordinate)(p,t),(0,o.buffer)(p,e*(this.renderBuffer_+a),p));var v,y=_(a);function m(t){for(var e=g.getImageData(0,0,h,h).data,n=0;n<h;n++)for(var r=0;r<h;r++)if(y[n][r]&&e[4*(r*h+n)+3]>0){var i=void 0;return(!c||v!=u.default.IMAGE&&v!=u.default.TEXT||-1!==c.indexOf(t))&&(i=s(t)),i||void g.clearRect(0,0,h,h)}}var b,w,E,x,O,C=Object.keys(this.executorsByZIndex_).map(Number);for(C.sort(r.numberSafeCompareFunction),b=C.length-1;b>=0;--b){var S=C[b].toString();for(E=this.executorsByZIndex_[S],w=d.length-1;w>=0;--w)if(void 0!==(x=E[v=d[w]])&&(O=x.executeHitDetection(g,f,n,m,p)))return O}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],r=e[1],i=e[2],o=e[3],s=[n,r,n,o,i,o,i,r];return(0,a.transform2D)(s,0,8,2,t,s),s},e.prototype.isEmpty=function(){return(0,s.isEmpty)(this.executorsByZIndex_)},e.prototype.execute=function(t,e,n,i,o,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(r.numberSafeCompareFunction),this.maxExtent_&&(t.save(),this.clip(t,e));var l,c,h,f,p,g,v=o||d;for(l=0,c=s.length;l<c;++l){var y=s[l].toString();for(p=this.executorsByZIndex_[y],h=0,f=v.length;h<f;++h){var _=v[h];if(void 0!==(g=p[_]))if(!a||_!=u.default.IMAGE&&_!=u.default.TEXT)g.execute(t,e,n,i);else{var m=a[y];m?m.push(g,e.slice(0)):a[y]=[g,e.slice(0)]}}}this.maxExtent_&&t.restore()},e}(h.default),v={0:[[!0]]};function y(t,e,n){var r,i=Math.floor(t.length/2);if(e>=i)for(r=i;r<e;r++)t[r][n]=!0;else if(e<i)for(r=e+1;r<i;r++)t[r][n]=!0}function _(t){if(void 0!==v[t])return v[t];for(var e=2*t+1,n=new Array(e),r=0;r<e;r++)n[r]=new Array(e);for(var i=t,o=0,a=0;i>=o;)y(n,t+i,t+o),y(n,t+o,t+i),y(n,t-o,t+i),y(n,t-i,t+o),y(n,t-i,t-o),y(n,t-o,t-i),y(n,t+o,t-i),y(n,t+i,t-o),2*((a+=1+2*++o)-i)+1>0&&(a+=1-2*(i-=1));return v[t]=n,n}e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchingChunk=function(t,e,n,r,i){var o,a,s,u,l,c,h,f,p,d=n,g=n,v=0,y=0,_=n;for(o=n;o<r;o+=i){var m=e[o],b=e[o+1];void 0!==u&&(f=m-u,p=b-l,s=Math.sqrt(f*f+p*p),void 0!==c&&(y+=a,Math.acos((c*f+h*p)/(a*s))>t&&(y>v&&(v=y,d=_,g=o),y=0,_=o-i)),a=s,c=f,h=p),u=m,l=b}return(y+=s)>v?[_,o]:[d,g]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(150),i=n(100),o=n(145),a=u(o),s=u(n(169));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return l(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,r){var i=this.state,s=void 0!==i.fillStyle,u=void 0!==i.strokeStyle,l=n.length;this.instructions.push(o.beginPathInstruction),this.hitDetectionInstructions.push(o.beginPathInstruction);for(var c=0;c<l;++c){var h=n[c],f=this.coordinates.length,p=this.appendFlatCoordinates(t,e,h,r,!0,!u),d=[a.default.MOVE_TO_LINE_TO,f,p];this.instructions.push(d),this.hitDetectionInstructions.push(d),u&&(this.instructions.push(o.closePathInstruction),this.hitDetectionInstructions.push(o.closePathInstruction)),e=h}return s&&(this.instructions.push(o.fillInstruction),this.hitDetectionInstructions.push(o.fillInstruction)),u&&(this.instructions.push(o.strokeInstruction),this.hitDetectionInstructions.push(o.strokeInstruction)),e},e.prototype.drawCircle=function(t,e){var n=this.state,r=n.fillStyle,s=n.strokeStyle;if(void 0!==r||void 0!==s){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([a.default.SET_FILL_STYLE,i.defaultFillStyle]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([a.default.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var u=t.getFlatCoordinates(),l=t.getStride(),c=this.coordinates.length;this.appendFlatCoordinates(u,0,u.length,l,!1,!1);var h=[a.default.CIRCLE,c];this.instructions.push(o.beginPathInstruction,h),this.hitDetectionInstructions.push(o.beginPathInstruction,h),void 0!==n.fillStyle&&(this.instructions.push(o.fillInstruction),this.hitDetectionInstructions.push(o.fillInstruction)),void 0!==n.strokeStyle&&(this.instructions.push(o.strokeInstruction),this.hitDetectionInstructions.push(o.strokeInstruction)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([a.default.SET_FILL_STYLE,i.defaultFillStyle]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([a.default.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var s=t.getEnds(),u=t.getOrientedFlatCoordinates(),l=t.getStride();this.drawFlatCoordinatess_(u,0,s,l),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([a.default.SET_FILL_STYLE,i.defaultFillStyle]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([a.default.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var s=t.getEndss(),u=t.getOrientedFlatCoordinates(),l=t.getStride(),c=0,h=0,f=s.length;h<f;++h)c=this.drawFlatCoordinatess_(u,c,s[h],l);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,i=0,o=n.length;i<o;++i)n[i]=(0,r.snap)(n[i],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(s.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(145),i=a(r),o=a(n(169));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return s(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,r){var o=this.coordinates.length,a=this.appendFlatCoordinates(t,e,n,r,!1,!1),s=[i.default.MOVE_TO_LINE_TO,o,a];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n},e.prototype.drawLineString=function(t,e){var n=this.state,o=n.strokeStyle,a=n.lineWidth;if(void 0!==o&&void 0!==a){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([i.default.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],r.beginPathInstruction);var s=t.getFlatCoordinates(),u=t.getStride();this.drawFlatCoordinates_(s,0,s.length,u),this.hitDetectionInstructions.push(r.strokeInstruction),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,o=n.strokeStyle,a=n.lineWidth;if(void 0!==o&&void 0!==a){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([i.default.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],r.beginPathInstruction);for(var s=t.getEnds(),u=t.getFlatCoordinates(),l=t.getStride(),c=0,h=0,f=s.length;h<f;++h)c=this.drawFlatCoordinates_(u,c,s[h],l);this.hitDetectionInstructions.push(r.strokeInstruction),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(r.strokeInstruction),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(r.strokeInstruction),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(r.beginPathInstruction)},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(145)),i=o(n(169));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.declutterGroups_=null,o.hitDetectionImage_=null,o.image_=null,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o}return a(e,t),e.prototype.drawCoordinates_=function(t,e,n,r){return this.appendFlatCoordinates(t,e,n,r,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,a=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([r.default.DRAW_IMAGE,o,a,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([r.default.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,a=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([r.default.DRAW_IMAGE,o,a,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([r.default.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),r=t.getSize(),i=t.getHitDetectionImage(1),o=t.getImage(1),a=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroups_=e,this.hitDetectionImage_=i,this.image_=o,this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=r[0]},e}(i.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=l(n(169)),o=l(n(846)),a=l(n(845)),s=l(n(844)),u=l(n(445));function l(t){return t&&t.__esModule?t:{default:t}}var c={Circle:s.default,Default:i.default,Image:o.default,LineString:a.default,Polygon:s.default,Text:u.default},h=function(){function t(t,e,n,r,i){this.declutter_=i,this.declutterGroups_=null,this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.addDeclutter=function(t){var e=null;return this.declutter_&&(t?(e=this.declutterGroups_)[0][4]++:(e=[(0,r.createEmpty)()],this.declutterGroups_=e,e[0].push(1))),e},t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var r in n){var i=n[r].finish();t[e][r]=i}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",r=this.buildersByZIndex_[n];void 0===r&&(r={},this.buildersByZIndex_[n]=r);var i=r[e];void 0===i&&(i=new(0,c[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=i);return i},t}();e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linearRingss=function(t,e,n,i){for(var o=[],a=(0,r.createEmpty)(),s=0,u=n.length;s<u;++s){var l=n[s];a=(0,r.createOrUpdateFromFlatCoordinates)(t,e,l[0],i),o.push((a[0]+a[2])/2,(a[1]+a[3])/2),e=l[l.length-1]}return o};var r=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(58),i=function(t){return t&&t.__esModule?t:{default:t}}(n(57));var o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,i)||this).condition_=i.condition?i.condition:r.shiftKeyOnly,n.lastAngle_=void 0,n.lastMagnitude_=void 0,n.lastScaleDelta_=0,n.duration_=void 0!==i.duration?i.duration:400,n}return o(e,t),e.prototype.handleDragEvent=function(t){if((0,r.mouseOnly)(t)){var e=t.map,n=e.getSize(),i=t.pixel,o=i[0]-n[0]/2,a=n[1]/2-i[1],s=Math.atan2(a,o),u=Math.sqrt(o*o+a*a),l=e.getView();if(void 0!==this.lastAngle_){var c=this.lastAngle_-s;l.adjustRotationInternal(c)}this.lastAngle_=s,void 0!==this.lastMagnitude_&&l.adjustResolutionInternal(this.lastMagnitude_/u),void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/u),this.lastMagnitude_=u}},e.prototype.handleUpEvent=function(t){if(!(0,r.mouseOnly)(t))return!0;var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),this.lastScaleDelta_=0,!1},e.prototype.handleDownEvent=function(t){return!!(0,r.mouseOnly)(t)&&(!!this.condition_(t)&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))},e}(i.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(154)),i=o(n(32));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return a(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new i.default([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(r.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(34),i=n(26),o=l(n(37)),a=l(n(4)),s=l(n(86)),u=n(3);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h="addfeatures",f=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.features=r,o.file=n,o.projection=i,o}return c(e,t),e}(o.default),p=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,{handleEvent:r.TRUE})||this).formatConstructors_=i.formatConstructors?i.formatConstructors:[],n.projection_=i.projection?(0,u.get)(i.projection):null,n.dropListenKeys_=null,n.source_=i.source||null,n.target=i.target?i.target:null,n}return c(e,t),e.prototype.handleResult_=function(t,e){var n=e.target.result,r=this.getMap(),i=this.projection_;i||(i=r.getView().getProjection());for(var o=this.formatConstructors_,a=[],s=0,u=o.length;s<u;++s){var l=new o[s];if((a=this.tryReadFeatures_(l,n,{featureProjection:i}))&&a.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(a)),this.dispatchEvent(new f(h,t,a,i))},e.prototype.registerListeners_=function(){var t=this.getMap();if(t){var e=this.target?this.target:t.getViewport();this.dropListenKeys_=[(0,i.listen)(e,a.default.DROP,d,this),(0,i.listen)(e,a.default.DRAGENTER,g,this),(0,i.listen)(e,a.default.DRAGOVER,g,this),(0,i.listen)(e,a.default.DROP,g,this)]}},e.prototype.setActive=function(e){!this.getActive()&&e&&this.registerListeners_(),this.getActive()&&!e&&this.unregisterListeners_(),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.unregisterListeners_(),t.prototype.setMap.call(this,e),this.getActive()&&this.registerListeners_()},e.prototype.tryReadFeatures_=function(t,e,n){try{return t.readFeatures(e,n)}catch(t){return null}},e.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(i.unlistenByKey),this.dropListenKeys_=null)},e}(s.default);function d(t){for(var e=t.dataTransfer.files,n=0,r=e.length;n<r;++n){var i=e.item(n),o=new FileReader;o.addEventListener(a.default.LOAD,this.handleResult_.bind(this,i)),o.readAsText(i)}}function g(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Translate=e.Snap=e.Select=e.Pointer=e.PinchZoom=e.PinchRotate=e.MouseWheelZoom=e.Modify=e.KeyboardZoom=e.KeyboardPan=e.Interaction=e.Extent=e.Draw=e.DragZoom=e.DragRotateAndZoom=e.DragRotate=e.DragPan=e.DragBox=e.DragAndDrop=e.DoubleClickZoom=void 0;var r=n(455);Object.defineProperty(e,"DoubleClickZoom",{enumerable:!0,get:function(){return k(r).default}});var i=n(851);Object.defineProperty(e,"DragAndDrop",{enumerable:!0,get:function(){return k(i).default}});var o=n(454);Object.defineProperty(e,"DragBox",{enumerable:!0,get:function(){return k(o).default}});var a=n(453);Object.defineProperty(e,"DragPan",{enumerable:!0,get:function(){return k(a).default}});var s=n(452);Object.defineProperty(e,"DragRotate",{enumerable:!0,get:function(){return k(s).default}});var u=n(849);Object.defineProperty(e,"DragRotateAndZoom",{enumerable:!0,get:function(){return k(u).default}});var l=n(451);Object.defineProperty(e,"DragZoom",{enumerable:!0,get:function(){return k(l).default}});var c=n(148);Object.defineProperty(e,"Draw",{enumerable:!0,get:function(){return k(c).default}});var h=n(439);Object.defineProperty(e,"Extent",{enumerable:!0,get:function(){return k(h).default}});var f=n(86);Object.defineProperty(e,"Interaction",{enumerable:!0,get:function(){return k(f).default}});var p=n(438);Object.defineProperty(e,"KeyboardPan",{enumerable:!0,get:function(){return k(p).default}});var d=n(437);Object.defineProperty(e,"KeyboardZoom",{enumerable:!0,get:function(){return k(d).default}});var g=n(287);Object.defineProperty(e,"Modify",{enumerable:!0,get:function(){return k(g).default}});var v=n(436);Object.defineProperty(e,"MouseWheelZoom",{enumerable:!0,get:function(){return k(v).default}});var y=n(435);Object.defineProperty(e,"PinchRotate",{enumerable:!0,get:function(){return k(y).default}});var _=n(434);Object.defineProperty(e,"PinchZoom",{enumerable:!0,get:function(){return k(_).default}});var m=n(57);Object.defineProperty(e,"Pointer",{enumerable:!0,get:function(){return k(m).default}});var b=n(835);Object.defineProperty(e,"Select",{enumerable:!0,get:function(){return k(b).default}});var w=n(834);Object.defineProperty(e,"Snap",{enumerable:!0,get:function(){return k(w).default}});var E=n(433);Object.defineProperty(e,"Translate",{enumerable:!0,get:function(){return k(E).default}}),e.defaults=function(t){var e=t||{},n=new x.default,r=new O.default(-.005,.05,100);(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new P.default);(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new C.default({delta:e.zoomDelta,duration:e.zoomDuration}));(void 0===e.dragPan||e.dragPan)&&n.push(new S.default({condition:e.onFocusOnly?F.focus:void 0,kinetic:r}));(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new I.default);(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new L.default({duration:e.zoomDuration}));(void 0===e.keyboard||e.keyboard)&&(n.push(new T.default),n.push(new A.default({delta:e.zoomDelta,duration:e.zoomDuration})));(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new D.default({condition:e.onFocusOnly?F.focus:void 0,duration:e.zoomDuration}));(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new M.default({duration:e.zoomDuration}));return n};var x=k(n(46)),O=k(n(286)),C=k(r),S=k(a),P=k(s),M=k(l),T=k(p),A=k(d),D=k(v),I=k(y),L=k(_),F=n(58);function k(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(4)),i=n(32),o=s(n(68)),a=n(67);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{element:document.createElement("div"),target:i.target})||this).extent=i.extent?i.extent:null;var o=void 0!==i.className?i.className:"ol-zoom-extent",s=void 0!==i.label?i.label:"E",u=void 0!==i.tipLabel?i.tipLabel:"Fit to extent",l=document.createElement("button");l.setAttribute("type","button"),l.title=u,l.appendChild("string"==typeof s?document.createTextNode(s):s),l.addEventListener(r.default.CLICK,n.handleClick_.bind(n),!1);var c=o+" "+a.CLASS_UNSELECTABLE+" "+a.CLASS_CONTROL,h=n.element;return h.className=c,h.appendChild(l),n}return u(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),this.handleZoomToExtent()},e.prototype.handleZoomToExtent=function(){var t=this.getMap().getView(),e=this.extent?this.extent:t.getProjection().getExtent();t.fitInternal((0,i.fromExtent)(e))},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.render=c;var r=s(n(68)),i=n(67),o=n(101),a=s(n(4));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),render:r.render||c,target:r.target})||this;var o=void 0!==r.className?r.className:"ol-rotate",s=void 0!==r.label?r.label:"";n.label_=null,"string"==typeof s?(n.label_=document.createElement("span"),n.label_.className="ol-compass",n.label_.textContent=s):(n.label_=s,n.label_.classList.add("ol-compass"));var u=r.tipLabel?r.tipLabel:"Reset rotation",l=document.createElement("button");l.className=o+"-reset",l.setAttribute("type","button"),l.title=u,l.appendChild(n.label_),l.addEventListener(a.default.CLICK,n.handleClick_.bind(n),!1);var h=o+" "+i.CLASS_UNSELECTABLE+" "+i.CLASS_CONTROL,f=n.element;return f.className=h,f.appendChild(l),n.callResetNorth_=r.resetNorth?r.resetNorth:void 0,n.duration_=void 0!==r.duration?r.duration:250,n.autoHide_=void 0===r.autoHide||r.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(i.CLASS_HIDDEN),n}return u(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:o.easeOut}):t.setRotation(0))},e}(r.default);function c(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var r="rotate("+n+"rad)";if(this.autoHide_){var o=this.element.classList.contains(i.CLASS_HIDDEN);o||0!==n?o&&0!==n&&this.element.classList.remove(i.CLASS_HIDDEN):this.element.classList.add(i.CLASS_HIDDEN)}this.label_.style.transform=r}this.rotation_=n}}e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=function(t){return t&&t.__esModule?t:{default:t}}(n(462));var o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(e){var n=t.call(this,e)||this;return n.consumers={},n}return o(e,t),e.prototype.clear=function(){this.consumers={},t.prototype.clear.call(this)},e.prototype.get=function(e,n){var i=t.prototype.get.call(this,e),o=(0,r.getUid)(n);return o in this.consumers||(this.consumers[o]={}),this.consumers[o][e]=!0,i},e.prototype.prune=function(){t:for(;this.canExpireCache();){var t=this.peekLastKey();for(var e in this.consumers)if(t in this.consumers[e])break t;var n=this.pop();for(var e in n.width=0,n.height=0,this.consumers)delete this.consumers[e][t]}},e.prototype.release=function(t){delete this.consumers[(0,r.getUid)(t)]},e}(i.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),i=function(t){return t&&t.__esModule?t:{default:t}}(n(154)),o=n(1),a=n(34),s=n(149),u=n(466),l=n(41),c=n(465);var h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n.declutterTree_=null,n}return h(e,t),e.prototype.dispatchRenderEvent=function(t,e){(0,r.abstract)()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;(0,l.compose)(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,l.makeInverse)(r,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,a,u,l){var c,h=e.viewState;function f(t,e,n){return i.call(a,e,t?n:null)}var p=h.projection,d=t,g=[[0,0]];if(p.canWrapX()){var v=p.getExtent(),y=(0,o.getWidth)(v),_=t[0];if(_<v[0]||_>v[2])d=[_+y*Math.ceil((v[0]-_)/y),t[1]];r&&g.push([-y,0],[y,0])}var m,b=e.layerStatesArray,w=b.length;this.declutterTree_&&(m=this.declutterTree_.all().map(function(t){return t.value}));for(var E=[],x=0;x<g.length;x++)for(var O=w-1;O>=0;--O){var C=b[O],S=C.layer;if(S.hasRenderer()&&(0,s.inView)(C,h)&&u.call(l,S)){var P=S.getRenderer(),M=S.getSource();if(P&&M){var T=M.getWrapX()?d:t,A=f.bind(null,C.managed);E[0]=T[0]+g[x][0],E[1]=T[1]+g[x][1],c=P.forEachFeatureAtCoordinate(E,e,n,A,m)}if(c)return c}}},e.prototype.forEachLayerAtPixel=function(t,e,n,i,o){return(0,r.abstract)()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,r,a.TRUE,this,i,o)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){this.declutterTree_=(0,c.renderDeclutterItems)(t,this.declutterTree_)},e.prototype.scheduleExpireIconCache=function(t){u.shared.canExpireCache()&&t.postRenderFunctions.push(p)},e}(i.default);function p(t,e){u.shared.expire()}e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(68)),i=n(67),o=n(27),a=n(26),s=u(n(4));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],h=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{element:document.createElement("div"),target:r.target})||this).cssClassName_=void 0!==r.className?r.className:"ol-full-screen";var o=void 0!==r.label?r.label:"";n.labelNode_="string"==typeof o?document.createTextNode(o):o;var a=void 0!==r.labelActive?r.labelActive:"";n.labelActiveNode_="string"==typeof a?document.createTextNode(a):a,n.button_=document.createElement("button");var u=r.tipLabel?r.tipLabel:"Toggle full-screen";n.setClassName_(n.button_,p()),n.button_.setAttribute("type","button"),n.button_.title=u,n.button_.appendChild(n.labelNode_),n.button_.addEventListener(s.default.CLICK,n.handleClick_.bind(n),!1);var l=n.cssClassName_+" "+i.CLASS_UNSELECTABLE+" "+i.CLASS_CONTROL+" "+(f()?"":i.CLASS_UNSUPPORTED),c=n.element;return c.className=l,c.appendChild(n.button_),n.keys_=void 0!==r.keys&&r.keys,n.source_=r.source,n}return l(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},e.prototype.handleFullScreen_=function(){if(f()){var t=this.getMap();if(t)if(p())document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else{var e=void 0;e=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:t.getTargetElement(),this.keys_?function(t){t.webkitRequestFullscreen?t.webkitRequestFullscreen():d(t)}(e):d(e)}}},e.prototype.handleFullScreenChange_=function(){var t=this.getMap();p()?(this.setClassName_(this.button_,!0),(0,o.replaceNode)(this.labelActiveNode_,this.labelNode_)):(this.setClassName_(this.button_,!1),(0,o.replaceNode)(this.labelNode_,this.labelActiveNode_)),t&&t.updateSize()},e.prototype.setClassName_=function(t,e){var n=this.cssClassName_+"-true",r=this.cssClassName_+"-false",i=e?n:r;t.classList.remove(n),t.classList.remove(r),t.classList.add(i)},e.prototype.setMap=function(e){if(t.prototype.setMap.call(this,e),e)for(var n=0,r=c.length;n<r;++n)this.listenerKeys.push((0,a.listen)(document,c[n],this.handleFullScreenChange_,this))},e}(r.default);function f(){var t=document.body;return!!(t.webkitRequestFullscreen||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function p(){return!!(document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement)}function d(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.render=f;var r=n(17),i=l(n(68)),o=n(67),a=n(27),s=l(n(4)),u=n(149);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{element:document.createElement("div"),render:r.render||f,target:r.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===r.collapsed||r.collapsed,n.overrideCollapsible_=void 0!==r.collapsible,n.collapsible_=void 0===r.collapsible||r.collapsible,n.collapsible_||(n.collapsed_=!1);var i=void 0!==r.className?r.className:"ol-attribution",a=void 0!==r.tipLabel?r.tipLabel:"Attributions",u=void 0!==r.collapseLabel?r.collapseLabel:"";"string"==typeof u?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=u):n.collapseLabel_=u;var l=void 0!==r.label?r.label:"i";"string"==typeof l?(n.label_=document.createElement("span"),n.label_.textContent=l):n.label_=l;var c=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=a,h.appendChild(c),h.addEventListener(s.default.CLICK,n.handleClick_.bind(n),!1);var p=i+" "+o.CLASS_UNSELECTABLE+" "+o.CLASS_CONTROL+(n.collapsed_&&n.collapsible_?" "+o.CLASS_COLLAPSED:"")+(n.collapsible_?"":" ol-uncollapsible"),d=n.element;return d.className=p,d.appendChild(n.ulElement_),d.appendChild(h),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return c(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],r=t.layerStatesArray,i=0,o=r.length;i<o;++i){var a=r[i];if((0,u.inView)(a,t.viewState)){var s=a.layer.getSource();if(s){var l=s.getAttributions();if(l){var c=l(t);if(c)if(this.overrideCollapsible_||!1!==s.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(c))for(var h=0,f=c.length;h<f;++h)c[h]in e||(n.push(c[h]),e[c[h]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!(0,r.equals)(e,this.renderedAttributions_)){(0,a.removeChildren)(this.ulElement_);for(var i=0,o=e.length;i<o;++i){var s=document.createElement("li");s.innerHTML=e[i],this.ulElement_.appendChild(s)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(o.CLASS_COLLAPSED),this.collapsed_?(0,a.replaceNode)(this.collapseLabel_,this.label_):(0,a.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(i.default);function f(t){this.updateElement_(t.frameState)}e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoomToExtent=e.ZoomSlider=e.Zoom=e.ScaleLine=e.Rotate=e.OverviewMap=e.MousePosition=e.FullScreen=e.Control=e.Attribution=void 0;var r=n(858);Object.defineProperty(e,"Attribution",{enumerable:!0,get:function(){return y(r).default}});var i=n(68);Object.defineProperty(e,"Control",{enumerable:!0,get:function(){return y(i).default}});var o=n(857);Object.defineProperty(e,"FullScreen",{enumerable:!0,get:function(){return y(o).default}});var a=n(470);Object.defineProperty(e,"MousePosition",{enumerable:!0,get:function(){return y(a).default}});var s=n(469);Object.defineProperty(e,"OverviewMap",{enumerable:!0,get:function(){return y(s).default}});var u=n(854);Object.defineProperty(e,"Rotate",{enumerable:!0,get:function(){return y(u).default}});var l=n(458);Object.defineProperty(e,"ScaleLine",{enumerable:!0,get:function(){return y(l).default}});var c=n(457);Object.defineProperty(e,"Zoom",{enumerable:!0,get:function(){return y(c).default}});var h=n(456);Object.defineProperty(e,"ZoomSlider",{enumerable:!0,get:function(){return y(h).default}});var f=n(853);Object.defineProperty(e,"ZoomToExtent",{enumerable:!0,get:function(){return y(f).default}}),e.defaults=function(t){var e=t||{},n=new p.default;(void 0===e.zoom||e.zoom)&&n.push(new v.default(e.zoomOptions));(void 0===e.rotate||e.rotate)&&n.push(new g.default(e.rotateOptions));(void 0===e.attribution||e.attribution)&&n.push(new d.default(e.attributionOptions));return n};var p=y(n(46)),d=y(r),g=y(u),v=y(c);function y(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.coordinates=function(t,e,n,r){for(;e<n-r;){for(var i=0;i<r;++i){var o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clear=function(){r={}},e.get=function(t){return r[t]||null},e.add=function(t,e){r[t]=e};var r={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PROJECTIONS=e.METERS_PER_UNIT=e.EXTENT=e.RADIUS=void 0;var r=o(n(213)),i=o(n(89));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=e.RADIUS=6378137,u=e.EXTENT=[-180,-90,180,90],l=e.METERS_PER_UNIT=Math.PI*s/180,c=function(t){function e(e,n){return t.call(this,{code:e,units:i.default.DEGREES,extent:u,axisOrientation:n,global:!0,metersPerUnit:l,worldExtent:u})||this}return a(e,t),e}(r.default);e.PROJECTIONS=[new c("CRS:84"),new c("EPSG:4326","neu"),new c("urn:ogc:def:crs:EPSG::4326","neu"),new c("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new c("urn:ogc:def:crs:OGC:1.3:CRS84"),new c("urn:ogc:def:crs:OGC:2:84"),new c("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new c("urn:x-ogc:def:crs:EPSG:4326","neu")]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PROJECTIONS=e.WORLD_EXTENT=e.EXTENT=e.HALF_SIZE=e.RADIUS=void 0,e.fromEPSG4326=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=l,s=0;s<r;s+=i){o[s]=a*t[s]/180;var c=u*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));c>a?c=a:c<-a&&(c=-a),o[s+1]=c}return o},e.toEPSG4326=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=0;a<r;a+=i)o[a]=180*t[a]/l,o[a+1]=360*Math.atan(Math.exp(t[a+1]/u))/Math.PI-90;return o};var r=n(14),i=a(n(213)),o=a(n(89));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=e.RADIUS=6378137,l=e.HALF_SIZE=Math.PI*u,c=e.EXTENT=[-l,-l,l,l],h=e.WORLD_EXTENT=[-180,-85,180,85],f=function(t){function e(e){return t.call(this,{code:e,units:o.default.METERS,extent:c,global:!0,worldExtent:h,getPointResolution:function(t,e){return t/(0,r.cosh)(e[1]/u)}})||this}return s(e,t),e}(i.default);e.PROJECTIONS=[new f("EPSG:3857"),new f("EPSG:102100"),new f("EPSG:102113"),new f("EPSG:900913"),new f("urn:ogc:def:crs:EPSG:6.18:3:3857"),new f("urn:ogc:def:crs:EPSG::3857"),new f("http://www.opengis.net/gml/srs/epsg.xml#3857")]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSnapToResolutions=function(t,e,n){return function(i,u,l,c){if(void 0!==i){var h=t[0],f=t[t.length-1],p=n?a(h,n,l):h;if(c){var d=void 0===e||e;return d?s(i,p,f):(0,o.clamp)(i,f,p)}var g=Math.min(p,i),v=Math.floor((0,r.linearFindNearest)(t,g,u));return t[v]>p&&v<t.length-1?t[v+1]:t[v]}}},e.createSnapToPower=function(t,e,n,r,i){return function(u,l,c,h){if(void 0!==u){var f=i?a(e,i,c):e,p=void 0!==n?n:0;if(h){var d=void 0===r||r;return d?s(u,f,p):(0,o.clamp)(u,p,f)}var g=Math.ceil(Math.log(e/f)/Math.log(t)-1e-9),v=-l*(.5-1e-9)+.5,y=Math.min(f,u),_=Math.floor(Math.log(e/y)/Math.log(t)+v),m=Math.max(g,_),b=e/Math.pow(t,m);return(0,o.clamp)(b,p,f)}}},e.createMinMaxResolution=function(t,e,n,r){return function(i,u,l,c){if(void 0!==i){var h=r?a(t,r,l):t,f=void 0===n||n;return f&&c?s(i,h,e):(0,o.clamp)(i,e,h)}}};var r=n(17),i=n(1),o=n(14);function a(t,e,n){var r=(0,i.getWidth)(e)/n[0],o=(0,i.getHeight)(e)/n[1];return Math.min(t,Math.min(r,o))}function s(t,e,n){var r=Math.min(t,e);return r*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/t-1))/50+1),(0,o.clamp)(r,n/2,2*e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createExtent=function(t,e,n){return function(i,o,a,s){if(i){var u=e?0:a[0]*o,l=e?0:a[1]*o,c=t[0]+u/2,h=t[2]-u/2,f=t[1]+l/2,p=t[3]-l/2;c>h&&(h=c=(h+c)/2),f>p&&(p=f=(p+f)/2);var d=(0,r.clamp)(i[0],c,h),g=(0,r.clamp)(i[1],f,p),v=30*o;return s&&n&&(d+=-v*Math.log(1+Math.max(0,c-i[0])/v)+v*Math.log(1+Math.max(0,i[0]-h)/v),g+=-v*Math.log(1+Math.max(0,f-i[1])/v)+v*Math.log(1+Math.max(0,i[1]-p)/v)),[d,g]}}},e.none=function(t){return t};var r=n(14)},function(t,e,n){var r=n(126),i=n(42),o=n(12),a=n(103),s=1/0,u=r?r.prototype:void 0,l=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-s?"-0":n}},function(t,e,n){var r=n(217),i=n(22),o=9007199254740991;t.exports=function(t){return t?r(i(t),-o,o):0===t?t:0}},function(t,e,n){var r=n(181),i=n(314);t.exports=function(t){return r(t,i(t))}},function(t,e,n){var r=n(42);t.exports=function(t,e){return r(e,function(e){return t[e]})}},function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+r+"|"+i+")"+"?",l="[\\ufe0e\\ufe0f]?"+u+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*"),c="(?:"+[o+r+"?",r,a,s,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+c+l,"g");t.exports=function(t){return t.match(h)||[]}},function(t,e){t.exports=function(t){return t.split("")}},function(t,e,n){var r=n(871),i=n(486),o=n(870);t.exports=function(t){return i(t)?o(t):r(t)}},function(t,e){t.exports=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}},function(t,e,n){var r=n(126),i=n(105),o=n(104),a=n(48),s=n(218),u=n(873),l=n(491),c=n(219),h=n(872),f=n(176),p="[object Map]",d="[object Set]",g=r?r.iterator:void 0;t.exports=function(t){if(!t)return[];if(a(t))return s(t)?h(t):i(t);if(g&&t[g])return u(t[g]());var e=o(t);return(e==p?l:e==d?c:f)(t)}},function(t,e,n){var r=n(223)(function(t,e){return t<=e});t.exports=r},function(t,e){t.exports=function(t,e){return t<e}},function(t,e,n){var r=n(876),i=n(223)(r);t.exports=i},function(t,e,n){var r=n(43),i=n(29),o="[object WeakSet]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e,n){var r=n(104),i=n(29),o="[object WeakMap]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){var r=n(490),i=9007199254740991;t.exports=function(t){return r(t)&&t>=-i&&t<=i}},function(t,e,n){var r=n(43),i=n(29),o="[object RegExp]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e,n){var r=n(882),i=n(71),o=n(156),a=o&&o.isRegExp,s=a?i(a):r;t.exports=s},function(t,e){t.exports=function(t){return null===t}},function(t,e){t.exports=function(t){return null==t}},function(t,e,n){var r=n(509),i=n(231),o=n(504),a=r?i:o;t.exports=a},function(t,e,n){var r=n(511),i=n(886),o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";t.exports=function(t){if(i(t))throw new Error(o);return r(t)}},function(t,e,n){var r=n(487);t.exports=function(t){return r(t)&&t!=+t}},function(t,e,n){var r=n(309),i=n(308);t.exports=function(t,e,n){return n="function"==typeof n?n:void 0,r(t,e,i(e),n)}},function(t,e,n){var r=n(309),i=n(308);t.exports=function(t,e){return t===e||r(t,e,i(e))}},function(t,e,n){var r=n(39).isFinite;t.exports=function(t){return"number"==typeof t&&r(t)}},function(t,e,n){var r=n(43),i=n(29),o=n(310),a="[object DOMException]",s="[object Error]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==s||e==a||"string"==typeof t.message&&"string"==typeof t.name&&!o(t)}},function(t,e,n){var r=n(222);t.exports=function(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?r(t,e,void 0,n):!!i}},function(t,e,n){var r=n(500),i=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,a,s,u){var l=n&i,c=r(t),h=c.length;if(h!=r(e).length&&!l)return!1;for(var f=h;f--;){var p=c[f];if(!(l?p in e:o.call(e,p)))return!1}var d=u.get(t);if(d&&u.get(e))return d==e;var g=!0;u.set(t,e),u.set(e,t);for(var v=l;++f<h;){var y=t[p=c[f]],_=e[p];if(a)var m=l?a(_,y,p,e,t,u):a(y,_,p,t,e,u);if(!(void 0===m?y===_||s(y,_,n,a,u):m)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(g=!1)}return u.delete(t),u.delete(e),g}},function(t,e,n){var r=n(126),i=n(496),o=n(107),a=n(493),s=n(491),u=n(219),l=1,c=2,h="[object Boolean]",f="[object Date]",p="[object Error]",d="[object Map]",g="[object Number]",v="[object RegExp]",y="[object Set]",_="[object String]",m="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",E=r?r.prototype:void 0,x=E?E.valueOf:void 0;t.exports=function(t,e,n,r,E,O,C){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case b:return!(t.byteLength!=e.byteLength||!O(new i(t),new i(e)));case h:case f:case g:return o(+t,+e);case p:return t.name==e.name&&t.message==e.message;case v:case _:return t==e+"";case d:var S=s;case y:var P=r&l;if(S||(S=u),t.size!=e.size&&!P)return!1;var M=C.get(t);if(M)return M==e;r|=c,C.set(t,e);var T=a(S(t),S(e),r,E,O,C);return C.delete(t),T;case m:if(x)return x.call(t)==x.call(e)}return!1}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e,n){var r=n(320),i=n(493),o=n(895),a=n(894),s=n(104),u=n(12),l=n(179),c=n(227),h=1,f="[object Arguments]",p="[object Array]",d="[object Object]",g=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,v,y,_){var m=u(t),b=u(e),w=m?p:s(t),E=b?p:s(e),x=(w=w==f?d:w)==d,O=(E=E==f?d:E)==d,C=w==E;if(C&&l(t)){if(!l(e))return!1;m=!0,x=!1}if(C&&!x)return _||(_=new r),m||c(t)?i(t,e,n,v,y,_):o(t,e,w,n,v,y,_);if(!(n&h)){var S=x&&g.call(t,"__wrapped__"),P=O&&g.call(e,"__wrapped__");if(S||P){var M=S?t.value():t,T=P?e.value():e;return _||(_=new r),y(M,T,n,v,_)}}return!!C&&(_||(_=new r),a(t,e,n,v,y,_))}},function(t,e,n){var r=n(222);t.exports=function(t,e){return r(t,e)}},function(t,e,n){var r=n(315),i=n(104),o=n(180),a=n(12),s=n(48),u=n(179),l=n(225),c=n(227),h="[object Map]",f="[object Set]",p=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||c(t)||o(t)))return!t.length;var e=i(t);if(e==h||e==f)return!t.size;if(l(t))return!r(t).length;for(var n in t)if(p.call(t,n))return!1;return!0}},function(t,e,n){var r=n(29),i=n(310);t.exports=function(t){return r(t)&&1===t.nodeType&&!i(t)}},function(t,e,n){var r=n(43),i=n(29),o="[object Date]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e,n){var r=n(902),i=n(71),o=n(156),a=o&&o.isDate,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(43),i=n(29),o="[object Boolean]";t.exports=function(t){return!0===t||!1===t||i(t)&&r(t)==o}},function(t,e,n){var r=n(43),i=n(29),o="[object ArrayBuffer]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e,n){var r=n(905),i=n(71),o=n(156),a=o&&o.isArrayBuffer,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(223)(function(t,e){return t>=e});t.exports=r},function(t,e){t.exports=function(t,e){return t>e}},function(t,e,n){var r=n(908),i=n(223)(r);t.exports=i},function(t,e){t.exports=function(t,e,n){var r=n.length;if(null==t)return!r;for(t=Object(t);r--;){var i=n[r],o=e[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}},function(t,e,n){var r=n(910),i=n(91);t.exports=function(t,e){return null==e||r(t,e,i(e))}},function(t,e,n){var r=n(234),i=4;t.exports=function(t,e){return r(t,i,e="function"==typeof e?e:void 0)}},function(t,e,n){var r=n(234),i=1,o=4;t.exports=function(t,e){return r(t,i|o,e="function"==typeof e?e:void 0)}},function(t,e,n){var r=n(234),i=1,o=4;t.exports=function(t){return r(t,i|o)}},function(t,e,n){var r=n(104),i=n(29),o="[object Set]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e,n){var r=n(104),i=n(29),o="[object Map]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e,n){var r=n(224),i=n(312),o=n(225);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){var r=n(311);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(126),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(311);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e,n){var r=n(311),i=n(921),o=n(920),a=n(919),s=n(918),u="[object Boolean]",l="[object Date]",c="[object Map]",h="[object Number]",f="[object RegExp]",p="[object Set]",d="[object String]",g="[object Symbol]",v="[object ArrayBuffer]",y="[object DataView]",_="[object Float32Array]",m="[object Float64Array]",b="[object Int8Array]",w="[object Int16Array]",E="[object Int32Array]",x="[object Uint8Array]",O="[object Uint8ClampedArray]",C="[object Uint16Array]",S="[object Uint32Array]";t.exports=function(t,e,n){var P=t.constructor;switch(e){case v:return r(t);case u:case l:return new P(+t);case y:return i(t,n);case _:case m:case b:case w:case E:case x:case O:case C:case S:return s(t,n);case c:return new P;case h:case d:return new P(t);case f:return o(t);case p:return new P;case g:return a(t)}}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(127)(n(39),"Promise");t.exports=r},function(t,e,n){var r=n(127)(n(39),"DataView");t.exports=r},function(t,e,n){var r=n(499),i=n(501),o=n(314);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(181),i=n(501);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(181),i=n(313);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){(function(t){var r=n(39),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(316)(t))},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(49),i=n(225),o=n(930),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e,n){var r=n(181),i=n(314);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(503)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(43),i=n(226),o=n(29),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(43),i=n(29),o="[object Arguments]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e,n){var r=n(181),i=n(91);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(229);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(229);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(229);t.exports=function(t){return r(this,t).get(t)}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(229);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e,n){var r=n(230),i="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?i:e,this}},function(t,e,n){var r=n(230),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(230),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===i?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(230);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e,n){var r=n(946),i=n(945),o=n(944),a=n(943),s=n(942);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(947),i=n(233),o=n(319);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(509),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(126),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e,n){var r=n(233),i=n(319),o=n(318),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e,n){var r=n(233);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e,n){var r=n(232);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(232);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(232);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(232),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(234),i=4;t.exports=function(t){return r(t,i)}},function(t,e,n){var r=n(12);t.exports=function(){if(!arguments.length)return[];var t=arguments[0];return r(t)?t:[t]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(321);Object.defineProperty(e,"G4UMap",{enumerable:!0,get:function(){return r.G4UMap}});var i=n(250);Object.defineProperty(e,"registerModule",{enumerable:!0,get:function(){return i.registerModule}});var o=n(419);Object.defineProperty(e,"SourceServerVector",{enumerable:!0,get:function(){return o.SourceServerVector}});var a=n(202);Object.defineProperty(e,"GroupLayer",{enumerable:!0,get:function(){return a.GroupLayer}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMap=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return(0,i.createMapInternal)(t,n,{client:l.default,layer:c.default,translations:h.default,styles:f.default})};var r=n(965);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var i=n(579),o=n(250),a=n(577),s=n(574),u=n(572),l=p(n(551)),c=p(n(550)),h=p(n(549)),f=p(n(548));function p(t){return t&&t.__esModule?t:{default:t}}(0,o.registerModule)(new a.SearchModule({connectors:{nominatim:s.NominatimSearchConnector}})),(0,o.registerModule)(new u.URLAPIModule)},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e,n){var r=n(0),i=n(967)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return i(t)}})},function(t,e,n){n(968),t.exports=n(76).RegExp.escape},function(t,e,n){(function(e){!function(e){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",l="object"==typeof t,c=e.regeneratorRuntime;if(c)l&&(t.exports=c);else{(c=e.regeneratorRuntime=l?t.exports:{}).wrap=b;var h="suspendedStart",f="suspendedYield",p="executing",d="completed",g={},v={};v[a]=function(){return this};var y=Object.getPrototypeOf,_=y&&y(y(D([])));_&&_!==r&&i.call(_,a)&&(v=_);var m=O.prototype=E.prototype=Object.create(v);x.prototype=m.constructor=O,O.constructor=x,O[u]=x.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(m),t},c.awrap=function(t){return{__await:t}},C(S.prototype),S.prototype[s]=function(){return this},c.AsyncIterator=S,c.async=function(t,e,n,r){var i=new S(b(t,e,n,r));return c.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},C(m),m[u]="Generator",m[a]=function(){return this},m.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=D,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return s.type="throw",s.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:D(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),g}}}function b(t,e,n,r){var i=e&&e.prototype instanceof E?e:E,o=Object.create(i.prototype),a=new A(r||[]);return o._invoke=function(t,e,n){var r=h;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=P(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=w(t,e,n);if("normal"===u.type){if(r=n.done?d:f,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function w(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function E(){}function x(){}function O(){}function C(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){function n(e,r,o,a){var s=w(t[e],t,r);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then(function(t){n("next",t,o,a)},function(t){n("throw",t,o,a)}):Promise.resolve(l).then(function(t){u.value=t,o(u)},a)}a(s.arg)}var r;"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n)),this._invoke=function(t,e){function i(){return new Promise(function(r,i){n(t,e,r,i)})}return r=r?r.then(i,i):i()}}function P(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,P(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=w(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function D(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:n,done:!0}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,n(349))},function(t,e,n){for(var r=n(328),i=n(136),o=n(51),a=n(8),s=n(52),u=n(158),l=n(23),c=l("iterator"),h=l("toStringTag"),f=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(p),g=0;g<d.length;g++){var v,y=d[g],_=p[y],m=a[y],b=m&&m.prototype;if(b&&(b[c]||s(b,c,f),b[h]||s(b,h,y),u[y]=f,_))for(v in r)b[v]||o(b,v,r[v],!0)}},function(t,e,n){var r=n(0),i=n(325);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){var r=n(8),i=n(0),o=n(240),a=[].slice,s=/MSIE .\./.test(o),u=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(t,e,n){"use strict";var r=n(0),i=n(8),o=n(76),a=n(324)(),s=n(23)("observable"),u=n(40),l=n(5),c=n(131),h=n(129),f=n(52),p=n(130),d=p.RETURN,g=function(t){return null==t?void 0:u(t)},v=function(t){var e=t._c;e&&(t._c=void 0,e())},y=function(t){return void 0===t._o},_=function(t){y(t)||(t._o=void 0,v(t))},m=function(t,e){l(t),this._c=void 0,this._o=t,t=new b(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(e){return void t.error(e)}y(this)&&v(this)};m.prototype=h({},{unsubscribe:function(){_(this)}});var b=function(t){this._s=t};b.prototype=h({},{next:function(t){var e=this._s;if(!y(e)){var n=e._o;try{var r=g(n.next);if(r)return r.call(n,t)}catch(t){try{_(e)}finally{throw t}}}},error:function(t){var e=this._s;if(y(e))throw t;var n=e._o;e._o=void 0;try{var r=g(n.error);if(!r)throw t;t=r.call(n,t)}catch(t){try{v(e)}finally{throw t}}return v(e),t},complete:function(t){var e=this._s;if(!y(e)){var n=e._o;e._o=void 0;try{var r=g(n.complete);t=r?r.call(n,t):void 0}catch(t){try{v(e)}finally{throw t}}return v(e),t}}});var w=function(t){c(this,w,"Observable","_f")._f=u(t)};h(w.prototype,{subscribe:function(t){return new m(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||i.Promise)(function(n,r){u(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:n})})}}),h(w,{from:function(t){var e="function"==typeof this?this:w,n=g(l(t)[s]);if(n){var r=l(n.call(t));return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}return new e(function(e){var n=!1;return a(function(){if(!n){try{if(p(t,!1,function(t){if(e.next(t),n)return d})===d)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:w)(function(t){var e=!1;return a(function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}}),function(){e=!0}})}}),f(w.prototype,s,function(){return this}),r(r.G,{Observable:w}),n(132)("Observable")},function(t,e,n){var r=n(0),i=n(324)(),o=n(8).process,a="process"==n(74)(o);r(r.G,{asap:function(t){var e=a&&o.domain;i(e?e.bind(t):t)}})},function(t,e,n){var r=n(92),i=n(5),o=n(40),a=r.key,s=r.set;r.exp({metadata:function(t,e){return function(n,r){s(t,e,(void 0!==r?i:o)(n),a(r))}}})},function(t,e,n){var r=n(92),i=n(5),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(92),i=n(5),o=n(59),a=r.has,s=r.key,u=function(t,e,n){if(a(t,e,n))return!0;var r=o(e);return null!==r&&u(t,r,n)};r.exp({hasMetadata:function(t,e){return u(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var r=n(92),i=n(5),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,n){var r=n(92),i=n(5),o=r.get,a=r.key;r.exp({getOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(522),i=n(513),o=n(92),a=n(5),s=n(59),u=o.keys,l=o.key,c=function(t,e){var n=u(t,e),o=s(t);if(null===o)return n;var a=c(o,e);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(t){return c(a(t),arguments.length<2?void 0:l(arguments[1]))}})},function(t,e,n){var r=n(92),i=n(5),o=n(59),a=r.has,s=r.get,u=r.key,l=function(t,e,n){if(a(t,e,n))return s(t,e,n);var r=o(e);return null!==r?l(t,r,n):void 0};r.exp({getMetadata:function(t,e){return l(t,i(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,n){var r=n(92),i=n(5),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(e),n,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var u=s.get(e);return u.delete(n),!!u.size||s.delete(e)}})},function(t,e,n){var r=n(92),i=n(5),o=r.key,a=r.set;r.exp({defineMetadata:function(t,e,n,r){a(t,e,i(n),o(r))}})},function(t,e,n){"use strict";var r=n(0),i=n(323),o=n(526);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){"use strict";var r=n(0),i=n(76),o=n(8),a=n(183),s=n(525);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{umulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,a=n>>>16,s=r>>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>>16)+((i*s>>>0)+(65535&u)>>>16)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{scale:n(512)})},function(t,e,n){var r=n(0),i=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*i}})},function(t,e,n){var r=n(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var r=n(0);r(r.S,"Math",{imulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,a=n>>16,s=r>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>16)+((i*s>>>0)+(65535&u)>>16)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{isubh:function(t,e,n,r){var i=t>>>0,o=n>>>0;return(e>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{iaddh:function(t,e,n,r){var i=t>>>0,o=n>>>0;return(e>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},function(t,e,n){var r=n(0),i=n(512),o=n(533);r(r.S,"Math",{fscale:function(t,e,n,r,a){return o(i(t,e,n,r,a))}})},function(t,e,n){var r=n(0),i=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*i}})},function(t,e,n){var r=n(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var r=n(0);r(r.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var r=n(0),i=n(74);r(r.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,e,n){var r=n(0);r(r.S,"System",{global:n(8)})},function(t,e,n){var r=n(0);r(r.G,{global:n(8)})},function(t,e,n){n(235)("WeakSet")},function(t,e,n){n(235)("WeakMap")},function(t,e,n){n(235)("Set")},function(t,e,n){n(235)("Map")},function(t,e,n){n(236)("WeakSet")},function(t,e,n){n(236)("WeakMap")},function(t,e,n){n(236)("Set")},function(t,e,n){n(236)("Map")},function(t,e,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(514)("Set")})},function(t,e,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(514)("Map")})},function(t,e,n){"use strict";var r=n(0),i=n(35),o=n(82),a=n(59),s=n(60).f;n(31)&&r(r.P+n(237),"Object",{__lookupSetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=s(n,r))return e.set}while(n=a(n))}})},function(t,e,n){"use strict";var r=n(0),i=n(35),o=n(82),a=n(59),s=n(60).f;n(31)&&r(r.P+n(237),"Object",{__lookupGetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=s(n,r))return e.get}while(n=a(n))}})},function(t,e,n){"use strict";var r=n(0),i=n(35),o=n(40),a=n(30);n(31)&&r(r.P+n(237),"Object",{__defineSetter__:function(t,e){a.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),i=n(35),o=n(40),a=n(30);n(31)&&r(r.P+n(237),"Object",{__defineGetter__:function(t,e){a.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var r=n(0),i=n(515)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){var r=n(0),i=n(515)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){var r=n(0),i=n(518),o=n(61),a=n(60),s=n(332);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),u=a.f,l=i(r),c={},h=0;l.length>h;)void 0!==(n=u(r,e=l[h++]))&&s(c,e,n);return c}})},function(t,e,n){n(347)("observable")},function(t,e,n){n(347)("asyncIterator")},function(t,e,n){"use strict";var r=n(0),i=n(81),o=n(24),a=n(244),s=n(184),u=RegExp.prototype,l=function(t,e){this._r=t,this._s=e};n(336)(l,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),r(r.P,"String",{matchAll:function(t){if(i(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in u?String(t.flags):s.call(t),r=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(t.lastIndex),new l(r,e)}})},function(t,e,n){"use strict";n(159)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";n(159)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";var r=n(0),i=n(516),o=n(240);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";var r=n(0),i=n(516),o=n(240);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var r=n(0),i=n(245)(!0);r(r.P,"String",{at:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(0),i=n(517),o=n(35),a=n(24),s=n(73),u=n(330);r(r.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=a(e.length),r=u(e,0);return i(r,e,e,n,0,void 0===t?1:s(t)),r}}),n(108)("flatten")},function(t,e,n){"use strict";var r=n(0),i=n(517),o=n(35),a=n(24),s=n(40),u=n(330);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return s(t),e=a(r.length),n=u(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(108)("flatMap")},function(t,e,n){"use strict";var r=n(0),i=n(248)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(108)("includes")},function(t,e,n){var r=n(0),i=n(343);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){var r=n(30),i=n(60),o=n(59),a=n(62),s=n(0),u=n(138),l=n(5),c=n(15);s(s.S,"Reflect",{set:function t(e,n,s){var h,f,p=arguments.length<4?e:arguments[3],d=i.f(l(e),n);if(!d){if(c(f=o(e)))return t(f,n,s,p);d=u(0)}if(a(d,"value")){if(!1===d.writable||!c(p))return!1;if(h=i.f(p,n)){if(h.get||h.set||!1===h.writable)return!1;h.value=s,r.f(p,n,h)}else r.f(p,n,u(0,s));return!0}return void 0!==d.set&&(d.set.call(p,s),!0)}})},function(t,e,n){var r=n(0),i=n(5),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(518)})},function(t,e,n){var r=n(0),i=n(5),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(0),i=n(59),o=n(5);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){var r=n(60),i=n(0),o=n(5);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(60),i=n(59),o=n(62),a=n(0),s=n(15),u=n(5);a(a.S,"Reflect",{get:function t(e,n){var a,l,c=arguments.length<3?e:arguments[2];return u(e)===c?e[n]:(a=r.f(e,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(c):void 0:s(l=i(e))?t(l,n,c):void 0}})},function(t,e,n){"use strict";var r=n(0),i=n(5),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(336)(o,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var r=n(0),i=n(60).f,o=n(5);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){var r=n(30),i=n(0),o=n(5),a=n(82);i(i.S+i.F*n(13)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),i=n(134),o=n(40),a=n(5),s=n(15),u=n(13),l=n(540),c=(n(8).Reflect||{}).construct,h=u(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),f=!u(function(){c(function(){})});r(r.S+r.F*(h||f),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(f&&!h)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),d=Function.apply.call(t,p,e);return s(d)?d:p}})},function(t,e,n){var r=n(0),i=n(40),o=n(5),a=(n(8).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(13)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var r=i(t),u=o(n);return a?a(r,e,u):s.call(r,e,u)}})},function(t,e,n){n(93)("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(93)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(93)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(93)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(93)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(93)("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(93)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){n(93)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(93)("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){var r=n(0);r(r.G+r.W+r.F*!n(238).ABV,{DataView:n(322).DataView})},function(t,e,n){"use strict";var r=n(0),i=n(238),o=n(322),a=n(5),s=n(135),u=n(24),l=n(15),c=n(8).ArrayBuffer,h=n(183),f=o.ArrayBuffer,p=o.DataView,d=i.ABV&&c.isView,g=f.prototype.slice,v=i.VIEW;r(r.G+r.W+r.F*(c!==f),{ArrayBuffer:f}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return d&&d(t)||l(t)&&v in t}}),r(r.P+r.U+r.F*n(13)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(a(this),t);for(var n=a(this).byteLength,r=s(t,n),i=s(void 0===e?n:e,n),o=new(h(this,f))(u(i-r)),l=new p(this),c=new p(o),d=0;r<i;)c.setUint8(d++,l.getUint8(r++));return o}}),n(132)("ArrayBuffer")},function(t,e,n){"use strict";var r=n(520),i=n(157);n(239)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r,i,o,a,s=n(109),u=n(8),l=n(75),c=n(160),h=n(0),f=n(15),p=n(40),d=n(131),g=n(130),v=n(183),y=n(325).set,_=n(324)(),m=n(323),b=n(526),w=n(240),E=n(525),x=u.TypeError,O=u.process,C=O&&O.versions,S=C&&C.v8||"",P=u.Promise,M="process"==c(O),T=function(){},A=i=m.f,D=!!function(){try{var t=P.resolve(1),e=(t.constructor={})[n(23)("species")]=function(t){t(T,T)};return(M||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof e&&0!==S.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),I=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},L=function(t,e){if(!t._n){t._n=!0;var n=t._c;_(function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{s?(i||(2==t._h&&R(t),t._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),a=!0)),n===e.promise?l(x("Promise-chain cycle")):(o=I(n))?o.call(n,u,l):u(n)):l(r)}catch(t){c&&!a&&c.exit(),l(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&F(t)})}},F=function(t){y.call(u,function(){var e,n,r,i=t._v,o=k(t);if(o&&(e=b(function(){M?O.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=M||k(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},k=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(t){y.call(u,function(){var e;M?O.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},j=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw x("Promise can't be resolved itself");(e=I(t))?_(function(){var r={_w:n,_d:!1};try{e.call(t,l(N,r,1),l(j,r,1))}catch(t){j.call(r,t)}}):(n._v=t,n._s=1,L(n,!1))}catch(t){j.call({_w:n,_d:!1},t)}}};D||(P=function(t){d(this,P,"Promise","_h"),p(t),r.call(this);try{t(l(N,this,1),l(j,this,1))}catch(t){j.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(129)(P.prototype,{then:function(t,e){var n=A(v(this,P));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=M?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=l(N,t,1),this.reject=l(j,t,1)},m.f=A=function(t){return t===P||t===a?new o(t):i(t)}),h(h.G+h.W+h.F*!D,{Promise:P}),n(161)(P,"Promise"),n(132)("Promise"),a=n(76).Promise,h(h.S+h.F*!D,"Promise",{reject:function(t){var e=A(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!D),"Promise",{resolve:function(t){return E(s&&this===a?P:this,t)}}),h(h.S+h.F*!(D&&n(243)(function(t){P.all(t).catch(T)})),"Promise",{all:function(t){var e=this,n=A(e),r=n.resolve,i=n.reject,o=b(function(){var n=[],o=0,a=1;g(t,!1,function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=A(e),r=n.reject,i=b(function(){g(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e,n){"use strict";var r=n(244),i=n(5),o=n(183),a=n(326),s=n(24),u=n(242),l=n(327),c=Math.min,h=[].push,f=!!function(){try{return new RegExp("x","y")}catch(t){}}();n(241)("split",2,function(t,e,n,p){var d=n;return"c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?d=function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var o,a,s,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,p=void 0===e?4294967295:e>>>0,d=new RegExp(t.source,c+"g");(o=l.call(d,i))&&!((a=d.lastIndex)>f&&(u.push(i.slice(f,o.index)),o.length>1&&o.index<i.length&&h.apply(u,o.slice(1)),s=o[0].length,f=a,u.length>=p));)d.lastIndex===o.index&&d.lastIndex++;return f===i.length?!s&&d.test("")||u.push(""):u.push(i.slice(f)),u.length>p?u.slice(0,p):u}:"0".split(void 0,0).length&&(d=function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}),[function(n,r){var i=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,i,r):d.call(String(i),n,r)},function(t,e){var r=p(d,t,this,e,d!==n);if(r.done)return r.value;var l=i(t),h=String(this),g=o(l,RegExp),v=l.unicode,y=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(f?"y":"g"),_=new g(f?l:"^(?:"+l.source+")",y),m=void 0===e?4294967295:e>>>0;if(0===m)return[];if(0===h.length)return null===u(_,h)?[h]:[];for(var b=0,w=0,E=[];w<h.length;){_.lastIndex=f?w:0;var x,O=u(_,f?h:h.slice(w));if(null===O||(x=c(s(_.lastIndex+(f?0:w)),h.length))===b)w=a(h,w,v);else{if(E.push(h.slice(b,w)),E.length===m)return E;for(var C=1;C<=O.length-1;C++)if(E.push(O[C]),E.length===m)return E;w=b=x}}return E.push(h.slice(b)),E}]})},function(t,e,n){"use strict";var r=n(5),i=n(541),o=n(242);n(241)("search",1,function(t,e,n,a){return[function(n){var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=a(n,t,this);if(e.done)return e.value;var s=r(t),u=String(this),l=s.lastIndex;i(l,0)||(s.lastIndex=0);var c=o(s,u);return i(s.lastIndex,l)||(s.lastIndex=l),null===c?-1:c.index}]})},function(t,e,n){"use strict";var r=n(5),i=n(35),o=n(24),a=n(73),s=n(326),u=n(242),l=Math.max,c=Math.min,h=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,d=function(t){return void 0===t?t:String(t)};n(241)("replace",2,function(t,e,n,g){return[function(r,i){var o=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=g(n,t,this,e);if(i.done)return i.value;var h=r(t),f=String(this),p="function"==typeof e;p||(e=String(e));var y=h.global;if(y){var _=h.unicode;h.lastIndex=0}for(var m=[];;){var b=u(h,f);if(null===b)break;if(m.push(b),!y)break;""===String(b[0])&&(h.lastIndex=s(f,o(h.lastIndex),_))}for(var w="",E=0,x=0;x<m.length;x++){b=m[x];for(var O=String(b[0]),C=l(c(a(b.index),f.length),0),S=[],P=1;P<b.length;P++)S.push(d(b[P]));var M=b.groups;if(p){var T=[O].concat(S,C,f);void 0!==M&&T.push(M);var A=String(e.apply(void 0,T))}else A=v(O,f,C,S,M,e);C>=E&&(w+=f.slice(E,C)+A,E=C+O.length)}return w+f.slice(E)}];function v(t,e,r,o,a,s){var u=r+t.length,l=o.length,c=p;return void 0!==a&&(a=i(a),c=f),n.call(s,c,function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var c=+i;if(0===c)return i;if(c>l){var f=h(c/10);return 0===f?i:f<=l?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):i}s=o[c-1]}return void 0===s?"":s})}})},function(t,e,n){"use strict";var r=n(5),i=n(24),o=n(326),a=n(242);n(241)("match",1,function(t,e,n,s){return[function(n){var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var u=r(t),l=String(this);if(!u.global)return a(u,l);var c=u.unicode;u.lastIndex=0;for(var h,f=[],p=0;null!==(h=a(u,l));){var d=String(h[0]);f[p]=d,""===d&&(u.lastIndex=o(l,i(u.lastIndex),c)),p++}return 0===p?null:f}]})},function(t,e,n){"use strict";n(527);var r=n(5),i=n(184),o=n(31),a=/./.toString,s=function(t){n(51)(RegExp.prototype,"toString",t,!0)};n(13)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,n){var r=n(8),i=n(341),o=n(30).f,a=n(133).f,s=n(244),u=n(184),l=r.RegExp,c=l,h=l.prototype,f=/a/g,p=/a/g,d=new l(f)!==f;if(n(31)&&(!d||n(13)(function(){return p[n(23)("match")]=!1,l(f)!=f||l(p)==p||"/a/i"!=l(f,"i")}))){l=function(t,e){var n=this instanceof l,r=s(t),o=void 0===e;return!n&&r&&t.constructor===l&&o?t:i(d?new c(r&&!o?t.source:t,e):c((r=t instanceof l)?t.source:t,r&&o?u.call(t):e),n?this:h,l)};for(var g=function(t){t in l||o(l,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})},v=a(c),y=0;v.length>y;)g(v[y++]);h.constructor=l,l.prototype=h,n(51)(r,"RegExp",l)}n(132)("RegExp")},function(t,e,n){n(132)("Array")},function(t,e,n){"use strict";var r=n(0),i=n(79)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(108)(o)},function(t,e,n){"use strict";var r=n(0),i=n(79)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(108)("find")},function(t,e,n){var r=n(0);r(r.P,"Array",{fill:n(329)}),n(108)("fill")},function(t,e,n){var r=n(0);r(r.P,"Array",{copyWithin:n(530)}),n(108)("copyWithin")},function(t,e,n){"use strict";var r=n(0),i=n(61),o=n(73),a=n(24),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(72)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=i(this),n=a(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){"use strict";var r=n(0),i=n(248)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(72)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(531);r(r.P+r.F*!n(72)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(0),i=n(531);r(r.P+r.F*!n(72)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(0),i=n(79)(4);r(r.P+r.F*!n(72)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(79)(3);r(r.P+r.F*!n(72)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(79)(2);r(r.P+r.F*!n(72)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(79)(1);r(r.P+r.F*!n(72)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(15),i=n(246),o=n(23)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(0),i=n(79)(0),o=n(72)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(40),o=n(35),a=n(13),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n(72)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),i(t))}})},function(t,e,n){"use strict";var r=n(0),i=n(344),o=n(74),a=n(135),s=n(24),u=[].slice;r(r.P+r.F*n(13)(function(){i&&u.call(i)}),"Array",{slice:function(t,e){var n=s(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return u.call(this,t,e);for(var i=a(t,n),l=a(e,n),c=s(l-i),h=new Array(c),f=0;f<c;f++)h[f]="String"==r?this.charAt(i+f):this[i+f];return h}})},function(t,e,n){"use strict";var r=n(0),i=n(61),o=[].join;r(r.P+r.F*(n(186)!=Object||!n(72)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(0),i=n(332);r(r.S+r.F*n(13)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(75),i=n(0),o=n(35),a=n(532),s=n(333),u=n(24),l=n(332),c=n(331);i(i.S+i.F*!n(243)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,h,f=o(t),p="function"==typeof this?this:Array,d=arguments.length,g=d>1?arguments[1]:void 0,v=void 0!==g,y=0,_=c(f);if(v&&(g=r(g,d>2?arguments[2]:void 0,2)),void 0==_||p==Array&&s(_))for(n=new p(e=u(f.length));e>y;y++)l(n,y,v?g(f[y],y):f[y]);else for(h=_.call(f),n=new p;!(i=h.next()).done;y++)l(n,y,v?a(h,g,[i.value,y],!0):i.value);return n.length=y,n}})},function(t,e,n){var r=n(0);r(r.S,"Array",{isArray:n(246)})},function(t,e,n){"use strict";var r=n(5),i=n(82);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!=t)}},function(t,e,n){var r=n(23)("toPrimitive"),i=Date.prototype;r in i||n(52)(i,r,n(1084))},function(t,e,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(51)(r,"toString",function(){var t=o.call(this);return t==t?i.call(this):"Invalid Date"})},function(t,e,n){"use strict";var r=n(13),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(t,e,n){var r=n(0),i=n(1087);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){"use strict";var r=n(0),i=n(35),o=n(82);r(r.P+r.F*n(13)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";n(50)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){"use strict";n(50)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(50)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(50)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(50)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(50)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(50)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(50)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(50)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(50)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(50)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(50)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(50)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";var r=n(0),i=n(24),o=n(335),a="".startsWith;r(r.P+r.F*n(334)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){var r=n(0);r(r.P,"String",{repeat:n(340)})},function(t,e,n){"use strict";var r=n(0),i=n(335);r(r.P+r.F*n(334)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),i=n(24),o=n(335),a="".endsWith;r(r.P+r.F*n(334)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),s=void 0===n?r:Math.min(i(n),r),u=String(t);return a?a.call(e,u,s):e.slice(s-u.length,s)===u}})},function(t,e,n){"use strict";var r=n(0),i=n(245)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(245)(!0);n(337)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";n(159)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){var r=n(0),i=n(61),o=n(24);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){var r=n(0),i=n(135),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(0);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(0),i=n(338),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(0),i=n(338),o=Math.exp;r(r.S+r.F*n(13)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{sign:n(339)})},function(t,e,n){var r=n(0);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log1p:n(534)})},function(t,e,n){var r=n(0);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(0),i=Math.imul;r(r.S+r.F*n(13)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)u<(n=i(arguments[a++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{fround:n(533)})},function(t,e,n){var r=n(0),i=n(338);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(0),i=n(339);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(0),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var r=n(0),i=n(534),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e,n){var r=n(0),i=n(538);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(0),i=n(537);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(0),i=n(535),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(0);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(0);r(r.S,"Number",{isInteger:n(535)})},function(t,e,n){var r=n(0),i=n(8).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){"use strict";var r=n(0),i=n(13),o=n(536),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){"use strict";var r=n(0),i=n(73),o=n(536),a=n(340),s=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",h=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*l[n],l[n]=r%1e7,r=u(r/1e7)},f=function(t){for(var e=6,n=0;--e>=0;)n+=l[e],l[e]=u(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==l[t]){var n=String(l[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},d=function(t,e,n){return 0===e?n:e%2==1?d(t,e-1,n*t):d(t*t,e/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(13)(function(){s.call({})})),"Number",{toFixed:function(t){var e,n,r,s,u=o(this,c),l=i(t),g="",v="0";if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(g="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*d(2,69,1))-69)<0?u*d(2,-e,1):u/d(2,e,1),n*=4503599627370496,(e=52-e)>0){for(h(0,n),r=l;r>=7;)h(1e7,0),r-=7;for(h(d(10,r,1),0),r=e-1;r>=23;)f(1<<23),r-=23;f(1<<r),h(1,1),f(2),v=p()}else h(0,n),h(1<<-e,0),v=p()+a.call("0",l);return v=l>0?g+((s=v.length)<=l?"0."+a.call("0",l-s)+v:v.slice(0,s-l)+"."+v.slice(s-l)):g+v}})},function(t,e,n){"use strict";var r=n(8),i=n(62),o=n(74),a=n(341),s=n(82),u=n(13),l=n(133).f,c=n(60).f,h=n(30).f,f=n(159).trim,p=r.Number,d=p,g=p.prototype,v="Number"==o(n(134)(g)),y="trim"in String.prototype,_=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=y?e.trim():f(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,u=e.slice(2),l=0,c=u.length;l<c;l++)if((a=u.charCodeAt(l))<48||a>i)return NaN;return parseInt(u,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(v?u(function(){g.valueOf.call(n)}):"Number"!=o(n))?a(new d(_(e)),n,p):_(e)};for(var m,b=n(31)?l(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)i(d,m=b[w])&&!i(p,m)&&h(p,m,c(d,m));p.prototype=g,g.constructor=p,n(51)(r,"Number",p)}},function(t,e,n){var r=n(0),i=n(537);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){var r=n(0),i=n(538);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){"use strict";var r=n(15),i=n(59),o=n(23)("hasInstance"),a=Function.prototype;o in a||n(30).f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(30).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(31)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){var r=n(0);r(r.P,"Function",{bind:n(540)})},function(t,e,n){"use strict";var r=n(160),i={};i[n(23)("toStringTag")]="z",i+""!="[object z]"&&n(51)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(343).set})},function(t,e,n){var r=n(0);r(r.S,"Object",{is:n(541)})},function(t,e,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(542)})},function(t,e,n){var r=n(15);n(80)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(15);n(80)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(15);n(80)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(15),i=n(110).onFreeze;n(80)("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(15),i=n(110).onFreeze;n(80)("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(15),i=n(110).onFreeze;n(80)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){n(80)("getOwnPropertyNames",function(){return n(543).f})},function(t,e,n){var r=n(35),i=n(136);n(80)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(35),i=n(59);n(80)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(61),i=n(60).f;n(80)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(31),"Object",{defineProperties:n(544)})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(31),"Object",{defineProperty:n(30).f})},function(t,e,n){var r=n(0);r(r.S,"Object",{create:n(134)})},function(t,e,n){var r=n(136),i=n(247),o=n(185);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,l=0;s.length>l;)u.call(t,a=s[l++])&&e.push(a);return e}},function(t,e,n){"use strict";var r=n(8),i=n(62),o=n(31),a=n(0),s=n(51),u=n(110).KEY,l=n(13),c=n(249),h=n(161),f=n(137),p=n(23),d=n(546),g=n(347),v=n(1164),y=n(246),_=n(5),m=n(15),b=n(61),w=n(82),E=n(138),x=n(134),O=n(543),C=n(60),S=n(30),P=n(136),M=C.f,T=S.f,A=O.f,D=r.Symbol,I=r.JSON,L=I&&I.stringify,F=p("_hidden"),k=p("toPrimitive"),R={}.propertyIsEnumerable,j=c("symbol-registry"),N=c("symbols"),B=c("op-symbols"),G=Object.prototype,U="function"==typeof D,z=r.QObject,V=!z||!z.prototype||!z.prototype.findChild,Y=o&&l(function(){return 7!=x(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=M(G,e);r&&delete G[e],T(t,e,n),r&&t!==G&&T(G,e,r)}:T,W=function(t){var e=N[t]=x(D.prototype);return e._k=t,e},X=U&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},q=function(t,e,n){return t===G&&q(B,e,n),_(t),e=w(e,!0),_(n),i(N,e)?(n.enumerable?(i(t,F)&&t[F][e]&&(t[F][e]=!1),n=x(n,{enumerable:E(0,!1)})):(i(t,F)||T(t,F,E(1,{})),t[F][e]=!0),Y(t,e,n)):T(t,e,n)},H=function(t,e){_(t);for(var n,r=v(e=b(e)),i=0,o=r.length;o>i;)q(t,n=r[i++],e[n]);return t},$=function(t){var e=R.call(this,t=w(t,!0));return!(this===G&&i(N,t)&&!i(B,t))&&(!(e||!i(this,t)||!i(N,t)||i(this,F)&&this[F][t])||e)},K=function(t,e){if(t=b(t),e=w(e,!0),t!==G||!i(N,e)||i(B,e)){var n=M(t,e);return!n||!i(N,e)||i(t,F)&&t[F][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=A(b(t)),r=[],o=0;n.length>o;)i(N,e=n[o++])||e==F||e==u||r.push(e);return r},J=function(t){for(var e,n=t===G,r=A(n?B:b(t)),o=[],a=0;r.length>a;)!i(N,e=r[a++])||n&&!i(G,e)||o.push(N[e]);return o};U||(s((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===G&&e.call(B,n),i(this,F)&&i(this[F],t)&&(this[F][t]=!1),Y(this,t,E(1,n))};return o&&V&&Y(G,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",function(){return this._k}),C.f=K,S.f=q,n(133).f=O.f=Z,n(185).f=$,n(247).f=J,o&&!n(109)&&s(G,"propertyIsEnumerable",$,!0),d.f=function(t){return W(p(t))}),a(a.G+a.W+a.F*!U,{Symbol:D});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)p(Q[tt++]);for(var et=P(p.store),nt=0;et.length>nt;)g(et[nt++]);a(a.S+a.F*!U,"Symbol",{for:function(t){return i(j,t+="")?j[t]:j[t]=D(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in j)if(j[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!U,"Object",{create:function(t,e){return void 0===e?x(t):H(x(t),e)},defineProperty:q,defineProperties:H,getOwnPropertyDescriptor:K,getOwnPropertyNames:Z,getOwnPropertySymbols:J}),I&&a(a.S+a.F*(!U||l(function(){var t=D();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(m(e)||void 0!==t)&&!X(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!X(e))return e}),r[1]=e,L.apply(I,r)}}),D.prototype[k]||n(52)(D.prototype,k,D.prototype.valueOf),h(D,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,n){n(1165),n(1163),n(1162),n(1161),n(1160),n(1159),n(1158),n(1157),n(1156),n(1155),n(1154),n(1153),n(1152),n(1151),n(1150),n(1149),n(1148),n(1147),n(1146),n(1145),n(1144),n(1143),n(1142),n(1141),n(1140),n(1139),n(1138),n(1137),n(1136),n(1135),n(1134),n(1133),n(1132),n(1131),n(1130),n(1129),n(1128),n(1127),n(1126),n(1125),n(1124),n(1123),n(1122),n(1121),n(1120),n(1119),n(1118),n(1117),n(1116),n(1115),n(1114),n(1113),n(1112),n(1111),n(1110),n(1109),n(1108),n(1107),n(1106),n(1105),n(1104),n(1103),n(1102),n(1101),n(1100),n(1099),n(1098),n(1097),n(1096),n(1095),n(1094),n(1093),n(1092),n(1091),n(1090),n(1089),n(1088),n(1086),n(1085),n(1083),n(1082),n(1081),n(1080),n(1079),n(1078),n(1077),n(1075),n(1074),n(1073),n(1072),n(1071),n(1070),n(1069),n(1068),n(1067),n(1066),n(1065),n(1064),n(1063),n(328),n(1062),n(528),n(1061),n(527),n(1060),n(1059),n(1058),n(1057),n(1056),n(524),n(522),n(521),n(1055),n(1054),n(1053),n(1052),n(1051),n(1050),n(1049),n(1048),n(1047),n(1046),n(1045),n(1044),n(1043),n(1042),n(1041),n(1040),n(1039),n(1038),n(1037),n(1036),n(1035),n(1034),n(1033),n(1032),n(1031),n(1030),n(1029),n(1028),n(1027),n(1026),n(1025),n(1024),n(1023),n(1022),n(1021),n(1020),n(1019),n(1018),n(1017),n(1016),n(1015),n(1014),n(1013),n(1012),n(1011),n(1010),n(1009),n(1008),n(1007),n(1006),n(1005),n(1004),n(1003),n(1002),n(1001),n(1e3),n(999),n(998),n(997),n(996),n(995),n(994),n(993),n(992),n(991),n(990),n(989),n(988),n(987),n(986),n(985),n(984),n(983),n(982),n(981),n(980),n(979),n(978),n(977),n(976),n(975),n(974),n(973),n(972),n(971),t.exports=n(76)},function(t,e,n){"use strict";(function(t){if(n(1166),n(970),n(969),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var e="defineProperty";function r(t,n,r){t[n]||Object[e](t,n,{writable:!0,configurable:!0,value:r})}r(String.prototype,"padLeft","".padStart),r(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&r(Array,t,Function.call.bind([][t]))})}).call(this,n(349))},function(t,e,n){n(1167),t.exports=n(966)},,,function(t,e){},,,function(t,e){},,,function(t,e){},,,function(t,e){},,function(t,e){},,function(t,e){},,,function(t,e){},,,,function(t,e){},,function(t,e){},,function(t,e){},,,function(t,e){},,function(t,e){},,,function(t,e){},,,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,,,function(t,e){},,,,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,,function(t,e){},,,,,,,,,,,,function(t,e){},,,function(t,e){},,function(t,e){},,,,function(t,e){},,,,,,,function(t,e){},,,function(t,e){},,function(t,e){},,,,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){},,,,,,,function(t,e){}])});